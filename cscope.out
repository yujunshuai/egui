cscope 15 $HOME/egui               0000965508
	@_build/include/config.h

5 
	#HAVE_DLFCN_H
 1

	)

8 
	#HAVE_FCNTL_H
 1

	)

11 
	#HAVE_FORK
 1

	)

14 
	#HAVE_GETCWD
 1

	)

17 
	#HAVE_GETPAGESIZE
 1

	)

20 
	#HAVE_INTTYPES_H
 1

	)

23 
	#HAVE_LIMITS_H
 1

	)

27 
	#HAVE_MALLOC
 1

	)

30 
	#HAVE_MEMMOVE
 1

	)

33 
	#HAVE_MEMORY_H
 1

	)

36 
	#HAVE_MEMSET
 1

	)

39 
	#HAVE_MMAP
 1

	)

42 
	#HAVE_MUNMAP
 1

	)

45 
	#HAVE_SELECT
 1

	)

48 
	#HAVE_SOCKET
 1

	)

51 
	#HAVE_STDDEF_H
 1

	)

54 
	#HAVE_STDINT_H
 1

	)

57 
	#HAVE_STDLIB_H
 1

	)

60 
	#HAVE_STRCHR
 1

	)

63 
	#HAVE_STRERROR
 1

	)

66 
	#HAVE_STRINGS_H
 1

	)

69 
	#HAVE_STRING_H
 1

	)

72 
	#HAVE_STRSTR
 1

	)

75 
	#HAVE_SYS_IOCTL_H
 1

	)

78 
	#HAVE_SYS_PARAM_H
 1

	)

81 
	#HAVE_SYS_SOCKET_H
 1

	)

84 
	#HAVE_SYS_STAT_H
 1

	)

87 
	#HAVE_SYS_TIME_H
 1

	)

90 
	#HAVE_SYS_TYPES_H
 1

	)

93 
	#HAVE_TERMIOS_H
 1

	)

96 
	#HAVE_UNISTD_H
 1

	)

99 
	#HAVE_VFORK
 1

	)

105 
	#HAVE_WORKING_FORK
 1

	)

108 
	#HAVE_WORKING_VFORK
 1

	)

111 
	#INPUT_DEV_PATH
 "/dev/šput"

	)

115 
	#LSTAT_FOLLOWS_SLASHED_SYMLINK
 1

	)

119 
	#LT_OBJDIR
 ".libs/"

	)

122 
	#MOUSE_RESOLUTION
 65536

	)

125 
	#PACKAGE
 "egui"

	)

128 
	#PACKAGE_BUGREPORT
 "¡Úekyx@gma.com"

	)

131 
	#PACKAGE_NAME
 "egui"

	)

134 
	#PACKAGE_STRING
 "egu˜0.1"

	)

137 
	#PACKAGE_TARNAME
 "egui"

	)

140 
	#PACKAGE_URL
 ""

	)

143 
	#PACKAGE_VERSION
 "0.1"

	)

146 
	#STDC_HEADERS
 1

	)

149 
	#USE_FBTOOLS


	)

152 
	#VERSION
 "0.1"

	)

	@application/application.c

30 
	~"­¶iÿtiÚ.h
"

32 
	~<¡dio.h
>

33 
	~<¡dlib.h
>

34 
	~<uni¡d.h
>

35 
	~<¡ršg.h
>

36 
	~<‹rmios.h
>

37 
	~<fú.h
>

38 
	~<sys/¡©.h
>

40 
	~"comm.h
"

41 
	~"ş›Á_lib.h
"

42 
	~"cÚfig_·r£r.h
"

44 
	~"exec.h
"

45 
	~"log.h
"

47 
‹rmios
 
	g‹rm
;

49 
si_t
 
	$‹rm_š™
()

51 
‹rmios
 
Ãw_‹rm
;

52 
si_t
 
fd
 = 
STDIN_FILENO
;

53 if(
fd
 < 0) {

54 
	`EGUI_PRINT_SYS_ERROR
("failedo openermios. open()");

58 if(
	`tcg‘©Œ
(
fd
, &
‹rm
) < 0) {

59 
	`EGUI_PRINT_SYS_ERROR
("failedo getermios‡ttribute.cgetattr()");

63 
Ãw_‹rm
 = 
‹rm
;

64 
Ãw_‹rm
.
c_læag
 =‚ew_‹rm.c_læag & ~(
ECHO
 | 
ECHOE
 | 
ECHOK
 | 
ECHONL
);

65 
Ãw_‹rm
.
c_cæag
 =‚ew_‹rm.c_cæag | (
ICANON
);

67 if(
	`tc£‰r
(
fd
, 
TCSAFLUSH
, &
Ãw_‹rm
) < 0) {

68 
	`EGUI_PRINT_SYS_ERROR
("failedo setermios‡ttribute.cgetattr()");

73 
	}
}

75 
	$‹rm_»¡Üe
()

77 
si_t
 
fd
 = 
STDIN_FILENO
;

78 if(
fd
 < 0) {

79 
	`EGUI_PRINT_SYS_ERROR
("failedo openermios. open()");

81 if(
	`tc£‰r
(
fd
, 
TCSAFLUSH
, &
‹rm
) < 0) {

82 
	`EGUI_PRINT_SYS_ERROR
("failedo setermios‡ttribute.cgetattr()");

84 
	}
}

86 
­¶iÿtiÚ
 
	gglob®_­¶iÿtiÚ
;

88 
si_t
 
	$­¶iÿtiÚ_lßd_cÚfig
()

93 
glob®_­¶iÿtiÚ
.
icÚ_roÙ_·th
 = 
	`g‘_cÚfig_·th
("/home/wangfei/egui/resource");

94 
glob®_­¶iÿtiÚ
.
£rv”_·th
 = "/tmp/server";

96 
	}
}

98 
si_t
 
	$­¶iÿtiÚ_š™
(
si_t
 
video_acûss_mode
, si_ˆ
­¶iÿtiÚ_ty³
, * 
Çme
)

103 if(0 !ğ
	`­¶iÿtiÚ_lßd_cÚfig
())

105 
	`EGUI_PRINT_ERROR
("failedo†oad config.");

112 if(0 !ğ
	`uds_š™
(&
glob®_­¶iÿtiÚ
.
uds
, 
SOCK_STREAM
, glob®_­¶iÿtiÚ.
£rv”_·th
, 
PEER_ROLE_CLIENT
))

114 
	`EGUI_PRINT_ERROR
("Failedo init client uds");

120 
	`queue_š™
(&
glob®_­¶iÿtiÚ
.
mes§ge_queue
);

121 
	`ş›Á_lib_š™
(&
glob®_­¶iÿtiÚ
.
uds
, &glob®_­¶iÿtiÚ.
mes§ge_queue
);

126 
	`ev’t_li¡’”_š™
(&
glob®_­¶iÿtiÚ
.
­p_ev’t_li¡’”
);

127 
glob®_­¶iÿtiÚ
.
exec_æag
 = 0;

132 
	`li¡_š™
(&(
glob®_­¶iÿtiÚ
.
focus_li¡
));

135 
	`veùÜ_š™
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
));

140 
glob®_­¶iÿtiÚ
.
Çme
 = 
	`m®loc
(
	`¡¾’
(name) + 1);

141 if(
NULL
 =ğ
glob®_­¶iÿtiÚ
.
Çme
)

143 
	`EGUI_PRINT_SYS_ERROR
("çedØm®loøfÜ‡µliÿtiÚ‚am%s. m®loc()", 
Çme
);

146 
	`¡ºıy
(
glob®_­¶iÿtiÚ
.
Çme
,‚ame, 
	`¡¾’
(name) + 1);

147 
glob®_­¶iÿtiÚ
.
­¶iÿtiÚ_ty³
 =‡pplication_type;

149 if(0 !ğ
	`»gi¡”_­¶iÿtiÚ
(
video_acûss_mode
, 
­¶iÿtiÚ_ty³
, 
Çme
))

151 
	`EGUI_PRINT_ERROR
("çedØ»gi¡”‡µliÿtiÚ %s.", 
Çme
);

155 
glob®_­¶iÿtiÚ
.
focus
 = 
NULL
;

156 
glob®_­¶iÿtiÚ
.
maš_wšdow
 = 
NULL
;

158 
glob®_­¶iÿtiÚ
.
desktİ_±r
 = 
NULL
;

159 
glob®_­¶iÿtiÚ
.
desktİ_msg_hªdËr
 = 
NULL
;

161 
	`‹rm_š™
();

164 
	}
}

166 
si_t
 
	$­¶iÿtiÚ_ex™
()

168 
objeù
 * 
addr
;

169 
si_t
 
i
, 
n
;

174 
	`li¡_ex™
(&(
glob®_­¶iÿtiÚ
.
focus_li¡
));

177 
n
 = 
	`veùÜ_size
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
));

180 
i
 = 
n
 - 1; i >= 0; -- i)

182 
addr
 = 
	`veùÜ_©
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
), 
i
);

191 
	`objeù_Œ“_ä“
(
addr
->
·»Á
);

194 
	`veùÜ_”a£
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
), 
i
);

197 
	`veùÜ_ex™
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
));

199 if(0 !ğ
	`ÿnûl_­¶iÿtiÚ
())

201 
	`EGUI_PRINT_ERROR
("failedo cancle‡pplication");

204 
	`ev’t_li¡’”_ex™
(&
glob®_­¶iÿtiÚ
.
­p_ev’t_li¡’”
);

205 
	`queue_ex™
(&
glob®_­¶iÿtiÚ
.
mes§ge_queue
);

206 
	`uds_ex™
(&
glob®_­¶iÿtiÚ
.
uds
);

208 
	`ä“
(
glob®_­¶iÿtiÚ
.
Çme
);

209 
	`ä“
(
glob®_­¶iÿtiÚ
.
icÚ_roÙ_·th
);

211 
	`‹rm_»¡Üe
();

214 
	}
}

217 
si_t
 
	$­¶iÿtiÚ_qu™
()

219 
si_t
 
i
, 
n
;

220 
objeù
 * 
addr
;

223 
n
 = 
	`veùÜ_size
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
));

226 
i
 = 
n
 - 1; i >= 0; -- i)

228 
addr
 = 
	`veùÜ_©
(&
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
, 
i
);

237 
	`objeù_Œ“_ä“
(
addr
->
·»Á
);

240 
	`veùÜ_”a£
(&
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
, 
i
);

243 
	`veùÜ_ex™
(&
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
);

245 
	`ev’t_li¡’”_ex™
(&
glob®_­¶iÿtiÚ
.
­p_ev’t_li¡’”
);

246 
	`uds_ex™
(&
glob®_­¶iÿtiÚ
.
uds
);

248 
	`ä“
(
glob®_­¶iÿtiÚ
.
Çme
);

251 
	}
}

253 
­¶iÿtiÚ_desktİ_£t
(
addr_t
 
desktİ_±r
, (*
desktİ_hªdËr
)×ddr_t, 
mes§ge
*))

255 
glob®_­¶iÿtiÚ
.
desktİ_±r
 = desktop_ptr;

256 
glob®_­¶iÿtiÚ
.
desktİ_msg_hªdËr
 = 
desktİ_hªdËr
;

257 
	}
}

	@application/application.h

30 #iâdeà
_APPLICATION_H_


31 
	#_APPLICATION_H_
 1

	)

33 
	~"cŞÜ.h
"

34 
	~"d©a_¡ruùu»s.h
"

35 
	~"comm.h
"

36 
	~"ş›Á_lib.h
"

41 
	s­¶iÿtiÚ


47 * 
	mÇme
;

52 
si_t
 
	m­¶iÿtiÚ_ty³
;

57 
egui_uds
 
	muds
;

62 
ev’t_li¡’”
 
	m­p_ev’t_li¡’”
;

67 
queue
 
	mmes§ge_queue
;

70 
si_t
 
	mexec_æag
;

75 
wšdow
 * 
	mmaš_wšdow
;

80 
wšdow
 * 
	mfocus
;

86 
li¡
 
	mfocus_li¡
;

95 
veùÜ
 
	mwšdow_veùÜ
;

100 (*
	mdesktİ_msg_hªdËr
)(
	maddr_t
, 
	mmes§ge
*);

101 
addr_t
 
	mdesktİ_±r
;

106 * 
	micÚ_roÙ_·th
;

110 * 
	m£rv”_·th
;

116 
	#APPLICATION_POINTER
(
addr
è((
­¶iÿtiÚ
 *)×ddr))

	)

122 
­¶iÿtiÚ
 
glob®_­¶iÿtiÚ
;

135 
si_t
 
­¶iÿtiÚ_š™
(si_ˆ
video_acûss_mode
, si_ˆ
­¶iÿtiÚ_ty³
, * 
Çme
);

146 
si_t
 
­¶iÿtiÚ_ex™
();

157 
si_t
 
­¶iÿtiÚ_qu™
();

164 
si_t
 
­¶iÿtiÚ_exec
();

172 
­¶iÿtiÚ_desktİ_£t
(
addr_t
 
desktİ_±r
, (*
desktİ_hªdËr
)×ddr_t, 
mes§ge
*));

	@application/exec.c

30 
	~<¡dio.h
>

31 
	~<¡ršg.h
>

32 
	~<¡dlib.h
>

33 
	~<uni¡d.h
>

35 
	~"geom‘ry.h
"

36 
	~"comm.h
"

37 
	~"widg‘.h
"

38 
	~"log.h
"

39 
	~"comp”.h
"

41 
	~"­¶iÿtiÚ.h
"

42 
	~"mªuÏ‹_wšdow.h
"

44 
	~"exec.h
"

53 
widg‘
* 
­¶iÿtiÚ_widg‘s_fÜ_—ch_deü—m’t
(widg‘*(*
do_fÜ_—ch_widg‘
)(widg‘*, 
mes§ge
*), mes§ge* 
msg
)

55 
	gn
, 
	gi
;

56 
objeù
* 
	gŒ“
, *
	gnode
;

57 
	gn
 = 
veùÜ_size
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
));

59 
	gi
 = 
n
 - 1; i >= 0; -- i)

61 
	gŒ“
 = 
veùÜ_©
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
), 
i
);

62 
	gnode
 = 
Œ“
->
rchd
;

63 
	gnode
 !ğ
NULL
)

65 if(
do_fÜ_—ch_widg‘
(
WIDGET_POINTER
(
node
), 
msg
))

66  
WIDGET_POINTER
(
node
);

67 
	gnode
 = 
objeù_Œ“_™”©Ü_deüem’t
(
Œ“
, 
node
);

70  
	gNULL
;

73 
widg‘
* 
­¶iÿtiÚ_widg‘s_fÜ_—ch_deü—m’t_public
(widg‘*(*
do_fÜ_—ch_widg‘
)(widg‘*, 
mes§ge
*), mes§ge* 
msg
)

75 
­¶iÿtiÚ_widg‘s_fÜ_—ch_deü—m’t
(
do_fÜ_—ch_widg‘
,
msg
);

76  
	gNULL
;

86 
widg‘
* 
­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(widg‘*(*
do_fÜ_—ch_widg‘
)(widg‘*, 
mes§ge
*), mes§ge* 
msg
)

88 
	gn
, 
	gi
;

89 
objeù
* 
	gŒ“
, *
	gnode
;

90 
	gn
 = 
veùÜ_size
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
));

92 
	gi
 = 0; i !ğ
n
; ++ i)

94 
	gŒ“
 = 
veùÜ_©
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
), 
i
);

95 
	gnode
 = 
Œ“
->
lchd
;

96 
	gnode
 !ğ
NULL
)

98 if(
do_fÜ_—ch_widg‘
(
WIDGET_POINTER
(
node
), 
msg
))

99  
WIDGET_POINTER
(
node
);

100 
	gnode
 = 
objeù_Œ“_™”©Ü_šüem’t
(
Œ“
, 
node
);

103  
	gNULL
;

112 
widg‘
* 
	$do_di¥©ch_sim¶e_mes§ge_to_®l
(
widg‘
* 
w
, 
mes§ge
* 
msg
)

114 if(
w
->
ÿÎback
 !ğ
NULL
)

116 
w
->
	`ÿÎback
(w, 
msg
);

118  
NULL
;

119 
	}
}

128 
si_t
 
­¶iÿtiÚ_upd©e_keybd_focus
(
widg‘
* 
w
);

129 
widg‘
* 
	$do_di¥©ch_»·št_ev’t_to_®l
(
widg‘
* 
w
, 
mes§ge
* 
msg
)

131 
	`NOT_USED
(
msg
);

132 if(
w
->
ÿÎback
 !ğ
NULL
)

134 
mes§ge
 
msg
;

135 
msg
.
widg‘_»·št
.
ty³
 = 
MESSAGE_TYPE_WIDGET_REPAINT
;

136 
msg
.
widg‘_»·št
.
¬—
 = 
w
->area;

138 
w
->
	`ÿÎback
(w, &
msg
);

140  
NULL
;

141 
	}
}

151 
widg‘
* 
	$do_di¥©ch_mou£_ev’t_ªd_»tuºs
(
widg‘
* 
w
, 
mes§ge
* 
msg
)

153 
»ùªgË
 
¬—
;

158 if(
w
->
is_wšdow
 == 1)

160 
	`g‘_¬—
(
w
->
gd
, &
¬—
);

164 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
w
, &
¬—
);

170 if(
msg
->
mou£
.
cursÜ_pos™iÚ
.
x
 >ğ
¬—
.x

171 && 
msg
->
mou£
.
cursÜ_pos™iÚ
.
x
 <ğ
¬—
.x +‡»a.
width
 - 1

172 && 
msg
->
mou£
.
cursÜ_pos™iÚ
.
y
 >ğ
¬—
.y

173 && 
msg
->
mou£
.
cursÜ_pos™iÚ
.
y
 <ğ
¬—
.y +‡»a.
height
 - 1)

175 if(
w
->
ÿÎback
 !ğ
NULL
)

177 
w
->
	`ÿÎback
(w, 
msg
);

182 
	`­¶iÿtiÚ_upd©e_keybd_focus
(
w
);

183  
w
;

186  
NULL
;

187 
	}
}

195 
widg‘
* 
	$do_di¥©ch_keybd_ev’t_ªd_»tuºs
(
widg‘
* 
w
, 
mes§ge
* 
msg
)

197 
»ùªgË
 
¬—
;

199 if(
w
->
is_wšdow
 == 1)

201 
¬—
 = 
w
->area;

205 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
w
, &
¬—
);

211 if(
w
->
šput_’abË
 && w->
keybd_focus
)

213 if(
w
->
ÿÎback
 !ğ
NULL
)

215 
w
->
	`ÿÎback
(w, 
msg
);

217  
w
;

220  
NULL
;

221 
	}
}

230 
widg‘
* 
	$do_·r£_widg‘
(
widg‘
* 
w
, 
mes§ge
* 
m
)

232 
	`NOT_USED
(
m
);

236 if(
w
->
šput_’abË
 == 1)

238 
	`li¡_push_back
(&
glob®_­¶iÿtiÚ
.
focus_li¡
, &
w
, (w));

244 if(
w
->
is_wšdow
)

246 
wšdow
* 
·»Á
 = (wšdow*)
	`objeù_·»Á
(
	`OBJECT_POINTER
(
w
));

247 
wšdow
* 
wšdow_±r
 = 
	`WINDOW_POINTER
(
w
);

248 
si_t
 
·»Á_desütÜ
 = (
·»Á
 =ğ
NULL
 ? 0 :…¬’t->
desütÜ
);

249 
si_t
 
wšdow_desütÜ
 = 
	`»gi¡”_wšdow
(
·»Á_desütÜ
, 
wšdow_±r
->
t™Ë
,

250 
wšdow_±r
->
¬—
.
x
, wšdow_±r->¬—.
y
, wšdow_±r->¬—.
width
, wšdow_±r->¬—.
height
,

251 
wšdow_±r
->
mšimize_’abË
, wšdow_±r->
maximize_’abË
, wšdow_±r->
mod®
);

252 if(0 =ğ
wšdow_desütÜ
)

254 
	`EGUI_PRINT_ERROR
("çedØ»gi¡” wšdow %s", 
wšdow_±r
->
t™Ë
);

255  
NULL
;

257 
wšdow_±r
->
desütÜ
 = 
wšdow_desütÜ
;

258 
glob®_­¶iÿtiÚ
.
focus
 = 
wšdow_±r
;

263 if((
wšdow_±r
->
icÚ_·th
 = (*)
	`m®loc
(256)è=ğ
NULL
)

265 
	`EGUI_PRINT_ERROR
("failedo„egister window");

266  
NULL
;

274 
	`¥rštf
(
wšdow_±r
->
icÚ_·th
, "%s/icÚs/%s.bmp", 
glob®_­¶iÿtiÚ
.
icÚ_roÙ_·th
, glob®_­¶iÿtiÚ.
Çme
);

275 if(
	`acûss
(
wšdow_±r
->
icÚ_·th
, 
R_OK
) == -1)

277 
	`¥rštf
(
wšdow_±r
->
icÚ_·th
, "%s/icÚs/deçuÉ.bmp", 
glob®_­¶iÿtiÚ
.
icÚ_roÙ_·th
);

282  
NULL
;

283 
	}
}

291 
widg‘
* 
	$do_fšd_wšdow
(
widg‘
* 
w
, 
mes§ge
* 
msg
)

293 if(
w
->
is_wšdow
 && 
msg
->
ba£
.
wšdow_desütÜ
 =ğ
	`WINDOW_POINTER
(w)->
desütÜ
)

294  
w
;

295  
NULL
;

296 
	}
}

305 
si_t
 
	$di¥©ch_msg_to_subchds
(
objeù
* 
node
, 
ty³
)

307 
objeù
* 
n
, *
t
, *
·»Á
;

312 
n
 = 
node
;

313 
t
 = 
n
->
·»Á
;

314 
·»Á
 = 
t
->parent;

315 
t
->
·»Á
 = 
n
;

316 
n
 = 
	`objeù_Œ“_l_mo¡_node
(
t
);

317 
n
 !ğ
NULL
)

319 
mes§ge
 
msg
;

324 if(
ty³
 =ğ
MESSAGE_TYPE_WINDOW_DEACTIVATE
)

326 
msg
.
ba£
.
ty³
 = 
MESSAGE_TYPE_WINDOW_DEACTIVATE
;

328 if(
ty³
 =ğ
MESSAGE_TYPE_WIDGET_REPAINT
)

330 
widg‘
* 
w
 = 
	`WIDGET_POINTER
(
n
);

331 
msg
.
widg‘_»·št
.
ty³
 = 
MESSAGE_TYPE_WIDGET_REPAINT
;

332 
msg
.
widg‘_»·št
.
¬—
 = 
w
->area;

334 if(
ty³
 =ğ
MESSAGE_TYPE_WINDOW_MINIMIZE


335 || 
ty³
 =ğ
MESSAGE_TYPE_WINDOW_RESTORE
)

337 
msg
.
ba£
.
wšdow_desütÜ
 = 
	`WINDOW_POINTER
(
n
)->
desütÜ
;

340 if(
	`WIDGET_POINTER
(
n
)->
ÿÎback
 !ğ
NULL
)

341 
	`WIDGET_POINTER
(
n
)->
	`ÿÎback
Ò, &
msg
);

342 
n
 = 
	`objeù_Œ“_™”©Ü_šüem’t
(
t
,‚);

344 
t
->
·»Á
 =…arent;

346 
	}
}

348 
si_t


349 
	ghªdË_keybd_´ess


350 (
mes§ge
 * 
	gmsg
)

352 
­¶iÿtiÚ_widg‘s_fÜ_—ch_deü—m’t
(
do_di¥©ch_keybd_ev’t_ªd_»tuºs
, 
msg
);

356 
si_t


357 
	ghªdË_keybd_»Ëa£


358 (
mes§ge
 * 
	gmsg
)

360 
­¶iÿtiÚ_widg‘s_fÜ_—ch_deü—m’t
(
do_di¥©ch_keybd_ev’t_ªd_»tuºs
, 
msg
);

364 
si_t


365 
	ghªdË_keybd_şick


366 (
mes§ge
 * 
	gmsg
)

368 
­¶iÿtiÚ_widg‘s_fÜ_—ch_deü—m’t
(
do_di¥©ch_keybd_ev’t_ªd_»tuºs
, 
msg
);

379 
si_t
 
	$­¶iÿtiÚ_keybd_lo£_focus
(* 
w±r
)

381 
widg‘
* 
w
 = 
	`WIDGET_POINTER
(*(widg‘**)
w±r
);

382 if(
w
->
keybd_focus
)

384 
w
->
keybd_focus
 = 0;

385 if(
w
->
ÿÎback
 !ğ
NULL
)

387 
mes§ge
 
msg
;

388 
msg
.
ba£
.
ty³
 = 
MESSAGE_TYPE_KEYBD_LEAVE
;

389 
w
->
	`ÿÎback
(w, &
msg
);

393 
	}
}

395 
si_t
 
	$­¶iÿtiÚ_upd©e_keybd_focus
(
widg‘
* 
w
)

400 if(
w
 !ğ
NULL
 && w->
šput_’abË
)

402 
w
->
keybd_focus
 = 0;

408 
	`li¡_fÜ_—ch
(&
glob®_­¶iÿtiÚ
.
focus_li¡
, 
­¶iÿtiÚ_keybd_lo£_focus
);

413 if(
w
 !ğ
NULL
 && w->
šput_’abË
)

415 
w
->
keybd_focus
 = 1;

419 
	}
}

421 
si_t


422 
	ghªdË_mou£_move


423 (
mes§ge
 * 
	gmsg
)

425 
NOT_USED
(
msg
);

429 
si_t


430 
	ghªdË_mou£_´ess


431 (
mes§ge
 * 
	gmsg
)

433 
­¶iÿtiÚ_widg‘s_fÜ_—ch_deü—m’t
(
do_di¥©ch_mou£_ev’t_ªd_»tuºs
, 
msg
);

438 
si_t


439 
	ghªdË_mou£_»Ëa£


440 (
mes§ge
 * 
	gmsg
)

442 
­¶iÿtiÚ_widg‘s_fÜ_—ch_deü—m’t
(
do_di¥©ch_mou£_ev’t_ªd_»tuºs
, 
msg
);

447 
si_t


448 
	ghªdË_mou£_sšgË_şick


449 (
mes§ge
 * 
	gmsg
)

451 
­¶iÿtiÚ_widg‘s_fÜ_—ch_deü—m’t
(
do_di¥©ch_mou£_ev’t_ªd_»tuºs
, 
msg
);

456 
si_t


457 
	ghªdË_mou£_doubË_şick


458 (
mes§ge
 * 
	gmsg
)

460 
­¶iÿtiÚ_widg‘s_fÜ_—ch_deü—m’t
(
do_di¥©ch_mou£_ev’t_ªd_»tuºs
, 
msg
);

465 
si_t


466 
	ghªdË_widg‘_»·št


467 (
mes§ge
 * 
	gmsg
)

469 
­¶iÿtiÚ_widg‘s_fÜ_—ch_deü—m’t
(
do_di¥©ch_sim¶e_mes§ge_to_®l
, 
msg
);

474 
si_t


475 
	ghªdË_widg‘_move


476 (
mes§ge
 * 
	gmsg
)

478 
widg‘
* 
	gw
;

479 
	gw
 = 
­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_fšd_wšdow
, 
msg
);

480 if(
	gw
 !ğ
NULL
 && 
w
->
ÿÎback
 != NULL)

482 
w
->
ÿÎback
(w, 
msg
);

485 
­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_di¥©ch_»·št_ev’t_to_®l
, 
NULL
);

490 
si_t


491 
	ghªdË_widg‘_»size


492 (
mes§ge
 * 
	gmsg
)

494 
widg‘
* 
	gw
;

495 
	gw
 = 
­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_fšd_wšdow
, 
msg
);

496 if(
	gw
->
	gÿÎback
 !ğ
NULL
)

497 
w
->
ÿÎback
(w, 
msg
);

499 
­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_di¥©ch_»·št_ev’t_to_®l
, 
NULL
);

504 
si_t


505 
	ghªdË_wšdow_aùiv©e


506 (
mes§ge
 * 
	gmsg
)

508 
objeù
* 
	gnode
;

509 
si_t
 
	gn
 = 0, 
	gi
 = 0;

510 
	gnode
 = 
OBJECT_POINTER
(
­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_fšd_wšdow
, 
msg
));

512 if(
	gnode
 =ğ
NULL
)

517 
objeù_move_fœ¡
(
node
);

518 if(
	gglob®_­¶iÿtiÚ
.
	gfocus
 !ğ
NULL
)

520 
di¥©ch_msg_to_subchds
(
node
, 
MESSAGE_TYPE_WINDOW_DEACTIVATE
);

523 
	gglob®_­¶iÿtiÚ
.
	gfocus
 = 
WINDOW_POINTER
(
node
);

524 if(
WIDGET_POINTER
(
node
)->
	gÿÎback
 !ğ
NULL
)

526 
WIDGET_POINTER
(
node
)->
ÿÎback
Òode, 
msg
);

529 
di¥©ch_msg_to_subchds
(
node
, 
MESSAGE_TYPE_WIDGET_REPAINT
);

534 
	gnode
 = 
objeù_g‘_roÙ
(
node
)->
·»Á
;

535 
	gn
 = 
veùÜ_size
(&
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
);

536 
	gi
 = 0; i < 
	gn
; ++ i)

538 if(
veùÜ_©
(&
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
, 
i
è=ğ
node
)

540 
veùÜ_move_back
(&
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
, 
i
);

549 
si_t


550 
	ghªdË_wšdow_d—ùiv©e


551 (
mes§ge
 * 
	gmsg
)

553 
widg‘
* 
	gw
;

555 if(
	gglob®_­¶iÿtiÚ
.
	gfocus
->
	gdesütÜ
 =ğ
msg
->
ba£
.
wšdow_desütÜ
)

557 
glob®_­¶iÿtiÚ
.
focus
 = 
NULL
;

560 
	gw
 = 
­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_fšd_wšdow
, 
msg
);

561 if(
	gw
 !ğ
NULL
)

563 if(
w
->
ÿÎback
 !ğ
NULL
)

564 
w
->
ÿÎback
(w, 
msg
);

566 
di¥©ch_msg_to_subchds
(
OBJECT_POINTER
(
w
), 
MESSAGE_TYPE_WIDGET_REPAINT
);

571 
­¶iÿtiÚ_upd©e_keybd_focus
(
NULL
);

577 
si_t


578 
	ghªdË_wšdow_mšimize


579 (
mes§ge
 * 
	gmsg
)

581 
widg‘
* 
	gw
;

582 
	gw
 = 
­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_fšd_wšdow
, 
msg
);

583 if(
	gw
->
	gÿÎback
 !ğ
NULL
)

584 
w
->
ÿÎback
(w, 
msg
);

585 
di¥©ch_msg_to_subchds
(
OBJECT_POINTER
(
w
), 
MESSAGE_TYPE_WINDOW_MINIMIZE
);

587 
­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_di¥©ch_»·št_ev’t_to_®l
, 
NULL
);

592 
si_t


593 
	ghªdË_wšdow_maximize


594 (
mes§ge
 * 
	gmsg
)

596 
widg‘
* 
	gw
;

597 
	gw
 = 
­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_fšd_wšdow
, 
msg
);

598 if(
	gw
->
	gÿÎback
 !ğ
NULL
)

599 
w
->
ÿÎback
(w, 
msg
);

601 
­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_di¥©ch_»·št_ev’t_to_®l
, 
NULL
);

606 
si_t


607 
	ghªdË_wšdow_»¡Üe


608 (
mes§ge
 * 
	gmsg
)

610 
widg‘
* 
	gw
;

611 
	gw
 = 
­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_fšd_wšdow
, 
msg
);

612 if(
	gw
->
	gÿÎback
 !ğ
NULL
)

613 
w
->
ÿÎback
(w, 
msg
);

614 
di¥©ch_msg_to_subchds
(
OBJECT_POINTER
(
w
), 
MESSAGE_TYPE_WINDOW_RESTORE
);

616 
­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_di¥©ch_»·št_ev’t_to_®l
, 
NULL
);

621 
si_t


622 
	ghªdË_wšdow_ÿnûl


623 (
mes§ge
 * 
	gmsg
)

625 
widg‘
* 
	gw
;

626 
	gw
 = 
­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_fšd_wšdow
, 
msg
);

627 if(
	gw
->
	gÿÎback
 !ğ
NULL
)

628 
w
->
ÿÎback
(w, 
msg
);

631 if(
	gglob®_­¶iÿtiÚ
.
	gmaš_wšdow
 =ğ
WINDOW_POINTER
(
w
))

633 
­¶iÿtiÚ_d–_wšdow
(
WINDOW_POINTER
(
w
));

637 
ÿnûl_wšdow
(
WINDOW_POINTER
(
w
)->
desütÜ
);

638 
­¶iÿtiÚ_d–_wšdow
(
WINDOW_POINTER
(
w
));

643 if(
veùÜ_size
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
)) == 0)

645 
­¶iÿtiÚ_ex™
();

650 
­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_di¥©ch_»·št_ev’t_to_®l
, 
NULL
);

657 
si_t


658 
	$hªdË_wšdow_»gi¡”
(
mes§ge
 * 
msg
)

660 
widg‘
* 
w
;

661 
w
=
msg
->
ba£
.
wšdow_desütÜ
;

662 
	`veùÜ_push_back
(&
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
,
w
,(
widg‘
));

663 
	}
}

668 
	$­¶iÿtiÚ_hªdË_mes§ge
(
mes§ge
* 
msg
)

682 
msg
->
ba£
.
ty³
)

684 
MESSAGE_TYPE_KEYBD_PRESS
:

685 
	`hªdË_keybd_´ess
(
msg
);

688 
MESSAGE_TYPE_KEYBD_RELEASE
:

689 
	`hªdË_keybd_»Ëa£
(
msg
);

692 
MESSAGE_TYPE_KEYBD_CLICK
:

693 
	`hªdË_keybd_şick
(
msg
);

696 
MESSAGE_TYPE_MOUSE_MOVE
:

697 
	`hªdË_mou£_move
(
msg
);

700 
MESSAGE_TYPE_MOUSE_PRESS
:

701 
	`hªdË_mou£_´ess
(
msg
);

704 
MESSAGE_TYPE_MOUSE_RELEASE
:

705 
	`hªdË_mou£_»Ëa£
(
msg
);

708 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

709 
	`hªdË_mou£_sšgË_şick
(
msg
);

712 
MESSAGE_TYPE_MOUSE_DOUBLE_CLICK
:

713 
	`hªdË_mou£_doubË_şick
(
msg
);

716 
MESSAGE_TYPE_WIDGET_REPAINT
:

717 
	`hªdË_widg‘_»·št
(
msg
);

720 
MESSAGE_TYPE_WIDGET_MOVE
:

721 
	`hªdË_widg‘_move
(
msg
);

724 
MESSAGE_TYPE_WIDGET_RESIZE
:

725 
	`hªdË_widg‘_»size
(
msg
);

728 
MESSAGE_TYPE_WINDOW_ACTIVATE
:

729 
	`hªdË_wšdow_aùiv©e
(
msg
);

732 
MESSAGE_TYPE_WINDOW_DEACTIVATE
:

733 
	`hªdË_wšdow_d—ùiv©e
(
msg
);

736 
MESSAGE_TYPE_WINDOW_MINIMIZE
:

737 
	`hªdË_wšdow_mšimize
(
msg
);

740 
MESSAGE_TYPE_WINDOW_MAXIMIZE
:

741 
	`hªdË_wšdow_maximize
(
msg
);

744 
MESSAGE_TYPE_WINDOW_RESTORE
:

745 
	`hªdË_wšdow_»¡Üe
(
msg
);

748 
MESSAGE_TYPE_WINDOW_CANCEL
:

749 
	`hªdË_wšdow_ÿnûl
(
msg
);

751 
MESSAGE_TYPE_WINDOW_REGISTER
:

752 
	`hªdË_wšdow_»gi¡”
(
msg
);

756 
	`­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_fšd_wšdow
, 
msg
);

759 
	}
}

761 
si_t
 
	$­¶iÿtiÚ_ev’t_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
¬g
)

763 
mes§ge
 
msg
;

764 
	`NOT_USED
(
¬g
);

766 if(0 !ğ
	`comm_»cv_msg
(
uds_±r
, &
msg
))

768 
	`EGUI_PRINT_ERROR
("failedo„ecv msg");

769  
SELECTER_RETURN_TYPE_CONTINUE
;

772 
	`­¶iÿtiÚ_hªdË_mes§ge
(&
msg
);

778 !
	`queue_em±y
(&
glob®_­¶iÿtiÚ
.
mes§ge_queue
))

780 
mes§ge
* 
msg
 = 
	`queue_äÚt
(&
glob®_­¶iÿtiÚ
.
mes§ge_queue
);

781 
	`­¶iÿtiÚ_hªdË_mes§ge
(
msg
);

782 
	`queue_pİ
(&
glob®_­¶iÿtiÚ
.
mes§ge_queue
);

785  
SELECTER_RETURN_TYPE_CONTINUE
;

786 
	}
}

794 
si_t
 
	$­¶iÿtiÚ_·r£
()

796 
	`­¶iÿtiÚ_widg‘s_fÜ_—ch_šü—m’t
(
do_·r£_widg‘
, 
NULL
);

801 if(
glob®_­¶iÿtiÚ
.
focus
 !ğ
NULL
)

803 
mes§ge
 
aùiv©e_msg
;

804 
aùiv©e_msg
.
wšdow_aùiv©e
.
ty³
 = 
MESSAGE_TYPE_WINDOW_ACTIVATE
;

808 
glob®_­¶iÿtiÚ
.
focus
->
is_aùiv©ed
 = 0;

809 if(
glob®_­¶iÿtiÚ
.
focus
->
ÿÎback
 !ğ
NULL
)

811 
glob®_­¶iÿtiÚ
.
focus
->
	`ÿÎback
(glob®_­¶iÿtiÚ.focus, &
aùiv©e_msg
);

816 
	}
}

818 
si_t
 
	$­¶iÿtiÚ_exec
()

823 
	`­¶iÿtiÚ_·r£
();

825 
	`ev’t_li¡’”_add_»ad_ev’t
(&
glob®_­¶iÿtiÚ
.
­p_ev’t_li¡’”
, &glob®_­¶iÿtiÚ.
uds
, 
NULL
, 
­¶iÿtiÚ_ev’t_hªdËr
, NULL);

827 !
	`queue_em±y
(&
glob®_­¶iÿtiÚ
.
mes§ge_queue
))

829 
mes§ge
* 
msg
 = 
	`queue_äÚt
(&
glob®_­¶iÿtiÚ
.
mes§ge_queue
);

830 
	`­¶iÿtiÚ_hªdË_mes§ge
(
msg
);

831 
	`queue_pİ
(&
glob®_­¶iÿtiÚ
.
mes§ge_queue
);

834 
glob®_­¶iÿtiÚ
.
exec_æag
 = 1;

835 if(0 !ğ
	`ev’t_li¡’”_exec
(&
glob®_­¶iÿtiÚ
.
­p_ev’t_li¡’”
))

837 
	`EGUI_PRINT_ERROR
("failedo„unƒvent_listener.");

840 
glob®_­¶iÿtiÚ
.
exec_æag
 = 0;

843 
	}
}

845 
si_t
 
	$­¶iÿtiÚ_widg‘_absŞu‹_¬—
 (
widg‘
 * 
w
, 
»ùªgË
 * 
»suÉ
)

847 
objeù
 * 
£lf
, * 
·»Á
;

848 
»ùªgË
 
‹mp
, 
·»Á_¬—
;

849 
si_t
 
æag
 = 0;

851 *
»suÉ
 = 
w
->
¬—
;

854 if(
w
->
is_wšdow
) {

858 
·»Á_¬—
.
x
 = 0;

859 
·»Á_¬—
.
y
 = 0;

861 
‹mp
.
x
 = 
w
->
¬—
.x;

862 
‹mp
.
y
 = 
w
->
¬—
.y;

863 
‹mp
.
width
 = 
w
->
¬—
.width;

864 
‹mp
.
height
 = 
w
->
¬—
.height;

866 
£lf
 = 
	`OBJECT_POINTER
(
w
);

867 (
·»Á
 = 
	`objeù_·»Á
(
£lf
)è!ğ
NULL
)

869 
·»Á_¬—
.
width
 = 
	`WIDGET_POINTER
(
·»Á
)->
¬—
.width;

870 
·»Á_¬—
.
height
 = 
	`WIDGET_POINTER
(
·»Á
)->
¬—
.height;

872 if(
	`¬—_š‹r£ùiÚ
(&
·»Á_¬—
, &
‹mp
, 
»suÉ
) == -1)

874 
æag
 = 1;

878 
‹mp
.
x
 = (
»suÉ
->x +ğ
	`WIDGET_POINTER
(
·»Á
)->
¬—
.x);

879 
‹mp
.
y
 = (
»suÉ
->y +ğ
	`WIDGET_POINTER
(
·»Á
)->
¬—
.y);

880 
‹mp
.
width
 = 
»suÉ
->width;

881 
‹mp
.
height
 = 
»suÉ
->height;

883 
£lf
 = 
·»Á
;

884 if(
	`WIDGET_POINTER
(
·»Á
)->
is_wšdow
) {

889 if(
æag
 == 1) {

894 
	}
}

	@application/exec.h

30 #iâdeà
_EXEC_H_


31 
	#_EXEC_H_
 1

	)

34 
	~"../widg‘/widg‘/widg‘.h
"

36 
	~"­¶iÿtiÚ.h
"

38 
si_t
 
­¶iÿtiÚ_ev’t_li¡’”_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
¬g
);

40 
widg‘
* 
­¶iÿtiÚ_widg‘s_fÜ_—ch_deü—m’t_public
(widg‘*(*
do_fÜ_—ch_widg‘
)(widg‘*, 
mes§ge
*), mes§ge* 
msg
);

50 
si_t
 
­¶iÿtiÚ_widg‘_absŞu‹_¬—
 (
widg‘
 * 
w
, 
»ùªgË
 * 
»suÉ
);

	@application/external.h

30 #iâdeà
_EXTERNAL_APPLICATION_H_


31 
	#_EXTERNAL_APPLICATION_H_
 1

	)

33 
	~"­¶iÿtiÚ.h
"

34 
	~"exec.h
"

35 
	~"mªuÏ‹_wšdow.h
"

	@application/manipulate_window.c

30 
	~"mªuÏ‹_wšdow.h
"

32 
	~<¡ddef.h
>

33 
	~<uni¡d.h
>

34 
	~<¡dio.h
>

35 
	~<¡dlib.h
>

37 
	~"­¶iÿtiÚ.h
"

38 
	~"log.h
"

40 
si_t
 
	$­¶iÿtiÚ_£t_maš_wšdow
(
wšdow
 * window)

43 
glob®_­¶iÿtiÚ
.
maš_wšdow
 = 
wšdow
;

46 
	}
}

55 
si_t
 
	$­¶iÿtiÚ_add_wšdow
(
wšdow
 * 
·»Á
, window * window)

57 
objeù
 
node
, * 
Œ“
;

60 if(
·»Á
 =ğ
NULL
)

63 
node
.
·»Á
 = 
	`OBJECT_POINTER
(
wšdow
);

64 
node
.
lchd
 = 
	`objeù_Œ“_l_mo¡_node
(
	`OBJECT_POINTER
(
wšdow
));

65 
node
.
rchd
 = 
	`objeù_Œ“_r_mo¡_node
(
	`OBJECT_POINTER
(
wšdow
));

66 
node
.
Çme
 = 
NULL
;

67 
node
.
id
 = 0;

70 
	`veùÜ_push_back
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
), &
node
, (
objeù
));

72 
Œ“
 = 
	`veùÜ_back
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
));

75 
wšdow
->
·»Á
 = 
Œ“
;

80 
	`objeù_š£¹_chd
(
	`OBJECT_POINTER
(
·»Á
), OBJECT_POINTER(
wšdow
));

85 if(
glob®_­¶iÿtiÚ
.
exec_æag
)

87 
mes§ge
 
msg
;

88 
msg
.
ba£
.
ty³
 = 
MESSAGE_TYPE_WIDGET_REPAINT
;

89 
msg
.
widg‘_»·št
.
¬—
 = 
wšdow
->area;

91 if(
glob®_­¶iÿtiÚ
.
focus
 !ğ
NULL
)

93 
wšdow
* 
w
 = 
	`WINDOW_POINTER
(
glob®_­¶iÿtiÚ
.
focus
);

94 
objeù
* 
Œ“
, *
node
, *
Œ“_»®_·»Á
;

95 
w
->
is_aùiv©ed
 = 0;

96 
msg
.
widg‘_»·št
.
¬—
 = 
w
->area;

97 if(
w
->
ÿÎback
 !ğ
NULL
)

99 
w
->
	`ÿÎback
(w, &
msg
);

102 
node
 = 
	`OBJECT_POINTER
(
w
);

103 
Œ“
 = 
node
->
·»Á
;

104 
Œ“_»®_·»Á
 = 
Œ“
->
·»Á
;

105 
Œ“
->
·»Á
 = 
node
;

106 
node
 = 
	`objeù_Œ“_l_mo¡_node
(
Œ“
);

107 
node
 !ğ
NULL
)

109 
mes§ge
 
msg
;

110 
msg
.
ba£
.
ty³
 = 
MESSAGE_TYPE_WIDGET_REPAINT
;

111 
msg
.
widg‘_»·št
.
¬—
 = 
	`WIDGET_POINTER
(
node
)->area;

112 if(
	`WIDGET_POINTER
(
node
)->
ÿÎback
 !ğ
NULL
)

113 
	`WIDGET_POINTER
(
node
)->
	`ÿÎback
Òode, &
msg
);

115 
node
 = 
	`objeù_Œ“_™”©Ü_šüem’t
(
Œ“
,‚ode);

117 
Œ“
->
·»Á
 = 
Œ“_»®_·»Á
;

120 
wšdow
->
desütÜ
 = 
	`»gi¡”_wšdow
((
·»Á
 =ğ
NULL
 ? 0 :…¬’t->desütÜ), wšdow->
t™Ë
,

121 
wšdow
->
¬—
.
x
, wšdow->¬—.
y
, wšdow->¬—.
width
, wšdow->¬—.
height
,

122 
wšdow
->
mšimize_’abË
, wšdow->
maximize_’abË
, wšdow->
mod®
);

123 if(
wšdow
->
desütÜ
 == 0)

125 
	`EGUI_PRINT_ERROR
("failedo„egister window");

126 
	`­¶iÿtiÚ_ex™
();

133 if((
wšdow
->
icÚ_·th
 = (*)
	`m®loc
(256)è=ğ
NULL
)

135 
	`EGUI_PRINT_SYS_ERROR
("failedo malloc for icon…ath. malloc");

136 
	`­¶iÿtiÚ_ex™
();

145 
	`¥rštf
(
wšdow
->
icÚ_·th
, "%s/icÚs/%s.bmp", 
glob®_­¶iÿtiÚ
.
icÚ_roÙ_·th
, glob®_­¶iÿtiÚ.
Çme
);

146 if(
	`acûss
(
wšdow
->
icÚ_·th
, 
R_OK
) == -1)

148 
	`¥rštf
(
wšdow
->
icÚ_·th
, "%s/icÚs/deçuÉ.bmp", 
glob®_­¶iÿtiÚ
.
icÚ_roÙ_·th
);

152 
msg
.
widg‘_»·št
.
¬—
 = 
wšdow
->area;

153 
glob®_­¶iÿtiÚ
.
focus
 = 
wšdow
;

154 
wšdow
->
is_aùiv©ed
 = 1;

155 if(
wšdow
->
ÿÎback
 !ğ
NULL
)

157 
wšdow
->
	`ÿÎback
(wšdow, &
msg
);

162 
	}
}

164 
	$__widg‘_de¡ruùÜ
(* 
¬g
)

166 
widg‘
* 
w
 = 
	`WIDGET_POINTER
(
¬g
);

167 
	`g¿phics_deviû_ex™
(
w
->
gd
);

168 
	`ä“
(
¬g
);

169 
	}
}

180 
si_t
 
	$­¶iÿtiÚ_d–_wšdow
(
wšdow
 * window)

182 
si_t
 
is_tİ_wšdow
 = 0;

186 if(
wšdow
 =ğ
glob®_­¶iÿtiÚ
.
maš_wšdow
)

188 
	`­¶iÿtiÚ_ex™
();

192 if(
wšdow
->
·»Á
->·»Á =ğ
	`OBJECT_POINTER
(window))

194 
is_tİ_wšdow
 = 1;

197 
	`ÿnûl_wšdow
(
wšdow
->
desütÜ
);

199 
	`objeù_d–‘e
(
	`OBJECT_POINTER
(
wšdow
), 
__widg‘_de¡ruùÜ
);

200 if(
is_tİ_wšdow
)

202 
si_t
 
i
 = 0, 
n
 = 0;

204 
n
 = 
	`veùÜ_size
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
));

207 
i
 = 0; i < 
n
; ++ i)

209 
objeù
* 
Œ“
 = 
	`veùÜ_©
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
), 
i
);

210 if(
Œ“
->
·»Á
 =ğ
	`OBJECT_POINTER
(
wšdow
))

213 
	`veùÜ_”a£
(&(
glob®_­¶iÿtiÚ
.
wšdow_veùÜ
), 
i
);

220 
	}
}

	@application/manipulate_window.h

30 #iâdeà
_MANIPULATE_WINDOW_H_


31 
	#_MANIPULATE_WINDOW_H_
 1

	)

33 
	~"../widg‘/wšdow/wšdow.h
"

44 
si_t
 
­¶iÿtiÚ_£t_maš_wšdow
(
wšdow
 * window);

59 
si_t
 
­¶iÿtiÚ_add_wšdow
(
wšdow
 * 
·»Á
, window * window);

74 
si_t
 
­¶iÿtiÚ_d–_wšdow
(
wšdow
 * window);

	@client_lib/client_lib.c

34 
	~"ş›Á_lib.h
"

36 
	~<¡dlib.h
>

37 
	~"comm.h
"

38 
	~"log.h
"

43 
egui_uds
* 
	glib_uds
 = 
NULL
;

47 
queue
* 
	gmes§ge_queue
 = 
NULL
;

49 
	$ş›Á_lib_š™
(
egui_uds
* 
uds_±r
, 
queue
* 
queue_±r
)

51 
lib_uds
 = 
uds_±r
;

52 
mes§ge_queue
 = 
queue_±r
;

53 
	}
}

58 
si_t
 
	$£nd_»que¡_ªd_»cv_»¥Úd
(
si_t
 
»que¡_ty³
, si_ˆ
»¥Úd_ty³
,

59 
cÚ¡_addr_t
 
body
, 
ui_t
 
body_size
,

60 
addr_t
 
»suÉ
)

62 if(0 !ğ
	`comm_£nd_»que¡
(
lib_uds
, 
»que¡_ty³
, 
body
, 
body_size
))

64 
	`EGUI_PRINT_ERROR
("çedØ£nd„eque¡[%s]", 
	`»que¡_ty³_to_¡r
(
»que¡_ty³
));

68 if(0 !ğ
	`comm_»cv_»¥Úd
(
lib_uds
, 
»¥Úd_ty³
, 
»suÉ
, 
mes§ge_queue
))

70 
	`EGUI_PRINT_ERROR
("çedØ»ûiv»¥Úd[%s]", 
	`»¥Úd_ty³_to_¡r
(
»¥Úd_ty³
));

74 
	}
}

76 
si_t
 
	$£nd_»que¡_ªd_m®loc_fÜ_»¥Úd
(
si_t
 
»que¡_ty³
, si_ˆ
»¥Úd_ty³
,

77 
cÚ¡_addr_t
 
body
, 
ui_t
 
body_size
,

78 
addr_t
* 
»suÉ
)

80 if(0 !ğ
	`comm_£nd_»que¡
(
lib_uds
, 
»que¡_ty³
, 
body
, 
body_size
))

82 
	`EGUI_PRINT_ERROR
("çedØ£nd„eque¡[%s]", 
	`»que¡_ty³_to_¡r
(
»que¡_ty³
));

86 if(0 !ğ
	`comm_»cv_»¥Úd_š_Ãw_bufãr
(
lib_uds
, 
»¥Úd_ty³
, 
»suÉ
, 
mes§ge_queue
))

88 
	`EGUI_PRINT_ERROR
("çedØ»ûiv»¥Úd[%s]", 
	`»¥Úd_ty³_to_¡r
(
»¥Úd_ty³
));

92 
	}
}

97 
si_t
 
	$£nd_»que¡_ªd_»tuº_»¥Úd
(
si_t
 
»que¡_ty³
, si_ˆ
»¥Úd_ty³
,

98 
cÚ¡_addr_t
 
body
, 
ui_t
 
body_size
)

100 
si_t
 
»¥Úd_»tv®
 = 0, 
»tv®
 = 0;

101 
»tv®
 = 
	`£nd_»que¡_ªd_»cv_»¥Úd
(
»que¡_ty³
, 
»¥Úd_ty³
, 
body
, 
body_size
, &
»¥Úd_»tv®
);

102  
»tv®
 =ğ0 ? 
»¥Úd_»tv®
 :„etval;

103 
	}
}

115 
si_t
 
	$£nd_body_w™h_exŒa_cÚ‹xt_ªd_»tuº_»¥Úd
(
si_t
 
»que¡_ty³
, si_ˆ
»¥Úd_ty³
,

116 
cÚ¡_addr_t
 
body
 , 
ui_t
 
body_Ën
,

117 
cÚ¡_addr_t
 
exŒa_cÚ‹xt
, 
ui_t
 
exŒa_cÚ‹xt_Ën
)

119 
si_t
 
»suÉ
 = 0;

120 if(0 !ğ
	`comm_£nd_»que¡_w™h_exŒa
(
lib_uds
, 
»que¡_ty³
, 
body
, 
body_Ën
, 
exŒa_cÚ‹xt
, 
exŒa_cÚ‹xt_Ën
))

122 
	`EGUI_PRINT_ERROR
("çedØ£nd„eque¡[%s] w™hƒxŒ¨cÚ‹Á", 
	`»que¡_ty³_to_¡r
(
»que¡_ty³
));

126 if(0 !ğ
	`comm_»cv_»¥Úd
(
lib_uds
, 
»¥Úd_ty³
, &
»suÉ
, 
mes§ge_queue
))

128 
	`EGUI_PRINT_ERROR
("çedØ»ûiv»¥Úd[%s]", 
	`»¥Úd_ty³_to_¡r
(
»¥Úd_ty³
));

131  
»suÉ
;

132 
	}
}

149 
si_t
 
	$»gi¡”_­¶iÿtiÚ
(
si_t
 
video_acûss_mode
, si_ˆ
­¶iÿtiÚ_ty³
, cÚ¡ * 
Çme
)

151 
·ck‘_body_»gi¡”_­¶iÿtiÚ
 
body
;

152 
	`»que¡_£t_»gi¡”_­¶iÿtiÚ
(&
body
, 
video_acûss_mode
, 
­¶iÿtiÚ_ty³
, 
Çme
, 
	`¡¾’
(name) + 1);

153  
	`£nd_body_w™h_exŒa_cÚ‹xt_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_REGISTER_APPLICATION
, 
RESPOND_TYPE_REGISTER_APPLICATION
,

154 (
cÚ¡_addr_t
)&
body
, (body),

155 (
cÚ¡_addr_t
)
Çme
 , 
	`¡¾’
(name) + 1);

156 
	}
}

158 
si_t
 
	$ÿnûl_­¶iÿtiÚ
()

160  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_CANCEL_APPLICATION
, 
RESPOND_TYPE_CANCEL_APPLICATION
, 
NULL
, 0);

161 
	}
}

163 
si_t
 
	$g¿phics_deviû_š™
(
si_t
 
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
, si_ˆ
r
, si_ˆ
g
, si_ˆ
b
, si_ˆ
a
, si_ˆ
fÚt
)

165 
·ck‘_body_g¿phics_deviû_š™
 
body
;

166 
	`»que¡_£t_g¿phics_deviû_š™
(&
body
, 
x_axis
, 
y_axis
, 
x_size
, 
y_size
, 
r
, 
g
, 
b
, 
a
, 
fÚt
);

167  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_GRAPHICS_DEVICE_INIT
, 
RESPOND_TYPE_GRAPHICS_DEVICE_INIT
,

168 (
cÚ¡_addr_t
)&
body
, (body));

169 
	}
}

171 
si_t
 
	$g¿phics_deviû_ex™
(
si_t
 
gd
)

173 
·ck‘_body_g¿phics_deviû_ex™
 
body
;

174 
	`»que¡_£t_g¿phics_deviû_ex™
(&
body
, 
gd
);

175  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_GRAPHICS_DEVICE_EXIT
, 
RESPOND_TYPE_GRAPHICS_DEVICE_EXIT
,

176 (
cÚ¡_addr_t
)&
body
, (body));

177 
	}
}

179 
si_t
 
	$wšdow_mªag”_qu™
()

181  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_WINDOW_MANAGER_QUIT
, 
RESPOND_TYPE_WINDOW_MANAGER_QUIT
,

182 
NULL
, 0);

183 
	}
}

185 
si_t
 
	$upd©e
(
si_t
 
gd
)

187 
·ck‘_body_upd©e
 
body
;

188 
	`»que¡_£t_upd©e
(&
body
, 
gd
);

189  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_UPDATE
, 
RESPOND_TYPE_UPDATE
,

190 (
cÚ¡_addr_t
)&
body
, (body));

191 
	}
}

193 
si_t
 
	$desktİ_dœty
()

195  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_DESKTOP_DIRTY
, 
RESPOND_TYPE_DESKTOP_DIRTY
,

196 
NULL
, 0);

197 
	}
}

199 
si_t
 
	$»gi¡”_wšdow
(
si_t
 
·»Á_wšdow_desütÜ
, cÚ¡ * 
t™Ë
, si_ˆ
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
, si_ˆ
mšimize_’abË
, si_ˆ
maximize_’abË
, si_ˆ
mod®
)

201 
·ck‘_body_»gi¡”_wšdow
 
body
;

202 
	`»que¡_£t_»gi¡”_wšdow
(&
body
, 
·»Á_wšdow_desütÜ
, 
t™Ë
, 
	`¡¾’
Ñ™Ëè+ 1, 
x
, 
y
, 
width
, 
height
, 
mšimize_’abË
, 
maximize_’abË
, 
mod®
);

206  
	`£nd_body_w™h_exŒa_cÚ‹xt_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_REGISTER_WINDOW
, 
RESPOND_TYPE_REGISTER_WINDOW
,

207 (
cÚ¡_addr_t
)&
body
, (body),

208 (
cÚ¡_addr_t
)
t™Ë
, 
	`¡¾’
(title) + 1);

209 
	}
}

211 
si_t
 
	$ÿnûl_wšdow
(
si_t
 
wšdow_desütÜ
)

213 
·ck‘_body_ÿnûl_wšdow
 
body
;

214 
	`»que¡_£t_ÿnûl_wšdow
(&
body
, 
wšdow_desütÜ
);

215  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_CANCEL_WINDOW
, 
RESPOND_TYPE_CANCEL_WINDOW
,

216 (
cÚ¡_addr_t
)&
body
, (body));

217 
	}
}

219 
si_t
 
	$move_wšdow
(
si_t
 
wšdow_desütÜ
, si_ˆ
x_axis
, si_ˆ
y_axis
)

221 
·ck‘_body_move_wšdow
 
body
;

222 
	`»que¡_£t_move_wšdow
(&
body
, 
wšdow_desütÜ
, 
x_axis
, 
y_axis
);

223  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_MOVE_WINDOW
, 
RESPOND_TYPE_MOVE_WINDOW
,

224 (
cÚ¡_addr_t
)&
body
, (body));

225 
	}
}

227 
si_t
 
	$»size_wšdow
(
si_t
 
wšdow_desütÜ
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
)

229 
·ck‘_body_»size_wšdow
 
body
;

230 
	`»que¡_£t_»size_wšdow
(&
body
, 
wšdow_desütÜ
, 
x_axis
, 
y_axis
, 
x_size
, 
y_size
);

231  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_RESIZE_WINDOW
, 
RESPOND_TYPE_RESIZE_WINDOW
,

232 (
cÚ¡_addr_t
)&
body
, (body));

233 
	}
}

235 
si_t
 
	$mšimize_wšdow
(
si_t
 
wšdow_desütÜ
)

237 
·ck‘_body_mšimize_wšdow
 
body
;

238 
	`»que¡_£t_mšimize_wšdow
(&
body
, 
wšdow_desütÜ
);

239  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_MINIMIZE_WINDOW
, 
RESPOND_TYPE_MINIMIZE_WINDOW
,

240 (
cÚ¡_addr_t
)&
body
, (body));

241 
	}
}

243 
si_t
 
	$maximize_wšdow
(
si_t
 
wšdow_desütÜ
, 
»ùªgË
* 
»suÉ
)

245 
·ck‘_body_maximize_wšdow
 
body
;

246 
	`»que¡_£t_maximize_wšdow
(&
body
, 
wšdow_desütÜ
);

247  
	`£nd_»que¡_ªd_»cv_»¥Úd
(
REQUEST_TYPE_MAXIMIZE_WINDOW
, 
RESPOND_TYPE_MAXIMIZE_WINDOW
,

248 (
cÚ¡_addr_t
)&
body
, (body), 
»suÉ
);

249 
	}
}

251 
si_t
 
	$»¡Üe_wšdow
(
si_t
 
wšdow_desütÜ
, 
»ùªgË
* 
¬—
)

253 
·ck‘_body_»¡Üe_wšdow
 
body
;

254 
	`»que¡_£t_»¡Üe_wšdow
(&
body
, 
wšdow_desütÜ
, 
¬—
->
x
,‡»a->
y
,‡»a->
width
,‡»a->
height
);

255  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_RESTORE_WINDOW
, 
RESPOND_TYPE_RESTORE_WINDOW
,

256 (
cÚ¡_addr_t
)&
body
, (body));

257 
	}
}

259 
si_t
 
	$aùiv©e_wšdow
(
si_t
 
wšdow_desütÜ
)

261 
·ck‘_body_aùiv©e_wšdow
 
body
;

262 
	`»que¡_£t_aùiv©e_wšdow
(&
body
, 
wšdow_desütÜ
);

263  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_ACTIVATE_WINDOW
, 
RESPOND_TYPE_ACTIVATE_WINDOW
,

264 (
cÚ¡_addr_t
)&
body
, (body));

265 
	}
}

267 
si_t
 
	$ş—r
(
si_t
 
gd
)

269 
·ck‘_body_ş—r
 
body
;

270 
	`»que¡_£t_ş—r
(&
body
, 
gd
);

271  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_CLEAR
, 
RESPOND_TYPE_CLEAR
,

272 (
cÚ¡_addr_t
)&
body
, (body));

273 
	}
}

275 
si_t
 
	$ş—r_bÏck
(
si_t
 
gd
)

277 
·ck‘_body_ş—r_bÏck
 
body
;

278 
	`»que¡_£t_ş—r_bÏck
(&
body
, 
gd
);

279  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_CLEAR_BLACK
, 
RESPOND_TYPE_CLEAR_BLACK
,

280 (
cÚ¡_addr_t
)&
body
, (body));

281 
	}
}

283 
si_t
 
	$ş—r_wh™e
(
si_t
 
gd
)

285 
·ck‘_body_ş—r_wh™e
 
body
;

286 
	`»que¡_£t_ş—r_wh™e
(&
body
, 
gd
);

287  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_CLEAR_WHITE
, 
RESPOND_TYPE_CLEAR_WHITE
,

288 (
cÚ¡_addr_t
)&
body
, (body));

289 
	}
}

291 
si_t
 
	$d¿w_pošt
(
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
)

293 
·ck‘_body_d¿w_pošt
 
body
;

294 
	`»que¡_£t_d¿w_pošt
(&
body
, 
gd
, 
x
, 
y
);

295  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_DRAW_POINT
, 
RESPOND_TYPE_DRAW_POINT
,

296 (
cÚ¡_addr_t
)&
body
, (body));

297 
	}
}

299 
si_t
 
	$d¿w_lše
(
si_t
 
gd
, si_ˆ
x1
, si_ˆ
y1
, si_ˆ
x2
, si_ˆ
y2
)

301 
·ck‘_body_d¿w_lše
 
body
;

302 
	`»que¡_£t_d¿w_lše
(&
body
, 
gd
, 
x1
, 
y1
, 
x2
, 
y2
);

303  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_DRAW_LINE
, 
RESPOND_TYPE_DRAW_LINE
,

304 (
cÚ¡_addr_t
)&
body
, (body));

305 
	}
}

307 
si_t
 
	$d¿w_»ùªgË
(
si_t
 
gd
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
)

309 
·ck‘_body_d¿w_»ùªgË
 
body
;

310 
	`»que¡_£t_d¿w_»ùªgË
(&
body
, 
gd
, 
x_axis
, 
y_axis
, 
x_size
, 
y_size
);

311  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_DRAW_RECTANGLE
, 
RESPOND_TYPE_DRAW_RECTANGLE
,

312 (
cÚ¡_addr_t
)&
body
, (body));

313 
	}
}

315 
si_t
 
	$d¿w_pŞygÚ
(
si_t
 
gd
, cÚ¡ 
pošt
 * 
p
, 
ui_t
 
pošt_couÁ
)

317 
·ck‘_body_d¿w_pŞygÚ
 
body
;

318 
	`»que¡_£t_d¿w_pŞygÚ
(&
body
, 
gd
, 
p
, 
pošt_couÁ
);

322  
	`£nd_body_w™h_exŒa_cÚ‹xt_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_DRAW_POLYGON
, 
RESPOND_TYPE_DRAW_POLYGON
,

323 (
cÚ¡_addr_t
)&
body
, (body),

324 (
cÚ¡_addr_t
)
p
 , 
pošt_couÁ
 * (
pošt
));

325 
	}
}

327 
si_t
 
	$d¿w_cœşe
(
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
¿dius
)

329 
·ck‘_body_d¿w_cœşe
 
body
;

330 
	`»que¡_£t_d¿w_cœşe
(&
body
, 
gd
, 
x
, 
y
, 
¿dius
);

331  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_DRAW_CIRCLE
, 
RESPOND_TYPE_DRAW_CIRCLE
,

332 (
cÚ¡_addr_t
)&
body
, (body));

333 
	}
}

335 
si_t
 
	$d¿w_–l£
(
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
)

337 
·ck‘_body_d¿w_–l£
 
body
;

338 
	`»que¡_£t_d¿w_–l£
(&
body
, 
gd
, 
x
, 
y
, 
a
, 
b
);

339  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_DRAW_ELLIPSE
, 
RESPOND_TYPE_DRAW_ELLIPSE
,

340 (
cÚ¡_addr_t
)&
body
, (body));

341 
	}
}

343 
si_t
 
	$d¿w_x
(
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
)

345 
·ck‘_body_d¿w_x
 
body
;

346 
	`»que¡_£t_d¿w_x
(&
body
, 
gd
, 
x
, 
y
, 
a
, 
b
);

347  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_DRAW_X
, 
RESPOND_TYPE_DRAW_X
,

348 (
cÚ¡_addr_t
)&
body
, (body));

349 
	}
}

351 
si_t
 
	$d¿w_¬row
(
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
size
, si_ˆ
dœeùiÚ
)

353 
·ck‘_body_d¿w_¬row
 
body
;

354 
	`»que¡_£t_d¿w_¬row
(&
body
, 
gd
, 
x
, 
y
, 
size
, 
dœeùiÚ
);

355  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_DRAW_ARROW
, 
RESPOND_TYPE_DRAW_ARROW
,

356 (
cÚ¡_addr_t
)&
body
, (body));

357 
	}
}

359 
si_t
 
	$d¿w_img
(
si_t
 
gd
, cÚ¡ * 
img_·th
, si_ˆ
®ign
)

361 
·ck‘_body_d¿w_img
 
body
;

362 
	`»que¡_£t_d¿w_img
(&
body
, 
gd
, 
img_·th
, 
	`¡¾’
(img_·thè+ 1, 
®ign
);

366  
	`£nd_body_w™h_exŒa_cÚ‹xt_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_DRAW_IMG
, 
RESPOND_TYPE_DRAW_IMG
,

367 (
cÚ¡_addr_t
)&
body
 , (body),

368 (
cÚ¡_addr_t
)
img_·th
, 
	`¡¾’
(img_path) + 1);

369 
	}
}

371 
si_t
 
	$d¿w_b™m­
(
si_t
 
gd
, cÚ¡ * 
Çme
, 
®ign
)

373 
·ck‘_body_d¿w_b™m­
 
body
;

374 
	`»que¡_£t_d¿w_b™m­
(&
body
, 
gd
, 
Çme
, 
	`¡¾’
Òameè+ 1, 
®ign
);

378  
	`£nd_body_w™h_exŒa_cÚ‹xt_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_DRAW_BITMAP
, 
RESPOND_TYPE_DRAW_BITMAP
,

379 (
cÚ¡_addr_t
)&
body
, (body),

380 (
cÚ¡_addr_t
)
Çme
, 
	`¡¾’
(name) + 1);

381 
	}
}

383 
si_t
 
	$fl_»ùªgË
(
si_t
 
gd
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
)

385 
·ck‘_body_fl_»ùªgË
 
body
;

386 
	`»que¡_£t_fl_»ùªgË
(&
body
, 
gd
, 
x_axis
, 
y_axis
, 
x_size
, 
y_size
);

387  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_FILL_RECTANGLE
, 
RESPOND_TYPE_FILL_RECTANGLE
,

388 (
cÚ¡_addr_t
)&
body
, (body));

389 
	}
}

391 
si_t
 
	$fl_cœşe
(
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
¿dius
)

393 
·ck‘_body_fl_cœşe
 
body
;

394 
	`»que¡_£t_fl_cœşe
(&
body
, 
gd
, 
x
, 
y
, 
¿dius
);

395  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_FILL_CIRCLE
, 
RESPOND_TYPE_FILL_CIRCLE
,

396 (
cÚ¡_addr_t
)&
body
, (body));

397 
	}
}

399 
si_t
 
	$fl_–l£
(
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
)

401 
·ck‘_body_fl_–l£
 
body
;

402 
	`»que¡_£t_fl_–l£
(&
body
, 
gd
, 
x
, 
y
, 
a
, 
b
);

403  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_FILL_ELLIPSE
, 
RESPOND_TYPE_FILL_ELLIPSE
,

404 (
cÚ¡_addr_t
)&
body
, (body));

405 
	}
}

407 
si_t
 
	$fl_x
(
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
)

409 
·ck‘_body_fl_x
 
body
;

410 
	`»que¡_£t_fl_x
(&
body
, 
gd
, 
x
, 
y
, 
a
, 
b
);

411  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_FILL_X
, 
RESPOND_TYPE_FILL_X
,

412 (
cÚ¡_addr_t
)&
body
, (body));

413 
	}
}

415 
si_t
 
	$fl_¬row
(
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
size
, si_ˆ
dœeùiÚ
)

417 
·ck‘_body_fl_¬row
 
body
;

418 
	`»que¡_£t_fl_¬row
(&
body
, 
gd
, 
x
, 
y
, 
size
, 
dœeùiÚ
);

419  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_FILL_ARROW
, 
RESPOND_TYPE_FILL_ARROW
,

420 (
cÚ¡_addr_t
)&
body
, (body));

421 
	}
}

423 
si_t
 
	$fl_pŞygÚ
(
si_t
 
gd
, cÚ¡ 
pošt
 * 
p
, 
ui_t
 
pošt_couÁ
)

425 
·ck‘_body_fl_pŞygÚ
 
body
;

426 
	`»que¡_£t_fl_pŞygÚ
(&
body
, 
gd
, 
p
, 
pošt_couÁ
);

430  
	`£nd_body_w™h_exŒa_cÚ‹xt_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_FILL_POLYGON
, 
RESPOND_TYPE_FILL_POLYGON
,

431 (
cÚ¡_addr_t
)&
body
, (body),

432 (
cÚ¡_addr_t
)
p
 , 
pošt_couÁ
 * (
pošt
));

433 
	}
}

435 
si_t
 
	$ıy_¬—
(
si_t
 
gd
, si_ˆ
mode
, si_ˆ
d¡_x
, si_ˆ
d¡_y
, si_ˆ
¤c_x
, si_ˆ
¤c_y
, si_ˆ
x_size
, si_ˆ
y_size
)

437 
·ck‘_body_ıy_¬—
 
body
;

438 
	`»que¡_£t_ıy_¬—
(&
body
, 
gd
, 
mode
, 
d¡_x
, 
d¡_y
, 
¤c_x
, 
¤c_y
, 
x_size
, 
y_size
);

439  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_CPY_AREA
, 
RESPOND_TYPE_CPY_AREA
,

440 (
cÚ¡_addr_t
)&
body
, (body));

441 
	}
}

443 
si_t
 
	$show_‹xt
(
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, cÚ¡ * 
¡r
, si_ˆ
size
)

445 
·ck‘_body_show_‹xt
 
body
;

446 
	`»que¡_£t_show_‹xt
(&
body
, 
gd
, 
x
, 
y
, 
¡r
, 
size
);

450  
	`£nd_body_w™h_exŒa_cÚ‹xt_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_SHOW_TEXT
, 
RESPOND_TYPE_SHOW_TEXT
,

451 (
cÚ¡_addr_t
)&
body
, (body),

452 (
cÚ¡_addr_t
)
¡r
 , 
	`¡¾’
(str) + 1);

453 
	}
}

455 
si_t
 
	$g‘_¬—
(
si_t
 
gd
, 
»ùªgË
 * 
»suÉ
)

457 
·ck‘_body_g‘_¬—
 
body
;

458 
	`»que¡_£t_g‘_¬—
(&
body
, 
gd
);

459  
	`£nd_»que¡_ªd_»cv_»¥Úd
(
REQUEST_TYPE_GET_AREA
, 
RESPOND_TYPE_GET_AREA
,

460 (
cÚ¡_addr_t
)&
body
, (body),

461 (
addr_t
)
»suÉ
);

462 
	}
}

464 
si_t
 
	$g‘_cŞÜ
(
si_t
 
gd
, 
cŞÜ
 * 
»suÉ
)

466 
·ck‘_body_g‘_cŞÜ
 
body
;

467 
	`»que¡_£t_g‘_cŞÜ
(&
body
, 
gd
);

468  
	`£nd_»que¡_ªd_»cv_»¥Úd
(
REQUEST_TYPE_GET_COLOR
, 
RESPOND_TYPE_GET_COLOR
,

469 (
cÚ¡_addr_t
)&
body
, (body),

470 (
addr_t
)
»suÉ
);

471 
	}
}

473 
si_t
 
	$g‘_cŞÜ_lim™
(
cŞÜ_lim™
 * 
»suÉ
)

475  
	`£nd_»que¡_ªd_»cv_»¥Úd
(
REQUEST_TYPE_GET_COLOR_LIMIT
, 
RESPOND_TYPE_GET_COLOR_LIMIT
,

476 
NULL
, 0,

477 (
addr_t
)
»suÉ
);

478 
	}
}

480 
si_t
 
	$g‘_fÚt_width
(
si_t
 
gd
)

482 
·ck‘_body_g‘_fÚt_width
 
body
;

483 
	`»que¡_£t_g‘_fÚt_width
(&
body
, 
gd
);

484  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_GET_FONT_WIDTH
, 
RESPOND_TYPE_GET_FONT_WIDTH
,

485 (
cÚ¡_addr_t
)&
body
, (body));

486 
	}
}

488 
si_t
 
	$g‘_fÚt_height
(
si_t
 
gd
)

490 
·ck‘_body_g‘_fÚt_height
 
body
;

491 
	`»que¡_£t_g‘_fÚt_height
(&
body
, 
gd
);

492  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_GET_FONT_HEIGHT
, 
RESPOND_TYPE_GET_FONT_HEIGHT
,

493 (
cÚ¡_addr_t
)&
body
, (body));

494 
	}
}

496 
si_t
 
	$g‘_sü“n_width
()

498  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_GET_SCREEN_WIDTH
, 
RESPOND_TYPE_GET_SCREEN_WIDTH
,

499 
NULL
, 0);

500 
	}
}

502 
si_t
 
	$g‘_sü“n_height
()

504  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_GET_SCREEN_HEIGHT
, 
RESPOND_TYPE_GET_SCREEN_HEIGHT
,

505 
NULL
, 0);

506 
	}
}

508 
si_t
 
	$£t_¬—
(
si_t
 
gd
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
)

510 
·ck‘_body_£t_¬—
 
body
;

511 
	`»que¡_£t_£t_¬—
(&
body
, 
gd
, 
x_axis
, 
y_axis
, 
x_size
, 
y_size
);

512  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_SET_AREA
, 
RESPOND_TYPE_SET_AREA
,

513 (
cÚ¡_addr_t
)&
body
, (body));

514 
	}
}

516 
si_t
 
	$£t_cŞÜ
(
si_t
 
gd
, 
ui_t
 
r
, ui_ˆ
g
, ui_ˆ
b
, ui_ˆ
a
)

518 
·ck‘_body_£t_cŞÜ
 
body
;

519 
	`»que¡_£t_£t_cŞÜ
(&
body
, 
gd
, 
r
, 
g
, 
b
, 
a
);

520  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_SET_COLOR
, 
RESPOND_TYPE_SET_COLOR
,

521 (
cÚ¡_addr_t
)&
body
, (body));

522 
	}
}

524 
si_t
 
	$£t_fÚt
(
si_t
 
gd
, si_ˆ
fÚt
)

526 
·ck‘_body_£t_fÚt
 
body
;

527 
	`»que¡_£t_£t_fÚt
(&
body
, 
gd
, 
fÚt
);

528  
	`£nd_»que¡_ªd_»tuº_»¥Úd
(
REQUEST_TYPE_SET_FONT
, 
RESPOND_TYPE_SET_FONT
,

529 (
cÚ¡_addr_t
)&
body
, (body));

530 
	}
}

532 * 
	$g‘_wšdow_t™Ë
(
si_t
 
wšdow_desütÜ
)

534 
·ck‘_body_g‘_wšdow_t™Ë
 
body
;

535 * 
t™Ë
 = 
NULL
;

536 
	`»que¡_£t_wšdow_t™Ë
(&
body
, 
wšdow_desütÜ
);

537 
	`£nd_»que¡_ªd_m®loc_fÜ_»¥Úd
(
REQUEST_TYPE_SET_FONT
, 
RESPOND_TYPE_SET_FONT
,

538 (
cÚ¡_addr_t
)&
body
, (body),

539 (
addr_t
)&
t™Ë
);

540  
t™Ë
;

541 
	}
}

	@client_lib/client_lib.h

34 #iâdeà
_CLIENT_LIB_H_


35 
	#_CLIENT_LIB_H_
 1

	)

37 
	~"ba£_ty³.h
"

38 
	~"geom‘ry.h
"

39 
	~"cŞÜ.h
"

40 
	~"comm.h
"

41 
	~"d©a_¡ruùu»s.h
"

50 
ş›Á_lib_š™
(
egui_uds
* 
uds_±r
, 
queue
* 
queue_±r
);

59 
si_t
 
»gi¡”_­¶iÿtiÚ
(si_ˆ
video_acûss_mode
, si_ˆ
­¶iÿtiÚ_ty³
, cÚ¡ * 
Çme
);

64 
si_t
 
ÿnûl_­¶iÿtiÚ
();

83 
si_t
 
g¿phics_deviû_š™
(si_ˆ
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
, si_ˆ
r
, si_ˆ
g
, si_ˆ
b
, si_ˆ
a
, si_ˆ
fÚt
);

92 
si_t
 
g¿phics_deviû_ex™
(si_ˆ
gd
);

99 
si_t
 
wšdow_mªag”_qu™
();

108 
si_t
 
upd©e
(si_ˆ
gd
);

115 
si_t
 
desktİ_dœty
();

133 
si_t
 
»gi¡”_wšdow
(si_ˆ
·»Á_wšdow_desütÜ
, cÚ¡ * 
t™Ë
, si_ˆ
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
, si_ˆ
mšimize_’abË
, si_ˆ
maximize_’abË
, si_ˆ
mod®
);

142 
si_t
 
ÿnûl_wšdow
(si_ˆ
wšdow_desütÜ
);

153 
si_t
 
move_wšdow
(si_ˆ
wšdow_desütÜ
, si_ˆ
x_axis
, si_ˆ
y_axis
);

166 
si_t
 
»size_wšdow
(si_ˆ
wšdow_desütÜ
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
);

175 
si_t
 
mšimize_wšdow
(si_ˆ
wšdow_desütÜ
);

185 
si_t
 
maximize_wšdow
(si_ˆ
wšdow_desütÜ
, 
»ùªgË
* 
»suÉ
);

195 
si_t
 
»¡Üe_wšdow
(si_ˆ
wšdow_desütÜ
, 
»ùªgË
* 
¬—
);

206 
si_t
 
aùiv©e_wšdow
(si_ˆ
wšdow_desütÜ
);

215 
si_t
 
ş—r
(si_ˆ
gd
);

224 
si_t
 
ş—r_bÏck
(si_ˆ
gd
);

233 
si_t
 
ş—r_wh™e
 (si_ˆ
gd
);

246 
si_t
 
d¿w_pošt
(si_ˆ
gd
, si_ˆ
x
, si_ˆ
y
);

261 
si_t
 
d¿w_lše
(si_ˆ
gd
, si_ˆ
x1
, si_ˆ
y1
, si_ˆ
x2
, si_ˆ
y2
);

276 
si_t
 
d¿w_»ùªgË
(si_ˆ
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
);

289 
si_t
 
d¿w_pŞygÚ
(si_ˆ
gd
, cÚ¡ 
pošt
 * 
p
, 
ui_t
 
n
);

302 
si_t
 
d¿w_cœşe
 (si_ˆ
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
¿dius
);

317 
si_t
 
d¿w_–l£
(si_ˆ
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
);

330 
si_t
 
d¿w_x
(si_ˆ
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
);

345 
si_t
 
d¿w_¬row
 (si_ˆ
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
size
, si_ˆ
dœeùiÚ
);

358 
si_t
 
d¿w_img
(si_ˆ
gd
, cÚ¡ * 
img_·th
, si_ˆ
®ign
);

371 
si_t
 
d¿w_b™m­
(si_ˆ
gd
, cÚ¡ * 
Çme
, 
®ign
);

386 
si_t
 
fl_»ùªgË
(si_ˆ
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
);

400 
si_t
 
fl_cœşe
(si_ˆ
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
¿dius
);

415 
si_t
 
fl_–l£
(si_ˆ
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
);

428 
si_t
 
fl_x
(si_ˆ
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
);

441 
si_t
 
fl_¬row
(si_ˆ
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
size
, si_ˆ
dœeùiÚ
);

452 
si_t
 
fl_pŞygÚ
(si_ˆ
gd
, cÚ¡ 
pošt
 * 
p
, 
ui_t
 
pošt_couÁ
);

476 
si_t
 
ıy_¬—
(si_ˆ
gd
, si_ˆ
mode
, si_ˆ
d¡_x
, si_ˆ
d¡_y
, si_ˆ
¤c_x
, si_ˆ
¤c_y
, si_ˆ
width
, si_ˆ
height
);

491 
si_t
 
show_‹xt
(si_ˆ
gd
, si_ˆ
x
, si_ˆ
y
, cÚ¡ * 
¡r
, si_ˆ
size
);

501 
si_t
 
g‘_¬—
(si_ˆ
gd
, 
»ùªgË
 * 
»suÉ
);

511 
si_t
 
g‘_cŞÜ
(si_ˆ
gd
, 
cŞÜ
 * 
»suÉ
);

522 
si_t
 
g‘_cŞÜ_lim™
(
cŞÜ_lim™
 * 
»suÉ
);

531 
si_t
 
g‘_fÚt_width
(si_ˆ
gd
);

540 
si_t
 
g‘_fÚt_height
(si_ˆ
gd
);

547 
si_t
 
g‘_sü“n_width
();

554 
si_t
 
g‘_sü“n_height
();

567 
si_t
 
£t_cŞÜ
(si_ˆ
gd
, 
ui_t
 
r
, ui_ˆ
g
, ui_ˆ
b
, ui_ˆ
a
);

580 
si_t
 
£t_¬—
(si_ˆ
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
 );

590 
si_t
 
£t_fÚt
(si_ˆ
gd
, si_ˆ
fÚt
);

599 * 
g‘_wšdow_t™Ë
(
si_t
 
wšdow_desü‹r
);

	@client_lib/external.h

30 #iâdeà
_EXTERNAL_CLIENT_LIB_H_


31 
	#_EXTERNAL_CLIENT_LIB_H_
 1

	)

33 
	~"ş›Á_lib.h
"

	@comm/egui_comm.c

29 
	~"egui_comm.h
"

31 
	~<uni¡d.h
>

32 
	~<¡dlib.h
>

33 
	~"·ck‘.h
"

34 
	~"»que¡.h
"

35 
	~"»¥Úd.h
"

37 
	~"log.h
"

42 
si_t
 
	$comm_£nd_h—d_ªd_body
(cÚ¡ 
egui_uds
* 
uds_±r
, 
si_t
 
·ck‘_ty³
, si_ˆ
d‘a_ty³
,

43 
cÚ¡_addr_t
 
body
, 
size_t
 
body_size
,

44 
cÚ¡_addr_t
 
exŒa
, 
size_t
 
exŒa_size
)

46 
·ck‘_h—d
 
h—d
;

47 
h—d
.
·ck‘_ty³
 =…acket_type;

48 
h—d
.
d‘a_ty³
 = detail_type;

49 
h—d
.
size
 = 
body_size
 + 
exŒa_size
;

52 if(-1 =ğ
	`uds_wr™e
(
uds_±r
, &
h—d
, (
·ck‘_h—d
)))

54 
	`EGUI_PRINT_ERROR
("failedo write…acket head");

58 if(-1 =ğ
	`uds_wr™e
(
uds_±r
, 
body
, 
body_size
))

60 
	`EGUI_PRINT_ERROR
("failedo write…acket body");

64 if(
exŒa_size
 != 0)

66 if(-1 =ğ
	`uds_wr™e
(
uds_±r
, 
exŒa
, 
exŒa_size
))

68 
	`EGUI_PRINT_ERROR
("failedo writeƒxtra msg");

74 
	}
}

79 
si_t
 
	$comm_£nd_»que¡
(cÚ¡ 
egui_uds
* 
uds_±r
, 
si_t
 
d‘a_ty³
,

80 
cÚ¡_addr_t
 
body
, 
ui_t
 
body_size
)

82  
	`comm_£nd_h—d_ªd_body
(
uds_±r
, 
PACKET_TYPE_REQUEST
, 
d‘a_ty³
,

83 
body
, 
body_size
,

84 
NULL
, 0);

85 
	}
}

90 
si_t
 
	$comm_£nd_»que¡_w™h_exŒa
(cÚ¡ 
egui_uds
* 
uds_±r
, 
si_t
 
d‘a_ty³
,

91 
cÚ¡_addr_t
 
body
, 
ui_t
 
body_size
,

92 
cÚ¡_addr_t
 
exŒa
, 
ui_t
 
exŒa_size
)

94  
	`comm_£nd_h—d_ªd_body
(
uds_±r
, 
PACKET_TYPE_REQUEST
, 
d‘a_ty³
,

95 
body
 , 
body_size
,

96 
exŒa
, 
exŒa_size
);

97 
	}
}

102 
si_t
 
	$comm_£nd_»¥Úd
(cÚ¡ 
egui_uds
* 
uds_±r
, cÚ¡ 
»¥Úd
* 
»¥Úd_±r
)

104  
	`comm_£nd_h—d_ªd_body
(
uds_±r
, 
PACKET_TYPE_RESPOND
, 
	`»¥Úd_g‘_ty³
(
»¥Úd_±r
),

105 
	`»¥Úd_g‘_v®ue
(
»¥Úd_±r
), 
	`»¥Úd_g‘_Ën
(respond_ptr),

106 
NULL
 , 0);

107 
	}
}

112 
si_t
 
	$comm_£nd_mes§ge
(cÚ¡ 
egui_uds
* 
uds_±r
, cÚ¡ 
mes§ge
* 
mes§ge_±r
)

114  
	`comm_£nd_h—d_ªd_body
(
uds_±r
, 
PACKET_TYPE_MESSAGE
, 
	`mes§ge_g‘_ty³
(
mes§ge_±r
),

115 
mes§ge_±r
, (
mes§ge
),

116 
NULL
 , 0);

117 
	}
}

122 
si_t
 
	$comm_»cv_h—d
(
egui_uds
* 
uds_±r
, 
si_t
* 
d‘a_ty³
, 
ui_t
* 
size
)

124 
·ck‘_h—d
 
h—d
;

127 if(-1 =ğ
	`uds_»ad
(
uds_±r
, &
h—d
, (
·ck‘_h—d
)))

129 
	`EGUI_PRINT_ERROR
("failedo„ead…acket head");

132 *
d‘a_ty³
 = 
h—d
.detail_type;

133 *
size
 = 
h—d
.size;

134  
h—d
.
·ck‘_ty³
;

135 
	}
}

140 
si_t
 
comm_»cv_»que¡_ªd_£nd_»¥Úd
(
egui_uds
* 
uds_±r
, 
addr_t
 
¬g
,

141 
	$si_t
(* 
ÿÎback
)(
addr_t
, 
si_t
, 
»¥Úd
*,‡ddr_t))

143 
si_t
 
d‘a_ty³
 = 0;

144 
ui_t
 
body_size
 = 0;

145 
si_t
 
·ck‘_ty³
 = 
	`comm_»cv_h—d
(
uds_±r
, &
d‘a_ty³
, &
body_size
);

146 if(
PACKET_TYPE_REQUEST
 =ğ
·ck‘_ty³
)

148 
»¥Úd
 
»¥Úd_body
;

149 
si_t
 
»t
 = 0;

150 
by‹_t
* 
buf_±r
 = 
NULL
;

151 
by‹_t
* 
addr
 = (by‹_ˆ*)
	`m®loc
(
body_size
);

152 if(
NULL
 =ğ
addr
)

154 
	`EGUI_PRINT_SYS_ERROR
("failedo malloc for…acket body");

158 
buf_±r
 = 
addr
;

159 
buf_±r
 !ğ
addr
 + 
body_size
)

161 
si_t
 
Æeá
 = 
addr
 + 
body_size
 - 
buf_±r
;

162 
si_t
 
Ä—d
 = 
	`uds_»ad
(
uds_±r
, 
buf_±r
, 
Æeá
);

163 if(
Ä—d
 <= 0)

165 
	`EGUI_PRINT_ERROR
("failedo„ead„equest body");

168 
buf_±r
 +ğ
Ä—d
;

171 
»t
 = 
	`ÿÎback
(
addr
, 
d‘a_ty³
, &
»¥Úd_body
, 
¬g
);

172 
	`ä“
(
addr
);

173 if(
	`»¥Úd_g‘_Ën
(&
»¥Úd_body
) != 0)

176 if(0 !ğ
	`comm_£nd_»¥Úd
(
uds_±r
, &
»¥Úd_body
))

178 
	`EGUI_PRINT_ERROR
("failedo send„espond");

181  
»t
;

183 if(-1 =ğ
·ck‘_ty³
)

185 
	`EGUI_PRINT_ERROR
("failedo„ecv head");

190 
	`EGUI_PRINT_ERROR
("expect„equest‡ctaully„ecv %s[%d]",

191 
·ck‘_ty³
 =ğ
PACKET_TYPE_RESPOND
 ? "»¥Úd" : (·ck‘_ty³ =ğ
PACKET_TYPE_MESSAGE
 ? "message" : "unknown"), ()packet_type);

194 
	}
}

199 
si_t
 
	$_»cv_»¥Úd
(
egui_uds
* 
uds_±r
, 
si_t
 
ex³ùed_d‘a_ty³
, 
addr_t
 
»suÉ
, si_ˆ
is_»suÉ_poš‹r
, 
queue
* 
mes§ge_queue
)

203 
si_t
 
d‘a_ty³
 = 0;

204 
ui_t
 
body_size
 = 0;

205 
si_t
 
·ck‘_ty³
 = 
	`comm_»cv_h—d
(
uds_±r
, &
d‘a_ty³
, &
body_size
);

206 if(
PACKET_TYPE_RESPOND
 =ğ
·ck‘_ty³
)

208 if(
ex³ùed_d‘a_ty³
 =ğ
d‘a_ty³
)

210 
addr_t
 
buff
 = 
NULL
;

215 if(
is_»suÉ_poš‹r
)

217 
addr_t
* 
»suÉ_±r
 = (addr_t*)
»suÉ
;

218 *
»suÉ_±r
 = 
	`m®loc
(
body_size
);

219 if(
NULL
 =ğ*
»suÉ_±r
)

221 
	`EGUI_PRINT_SYS_ERROR
("failedo malloc for„espond");

224 
buff
 = *
»suÉ_±r
;

228 
buff
 = 
»suÉ
;

231 if(-1 =ğ
	`uds_»ad
(
uds_±r
, 
buff
, 
body_size
))

233 
	`EGUI_PRINT_ERROR
("failedo„ead„espond body");

240 
	`EGUI_PRINT_ERROR
("ex³ù„e¥Údy³[%s],‡ùauÎy„ecv [%s]", 
	`»¥Úd_ty³_to_¡r
(
ex³ùed_d‘a_ty³
),„e¥Úd_ty³_to_¡r(
d‘a_ty³
));

246 if(
PACKET_TYPE_MESSAGE
 =ğ
·ck‘_ty³
)

248 
mes§ge
 
msg
;

249 if(-1 =ğ
	`uds_»ad
(
uds_±r
, &
msg
, 
body_size
))

251 
	`EGUI_PRINT_ERROR
("çedØ»ad msg,y³ %s", 
	`mes§ge_ty³_to_¡r
(
d‘a_ty³
));

254 
	`queue_push
(
mes§ge_queue
, &
msg
, (msg));

256 if(-1 =ğ
·ck‘_ty³
)

258 
	`EGUI_PRINT_ERROR
("failedo„ecv head");

263 
	`EGUI_PRINT_ERROR
("expect„espond,‡ctaully„ecv %s[%d]",

264 
·ck‘_ty³
 =ğ
PACKET_TYPE_REQUEST
 ? "request" : "unknown", ()packet_type);

268 
	}
}

270 
si_t
 
	$comm_»cv_»¥Úd
(
egui_uds
* 
uds_±r
, 
si_t
 
ex³ùed_d‘a_ty³
, 
addr_t
 
»suÉ
, 
queue
* 
mes§ge_queue
)

272  
	`_»cv_»¥Úd
(
uds_±r
, 
ex³ùed_d‘a_ty³
, 
»suÉ
, 0, 
mes§ge_queue
);

273 
	}
}

275 
si_t
 
	$comm_»cv_»¥Úd_š_Ãw_bufãr
(
egui_uds
* 
uds_±r
, 
si_t
 
ex³ùed_d‘a_ty³
, 
addr_t
 
»suÉ
, 
queue
* 
mes§ge_queue
)

277  
	`_»cv_»¥Úd
(
uds_±r
, 
ex³ùed_d‘a_ty³
, 
»suÉ
, 1, 
mes§ge_queue
);

278 
	}
}

283 
si_t
 
	$comm_»cv_msg
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg_±r
)

285 
si_t
 
d‘a_ty³
 = 0;

286 
ui_t
 
body_size
 = 0;

287 
si_t
 
·ck‘_ty³
 = 
	`comm_»cv_h—d
(
uds_±r
, &
d‘a_ty³
, &
body_size
);

288 if(
PACKET_TYPE_MESSAGE
 =ğ
·ck‘_ty³
)

290 if(
body_size
 !ğ(
mes§ge
è|| -1 =ğ
	`uds_»ad
(
uds_±r
, 
msg_±r
, (message)))

292 
	`EGUI_PRINT_ERROR
("failedo„ead message body");

297 if(-1 =ğ
·ck‘_ty³
)

299 
	`EGUI_PRINT_ERROR
("failedo„ecv head");

304 
	`EGUI_PRINT_ERROR
("expect message‡ctaully„ecv %s[%d]",

305 
·ck‘_ty³
 =ğ
PACKET_TYPE_RESPOND
 ? "»¥Úd" : (·ck‘_ty³ =ğ
PACKET_TYPE_REQUEST
 ? "request" : "unknown"), ()packet_type);

308 
	}
}

	@comm/egui_comm.h

30 #iâdeà
_EGUI_COMM_H_


31 
	#_EGUI_COMM_H_
 1

	)

33 
	~"mes§ge.h
"

34 
	~"»¥Úd.h
"

35 
	~"egui_uds.h
"

36 
	~"d©a_¡ruùu»s.h
"

48 
si_t
 
comm_£nd_»que¡
(cÚ¡ 
egui_uds
* 
uds_±r
, si_ˆ
d‘a_ty³
, 
cÚ¡_addr_t
 
body
, 
ui_t
 
body_size
);

62 
si_t
 
comm_£nd_»que¡_w™h_exŒa
(cÚ¡ 
egui_uds
* 
uds_±r
, si_ˆ
d‘a_ty³
, 
cÚ¡_addr_t
 
body
, 
ui_t
 
body_size
, cÚ¡_addr_ˆ
exŒa
, ui_ˆ
exŒa_size
);

72 
si_t
 
comm_£nd_»¥Úd
(cÚ¡ 
egui_uds
* 
uds_±r
, cÚ¡ 
»¥Úd
* 
»¥Úd_±r
);

82 
si_t
 
comm_£nd_mes§ge
(cÚ¡ 
egui_uds
* 
uds_±r
, cÚ¡ 
mes§ge
* 
mes§ge_±r
);

93 
si_t
 
comm_»cv_»que¡_ªd_£nd_»¥Úd
(
egui_uds
* 
uds_±r
, 
addr_t
 
¬g
,

94 
	$si_t
(* 
ÿÎback
)(
addr_t
, 
si_t
, 
»¥Úd
*,‡ddr_t));

106 
si_t
 
	`comm_»cv_»¥Úd
(
egui_uds
* 
uds_±r
, si_ˆ
ex³ùed_d‘a_ty³
, 
addr_t
 
»suÉ
, 
queue
* 
mes§ge_queue
);

118 
si_t
 
	`comm_»cv_»¥Úd_š_Ãw_bufãr
(
egui_uds
* 
uds_±r
, si_ˆ
ex³ùed_d‘a_ty³
, 
addr_t
 
»suÉ
, 
queue
* 
mes§ge_queue
);

128 
si_t
 
	`comm_»cv_msg
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg_±r
);

	@comm/egui_uds.c

30 
	~<¡dio.h
>

31 
	~<¡ršg.h
>

32 
	~<¡dlib.h
>

33 
	~<uni¡d.h
>

34 
	~<sys/¡©.h
>

35 
	~<sys/un.h
>

36 
	~<sys/sock‘.h
>

37 
	~<sigÇl.h
>

38 
	~<”ºo.h
>

40 
	~"egui_uds.h
"

41 
	~"log.h
"

42 
	~"comp”.h
"

44 
si_t
 
	$uds_š™
(
egui_uds
* 
uds
, 
si_t
 
sock_ty³
, * 
fe_·th
, si_ˆ
³”_rŞe
)

46 
si32_t
 
‹mp
 = 1;

47 
sockaddr_un
 
sun
;

49 
uds
->
fe_·th
 = 
	`m®loc
(
	`¡¾’
(file_path) + 1);

50 if(
NULL
 =ğ
uds
->
fe_·th
)

52 
	`EGUI_PRINT_SYS_ERROR
("Failedo malloc for file…ath: malloc()");

53 
uds
->
sock_fd
 = -1;

56 
	`¡ºıy
(
uds
->
fe_·th
, fe_·th, 
	`¡¾’
(file_path) + 1);

57 
uds
->
³”_rŞe
 =…eer_role;

60 
uds
->
sock_fd
 = 
	`sock‘
(
PF_UNIX
, 
sock_ty³
, 0);

62 if(
uds
->
sock_fd
 < 0)

64 
	`EGUI_PRINT_SYS_ERROR
("Failedo create socket: socket()");

69 if(
	`£tsockİt
(
uds
->
sock_fd
, 
SOL_SOCKET
, 
SO_REUSEADDR
, &
‹mp
, (
si32_t
)) == -1)

71 
	`EGUI_PRINT_SYS_ERROR
("Failedo set socket‡ddress„eusable: setsockopt()");

72 
	`şo£
(
uds
->
sock_fd
);

73 
uds
->
sock_fd
 = -1;

77 if(
uds
->
³”_rŞe
 =ğ
PEER_ROLE_SERVER
)

80 
	`uÆšk
(
uds
->
fe_·th
);

82 
	`mem£t
(&
sun
, 0, (
sockaddr_un
));

84 
sun
.
sun_çmy
 = 
AF_UNIX
;

86 
	`¡ºıy
(
sun
.
sun_·th
, 
uds
->
fe_·th
, 
	`¡¾’
(uds->file_path));

89 if(
	`bšd
(
uds
->
sock_fd
, (
sockaddr
 *)(&
sun
), 
	`¡¾’
(sun.
sun_·th
è+ 
	`OFFSET_OF
(
sockaddr_un
, sun_path)) == -1)

91 
	`EGUI_PRINT_SYS_ERROR
("Failedo bind‡ddresso socket: bind()");

92 
	`şo£
(
uds
->
sock_fd
);

93 
uds
->
sock_fd
 = -1;

94 
	`uÆšk
(
sun
.
sun_·th
);

100 if(
	`chmod
(
uds
->
fe_·th
, 
S_IRUSR
 | 
S_IWUSR
 | 
S_IXUSR
 | 
S_IRGRP
 | 
S_IWGRP
 | 
S_IXGRP
 | 
S_IROTH
 | 
S_IWOTH
 | 
S_IXOTH
) < 0)

102 
	`EGUI_PRINT_SYS_ERROR
("Failedo change mode of socket file: chmod()");

103 
	`şo£
(
uds
->
sock_fd
);

104 
uds
->
sock_fd
 = -1;

105 
	`uÆšk
(
sun
.
sun_·th
);

111 if(
	`li¡’
(
uds
->
sock_fd
, 
MAX_CONNECTION_QUANTITY
) == -1)

113 
	`EGUI_PRINT_SYS_ERROR
("Failedo†isten socket:†isten()");

114 
	`şo£
(
uds
->
sock_fd
);

115 
uds
->
sock_fd
 = -1;

116 
	`uÆšk
(
sun
.
sun_·th
);

121 if(
uds
->
³”_rŞe
 =ğ
PEER_ROLE_CLIENT
)

123 
	`mem£t
(&
sun
, 0, (
sockaddr_un
));

125 
sun
.
sun_çmy
 = 
AF_UNIX
;

128 
	`¥rštf
(
sun
.
sun_·th
, "/tmp/sock‘_ş›Á_%d", 
	`g‘pid
());

130 
	`uÆšk
(
sun
.
sun_·th
);

133 if(
	`bšd
(
uds
->
sock_fd
, (
sockaddr
 *)(&
sun
), 
	`¡¾’
(sun.
sun_·th
è+ 
	`OFFSET_OF
(
sockaddr_un
, sun_path)) == -1)

135 
	`EGUI_PRINT_SYS_ERROR
("Failedo bind‡ddresso socket: bind()");

136 
	`şo£
(
uds
->
sock_fd
);

137 
uds
->
sock_fd
 = -1;

138 
	`uÆšk
(
sun
.
sun_·th
);

143 
	`mem£t
(&
sun
, 0, (
sockaddr_un
));

145 
sun
.
sun_çmy
 = 
AF_UNIX
;

147 
	`¡ºıy
(
sun
.
sun_·th
, 
uds
->
fe_·th
, 
	`¡¾’
(uds->file_path));

150 if(
	`cÚÃù
(
uds
->
sock_fd
, (
sockaddr
 *)(&
sun
), 
	`¡¾’
(sun.
sun_·th
è+ 
	`OFFSET_OF
(
sockaddr_un
, sun_path)) == -1)

152 
	`EGUI_PRINT_SYS_ERROR
("Failedo connecto server: connect()");

153 
	`şo£
(
uds
->
sock_fd
);

154 
uds
->
sock_fd
 = -1;

155 
	`uÆšk
(
sun
.
sun_·th
);

162 
	}
}

164 
si_t
 
	$uds_ex™
(
egui_uds
* 
uds
)

166 
	`şo£
(
uds
->
sock_fd
);

168 if(
uds
->
³”_rŞe
 =ğ
PEER_ROLE_SERVER
)

183 if(
uds
->
³”_rŞe
 =ğ
PEER_ROLE_CLIENT
)

189 
sockaddr_un
 
sun
;

190 
	`mem£t
(
sun
.
sun_·th
, 0, (sun.sun_path));

193 
	`¥rštf
(
sun
.
sun_·th
, "/tmp/sock‘_ş›Á_%d", 
	`g‘pid
());

196 
	`uÆšk
(
sun
.
sun_·th
);

199 if(
uds
->
fe_·th
 !ğ
NULL
)

201 
	`ä“
(
uds
->
fe_·th
);

204 
	`mem£t
(
uds
, 0, (
egui_uds
));

207 
	}
}

209 
si_t
 
	$acû±_as_uds
(
egui_uds
* 
£rv”_uds
, egui_uds* 
Ãw_uds
)

211 
si_t
 
Ãw_fd
 = 
	`acû±
(
£rv”_uds
->
sock_fd
, 
NULL
, NULL);

212 if(
Ãw_fd
 < 0)

214 
	`EGUI_PRINT_SYS_ERROR
("Failedo‡ccept‚ew socket:‡ccept()");

218 
	`uds_š™_äom_Çked_sock‘
(
Ãw_uds
, 
Ãw_fd
);

220 
	}
}

222 
	$uds_š™_äom_Çked_sock‘
(
egui_uds
* 
uds
, 
si_t
 
sockfd
)

224 
uds
->
fe_·th
 = 
NULL
;

225 
uds
->
sock_fd
 = 
sockfd
;

226 
uds
->
³”_rŞe
 = 
PEER_ROLE_LISTENER
;

227 
	}
}

229 
ssize_t
 
	$uds_»ad
(cÚ¡ 
egui_uds
* 
uds
, 
addr_t
 
cÚ‹Á
, 
size_t
 
by‹s
)

231 *
bufãr
 = 
cÚ‹Á
;

232 
ssize_t
 
pos
 = 0;

235 
ssize_t
 
rc
;

237 
rc
 = 
	`»ad
(
uds
->
sock_fd
, 
bufãr
 + 
pos
, 
by‹s
 -…os);

238 ià(
rc
 == -1) {

239 ià(
”ºo
 =ğ
EINTR
 ||ƒ¼nØ=ğ
EAGAIN
)

241 
	`EGUI_PRINT_SYS_ERROR
("Failedo„ead fromƒgui unix domain socket:„ead()");

244 ià(
rc
 == 0) {

248 
pos
 +ğ
rc
;

249 } 
by‹s
 - 
pos
 > 0);

250  
pos
;

251 
	}
}

253 
ssize_t
 
	$uds_wr™e
(cÚ¡ 
egui_uds
* 
uds
, 
cÚ¡_addr_t
 
cÚ‹Á
, 
size_t
 
by‹s
)

255 cÚ¡ *
bufãr
 = 
cÚ‹Á
;

256 
couÁ_§ve
 = 
by‹s
;

259 
rc
;

261 
rc
 = 
	`wr™e
(
uds
->
sock_fd
, 
bufãr
, 
by‹s
);

262 ià(
rc
 == -1) {

263 ià(
”ºo
 =ğ
EINTR
 ||ƒ¼nØ=ğ
EAGAIN
)

265 
	`EGUI_PRINT_SYS_ERROR
("Failedo write fromƒgui unix domain socket: write()");

268 
bufãr
 +ğ
rc
;

269 
by‹s
 -ğ
rc
;

270 } 
by‹s
 > 0);

271  
couÁ_§ve
;

272 
	}
}

274 
si_t
 
	gsigÇl_pe_»cv
 = 0;

275 
	$sigpe_hªdËr
(
signo
)

277 
	`NOT_USED
(
signo
);

278 
sigÇl_pe_»cv
 = 1;

279 
	}
}

284 
si_t
 
	$is_sock‘_şo£d
(
egui_uds
* 
uds_±r
)

289 if(
PEER_ROLE_SERVER
 =ğ
uds_±r
->
³”_rŞe
)

293 
	`sigÇl
(
SIGPIPE
, 
sigpe_hªdËr
);

295 if(-1 =ğ
	`wr™e
(
uds_±r
->
sock_fd
, 
NULL
, 0))

298 if(1 =ğ
sigÇl_pe_»cv
)

300 
	`EGUI_PRINT_ERROR
("detect client socket close");

306 
	`sigÇl
(
SIGPIPE
, 
SIG_DFL
);

308 
	}
}

	@comm/egui_uds.h

30 #iâdeà
_EGUI_UDS_H_


31 
	#_EGUI_UDS_H_
 1

	)

33 
	~"ba£_ty³.h
"

34 
	~<sys/sock‘.h
>

44 
	#OFFSET_OF
(
¡ruù_Çme
, 
memb”_Çme
è((
ui_t
)(&(((¡ruù_Çm*)0)->memb”_Çme)))

	)

49 
	#MAX_CONNECTION_QUANTITY
 1024

	)

51 
	e__c_uds_rŞe__


54 
	mPEER_ROLE_SERVER
 = 0,

56 
	mPEER_ROLE_CLIENT
,

58 
	mPEER_ROLE_LISTENER


64 
	segui_uds


67 * 
	mfe_·th
;

69 
si_t
 
	msock_fd
;

71 
si_t
 
	m³”_rŞe
;

84 
si_t
 
uds_š™
(
egui_uds
* 
uds
, si_ˆ
sock_ty³
, * 
fe_·th
, si_ˆ
³”_rŞe
);

93 
si_t
 
uds_ex™
(
egui_uds
* 
uds
);

103 
si_t
 
acû±_as_uds
(
egui_uds
* 
£rv”_uds
, egui_uds* 
Ãw_uds
);

112 
uds_š™_äom_Çked_sock‘
(
egui_uds
* 
uds
, 
si_t
 
sockfd
);

123 
ssize_t
 
uds_»ad
(cÚ¡ 
egui_uds
* 
uds
, 
addr_t
 
cÚ‹Á
, 
size_t
 
by‹s
);

134 
ssize_t
 
uds_wr™e
(cÚ¡ 
egui_uds
* 
uds
, 
cÚ¡_addr_t
 
cÚ‹Á
, 
size_t
 
by‹s
);

143 
si_t
 
is_sock‘_şo£d
(
egui_uds
* 
uds_±r
);

	@comm/event_listener.c

30 
	~"ev’t_li¡’”.h
"

32 
	~<sys/times.h
>

34 
	~"log.h
"

36 
ev’t_hªdËr_š™
(
ev’ts_hªdËr
* 
e
, 
egui_uds
* 
u
, 
si_t
 
t
, 
addr_t
 
a
,

37 
	$si_t
 (*
h
)(
egui_uds
*, 
addr_t
 
¬g
), (*
d
)(egui_uds*,‡ddr_t‡rg))

39 
e
->
uds
 = *
u
;

40 
e
->
ev’t_ty³
 = 
t
;

41 
e
->
hªdËr
 = 
h
;

42 
e
->
de¡ruùÜ
 = 
d
;

43 
e
->
¬g
 = 
a
;

44 
	}
}

46 
	$ev’t_hªdËr_ex™
(
ev’ts_hªdËr
* 
e
)

48 if(
NULL
 !ğ
e
->
de¡ruùÜ
)

50 
e
->
	`de¡ruùÜ
(&e->
uds
,ƒ->
¬g
);

54 
	`uds_ex™
(&
e
->
uds
);

56 
	}
}

58 
si_t
 
	$»lßd_fd_£t
(
ev’t_li¡’”
* 
s
)

60 
li¡_node
* 
n
 = 
NULL
;

61 
si_t
 
maxfd
 = 0;

63 
	`FD_ZERO
(&
s
->
»ad_£t
);

64 
	`FD_ZERO
(&
s
->
wr™e_£t
);

66 
n
 = 
s
->
ev’t_hªdËr_£t
.
node
.
Ãxt
;‚ != &s->event_handler_set.node;‚ =‚->next)

68 
ev’ts_hªdËr
* 
e
 = (ev’ts_hªdËr*)(
n
->
d©a
);

69 if(
SELECTER_EVENT_TYPE_READ
 =ğ
e
->
ev’t_ty³
)

71 
	`FD_SET
(
e
->
uds
.
sock_fd
, &
s
->
»ad_£t
);

72 if(
e
->
uds
.
sock_fd
 + 1 > 
maxfd
)

73 
maxfd
 = 
e
->
uds
.
sock_fd
 + 1;

75 if(
SELECTER_EVENT_TYPE_WRITE
 =ğ
e
->
ev’t_ty³
)

77 
	`FD_SET
(
e
->
uds
.
sock_fd
, &
s
->
wr™e_£t
);

78 if(
e
->
uds
.
sock_fd
 + 1 > 
maxfd
)

79 
maxfd
 = 
e
->
uds
.
sock_fd
 + 1;

83  
maxfd
;

84 
	}
}

86 
	$ev’t_li¡’”_š™
(
ev’t_li¡’”
* 
l
)

88 
	`li¡_š™
(&
l
->
ev’t_hªdËr_£t
);

89 
	`FD_ZERO
(&
l
->
»ad_£t
);

90 
	`FD_ZERO
(&
l
->
wr™e_£t
);

91 
l
->
ÿÎback
 = 
NULL
;

92 
	}
}

94 
ev’t_li¡’”_add_»ad_ev’t
(
ev’t_li¡’”
* 
l
, 
egui_uds
* 
uds
, 
addr_t
 
¬g
,

95 
	$si_t
 (*
hªdËr
)(
egui_uds
*, 
addr_t
), (*
de¡ruùÜ
)(egui_uds*,‡ddr_ˆ
¬g
))

97 
ev’ts_hªdËr
 
e
;

98 
	`ev’t_hªdËr_š™
(&
e
, 
uds
, 
SELECTER_EVENT_TYPE_READ
, 
¬g
, 
hªdËr
, 
de¡ruùÜ
);

99 
	`li¡_push_back
(&
l
->
ev’t_hªdËr_£t
, &
e
, (
ev’ts_hªdËr
));

100 
	}
}

102 
ev’t_li¡’”_add_wr™e_ev’t
(
ev’t_li¡’”
* 
l
, 
egui_uds
* 
uds
, 
addr_t
 
¬g
,

103 
	$si_t
 (*
hªdËr
)(
egui_uds
*, 
addr_t
), (*
de¡ruùÜ
)(egui_uds*,‡ddr_ˆ
¬g
))

105 
ev’ts_hªdËr
 
e
;

106 
	`ev’t_hªdËr_š™
(&
e
, 
uds
, 
SELECTER_EVENT_TYPE_WRITE
, 
¬g
, 
hªdËr
, 
de¡ruùÜ
);

107 
	`li¡_push_back
(&
l
->
ev’t_hªdËr_£t
, &
e
, (
ev’ts_hªdËr
));

108 
	}
}

110 
li¡_node
* 
	$d–_hªdËr_whe_loİ
(
ev’t_li¡’”
* 
l
, 
li¡_node
* 
n
)

112 
ev’ts_hªdËr
* 
e
 = (ev’ts_hªdËr*)(
n
->
d©a
);

113 
li¡_node
* 
»tv®
 = 
NULL
;

114 
	`ev’t_hªdËr_ex™
(
e
);

117 
»tv®
 = 
n
->
´ev
;

118 
	`li¡_”a£
(&
l
->
ev’t_hªdËr_£t
, 
»tv®
->
Ãxt
);

119  
»tv®
;

120 
	}
}

122 
	$ev’t_li¡’”_d–_hªdËr
(
ev’t_li¡’”
* 
s
, 
egui_uds
* 
uds
, 
si_t
 
ty³
)

124 
li¡_node
* 
n
 = 
NULL
;

125 
n
 = 
s
->
ev’t_hªdËr_£t
.
node
.
Ãxt
;‚ != &s->event_handler_set.node;‚ =‚->next)

127 
ev’ts_hªdËr
* 
e
 = (ev’ts_hªdËr*)(
n
->
d©a
);

128 if(
e
->
ev’t_ty³
 =ğ
ty³
 &&ƒ->
uds
.
sock_fd
 == uds->sock_fd)

130 
n
 = 
	`d–_hªdËr_whe_loİ
(
s
,‚);

133 
	}
}

135 
	$ev’t_li¡’”_d–_»ad_ev’t
(
ev’t_li¡’”
* 
l
, 
egui_uds
* 
uds
)

137 
	`ev’t_li¡’”_d–_hªdËr
(
l
, 
uds
, 
SELECTER_EVENT_TYPE_READ
);

138 
	}
}

140 
	$ev’t_li¡’”_d–_wr™e_ev’t
(
ev’t_li¡’”
* 
l
, 
egui_uds
* 
uds
)

142 
	`ev’t_li¡’”_d–_hªdËr
(
l
, 
uds
, 
SELECTER_EVENT_TYPE_WRITE
);

143 
	}
}

145 
si_t
 
	$ev’t_li¡’”_exec
(
ev’t_li¡’”
* 
l
)

149 
si_t
 
£Ëù_»t
 = 0;

150 
si_t
 
maxfd
 = 0;

155 
maxfd
 = 
	`»lßd_fd_£t
(
l
);

157 if(0 =ğ
maxfd
)

159 
	`EGUI_PRINT_INFO
("event_listener†istener set isƒmpty; quit waiting.");

166 
£Ëù_»t
 = 
	`£Ëù
(
maxfd
, &
l
->
»ad_£t
, &l->
wr™e_£t
, 
NULL
, NULL);

167 if(
l
->
ÿÎback
 &&†->
	`ÿÎback
()>0) {

171 if(
£Ëù_»t
 > 0)

173 
li¡_node
* 
n
 = 
NULL
;

177 
n
 = 
l
->
ev’t_hªdËr_£t
.
node
.
Ãxt
;‚ != &l->event_handler_set.node;‚ =‚->next)

179 
ev’ts_hªdËr
* 
e
 = (ev’ts_hªdËr*)(
n
->
d©a
);

181 if((
SELECTER_EVENT_TYPE_READ
 =ğ
e
->
ev’t_ty³
 && 
	`FD_ISSET
Ó->
uds
.
sock_fd
, &
l
->
»ad_£t
))

183 || (
SELECTER_EVENT_TYPE_WRITE
 =ğ
e
->
ev’t_ty³
 && 
	`FD_ISSET
Ó->
uds
.
sock_fd
, &
l
->
wr™e_£t
)))

185 
hªdËr_»t
 = 0;

190 if(
	`is_sock‘_şo£d
(&
e
->
uds
))

192 
n
 = 
	`d–_hªdËr_whe_loİ
(
l
,‚);

196 if(
NULL
 =ğ
e
->
hªdËr
)

200 
hªdËr_»t
 = 
e
->
	`hªdËr
(&e->
uds
,ƒ->
¬g
);

202 
hªdËr_»t
)

204 
SELECTER_RETURN_TYPE_CONTINUE
:

206 
SELECTER_RETURN_TYPE_REMOVE_HANDLER
:

207 
n
 = 
	`d–_hªdËr_whe_loİ
(
l
,‚);

209 
SELECTER_RETURN_TYPE_END
:

211 
n
 = 
l
->
ev’t_hªdËr_£t
.
node
.
Ãxt
;‚ != &l->event_handler_set.node;‚ =‚->next)

213 
ev’ts_hªdËr
* 
e
 = (ev’ts_hªdËr*)(
n
->
d©a
);

214 
	`ev’t_hªdËr_ex™
(
e
);

218 
	`EGUI_PRINT_ERROR
("ev’ˆhªdË¸»tuº unknowÀty³: %d", 
hªdËr_»t
);

224 if(
£Ëù_»t
 < 0)

226 
	`EGUI_PRINT_SYS_ERROR
("Failedo get select„esult in selector: select()");

231 
	}
}

233 
	$ev’t_li¡’”_ex™
(
ev’t_li¡’”
* 
l
)

235 
	`li¡_ex™
(&
l
->
ev’t_hªdËr_£t
);

236 
	`FD_ZERO
(&
l
->
»ad_£t
);

237 
	`FD_ZERO
(&
l
->
wr™e_£t
);

238 
	}
}

	@comm/event_listener.h

30 #iâdeà
_SELECTER_H_


31 
	#_SELECTER_H_


	)

33 
	~<sys/£Ëù.h
>

35 
	~"egui_uds.h
"

36 
	~"d©a_¡ruùu»s.h
"

41 
	eSELECTER_EVENT_TYPE


43 
	mSELECTER_EVENT_TYPE_READ
 = 0,

44 
	mSELECTER_EVENT_TYPE_WRITE


50 
	eSELECTER_RETURN_TYPE


53 
	mSELECTER_RETURN_TYPE_CONTINUE
 = 0,

55 
	mSELECTER_RETURN_TYPE_REMOVE_HANDLER
,

57 
	mSELECTER_RETURN_TYPE_END


60 
	sev’ts_hªdËr


63 
egui_uds
 
	muds
;

65 
si_t
 
	mev’t_ty³
;

67 
si_t
 (*
hªdËr
)(
	megui_uds
*, 
addr_t
 
	m¬g
);

69 (*
	mde¡ruùÜ
)(
	megui_uds
*, 
addr_t
 
	m¬g
);

71 
addr_t
 
	m¬g
;

74 
	sev’t_li¡’”


77 
li¡
 
	mev’t_hªdËr_£t
;

79 
fd_£t
 
	m»ad_£t
;

81 
fd_£t
 
	mwr™e_£t
;

83 
si_t
 (*
ÿÎback
)();

91 
ev’t_li¡’”_š™
(
ev’t_li¡’”
* 
l
);

98 
ev’t_li¡’”_ex™
(
ev’t_li¡’”
* 
l
);

109 
ev’t_li¡’”_add_»ad_ev’t
(
ev’t_li¡’”
* 
l
, 
egui_uds
* 
uds
, 
addr_t
 
¬g
,

110 
	$si_t
 (*
hªdËr
)(
egui_uds
*, 
addr_t
), (*
de¡ruùÜ
)(egui_uds*,‡ddr_ˆ
¬g
));

121 
	`ev’t_li¡’”_add_wr™e_ev’t
(
ev’t_li¡’”
* 
l
, 
egui_uds
* 
uds
, 
addr_t
 
¬g
,

122 
	$si_t
 (*
hªdËr
)(
egui_uds
*, 
addr_t
), (*
de¡ruùÜ
)(egui_uds*,‡ddr_ˆ
¬g
));

130 
	`ev’t_li¡’”_d–_»ad_hªdËr
(
ev’t_li¡’”
* 
l
, 
egui_uds
* 
uds
);

138 
	`ev’t_li¡’”_d–_wr™e_hªdËr
(
ev’t_li¡’”
* 
l
, 
egui_uds
* 
uds
);

148 
si_t
 
	`ev’t_li¡’”_exec
(
ev’t_li¡’”
* 
l
);

	@comm/external.h

30 #iâdeà
_EXTERNAL_COMM_H_


31 
	#_EXTERNAL_COMM_H_
 1

	)

33 
	~"egui_uds.h
"

34 
	~"ev’t_li¡’”.h
"

35 
	~"egui_comm.h
"

36 
	~"»que¡.h
"

37 
	~"»¥Úd.h
"

38 
	~"·ck‘.h
"

39 
	~"mes§ge.h
"

	@comm/message.c

30 
	~<¡ršg.h
>

31 
	~"mes§ge.h
"

33 * 
	$mes§ge_ty³_to_¡r
(
si_t
 
mes§ge_ty³
)

35 
mes§ge_ty³
)

37 
MESSAGE_TYPE_KEYBD_ENTER
:

39 
MESSAGE_TYPE_KEYBD_LEAVE
:

41 
MESSAGE_TYPE_KEYBD_PRESS
:

43 
MESSAGE_TYPE_KEYBD_RELEASE
:

45 
MESSAGE_TYPE_KEYBD_CLICK
:

47 
MESSAGE_TYPE_MOUSE_MOVE
:

49 
MESSAGE_TYPE_MOUSE_ENTER
:

51 
MESSAGE_TYPE_MOUSE_LEAVE
:

53 
MESSAGE_TYPE_MOUSE_PRESS
:

55 
MESSAGE_TYPE_MOUSE_RELEASE
:

57 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

59 
MESSAGE_TYPE_MOUSE_DOUBLE_CLICK
:

61 
MESSAGE_TYPE_WIDGET_REPAINT
:

63 
MESSAGE_TYPE_WIDGET_SHOW
:

65 
MESSAGE_TYPE_WIDGET_MOVE
:

67 
MESSAGE_TYPE_WIDGET_RESIZE
:

69 
MESSAGE_TYPE_WINDOW_ACTIVATE
:

71 
MESSAGE_TYPE_WINDOW_DEACTIVATE
:

73 
MESSAGE_TYPE_WINDOW_STATE_CHANGE
:

75 
MESSAGE_TYPE_WINDOW_CLOSE
:

77 
MESSAGE_TYPE_WINDOW_MAXIMIZE
:

79 
MESSAGE_TYPE_WINDOW_MINIMIZE
:

81 
MESSAGE_TYPE_WINDOW_RESTORE
:

83 
MESSAGE_TYPE_WINDOW_REGISTER
:

85 
MESSAGE_TYPE_WINDOW_CANCEL
:

87 
MESSAGE_TYPE_APPLICATION_QUIT
:

90  
NULL
;

93 
	}
}

97 
	$mes§ge_£t_wšdow_desütÜ
(
mes§ge
* 
m
, 
si_t
 
w
)

99 
m
->
ba£
.
wšdow_desütÜ
 = 
w
;

100 
	}
}

101 
si_t
 
	$mes§ge_g‘_wšdow_desütÜ
(cÚ¡ 
mes§ge
* 
m
)

103  
m
->
ba£
.
wšdow_desütÜ
;

104 
	}
}

106 
	$mes§ge_£t_ty³
(
mes§ge
* 
m
, 
si_t
 
t
)

108 
m
->
ba£
.
ty³
 = 
t
;

109 
	}
}

110 
si_t
 
	$mes§ge_g‘_ty³
(cÚ¡ 
mes§ge
* 
m
)

112  
m
->
ba£
.
ty³
;

113 
	}
}

115 
	$mes§ge_£t_cursÜ_pos™iÚ
(
mes§ge
* 
m
, 
pošt
* 
c
)

117 
m
->
ba£
.
cursÜ_pos™iÚ
 = *
c
;

118 
	}
}

119 cÚ¡ 
pošt
* 
	$mes§ge_g‘_cursÜ_pos™iÚ
(cÚ¡ 
mes§ge
* 
m
)

121  &
m
->
ba£
.
cursÜ_pos™iÚ
;

122 
	}
}

124 
	$mes§ge_£t_time
(
mes§ge
* 
m
, 
timev®
* 
t
)

126 
m
->
ba£
.
time
 = *
t
;

127 
	}
}

128 cÚ¡ 
timev®
* 
	$mes§ge_g‘_time
(cÚ¡ 
mes§ge
* 
m
)

130  &
m
->
ba£
.
time
;

131 
	}
}

133 
	$mes§ge_£t_wšdow
(
mes§ge
* 
m
, 
si_t
 
w
, si_ˆ
t
)

135 
	`mes§ge_£t_wšdow_desütÜ
(
m
, 
w
);

136 
	`mes§ge_£t_ty³
(
m
, 
t
);

137 
	}
}

142 
	$mes§ge_£t_keybd
(
mes§ge
* 
msg
, 
si_t
 
t
, si_ˆ
c
, si_ˆ
v
, si_ˆ
m
)

144 
	`mes§ge_£t_ty³
(
msg
, 
t
);

145 
msg
->
keybd
.
code
 = 
c
;

146 
msg
->
keybd
.
v®ue
 = 
v
;

147 
msg
->
keybd
.
mask
 = 
m
;

148 
	}
}

150 
si_t
 
	$mes§ge_g‘_keybd_code
(cÚ¡ 
mes§ge
* 
m
)

152  
m
->
keybd
.
code
;

153 
	}
}

155 
si_t
 
	$mes§ge_g‘_keybd_v®ue
(cÚ¡ 
mes§ge
* 
m
)

157  
m
->
keybd
.
v®ue
;

158 
	}
}

160 
si_t
 
	$mes§ge_g‘_keybd_mask
(cÚ¡ 
mes§ge
* 
m
)

162  
m
->
keybd
.
mask
;

163 
	}
}

165 
	$mes§ge_£t_keybßrd_Ëave
(
mes§ge
* 
m
)

167 
	`mes§ge_£t_ty³
(
m
, 
MESSAGE_TYPE_KEYBD_LEAVE
);

168 
	}
}

173 
	$mes§ge_£t_mou£
(
mes§ge
* 
msg
, 
si_t
 
t
, si_ˆ
c
, si_ˆ
v
, si_ˆ
m
)

175 
	`mes§ge_£t_ty³
(
msg
, 
t
);

176 
msg
->
mou£
.
code
 = 
c
;

177 
msg
->
mou£
.
v®ue
 = 
v
;

178 
msg
->
mou£
.
mask
 = 
m
;

179 
	}
}

181 
si_t
 
	$mes§ge_g‘_mou£_code
(cÚ¡ 
mes§ge
* 
m
)

183  
m
->
mou£
.
code
;

184 
	}
}

186 
si_t
 
	$mes§ge_g‘_mou£_v®ue
(cÚ¡ 
mes§ge
* 
m
)

188  
m
->
mou£
.
v®ue
;

189 
	}
}

191 
si_t
 
	$mes§ge_g‘_mou£_mask
(cÚ¡ 
mes§ge
* 
m
)

193  
m
->
mou£
.
mask
;

194 
	}
}

199 
	$mes§ge_£t_widg‘_show
(
mes§ge
* 
m
, 
si_t
 
w
)

201 
	`mes§ge_£t_wšdow
(
m
, 
w
, 
MESSAGE_TYPE_WIDGET_SHOW
);

202 
	}
}

204 
	$mes§ge_£t_widg‘_»·št
(
mes§ge
* 
m
, 
si_t
 
w
, 
»ùªgË
* 
r
)

206 
	`mes§ge_£t_wšdow
(
m
, 
w
, 
MESSAGE_TYPE_WIDGET_REPAINT
);

207 
m
->
widg‘_»·št
.
¬—
 = *
r
;

208 
	}
}

210 cÚ¡ 
»ùªgË
* 
	$mes§ge_g‘_widg‘_»·št_¬—
(cÚ¡ 
mes§ge
* 
m
)

212  &
m
->
widg‘_»·št
.
¬—
;

213 
	}
}

215 
	$mes§ge_£t_widg‘_move
(
mes§ge
* 
m
, 
si_t
 
w
, 
pošt
* 
p
)

217 
	`mes§ge_£t_wšdow
(
m
, 
w
, 
MESSAGE_TYPE_WIDGET_MOVE
);

218 
m
->
widg‘_move
.
pos™iÚ
 = *
p
;

219 
	}
}

221 cÚ¡ 
pošt
* 
	$mes§ge_g‘_widg‘_move_pois™iÚ
(cÚ¡ 
mes§ge
* 
m
)

223  &
m
->
widg‘_move
.
pos™iÚ
;

224 
	}
}

226 
	$mes§ge_£t_widg‘_»size
(
mes§ge
* 
m
, 
si_t
 
w
, 
»ùªgË
* 
¬—
)

228 
	`mes§ge_£t_wšdow
(
m
, 
w
, 
MESSAGE_TYPE_WIDGET_RESIZE
);

229 
m
->
widg‘_»size
.
¬—
 = *area;

230 
	}
}

232 cÚ¡ 
»ùªgË
* 
	$mes§ge_g‘_widg‘_»size_¬—
(cÚ¡ 
mes§ge
* 
m
)

234  &
m
->
widg‘_»size
.
¬—
;

235 
	}
}

237 
	$mes§ge_£t_wšdow_aùiv©e
(
mes§ge
* 
m
, 
si_t
 
w
)

239 
	`mes§ge_£t_wšdow
(
m
, 
w
, 
MESSAGE_TYPE_WINDOW_ACTIVATE
);

240 
	}
}

242 
	$mes§ge_£t_wšdow_d—ùiv©e
(
mes§ge
* 
m
, 
si_t
 
w
)

244 
	`mes§ge_£t_wšdow
(
m
, 
w
, 
MESSAGE_TYPE_WINDOW_DEACTIVATE
);

245 
	}
}

247 
	$mes§ge_£t_wšdow_mšimize
(
mes§ge
* 
m
, 
si_t
 
w
)

249 
	`mes§ge_£t_wšdow
(
m
, 
w
, 
MESSAGE_TYPE_WINDOW_MINIMIZE
);

250 
	}
}

252 
	$mes§ge_£t_wšdow_maximize
(
mes§ge
* 
m
, 
si_t
 
w
)

254 
	`mes§ge_£t_wšdow
(
m
, 
w
, 
MESSAGE_TYPE_WINDOW_MAXIMIZE
);

255 
	}
}

257 
	$mes§ge_£t_wšdow_»¡Üe
(
mes§ge
* 
m
, 
si_t
 
w
)

259 
	`mes§ge_£t_wšdow
(
m
, 
w
, 
MESSAGE_TYPE_WINDOW_RESTORE
);

260 
	}
}

262 
	$mes§ge_£t_wšdow_şo£
(
mes§ge
* 
m
, 
si_t
 
w
)

264 
	`mes§ge_£t_wšdow
(
m
, 
w
, 
MESSAGE_TYPE_WINDOW_CLOSE
);

265 
	}
}

267 
	$mes§ge_£t_wšdow_»gi¡”
(
mes§ge
* 
m
, 
si_t
 
w
)

269 
	`mes§ge_£t_wšdow
(
m
, 
w
, 
MESSAGE_TYPE_WINDOW_REGISTER
);

270 
	}
}

272 
	$mes§ge_£t_wšdow_ÿnûl
(
mes§ge
* 
m
, 
si_t
 
w
)

274 
	`mes§ge_£t_wšdow
(
m
, 
w
, 
MESSAGE_TYPE_WINDOW_CANCEL
);

275 
	}
}

	@comm/message.h

30 #iâdeà
_MESSAGE_H_


31 
	#_MESSAGE_H_
 1

	)

33 
	~<sys/time.h
>

35 
	~<ba£_ty³.h
>

36 
	~<geom‘ry.h
>

37 
	~<lim™s.h
>

39 
	#MESSAGE_BASE_DEFINITION
 \

42 
si_t
 
ty³
; \

45 
si_t
 
wšdow_desütÜ
; \

48 
pošt
 
cursÜ_pos™iÚ
; \

51 
timev®
 
time
;

	)

56 
	e__mes§ge_ty³__


59 
	mMESSAGE_TYPE_KEYBD_ENTER
 = 0,

61 
	mMESSAGE_TYPE_KEYBD_LEAVE
,

63 
	mMESSAGE_TYPE_KEYBD_PRESS
,

65 
	mMESSAGE_TYPE_KEYBD_RELEASE
,

67 
	mMESSAGE_TYPE_KEYBD_CLICK
,

70 
	mMESSAGE_TYPE_MOUSE_MOVE
,

72 
	mMESSAGE_TYPE_MOUSE_MOVE_POINT
,

74 
	mMESSAGE_TYPE_MOUSE_ENTER
,

76 
	mMESSAGE_TYPE_MOUSE_LEAVE
,

78 
	mMESSAGE_TYPE_MOUSE_PRESS
,

80 
	mMESSAGE_TYPE_MOUSE_RELEASE
,

82 
	mMESSAGE_TYPE_MOUSE_SINGLE_CLICK
,

84 
	mMESSAGE_TYPE_MOUSE_DOUBLE_CLICK
,

87 
	mMESSAGE_TYPE_WIDGET_REPAINT
,

89 
	mMESSAGE_TYPE_WIDGET_SHOW
,

91 
	mMESSAGE_TYPE_WIDGET_MOVE
,

93 
	mMESSAGE_TYPE_WIDGET_RESIZE
,

96 
	mMESSAGE_TYPE_WINDOW_ACTIVATE
,

98 
	mMESSAGE_TYPE_WINDOW_DEACTIVATE
,

100 
	mMESSAGE_TYPE_WINDOW_STATE_CHANGE
,

102 
	mMESSAGE_TYPE_WINDOW_CLOSE
,

104 
	mMESSAGE_TYPE_WINDOW_MAXIMIZE
,

106 
	mMESSAGE_TYPE_WINDOW_MINIMIZE
,

108 
	mMESSAGE_TYPE_WINDOW_RESTORE
,

110 
	mMESSAGE_TYPE_WINDOW_REGISTER
,

112 
	mMESSAGE_TYPE_WINDOW_CANCEL
,

115 
	mMESSAGE_TYPE_APPLICATION_QUIT
,

118 
	mMESSAGE_TYPE_CUSTOM
,

121 
	mMESSAGE_TYPE_QUANTITY
,

125 
	mMESSAGE_TYPE_MAX
 = 
INT_MAX


131 * 
mes§ge_ty³_to_¡r
(
si_t
 
mes§ge_ty³
);

136 
	gmes§ge
;

138 
	smes§ge_ba£


140 
	mMESSAGE_BASE_DEFINITION


142 
mes§ge_£t_wšdow_desütÜ
(
mes§ge
* 
m
, 
si_t
 
w
);

143 
si_t
 
mes§ge_g‘_wšdow_desütÜ
(cÚ¡ 
mes§ge
* 
m
);

144 
mes§ge_£t_ty³
(
mes§ge
* 
m
, 
si_t
 
t
);

145 
si_t
 
mes§ge_g‘_ty³
(cÚ¡ 
mes§ge
* 
m
);

146 
mes§ge_£t_cursÜ_pos™iÚ
(
mes§ge
* 
m
, 
pošt
* 
c
);

147 cÚ¡ 
pošt
* 
mes§ge_g‘_cursÜ_pos™iÚ
(cÚ¡ 
mes§ge
* 
m
);

148 
mes§ge_£t_time
(
mes§ge
* 
m
, 
timev®
* 
t
);

149 cÚ¡ 
timev®
* 
mes§ge_g‘_time
(cÚ¡ 
mes§ge
* 
m
);

154 
	e__keybd_šput_code__


157 
	mINPUT_CODE_KEYBD_ESC
 = 0,

159 
	mINPUT_CODE_KEYBD_1
,

161 
	mINPUT_CODE_KEYBD_2
,

163 
	mINPUT_CODE_KEYBD_3
,

165 
	mINPUT_CODE_KEYBD_4
,

167 
	mINPUT_CODE_KEYBD_5
,

169 
	mINPUT_CODE_KEYBD_6
,

171 
	mINPUT_CODE_KEYBD_7
,

173 
	mINPUT_CODE_KEYBD_8
,

175 
	mINPUT_CODE_KEYBD_9
,

177 
	mINPUT_CODE_KEYBD_0
,

179 
	mINPUT_CODE_KEYBD_SUB
,

181 
	mINPUT_CODE_KEYBD_EQUAL
,

183 
	mINPUT_CODE_KEYBD_BACKSPACE
,

185 
	mINPUT_CODE_KEYBD_TAB
,

187 
	mINPUT_CODE_KEYBD_Q
,

189 
	mINPUT_CODE_KEYBD_W
,

191 
	mINPUT_CODE_KEYBD_E
,

193 
	mINPUT_CODE_KEYBD_R
,

195 
	mINPUT_CODE_KEYBD_T
,

197 
	mINPUT_CODE_KEYBD_Y
,

199 
	mINPUT_CODE_KEYBD_U
,

201 
	mINPUT_CODE_KEYBD_I
,

203 
	mINPUT_CODE_KEYBD_O
,

205 
	mINPUT_CODE_KEYBD_P
,

207 
	mINPUT_CODE_KEYBD_L_BRACE
,

209 
	mINPUT_CODE_KEYBD_R_BRACE
,

211 
	mINPUT_CODE_KEYBD_ENTER
,

213 
	mINPUT_CODE_KEYBD_L_CTRL
,

215 
	mINPUT_CODE_KEYBD_A
,

217 
	mINPUT_CODE_KEYBD_S
,

219 
	mINPUT_CODE_KEYBD_D
,

221 
	mINPUT_CODE_KEYBD_F
,

223 
	mINPUT_CODE_KEYBD_G
,

225 
	mINPUT_CODE_KEYBD_H
,

227 
	mINPUT_CODE_KEYBD_J
,

229 
	mINPUT_CODE_KEYBD_K
,

231 
	mINPUT_CODE_KEYBD_L
,

233 
	mINPUT_CODE_KEYBD_SEMICOLON
,

235 
	mINPUT_CODE_KEYBD_APOSTROPHE
,

237 
	mINPUT_CODE_KEYBD_GRAVE
,

239 
	mINPUT_CODE_KEYBD_L_SHIFT
,

241 
	mINPUT_CODE_KEYBD_BACKSLASH
,

243 
	mINPUT_CODE_KEYBD_Z
,

245 
	mINPUT_CODE_KEYBD_X
,

247 
	mINPUT_CODE_KEYBD_C
,

249 
	mINPUT_CODE_KEYBD_V
,

251 
	mINPUT_CODE_KEYBD_B
,

253 
	mINPUT_CODE_KEYBD_N
,

255 
	mINPUT_CODE_KEYBD_M
,

257 
	mINPUT_CODE_KEYBD_COMMA
,

259 
	mINPUT_CODE_KEYBD_DOT
,

261 
	mINPUT_CODE_KEYBD_SLASH
,

263 
	mINPUT_CODE_KEYBD_R_SHIFT
,

265 
	mINPUT_CODE_KEYBD_KPASTERISK
,

267 
	mINPUT_CODE_KEYBD_L_ALT
,

269 
	mINPUT_CODE_KEYBD_SPACE
,

271 
	mINPUT_CODE_KEYBD_CAPSLOCK
,

273 
	mINPUT_CODE_KEYBD_F1
,

275 
	mINPUT_CODE_KEYBD_F2
,

277 
	mINPUT_CODE_KEYBD_F3
,

279 
	mINPUT_CODE_KEYBD_F4
,

281 
	mINPUT_CODE_KEYBD_F5
,

283 
	mINPUT_CODE_KEYBD_F6
,

285 
	mINPUT_CODE_KEYBD_F7
,

287 
	mINPUT_CODE_KEYBD_F8
,

289 
	mINPUT_CODE_KEYBD_F9
,

291 
	mINPUT_CODE_KEYBD_F10
,

293 
	mINPUT_CODE_KEYBD_F11
,

295 
	mINPUT_CODE_KEYBD_F12
,

297 
	mINPUT_CODE_KEYBD_NUMLOCK
,

299 
	mINPUT_CODE_KEYBD_SCROLLLOCK
,

301 
	mINPUT_CODE_KEYBD_KP_7
,

303 
	mINPUT_CODE_KEYBD_KP_8
,

305 
	mINPUT_CODE_KEYBD_KP_9
,

307 
	mINPUT_CODE_KEYBD_KP_SUB
,

309 
	mINPUT_CODE_KEYBD_KP_4
,

311 
	mINPUT_CODE_KEYBD_KP_5
,

313 
	mINPUT_CODE_KEYBD_KP_6
,

315 
	mINPUT_CODE_KEYBD_KP_ADD
,

317 
	mINPUT_CODE_KEYBD_KP_1
,

319 
	mINPUT_CODE_KEYBD_KP_2
,

321 
	mINPUT_CODE_KEYBD_KP_3
,

323 
	mINPUT_CODE_KEYBD_KP_0
,

325 
	mINPUT_CODE_KEYBD_KP_DOT
,

327 
	mINPUT_CODE_KEYBD_KP_ENTER
,

329 
	mINPUT_CODE_KEYBD_R_CTRL
,

331 
	mINPUT_CODE_KEYBD_KP_SLASH
,

333 
	mINPUT_CODE_KEYBD_SYSRQ
,

335 
	mINPUT_CODE_KEYBD_R_ALT
,

337 
	mINPUT_CODE_KEYBD_HOME
,

339 
	mINPUT_CODE_KEYBD_UP
,

341 
	mINPUT_CODE_KEYBD_PAGEUP
,

343 
	mINPUT_CODE_KEYBD_LEFT
,

345 
	mINPUT_CODE_KEYBD_RIGHT
,

347 
	mINPUT_CODE_KEYBD_END
,

349 
	mINPUT_CODE_KEYBD_DOWN
,

351 
	mINPUT_CODE_KEYBD_PAGEDOWN
,

353 
	mINPUT_CODE_KEYBD_INSERT
,

355 
	mINPUT_CODE_KEYBD_DELETE
,

357 
	mINPUT_CODE_KEYBD_PAUSE
,

359 
	mINPUT_CODE_KEYBD_L_META
,

361 
	mINPUT_CODE_KEYBD_R_META
,

363 
	mINPUT_CODE_KEYBD_COMPOSE
,

365 
	mINPUT_CODE_KEYBD_QUANTITY
,

368 
	mINPUT_CODE_KEYBD_MAX
 = 
INT_MAX


375 
	smes§ge_keybd


377 
	mMESSAGE_BASE_DEFINITION


380 
si_t
 
	mcode
;

383 
si_t
 
	mv®ue
;

388 
ui_t
 
	mmask
;

391 
mes§ge_£t_keybd
(
mes§ge
* 
msg
, 
si_t
 
t
, si_ˆ
c
, si_ˆ
v
, si_ˆ
m
);

392 
si_t
 
mes§ge_g‘_keybd_code
(cÚ¡ 
mes§ge
* 
m
);

393 
si_t
 
mes§ge_g‘_keybd_v®ue
(cÚ¡ 
mes§ge
* 
m
);

394 
si_t
 
mes§ge_g‘_keybd_mask
(cÚ¡ 
mes§ge
* 
m
);

399 
	smes§ge_keybßrd_Ëave


401 
	mMESSAGE_BASE_DEFINITION


404 
mes§ge_£t_keybßrd_Ëave
(
mes§ge
* 
m
);

409 
	e__mou£_šput_code__


412 
	mINPUT_CODE_MOUSE_L_KEY
 = 0,

414 
	mINPUT_CODE_MOUSE_R_KEY
,

416 
	mINPUT_CODE_MOUSE_M_KEY
,

418 
	mINPUT_CODE_MOUSE_X_OFFSET
,

420 
	mINPUT_CODE_MOUSE_Y_OFFSET
,

422 
	mINPUT_CODE_MOUSE_Z_OFFSET
,

424 
	mINPUT_CODE_MOUSE_QUANTITY
,

427 
	mINPUT_CODE_MOUSE_MAX
 = 
INT_MAX


433 
	e__šput_modif›r__


436 
	mINPUT_MODIFIER_KEYBD_NUMLOCK
,

438 
	mINPUT_MODIFIER_KEYBD_CAPSLOCK
,

441 
	mINPUT_MODIFIER_KEYBD_L_CTRL
,

444 
	mINPUT_MODIFIER_KEYBD_R_CTRL
,

447 
	mINPUT_MODIFIER_KEYBD_L_SHIFT
,

450 
	mINPUT_MODIFIER_KEYBD_R_SHIFT
,

453 
	mINPUT_MODIFIER_KEYBD_L_ALT
,

456 
	mINPUT_MODIFIER_KEYBD_R_ALT
,

459 
	mINPUT_MODIFIER_KEYBD_L_META
,

462 
	mINPUT_MODIFIER_KEYBD_R_META
,

465 
	mINPUT_MODIFIER_MOUSE_L_KEY
,

468 
	mINPUT_MODIFIER_MOUSE_M_KEY
,

471 
	mINPUT_MODIFIER_MOUSE_R_KEY
,

473 
	mINPUT_MODIFIER_QUANTITY
,

476 
	mINPUT_MODIFIER_MAX
 = 
INT_MAX


479 
	e__šput_modif›r_mask__


481 
	mINPUT_MODIFIER_MASK_KEYBD_NUMLOCK
 = ((
ui_t
)1) << 0,

483 
	mINPUT_MODIFIER_MASK_KEYBD_CAPSLOCK
 = ((
ui_t
)1) << 1,

485 
	mINPUT_MODIFIER_MASK_KEYBD_L_CTRL
 = ((
ui_t
)1) << 2,

487 
	mINPUT_MODIFIER_MASK_KEYBD_R_CTRL
 = ((
ui_t
)1) << 3,

489 
	mINPUT_MODIFIER_MASK_KEYBD_L_SHIFT
 = ((
ui_t
)1) << 4,

491 
	mINPUT_MODIFIER_MASK_KEYBD_R_SHIFT
 = ((
ui_t
)1) << 5,

493 
	mINPUT_MODIFIER_MASK_KEYBD_L_ALT
 = ((
ui_t
)1) << 6,

495 
	mINPUT_MODIFIER_MASK_KEYBD_R_ALT
 = ((
ui_t
)1) << 7,

497 
	mINPUT_MODIFIER_MASK_KEYBD_L_META
 = ((
ui_t
)1) << 8,

499 
	mINPUT_MODIFIER_MASK_KEYBD_R_META
 = ((
ui_t
)1) << 9,

501 
	mINPUT_MODIFIER_MASK_MOUSE_L_KEY
 = ((
ui_t
)1) << 10,

503 
	mINPUT_MODIFIER_MASK_MOUSE_M_KEY
 = ((
ui_t
)1) << 11,

505 
	mINPUT_MODIFIER_MASK_MOUSE_R_KEY
 = ((
ui_t
)1) << 12

511 
	#INPUT_MODIFIER_BIT_SET
(
b™
, 
b™£t
è((* (b™£t)èğ(b™è| (* (b™£t)))

	)

516 
	#INPUT_MODIFIER_BIT_CLR
(
b™
, 
b™£t
è((* (b™£t)èğ(~(b™)è& (* (b™£t)))

	)

521 
	#INPUT_MODIFIER_BIT_SET_ALL
(
b™£t
è((* (b™£t)èğ((
ui_t
)0è& (* (b™£t)))

	)

526 
	#INPUT_MODIFIER_BIT_CLR_ALL
(
b™£t
è((* (b™£t)èğ((
ui_t
)-1è| (* (b™£t)))

	)

539 
	smes§ge_mou£


541 
	mMESSAGE_BASE_DEFINITION


544 
si_t
 
	mcode
;

547 
si_t
 
	mv®ue
;

552 
ui_t
 
	mmask
;

555 
mes§ge_£t_mou£
(
mes§ge
* 
msg
, 
si_t
 
t
, si_ˆ
c
, si_ˆ
v
, si_ˆ
m
);

556 
si_t
 
mes§ge_g‘_mou£_code
(cÚ¡ 
mes§ge
* 
m
);

557 
si_t
 
mes§ge_g‘_mou£_v®ue
(cÚ¡ 
mes§ge
* 
m
);

558 
si_t
 
mes§ge_g‘_mou£_mask
(cÚ¡ 
mes§ge
* 
m
);

563 
	smes§ge_widg‘_show


565 
	mMESSAGE_BASE_DEFINITION


568 
mes§ge_£t_widg‘_show
(
mes§ge
* 
m
, 
si_t
 
w
);

573 
	smes§ge_widg‘_»·št


575 
	mMESSAGE_BASE_DEFINITION


577 
»ùªgË
 
	m¬—
;

580 
mes§ge_£t_widg‘_»·št
(
mes§ge
* 
m
, 
si_t
 
w
, 
»ùªgË
* 
r
);

581 cÚ¡ 
»ùªgË
* 
mes§ge_g‘_widg‘_»·št_¬—
(cÚ¡ 
mes§ge
* 
m
);

586 
	smes§ge_widg‘_move


588 
	mMESSAGE_BASE_DEFINITION


590 
pošt
 
	mpos™iÚ
;

593 
mes§ge_£t_widg‘_move
(
mes§ge
* 
m
, 
si_t
 
w
, 
pošt
* 
p
);

594 cÚ¡ 
pošt
* 
mes§ge_g‘_widg‘_move_pois™iÚ
(cÚ¡ 
mes§ge
* 
m
);

599 
	smes§ge_widg‘_»size


601 
MESSAGE_BASE_DEFINITION


603 
»ùªgË
 
	m¬—
;

606 
mes§ge_£t_widg‘_»size
(
mes§ge
* 
m
, 
si_t
 
w
, 
»ùªgË
* 
¬—
);

607 cÚ¡ 
»ùªgË
* 
mes§ge_g‘_widg‘_»size_¬—
(cÚ¡ 
mes§ge
* 
m
);

612 
	smes§ge_wšdow_aùiv©e


614 
	mMESSAGE_BASE_DEFINITION


617 
mes§ge_£t_wšdow_aùiv©e
(
mes§ge
* 
m
, 
si_t
 
w
);

622 
	smes§ge_wšdow_d—ùiv©e


624 
	mMESSAGE_BASE_DEFINITION


627 
mes§ge_£t_wšdow_d—ùiv©e
(
mes§ge
* 
m
, 
si_t
 
w
);

634 
	smes§ge_wšdow_mšimize


636 
	mMESSAGE_BASE_DEFINITION


639 
mes§ge_£t_wšdow_mšimize
(
mes§ge
* 
m
, 
si_t
 
w
);

646 
	smes§ge_wšdow_maximize


648 
	mMESSAGE_BASE_DEFINITION


651 
mes§ge_£t_wšdow_maximize
(
mes§ge
* 
m
, 
si_t
 
w
);

658 
	smes§ge_wšdow_»¡Üe


660 
	mMESSAGE_BASE_DEFINITION


663 
mes§ge_£t_wšdow_»¡Üe
(
mes§ge
* 
m
, 
si_t
 
w
);

670 
	smes§ge_wšdow_şo£


672 
	mMESSAGE_BASE_DEFINITION


675 
mes§ge_£t_wšdow_şo£
(
mes§ge
* 
m
, 
si_t
 
w
);

682 
	smes§ge_wšdow_»gi¡”


684 
	mMESSAGE_BASE_DEFINITION


687 
mes§ge_£t_wšdow_»gi¡”
(
mes§ge
* 
m
, 
si_t
 
w
);

694 
	smes§ge_wšdow_ÿnûl


696 
	mMESSAGE_BASE_DEFINITION


699 
mes§ge_£t_wšdow_ÿnûl
(
mes§ge
* 
m
, 
si_t
 
w
);

701 
	umes§ge


703 
mes§ge_ba£
 
	mba£
;

704 
mes§ge_keybd
 
	mkeybd
;

705 
mes§ge_mou£
 
	mmou£
;

706 
mes§ge_widg‘_show
 
	mwidg‘_show
;

707 
mes§ge_widg‘_»·št
 
	mwidg‘_»·št
;

708 
mes§ge_widg‘_move
 
	mwidg‘_move
;

709 
mes§ge_widg‘_»size
 
	mwidg‘_»size
;

710 
mes§ge_wšdow_aùiv©e
 
	mwšdow_aùiv©e
;

711 
mes§ge_wšdow_d—ùiv©e
 
	mwšdow_d—ùiv©e
;

712 
mes§ge_wšdow_mšimize
 
	mwšdow_mšimize
;

713 
mes§ge_wšdow_maximize
 
	mwšdow_maximize
;

714 
mes§ge_wšdow_»¡Üe
 
	mwšdow_»¡Üe
;

715 
mes§ge_wšdow_şo£
 
	mwšdow_şo£
;

716 
mes§ge_wšdow_»gi¡”
 
	mwšdow_»gi¡”
;

717 
mes§ge_wšdow_ÿnûl
 
	mwšdow_ÿnûl
;

718 
mes§ge_keybßrd_Ëave
 
	mkeybd_Ëave
;

719 * 
	mmes§ge_cu¡om
;

	@comm/packet.h

30 #iâdeà
_PACKET_H_


31 
	#_PACKET_H_
 1

	)

33 
	~<ba£_ty³.h
>

34 
	~<lim™s.h
>

39 
	s·ck‘_h—d


46 
si_t
 
	m·ck‘_ty³
;

51 
si_t
 
	md‘a_ty³
;

54 
ui_t
 
	msize
;

60 
	e__·ck‘_ty³__


63 
	mPACKET_TYPE_REQUEST
 = 0,

66 
	mPACKET_TYPE_RESPOND
,

69 
	mPACKET_TYPE_MESSAGE
,

72 
	mPACKET_TYPE_QUANTITY
,

76 
	mPACKET_TYPE_MAX
 = 
INT_MAX


	@comm/request.c

30 
	~"»que¡.h
"

31 
	~<¡d¬g.h
>

32 
	~<¡ršg.h
>

34 * 
	$»que¡_ty³_to_¡r
(
si_t
 
»que¡_ty³
)

36 
»que¡_ty³
)

38 
REQUEST_TYPE_REGISTER_APPLICATION
:

40 
REQUEST_TYPE_CANCEL_APPLICATION
:

42 
REQUEST_TYPE_GRAPHICS_DEVICE_INIT
:

44 
REQUEST_TYPE_GRAPHICS_DEVICE_EXIT
:

46 
REQUEST_TYPE_WINDOW_MANAGER_QUIT
:

48 
REQUEST_TYPE_UPDATE
:

50 
REQUEST_TYPE_DESKTOP_DIRTY
:

52 
REQUEST_TYPE_REGISTER_WINDOW
:

54 
REQUEST_TYPE_CANCEL_WINDOW
:

56 
REQUEST_TYPE_MOVE_WINDOW
:

58 
REQUEST_TYPE_RESIZE_WINDOW
:

60 
REQUEST_TYPE_MINIMIZE_WINDOW
:

62 
REQUEST_TYPE_MAXIMIZE_WINDOW
:

64 
REQUEST_TYPE_RESTORE_WINDOW
:

66 
REQUEST_TYPE_ACTIVATE_WINDOW
:

68 
REQUEST_TYPE_CLEAR
:

70 
REQUEST_TYPE_CLEAR_WHITE
:

72 
REQUEST_TYPE_CLEAR_BLACK
:

74 
REQUEST_TYPE_DRAW_LINE
:

76 
REQUEST_TYPE_DRAW_POINT
:

78 
REQUEST_TYPE_DRAW_RECTANGLE
:

80 
REQUEST_TYPE_DRAW_POLYGON
:

82 
REQUEST_TYPE_DRAW_CIRCLE
:

84 
REQUEST_TYPE_DRAW_ELLIPSE
:

86 
REQUEST_TYPE_DRAW_ARROW
:

88 
REQUEST_TYPE_DRAW_X
:

90 
REQUEST_TYPE_DRAW_BITMAP
:

92 
REQUEST_TYPE_DRAW_IMG
:

94 
REQUEST_TYPE_FILL_RECTANGLE
:

96 
REQUEST_TYPE_FILL_CIRCLE
:

98 
REQUEST_TYPE_FILL_ELLIPSE
:

100 
REQUEST_TYPE_FILL_ARROW
:

102 
REQUEST_TYPE_FILL_X
:

104 
REQUEST_TYPE_SHOW_TEXT
:

106 
REQUEST_TYPE_CPY_AREA
:

108 
REQUEST_TYPE_SET_COLOR
:

110 
REQUEST_TYPE_SET_AREA
:

112 
REQUEST_TYPE_SET_FONT
:

114 
REQUEST_TYPE_GET_COLOR_LIMIT
:

116 
REQUEST_TYPE_GET_SCREEN_WIDTH
:

118 
REQUEST_TYPE_GET_SCREEN_HEIGHT
:

120 
REQUEST_TYPE_GET_AREA
:

122 
REQUEST_TYPE_GET_COLOR
:

124 
REQUEST_TYPE_GET_FONT_WIDTH
:

126 
REQUEST_TYPE_GET_FONT_HEIGHT
:

128 
REQUEST_TYPE_GET_WINDOW_TITLE
:

131  
NULL
;

133 
	}
}

143 
	$wr™e_func_¬g_to_¡ruù_v¬
(
addr_t
 
¡ruù_±r
, 
ui_t
 
·¿m_num
, ...)

145 
va_li¡
 
­
;

146 
ui_t
 
i
 = 0;

147 
si_t
* 
cur_±r
 = (si_t*)
¡ruù_±r
;

148 
	`va_¡¬t
(
­
, 
·¿m_num
);

149 
i
 ++ !ğ
·¿m_num
)

152 
si_t
 
·¿m
 = 
	`va_¬g
(
­
, si_t);

154 * (
cur_±r
 ++èğ
·¿m
;

156 
	`va_’d
(
­
);

157 
	}
}

168 
	$wr™e_¡ruù_v¬_to_func_¬g
(
addr_t
 
¡ruù_±r
, 
ui_t
 
·¿m_num
, ...)

170 
va_li¡
 
­
;

171 
ui_t
 
i
 = 0;

172 
si_t
* 
cur_±r
 = (si_t*)
¡ruù_±r
;

173 
	`va_¡¬t
(
­
, 
·¿m_num
);

174 
i
 ++ !ğ
·¿m_num
)

177 
si_t
* 
·¿m
 = 
	`va_¬g
(
­
, si_t*);

178 if(
NULL
 !ğ
·¿m
)

180 *
·¿m
 = *
cur_±r
;

183 ++ 
cur_±r
;

185 
	`va_’d
(
­
);

186 
	}
}

199 
	$»que¡_£t_»gi¡”_­¶iÿtiÚ
(
·ck‘_body_»gi¡”_­¶iÿtiÚ
* 
body
, 
si_t
 
video_acûss_mode
, si_ˆ
­¶iÿtiÚ_ty³
, cÚ¡ * 
Çme
, si_ˆ
Ëngth
)

201 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 4, 
video_acûss_mode
, 
­¶iÿtiÚ_ty³
, 
Çme
, 
Ëngth
);

202 
	}
}

204 
	$»que¡_g‘_»gi¡”_­¶iÿtiÚ
(
addr_t
 
¬g
, 
si_t
* 
video_acûss_mode
, si_t* 
­¶iÿtiÚ_ty³
, ** 
Çme
, si_t* 
Ëngth
)

206 
·ck‘_body_»gi¡”_­¶iÿtiÚ
* 
body
 = (·ck‘_body_»gi¡”_­¶iÿtiÚ*)
¬g
;

207 
body
->
Çme
 = (*)((
by‹_t
*)
¬g
 + (
·ck‘_body_»gi¡”_­¶iÿtiÚ
));

208 
	`wr™e_¡ruù_v¬_to_func_¬g
(
body
, 4, 
video_acûss_mode
, 
­¶iÿtiÚ_ty³
, 
Çme
, 
Ëngth
);

209 
	}
}

211 
	$»que¡_£t_g¿phics_deviû_š™
(
·ck‘_body_g¿phics_deviû_š™
* 
body
, 
si_t
 
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
, si_ˆ
r
, si_ˆ
g
, si_ˆ
b
, si_ˆ
a
, si_ˆ
fÚt
)

213 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 9, 
x_axis
, 
y_axis
, 
x_size
, 
y_size
, 
r
, 
g
, 
b
, 
a
, 
fÚt
);

214 
	}
}

216 
si_t
 
»que¡_ÿÎ_by_g¿phics_deviû_š™
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t, si_t, si_t, si_t, si_t))

218 
·ck‘_body_g¿phics_deviû_š™
* 
body
 = (·ck‘_body_g¿phics_deviû_š™*)
¬g
;

219  
	`ÿÎabË
(
body
->
x_axis
, body->
y_axis
, body->
x_size
, body->
y_size
, body->
r
, body->
g
, body->
b
, body->
a
, body->
fÚt
);

220 
	}
}

222 
	$»que¡_£t_g¿phics_deviû_ex™
(
·ck‘_body_g¿phics_deviû_ex™
* 
body
, 
si_t
 
gd
)

224 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 1, 
gd
);

225 
	}
}

227 
	$»que¡_g‘_g¿phics_deviû_ex™
(
addr_t
 
body
, 
si_t
* 
gd
)

229 
	`wr™e_¡ruù_v¬_to_func_¬g
((
addr_t
)
body
, 1, 
gd
);

230 
	}
}

232 
si_t
 
»que¡_ÿÎ_by_g¿phics_deviû_ex™
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
))

234 
·ck‘_body_g¿phics_deviû_ex™
* 
body
 = (·ck‘_body_g¿phics_deviû_ex™*)
¬g
;

235  
	`ÿÎabË
(
body
->
gd
);

236 
	}
}

238 
	$»que¡_£t_upd©e
(
·ck‘_body_upd©e
* 
body
, 
si_t
 
gd
)

240 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 1, 
gd
);

241 
	}
}

243 
	$»que¡_g‘_upd©e
(
addr_t
 
body
, 
si_t
* 
gd
)

245 
	`wr™e_¡ruù_v¬_to_func_¬g
(
body
, 1, 
gd
);

246 
	}
}

248 
	$»que¡_£t_»gi¡”_wšdow
(
·ck‘_body_»gi¡”_wšdow
* 
body
, 
si_t
 
·»Á_wšdow_desütÜ
, cÚ¡ * 
t™Ë
, si_ˆ
t™Ë_Ëngth
, si_ˆ
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
, si_ˆ
mšimize_’abË
, si_ˆ
maximize_’abË
, si_ˆ
mod®
)

250 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 10, 
·»Á_wšdow_desütÜ
, 
t™Ë
, 
t™Ë_Ëngth
, 
x
, 
y
, 
width
, 
height
, 
mšimize_’abË
, 
maximize_’abË
, 
mod®
);

251 
	}
}

253 
	$»que¡_g‘_»gi¡”_wšdow
(
addr_t
 
¬g
, 
si_t
* 
·»Á_wšdow_desütÜ
, ** 
t™Ë
, si_t* 
t™Ë_Ëngth
, si_t* 
x
, si_t* 
y
, si_t* 
width
, si_t* 
height
, si_t* 
mšimize_’abË
, si_t* 
maximize_’abË
, si_t* 
mod®
)

255 
·ck‘_body_»gi¡”_wšdow
* 
body
 = (·ck‘_body_»gi¡”_wšdow*)
¬g
;

256 
body
->
t™Ë
 = (*)((
by‹_t
*)
¬g
 + (
·ck‘_body_»gi¡”_wšdow
));

257 
	`wr™e_¡ruù_v¬_to_func_¬g
(
body
, 10, 
·»Á_wšdow_desütÜ
, 
t™Ë
, 
t™Ë_Ëngth
, 
x
, 
y
, 
width
, 
height
, 
mšimize_’abË
, 
maximize_’abË
, 
mod®
);

258 
	}
}

260 
	$»que¡_£t_ÿnûl_wšdow
(
·ck‘_body_ÿnûl_wšdow
* 
body
, 
si_t
 
wšdow_id
)

262 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 1, 
wšdow_id
);

263 
	}
}

265 
	$»que¡_g‘_ÿnûl_wšdow
(
addr_t
 
body
, 
si_t
* 
wšdow_id
)

267 
	`wr™e_¡ruù_v¬_to_func_¬g
(
body
, 1, 
wšdow_id
);

268 
	}
}

270 
	$»que¡_£t_move_wšdow
(
·ck‘_body_move_wšdow
* 
body
, 
si_t
 
wšdow_id
, si_ˆ
x_axis
, si_ˆ
y_axis
)

272 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 3, 
wšdow_id
, 
x_axis
, 
y_axis
);

273 
	}
}

275 
	$»que¡_g‘_move_wšdow
(
addr_t
 
body
, 
si_t
* 
wšdow_id
, si_t* 
x_axis
, si_t* 
y_axis
)

277 
	`wr™e_¡ruù_v¬_to_func_¬g
(
body
, 3, 
wšdow_id
, 
x_axis
, 
y_axis
);

278 
	}
}

280 
	$»que¡_£t_»size_wšdow
(
·ck‘_body_»size_wšdow
* 
body
, 
si_t
 
wšdow_id
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
)

282 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 5, 
wšdow_id
, 
x_axis
, 
y_axis
, 
x_size
, 
y_size
);

283 
	}
}

285 
	$»que¡_g‘_»size_wšdow
(
addr_t
 
body
, 
si_t
* 
wšdow_id
, si_t* 
x_axis
, si_t* 
y_axis
, si_t* 
x_size
, si_t* 
y_size
)

287 
	`wr™e_¡ruù_v¬_to_func_¬g
(
body
, 5, 
wšdow_id
, 
x_axis
, 
y_axis
, 
x_size
, 
y_size
);

288 
	}
}

290 
	$»que¡_£t_maximize_wšdow
(
·ck‘_body_maximize_wšdow
* 
body
, 
si_t
 
wšdow_id
)

292 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 1, 
wšdow_id
);

293 
	}
}

295 
	$»que¡_g‘_maximize_wšdow
(
addr_t
 
body
, 
si_t
* 
wšdow_id
)

297 
	`wr™e_¡ruù_v¬_to_func_¬g
(
body
, 1, 
wšdow_id
);

298 
	}
}

300 
	$»que¡_£t_mšimize_wšdow
(
·ck‘_body_mšimize_wšdow
* 
body
, 
si_t
 
wšdow_id
)

302 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 1, 
wšdow_id
);

303 
	}
}

305 
	$»que¡_g‘_mšimize_wšdow
(
addr_t
 
body
, 
si_t
* 
wšdow_id
)

307 
	`wr™e_¡ruù_v¬_to_func_¬g
(
body
, 1, 
wšdow_id
);

308 
	}
}

310 
	$»que¡_£t_»¡Üe_wšdow
(
·ck‘_body_»¡Üe_wšdow
* 
body
, 
si_t
 
wšdow_id
, si_ˆ
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
)

312 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 5, 
wšdow_id
, 
x
, 
y
, 
width
, 
height
);

313 
	}
}

315 
	$»que¡_g‘_»¡Üe_wšdow
(
addr_t
 
body
, 
si_t
* 
wšdow_id
, si_t* 
x
, si_t* 
y
, si_t* 
width
, si_t* 
height
)

317 
	`wr™e_¡ruù_v¬_to_func_¬g
(
body
, 5, 
wšdow_id
, 
x
, 
y
, 
width
, 
height
);

318 
	}
}

320 
	$»que¡_£t_aùiv©e_wšdow
(
·ck‘_body_aùiv©e_wšdow
* 
body
, 
si_t
 
wšdow_id
)

322 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 1, 
wšdow_id
);

323 
	}
}

325 
	$»que¡_g‘_aùiv©e_wšdow
(
addr_t
 
body
, 
si_t
* 
wšdow_id
)

327 
	`wr™e_¡ruù_v¬_to_func_¬g
(
body
, 1, 
wšdow_id
);

328 
	}
}

330 
	$»que¡_£t_ş—r
(
·ck‘_body_ş—r
* 
body
, 
si_t
 
gd
)

332 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 1, 
gd
);

333 
	}
}

335 
si_t
 
»que¡_ÿÎ_by_ş—r
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
))

337 
·ck‘_body_ş—r
* 
body
 = (·ck‘_body_ş—r*)
¬g
;

338  
	`ÿÎabË
(
body
->
gd
);

339 
	}
}

341 
	$»que¡_£t_ş—r_bÏck
(
·ck‘_body_ş—r_bÏck
* 
body
, 
si_t
 
gd
)

343 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 1, 
gd
);

344 
	}
}

346 
si_t
 
»que¡_ÿÎ_by_ş—r_bÏck
(
addr_t
 
¬g
, 
	$si_t
 (* 
ÿÎabË
)(
si_t
))

348 
·ck‘_body_ş—r_bÏck
* 
body
 = (·ck‘_body_ş—r_bÏck*)
¬g
;

349  
	`ÿÎabË
(
body
->
gd
);

350 
	}
}

352 
	$»que¡_£t_ş—r_wh™e
(
·ck‘_body_ş—r_wh™e
* 
body
, 
si_t
 
gd
)

354 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 1, 
gd
);

355 
	}
}

357 
si_t
 
»que¡_ÿÎ_by_ş—r_wh™e
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
))

359 
·ck‘_body_ş—r_wh™e
* 
body
 = (·ck‘_body_ş—r_wh™e*)
¬g
;

360  
	`ÿÎabË
(
body
->
gd
);

361 
	}
}

363 
	$»que¡_£t_ıy_¬—
(
·ck‘_body_ıy_¬—
* 
body
, 
si_t
 
gd
, si_ˆ
mode
, si_ˆ
d¡_x
, si_ˆ
d¡_y
, si_ˆ
¤c_x
, si_ˆ
¤c_y
, si_ˆ
x_size
, si_ˆ
y_size
)

365 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 8, 
gd
, 
mode
, 
d¡_x
, 
d¡_y
, 
¤c_x
, 
¤c_y
, 
x_size
, 
y_size
);

366 
	}
}

368 
si_t
 
»que¡_ÿÎ_by_ıy_¬—
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t, si_t, si_t, si_t))

370 
·ck‘_body_ıy_¬—
* 
body
 = (·ck‘_body_ıy_¬—*)
¬g
;

371  
	`ÿÎabË
(
body
->
gd
, body->
mode
, body->
d¡_x
, body->
d¡_y
, body->
¤c_x
, body->
¤c_y
, body->
x_size
, body->
y_size
);

372 
	}
}

374 
	$»que¡_£t_d¿w_¬row
(
·ck‘_body_d¿w_¬row
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
size
, si_ˆ
dœeùiÚ
)

376 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 5, 
gd
, 
x
, 
y
, 
size
, 
dœeùiÚ
);

377 
	}
}

379 
si_t
 
»que¡_ÿÎ_by_d¿w_¬row
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t))

381 
·ck‘_body_d¿w_¬row
* 
body
 = (·ck‘_body_d¿w_¬row*)
¬g
;

382  
	`ÿÎabË
(
body
->
gd
, body->
x
, body->
y
, body->
size
, body->
dœeùiÚ
);

383 
	}
}

385 
	$»que¡_£t_d¿w_b™m­
(
·ck‘_body_d¿w_b™m­
* 
body
, 
si_t
 
gd
, cÚ¡ * 
Çme
, si_ˆ
Ëngth
, si_ˆ
®ign
)

387 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 4, 
gd
, 
Çme
, 
Ëngth
, 
®ign
);

388 
	}
}

390 
si_t
 
»que¡_ÿÎ_by_d¿w_b™m­
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, *, si_t))

392 
·ck‘_body_d¿w_b™m­
* 
body
 = (·ck‘_body_d¿w_b™m­*)
¬g
;

393 
body
->
Çme
 = (*)((
by‹_t
*)
¬g
 + (
·ck‘_body_d¿w_b™m­
));

394  
	`ÿÎabË
(
body
->
gd
, body->
Çme
, body->
®ign
);

395 
	}
}

397 
	$»que¡_£t_d¿w_cœşe
(
·ck‘_body_d¿w_cœşe
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
¿dius
)

399 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 4, 
gd
, 
x
, 
y
, 
¿dius
);

400 
	}
}

402 
si_t
 
»que¡_ÿÎ_by_d¿w_cœşe
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t))

404 
·ck‘_body_d¿w_cœşe
* 
body
 = (·ck‘_body_d¿w_cœşe*)
¬g
;

405  
	`ÿÎabË
(
body
->
gd
, body->
x
, body->
y
, body->
¿dius
);

406 
	}
}

408 
	$»que¡_£t_d¿w_–l£
(
·ck‘_body_d¿w_–l£
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
)

410 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 5, 
gd
, 
x
, 
y
, 
a
, 
b
);

411 
	}
}

413 
si_t
 
»que¡_ÿÎ_by_d¿w_–l£
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t))

415 
·ck‘_body_d¿w_–l£
* 
body
 = (·ck‘_body_d¿w_–l£*)
¬g
;

416  
	`ÿÎabË
(
body
->
gd
, body->
x
, body->
y
, body->
a
, body->
b
);

417 
	}
}

419 
	$»que¡_£t_d¿w_img
(
·ck‘_body_d¿w_img
* 
body
, 
si_t
 
gd
, cÚ¡ * 
Çme
, si_ˆ
Ëngth
, si_ˆ
®ign
)

421 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 4, 
gd
, 
Çme
, 
Ëngth
, 
®ign
);

422 
	}
}

424 
si_t
 
»que¡_ÿÎ_by_d¿w_img
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, *, si_t))

426 
·ck‘_body_d¿w_img
* 
body
 = (·ck‘_body_d¿w_img*)
¬g
;

427 
body
->
Çme
 = (*)((
by‹_t
*)
¬g
 + (
·ck‘_body_d¿w_img
));

428  
	`ÿÎabË
(
body
->
gd
, body->
Çme
, body->
®ign
);

429 
	}
}

431 
	$»que¡_£t_d¿w_lše
(
·ck‘_body_d¿w_lše
* 
body
, 
si_t
 
gd
, si_ˆ
x1
, si_ˆ
y1
, si_ˆ
x2
, si_ˆ
y2
)

433 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 5, 
gd
, 
x1
, 
y1
, 
x2
, 
y2
);

434 
	}
}

436 
si_t
 
»que¡_ÿÎ_by_d¿w_lše
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t))

438 
·ck‘_body_d¿w_lše
* 
body
 = (·ck‘_body_d¿w_lše*)
¬g
;

439  
	`ÿÎabË
(
body
->
gd
, body->
x1
, body->
y1
, body->
x2
, body->
y2
);

440 
	}
}

442 
	$»que¡_£t_d¿w_pošt
(
·ck‘_body_d¿w_pošt
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
)

444 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 3, 
gd
, 
x
, 
y
);

445 
	}
}

447 
si_t
 
»que¡_ÿÎ_by_d¿w_pošt
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t))

449 
·ck‘_body_d¿w_pošt
* 
body
 = (·ck‘_body_d¿w_pošt*)
¬g
;

450  
	`ÿÎabË
(
body
->
gd
, body->
x
, body->
y
);

451 
	}
}

453 
	$»que¡_£t_d¿w_pŞygÚ
(
·ck‘_body_d¿w_pŞygÚ
* 
body
, 
si_t
 
gd
, cÚ¡ 
pošt
*…ošt, 
ui_t
 
pošt_couÁ
)

455 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 3, 
gd
, 
pošt
, 
pošt_couÁ
);

456 
	}
}

458 
si_t
 
»que¡_ÿÎ_by_d¿w_pŞygÚ
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, 
pošt
*, 
ui_t
))

460 
·ck‘_body_d¿w_pŞygÚ
* 
body
 = (·ck‘_body_d¿w_pŞygÚ*)
¬g
;

461 
body
->
pošts
 = (
pošt
*)((
by‹_t
*)
¬g
 + (
·ck‘_body_d¿w_pŞygÚ
));

462  
	`ÿÎabË
(
body
->
gd
, body->
pošts
, body->
pošt_couÁ
);

463 
	}
}

465 
	$»que¡_£t_d¿w_»ùªgË
(
·ck‘_body_d¿w_»ùªgË
* 
body
, 
si_t
 
gd
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
)

467 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 5, 
gd
, 
x_axis
, 
y_axis
, 
x_size
, 
y_size
);

468 
	}
}

470 
si_t
 
»que¡_ÿÎ_by_d¿w_»ùªgË
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t))

472 
·ck‘_body_d¿w_»ùªgË
* 
body
 = (·ck‘_body_d¿w_»ùªgË*)
¬g
;

473  
	`ÿÎabË
(
body
->
gd
, body->
x_axis
, body->
y_axis
, body->
x_size
, body->
y_size
);

474 
	}
}

476 
	$»que¡_£t_d¿w_x
(
·ck‘_body_d¿w_x
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
)

478 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 5, 
gd
, 
x
, 
y
, 
a
, 
b
);

479 
	}
}

481 
si_t
 
»que¡_ÿÎ_by_d¿w_x
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t))

483 
·ck‘_body_d¿w_x
* 
body
 = (·ck‘_body_d¿w_x*)
¬g
;

484  
	`ÿÎabË
(
body
->
gd
, body->
x
, body->
y
, body->
a
, body->
b
);

485 
	}
}

487 
	$»que¡_£t_fl_¬row
(
·ck‘_body_fl_¬row
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
size
, si_ˆ
dœeùiÚ
)

489 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 5, 
gd
, 
x
, 
y
, 
size
, 
dœeùiÚ
);

490 
	}
}

492 
si_t
 
»que¡_ÿÎ_by_fl_¬row
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t))

494 
·ck‘_body_fl_¬row
* 
body
 = (·ck‘_body_fl_¬row*)
¬g
;

495  
	`ÿÎabË
(
body
->
gd
, body->
x
, body->
y
, body->
size
, body->
dœeùiÚ
);

496 
	}
}

498 
	$»que¡_£t_fl_cœşe
(
·ck‘_body_fl_cœşe
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
¿dius
)

500 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 4, 
gd
, 
x
, 
y
, 
¿dius
);

501 
	}
}

503 
si_t
 
»que¡_ÿÎ_by_fl_cœşe
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t))

505 
·ck‘_body_fl_cœşe
* 
body
 = (·ck‘_body_fl_cœşe*)
¬g
;

506  
	`ÿÎabË
(
body
->
gd
, body->
x
, body->
y
, body->
¿dius
);

507 
	}
}

509 
	$»que¡_£t_fl_–l£
(
·ck‘_body_fl_–l£
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
)

511 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 5, 
gd
, 
x
, 
y
, 
a
, 
b
);

512 
	}
}

514 
si_t
 
»que¡_ÿÎ_by_fl_–l£
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t))

516 
·ck‘_body_fl_–l£
* 
body
 = (·ck‘_body_fl_–l£*)
¬g
;

517  
	`ÿÎabË
(
body
->
gd
, body->
x
, body->
y
, body->
a
, body->
b
);

518 
	}
}

520 
	$»que¡_£t_fl_pŞygÚ
(
·ck‘_body_fl_pŞygÚ
* 
body
, 
si_t
 
gd
, cÚ¡ 
pošt
*…ošt, 
ui_t
 
pošt_couÁ
)

522 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 3, 
gd
, 
pošt
, 
pošt_couÁ
);

523 
	}
}

525 
si_t
 
»que¡_ÿÎ_by_fl_pŞygÚ
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, 
pošt
*, 
ui_t
))

527 
·ck‘_body_fl_pŞygÚ
* 
body
 = (·ck‘_body_fl_pŞygÚ*)
¬g
;

528 
body
->
pošts
 = (
pošt
*)((
by‹_t
*)
¬g
 + (
·ck‘_body_fl_pŞygÚ
));

529  
	`ÿÎabË
(
body
->
gd
, body->
pošts
, body->
pošt_couÁ
);

530 
	}
}

532 
	$»que¡_£t_fl_»ùªgË
(
·ck‘_body_fl_»ùªgË
* 
body
, 
si_t
 
gd
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
)

534 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 5, 
gd
, 
x_axis
, 
y_axis
, 
x_size
, 
y_size
);

535 
	}
}

537 
si_t
 
»que¡_ÿÎ_by_fl_»ùªgË
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t))

539 
·ck‘_body_fl_»ùªgË
* 
body
 = (·ck‘_body_fl_»ùªgË*)
¬g
;

540  
	`ÿÎabË
(
body
->
gd
, body->
x_axis
, body->
y_axis
, body->
x_size
, body->
y_size
);

541 
	}
}

543 
	$»que¡_£t_fl_x
(
·ck‘_body_fl_x
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
)

545 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 5, 
gd
, 
x
, 
y
, 
a
, 
b
);

546 
	}
}

548 
si_t
 
»que¡_ÿÎ_by_fl_x
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t))

550 
·ck‘_body_fl_x
* 
body
 = (·ck‘_body_fl_x*)
¬g
;

551  
	`ÿÎabË
(
body
->
gd
, body->
x
, body->
y
, body->
a
, body->
b
);

552 
	}
}

554 
	$»que¡_£t_g‘_¬—
(
·ck‘_body_g‘_¬—
* 
body
, 
si_t
 
gd
)

556 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 1, 
gd
);

557 
	}
}

559 
»ùªgË
* 
»que¡_ÿÎ_by_g‘_¬—
(
addr_t
 
¬g
, »ùªgË* (*
ÿÎabË
)(
si_t
))

561 
·ck‘_body_g‘_¬—
* 
body
 = (·ck‘_body_g‘_¬—*)
¬g
;

562  
ÿÎabË
(
body
->
gd
);

565 
	$»que¡_£t_g‘_cŞÜ
(
·ck‘_body_g‘_cŞÜ
* 
body
, 
si_t
 
gd
)

567 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 1, 
gd
);

568 
	}
}

570 
cŞÜ
* 
»que¡_ÿÎ_by_g‘_cŞÜ
(
addr_t
 
¬g
, cŞÜ*(*
ÿÎabË
)(
si_t
))

572 
·ck‘_body_g‘_cŞÜ
* 
body
 = (·ck‘_body_g‘_cŞÜ*)
¬g
;

573  
ÿÎabË
(
body
->
gd
);

576 
	$»que¡_£t_g‘_fÚt_width
(
·ck‘_body_g‘_fÚt_width
* 
body
, 
si_t
 
gd
)

578 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 1, 
gd
);

579 
	}
}

581 
si_t
 
»que¡_ÿÎ_by_g‘_fÚt_width
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
))

583 
·ck‘_body_g‘_fÚt_width
* 
body
 = (·ck‘_body_g‘_fÚt_width*)
¬g
;

584  
	`ÿÎabË
(
body
->
gd
);

585 
	}
}

587 
	$»que¡_£t_g‘_fÚt_height
(
·ck‘_body_g‘_fÚt_height
* 
body
, 
si_t
 
gd
)

589 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 1, 
gd
);

590 
	}
}

592 
si_t
 
»que¡_ÿÎ_by_g‘_fÚt_height
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
))

594 
·ck‘_body_g‘_fÚt_height
* 
body
 = (·ck‘_body_g‘_fÚt_height*)
¬g
;

595  
	`ÿÎabË
(
body
->
gd
);

596 
	}
}

598 
	$»que¡_£t_£t_¬—
(
·ck‘_body_£t_¬—
* 
body
, 
si_t
 
gd
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
)

600 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 5, 
gd
, 
x_axis
, 
y_axis
, 
x_size
, 
y_size
);

601 
	}
}

603 
si_t
 
»que¡_ÿÎ_by_£t_¬—
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t))

605 
·ck‘_body_£t_¬—
* 
body
 = (·ck‘_body_£t_¬—*)
¬g
;

606  
	`ÿÎabË
(
body
->
gd
, body->
x_axis
, body->
y_axis
, body->
x_size
, body->
y_size
);

607 
	}
}

609 
	$»que¡_£t_£t_cŞÜ
(
·ck‘_body_£t_cŞÜ
* 
body
, 
si_t
 
gd
, si_ˆ
r
, si_ˆ
g
, si_ˆ
b
, si_ˆ
a
)

611 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 5, 
gd
, 
r
, 
g
, 
b
, 
a
);

612 
	}
}

614 
si_t
 
»que¡_ÿÎ_by_£t_cŞÜ
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t))

616 
·ck‘_body_£t_cŞÜ
* 
body
 = (·ck‘_body_£t_cŞÜ*)
¬g
;

617  
	`ÿÎabË
(
body
->
gd
, body->
r
, body->
g
, body->
b
, body->
a
);

618 
	}
}

620 
	$»que¡_£t_£t_fÚt
(
·ck‘_body_£t_fÚt
* 
body
, 
si_t
 
gd
, si_ˆ
fÚt
)

622 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 2, 
gd
, 
fÚt
);

623 
	}
}

625 
si_t
 
»que¡_ÿÎ_by_£t_fÚt
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t))

627 
·ck‘_body_£t_fÚt
* 
body
 = (·ck‘_body_£t_fÚt*)
¬g
;

628  
	`ÿÎabË
(
body
->
gd
, body->
fÚt
);

629 
	}
}

631 
	$»que¡_£t_show_‹xt
(
·ck‘_body_show_‹xt
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, cÚ¡ *
¡r
, si_ˆ
Ëngth
)

633 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 5, 
gd
, 
x
, 
y
, 
¡r
, 
Ëngth
);

634 
	}
}

636 
si_t
 
»que¡_ÿÎ_by_show_‹xt
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, *, si_t))

638 
·ck‘_body_show_‹xt
* 
body
 = (·ck‘_body_show_‹xt*)
¬g
;

639 
body
->
¡r
 = (*)((
by‹_t
*)
¬g
 + (
·ck‘_body_show_‹xt
));

640  
	`ÿÎabË
(
body
->
gd
, body->
x
, body->
y
, body->
¡r
, body->
Ëngth
);

641 
	}
}

643 
	$»que¡_£t_wšdow_t™Ë
(
·ck‘_body_g‘_wšdow_t™Ë
* 
body
, 
si_t
 
wšdow_desütÜ
)

645 
	`wr™e_func_¬g_to_¡ruù_v¬
((
addr_t
)
body
, 1, 
wšdow_desütÜ
);

646 
	}
}

648 
	$»que¡_g‘_wšdow_t™Ë
(
addr_t
 
body
, 
si_t
* 
wšdow_desütÜ
)

650 
	`wr™e_¡ruù_v¬_to_func_¬g
(
body
, 1, 
wšdow_desütÜ
);

651 
	}
}

	@comm/request.h

30 #iâdeà
_REQUEST_H_


31 
	#_REQUEST_H_
 1

	)

33 
	~"ba£_ty³.h
"

34 
	~"geom‘ry.h
"

35 
	~"cŞÜ.h
"

36 
	~<lim™s.h
>

38 
	e__»que¡_ty³__


41 
	mREQUEST_TYPE_REGISTER_APPLICATION
 = 0,

43 
	mREQUEST_TYPE_CANCEL_APPLICATION
,

46 
	mREQUEST_TYPE_GRAPHICS_DEVICE_INIT
,

48 
	mREQUEST_TYPE_GRAPHICS_DEVICE_EXIT
,

51 
	mREQUEST_TYPE_WINDOW_MANAGER_QUIT
,

54 
	mREQUEST_TYPE_UPDATE
,

55 
	mREQUEST_TYPE_DESKTOP_DIRTY
,

58 
	mREQUEST_TYPE_REGISTER_WINDOW
,

60 
	mREQUEST_TYPE_CANCEL_WINDOW
,

62 
	mREQUEST_TYPE_MOVE_WINDOW
,

64 
	mREQUEST_TYPE_RESIZE_WINDOW
,

66 
	mREQUEST_TYPE_MINIMIZE_WINDOW
,

68 
	mREQUEST_TYPE_MAXIMIZE_WINDOW
,

70 
	mREQUEST_TYPE_RESTORE_WINDOW
,

72 
	mREQUEST_TYPE_ACTIVATE_WINDOW
,

76 
	mREQUEST_TYPE_CLEAR
,

78 
	mREQUEST_TYPE_CLEAR_WHITE
,

80 
	mREQUEST_TYPE_CLEAR_BLACK
,

84 
	mREQUEST_TYPE_DRAW_LINE
,

86 
	mREQUEST_TYPE_DRAW_POINT
,

88 
	mREQUEST_TYPE_DRAW_RECTANGLE
,

90 
	mREQUEST_TYPE_DRAW_POLYGON
,

92 
	mREQUEST_TYPE_DRAW_CIRCLE
,

94 
	mREQUEST_TYPE_DRAW_ELLIPSE
,

96 
	mREQUEST_TYPE_DRAW_ARROW
,

98 
	mREQUEST_TYPE_DRAW_X
,

100 
	mREQUEST_TYPE_DRAW_BITMAP
,

102 
	mREQUEST_TYPE_DRAW_IMG
,

105 
	mREQUEST_TYPE_FILL_RECTANGLE
,

107 
	mREQUEST_TYPE_FILL_CIRCLE
,

109 
	mREQUEST_TYPE_FILL_ELLIPSE
,

111 
	mREQUEST_TYPE_FILL_ARROW
,

113 
	mREQUEST_TYPE_FILL_X
,

115 
	mREQUEST_TYPE_FILL_POLYGON
,

118 
	mREQUEST_TYPE_SHOW_TEXT
,

121 
	mREQUEST_TYPE_CPY_AREA
,

124 
	mREQUEST_TYPE_SET_COLOR
,

126 
	mREQUEST_TYPE_SET_AREA
,

128 
	mREQUEST_TYPE_SET_FONT
,

131 
	mREQUEST_TYPE_GET_COLOR_LIMIT
,

133 
	mREQUEST_TYPE_GET_SCREEN_WIDTH
,

135 
	mREQUEST_TYPE_GET_SCREEN_HEIGHT
,

137 
	mREQUEST_TYPE_GET_AREA
,

139 
	mREQUEST_TYPE_GET_COLOR
,

141 
	mREQUEST_TYPE_GET_FONT_WIDTH
,

143 
	mREQUEST_TYPE_GET_FONT_HEIGHT
,

146 
	mREQUEST_TYPE_GET_WINDOW_TITLE
,

149 
	mREQUEST_TYPE_QUANTITY
,

153 
	mREQUEST_TYPE_MAX
 = 
INT_MAX


159 * 
»que¡_ty³_to_¡r
(
si_t
 
»que¡_ty³
);

180 
	s·ck‘_body_»gi¡”_­¶iÿtiÚ


182 
si_t
 
	mvideo_acûss_mode
;

183 
si_t
 
	m­¶iÿtiÚ_ty³
;

184 * 
	mÇme
;

185 
si_t
 
	mËngth
;

188 
	eAPPLICATION_TYPE


190 
	mAPPLICATION_TYPE_NORMAL
 = 1 << 1,

191 
	mAPPLICATION_TYPE_DESKTOP
 = 1 << 2,

192 
	mAPPLICATION_TYPE_WINDOW_MANAGER_EXIT
 = 1 << 3

194 
»que¡_£t_»gi¡”_­¶iÿtiÚ
(
·ck‘_body_»gi¡”_­¶iÿtiÚ
* 
body
, 
si_t
 
video_acûss_mode
, si_ˆ
­¶iÿtiÚ_ty³
, cÚ¡ * 
Çme
, si_ˆ
Ëngth
);

195 
»que¡_g‘_»gi¡”_­¶iÿtiÚ
(
addr_t
 
¬g
, 
si_t
* 
video_acûss_mode
, si_t* 
­¶iÿtiÚ_ty³
, ** 
Çme
, si_t* 
Ëngth
);

200 
	s·ck‘_body_g¿phics_deviû_š™


202 
si_t
 
	mx_axis
;

203 
si_t
 
	my_axis
;

204 
si_t
 
	mx_size
;

205 
si_t
 
	my_size
;

206 
si_t
 
	mr
;

207 
si_t
 
	mg
;

208 
si_t
 
	mb
;

209 
si_t
 
	ma
;

210 
si_t
 
	mfÚt
;

212 
»que¡_£t_g¿phics_deviû_š™
(
·ck‘_body_g¿phics_deviû_š™
* 
body
, 
si_t
 
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
, si_ˆ
r
, si_ˆ
g
, si_ˆ
b
, si_ˆ
a
, si_ˆ
fÚt
);

213 
si_t
 
»que¡_ÿÎ_by_g¿phics_deviû_š™
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t, si_t, si_t, si_t, si_t));

218 
	s·ck‘_body_g¿phics_deviû_ex™


220 
si_t
 
gd
;

222 
	`»que¡_£t_g¿phics_deviû_ex™
(
·ck‘_body_g¿phics_deviû_ex™
* 
body
, 
si_t
 
gd
);

223 
	`»que¡_g‘_g¿phics_deviû_ex™
(
addr_t
 
body
, 
si_t
* 
gd
);

224 
si_t
 
	`»que¡_ÿÎ_by_g¿phics_deviû_ex™
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
));

229 
	s·ck‘_body_upd©e


231 
si_t
 
gd
;

233 
	`»que¡_£t_upd©e
(
·ck‘_body_upd©e
* 
body
, 
si_t
 
gd
);

234 
	`»que¡_g‘_upd©e
(
addr_t
 
body
, 
si_t
* 
gd
);

239 
	s·ck‘_body_»gi¡”_wšdow


241 
si_t
 
·»Á_wšdow_desütÜ
;

242 * 
t™Ë
;

243 
si_t
 
t™Ë_Ëngth
;

244 
si_t
 
x
;

245 
si_t
 
y
;

246 
si_t
 
width
;

247 
si_t
 
height
;

248 
si_t
 
mšimize_’abË
;

249 
si_t
 
maximize_’abË
;

250 
si_t
 
mod®
;

252 
	`»que¡_£t_»gi¡”_wšdow
(
·ck‘_body_»gi¡”_wšdow
* 
body
, 
si_t
 
·»Á_wšdow_desütÜ
, cÚ¡ * 
t™Ë
, si_ˆ
t™Ë_Ëngth
, si_ˆ
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
, si_ˆ
mšimize_’abË
, si_ˆ
maximize_’abË
, si_ˆ
mod®
);

253 
	`»que¡_g‘_»gi¡”_wšdow
(
addr_t
 
body
, 
si_t
* 
·»Á_wšdow_desütÜ
, ** 
t™Ë
, si_t* 
t™Ë_Ëngth
, si_t* 
x
, si_t* 
y
, si_t* 
width
, si_t* 
height
, si_t* 
mšimize_’abË
, si_t* 
maximize_’abË
, si_t* 
mod®
);

258 
	s·ck‘_body_ÿnûl_wšdow


260 
si_t
 
wšdow_id
;

262 
	`»que¡_£t_ÿnûl_wšdow
(
·ck‘_body_ÿnûl_wšdow
* 
body
, 
si_t
 
wšdow_id
);

263 
	`»que¡_g‘_ÿnûl_wšdow
(
addr_t
 
body
, 
si_t
* 
wšdow_id
);

268 
	s·ck‘_body_move_wšdow


270 
si_t
 
wšdow_id
;

271 
si_t
 
x_axis
;

272 
si_t
 
y_axis
;

274 
	`»que¡_£t_move_wšdow
(
·ck‘_body_move_wšdow
* 
body
, 
si_t
 
wšdow_id
, si_ˆ
x_axis
, si_ˆ
y_axis
);

275 
	`»que¡_g‘_move_wšdow
(
addr_t
 
body
, 
si_t
* 
wšdow_id
, si_t* 
x_axis
, si_t* 
y_axis
);

280 
	s·ck‘_body_»size_wšdow


282 
si_t
 
wšdow_id
;

283 
si_t
 
x_axis
;

284 
si_t
 
y_axis
;

285 
si_t
 
x_size
;

286 
si_t
 
y_size
;

288 
	`»que¡_£t_»size_wšdow
(
·ck‘_body_»size_wšdow
* 
body
, 
si_t
 
wšdow_id
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
);

289 
	`»que¡_g‘_»size_wšdow
(
addr_t
 
body
, 
si_t
* 
wšdow_id
, si_t* 
x_axis
, si_t* 
y_axis
, si_t* 
x_size
, si_t* 
y_size
);

294 
	s·ck‘_body_maximize_wšdow


296 
si_t
 
wšdow_id
;

298 
	`»que¡_£t_maximize_wšdow
(
·ck‘_body_maximize_wšdow
* 
body
, 
si_t
 
wšdow_id
);

299 
	`»que¡_g‘_maximize_wšdow
(
addr_t
 
body
, 
si_t
* 
wšdow_id
);

304 
	s·ck‘_body_mšimize_wšdow


306 
si_t
 
wšdow_id
;

308 
	`»que¡_£t_mšimize_wšdow
(
·ck‘_body_mšimize_wšdow
* 
body
, 
si_t
 
wšdow_id
);

309 
	`»que¡_g‘_mšimize_wšdow
(
addr_t
 
body
, 
si_t
* 
wšdow_id
);

314 
	s·ck‘_body_»¡Üe_wšdow


316 
si_t
 
wšdow_id
;

317 
si_t
 
x
;

318 
si_t
 
y
;

319 
si_t
 
width
;

320 
si_t
 
height
;

322 
	`»que¡_£t_»¡Üe_wšdow
(
·ck‘_body_»¡Üe_wšdow
* 
body
, 
si_t
 
wšdow_id
, si_ˆ
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
);

323 
	`»que¡_g‘_»¡Üe_wšdow
(
addr_t
 
body
, 
si_t
* 
wšdow_id
, si_t* 
x
, si_t* 
y
, si_t* 
width
, si_t* 
height
);

328 
	s·ck‘_body_aùiv©e_wšdow


330 
si_t
 
wšdow_id
;

332 
	`»que¡_£t_aùiv©e_wšdow
(
·ck‘_body_aùiv©e_wšdow
* 
body
, 
si_t
 
wšdow_id
);

333 
	`»que¡_g‘_aùiv©e_wšdow
(
addr_t
 
body
, 
si_t
* 
wšdow_id
);

348 
	s·ck‘_body_ş—r


350 
si_t
 
gd
;

352 
	`»que¡_£t_ş—r
(
·ck‘_body_ş—r
* 
body
, 
si_t
 
gd
);

353 
si_t
 
	`»que¡_ÿÎ_by_ş—r
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
));

358 
	s·ck‘_body_ş—r_bÏck


360 
si_t
 
gd
;

362 
	`»que¡_£t_ş—r_bÏck
(
·ck‘_body_ş—r_bÏck
* 
body
, 
si_t
 
gd
);

363 
si_t
 
	`»que¡_ÿÎ_by_ş—r_bÏck
(
addr_t
 
¬g
, 
	$si_t
 (* 
ÿÎabË
)(
si_t
));

368 
	s·ck‘_body_ş—r_wh™e


370 
si_t
 
gd
;

372 
	`»que¡_£t_ş—r_wh™e
(
·ck‘_body_ş—r_wh™e
* 
body
, 
si_t
 
gd
);

373 
si_t
 
	`»que¡_ÿÎ_by_ş—r_wh™e
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
));

378 
	s·ck‘_body_ıy_¬—


380 
si_t
 
gd
;

381 
si_t
 
mode
;

382 
si_t
 
d¡_x
;

383 
si_t
 
d¡_y
;

384 
si_t
 
¤c_x
;

385 
si_t
 
¤c_y
;

386 
si_t
 
x_size
;

387 
si_t
 
y_size
;

389 
	`»que¡_£t_ıy_¬—
(
·ck‘_body_ıy_¬—
* 
body
, 
si_t
 
gd
, si_ˆ
mode
, si_ˆ
d¡_x
, si_ˆ
d¡_y
, si_ˆ
¤c_x
, si_ˆ
¤c_y
, si_ˆ
x_size
, si_ˆ
y_size
);

390 
si_t
 
	`»que¡_ÿÎ_by_ıy_¬—
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t, si_t, si_t, si_t));

395 
	s·ck‘_body_d¿w_¬row


397 
si_t
 
gd
;

398 
si_t
 
x
;

399 
si_t
 
y
;

400 
si_t
 
size
;

401 
si_t
 
dœeùiÚ
;

403 
	`»que¡_£t_d¿w_¬row
(
·ck‘_body_d¿w_¬row
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
size
, si_ˆ
dœeùiÚ
);

404 
si_t
 
	`»que¡_ÿÎ_by_d¿w_¬row
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t));

409 
	s·ck‘_body_d¿w_b™m­


411 
si_t
 
gd
;

412 * 
Çme
;

413 
si_t
 
Ëngth
;

414 
si_t
 
®ign
;

416 
	`»que¡_£t_d¿w_b™m­
(
·ck‘_body_d¿w_b™m­
* 
body
, 
si_t
 
gd
, cÚ¡ * 
Çme
, si_ˆ
Ëngth
, si_ˆ
®ign
);

417 
si_t
 
	`»que¡_ÿÎ_by_d¿w_b™m­
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, *, si_t));

422 
	s·ck‘_body_d¿w_cœşe


424 
si_t
 
gd
;

425 
si_t
 
x
;

426 
si_t
 
y
;

427 
si_t
 
¿dius
;

429 
	`»que¡_£t_d¿w_cœşe
(
·ck‘_body_d¿w_cœşe
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
¿dius
);

430 
si_t
 
	`»que¡_ÿÎ_by_d¿w_cœşe
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t));

435 
	s·ck‘_body_d¿w_–l£


437 
si_t
 
gd
;

438 
si_t
 
x
;

439 
si_t
 
y
;

440 
si_t
 
a
;

441 
si_t
 
b
;

443 
	`»que¡_£t_d¿w_–l£
(
·ck‘_body_d¿w_–l£
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
);

444 
si_t
 
	`»que¡_ÿÎ_by_d¿w_–l£
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t));

449 
	s·ck‘_body_d¿w_img


451 
si_t
 
gd
;

452 * 
Çme
;

453 
si_t
 
Ëngth
;

454 
si_t
 
®ign
;

456 
	`»que¡_£t_d¿w_img
(
·ck‘_body_d¿w_img
* 
body
, 
si_t
 
gd
, cÚ¡ * 
Çme
, si_ˆ
Ëngth
, si_ˆ
®ign
);

457 
si_t
 
	`»que¡_ÿÎ_by_d¿w_img
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, *, si_t));

462 
	s·ck‘_body_d¿w_lše


464 
si_t
 
gd
;

465 
si_t
 
x1
;

466 
si_t
 
y1
;

467 
si_t
 
x2
;

468 
si_t
 
y2
;

470 
	`»que¡_£t_d¿w_lše
(
·ck‘_body_d¿w_lše
* 
body
, 
si_t
 
gd
, si_ˆ
x1
, si_ˆ
y1
, si_ˆ
x2
, si_ˆ
y2
);

471 
si_t
 
	`»que¡_ÿÎ_by_d¿w_lše
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t));

476 
	s·ck‘_body_d¿w_pošt


478 
si_t
 
gd
;

479 
si_t
 
x
;

480 
si_t
 
y
;

482 
	`»que¡_£t_d¿w_pošt
(
·ck‘_body_d¿w_pošt
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
);

483 
si_t
 
	`»que¡_ÿÎ_by_d¿w_pošt
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t));

488 
	s·ck‘_body_d¿w_pŞygÚ


490 
si_t
 
gd
;

491 
pošt
 * 
pošts
;

492 
ui_t
 
pošt_couÁ
;

494 
	`»que¡_£t_d¿w_pŞygÚ
(
·ck‘_body_d¿w_pŞygÚ
* 
body
, 
si_t
 
gd
, cÚ¡ 
pošt
*…ošt, 
ui_t
 
pošt_couÁ
);

495 
si_t
 
	`»que¡_ÿÎ_by_d¿w_pŞygÚ
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, 
pošt
*, 
ui_t
));

500 
	s·ck‘_body_d¿w_»ùªgË


502 
si_t
 
gd
;

503 
si_t
 
x_axis
;

504 
si_t
 
y_axis
;

505 
si_t
 
x_size
;

506 
si_t
 
y_size
;

508 
	`»que¡_£t_d¿w_»ùªgË
(
·ck‘_body_d¿w_»ùªgË
* 
body
, 
si_t
 
gd
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
);

509 
si_t
 
	`»que¡_ÿÎ_by_d¿w_»ùªgË
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t));

514 
	s·ck‘_body_d¿w_x


516 
si_t
 
gd
;

517 
si_t
 
x
;

518 
si_t
 
y
;

519 
si_t
 
a
;

520 
si_t
 
b
;

522 
	`»que¡_£t_d¿w_x
(
·ck‘_body_d¿w_x
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
);

523 
si_t
 
	`»que¡_ÿÎ_by_d¿w_x
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t));

528 
	s·ck‘_body_fl_¬row


530 
si_t
 
gd
;

531 
si_t
 
x
;

532 
si_t
 
y
;

533 
si_t
 
size
;

534 
si_t
 
dœeùiÚ
;

536 
	`»que¡_£t_fl_¬row
(
·ck‘_body_fl_¬row
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
size
, si_ˆ
dœeùiÚ
);

537 
si_t
 
	`»que¡_ÿÎ_by_fl_¬row
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t));

542 
	s·ck‘_body_fl_cœşe


544 
si_t
 
gd
;

545 
si_t
 
x
;

546 
si_t
 
y
;

547 
si_t
 
¿dius
;

549 
	`»que¡_£t_fl_cœşe
(
·ck‘_body_fl_cœşe
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
¿dius
);

550 
si_t
 
	`»que¡_ÿÎ_by_fl_cœşe
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t));

555 
	s·ck‘_body_fl_–l£


557 
si_t
 
gd
;

558 
si_t
 
x
;

559 
si_t
 
y
;

560 
si_t
 
a
;

561 
si_t
 
b
;

563 
	`»que¡_£t_fl_–l£
(
·ck‘_body_fl_–l£
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
);

564 
si_t
 
	`»que¡_ÿÎ_by_fl_–l£
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t));

569 
	s·ck‘_body_fl_pŞygÚ


571 
si_t
 
gd
;

572 
pošt
 * 
pošts
;

573 
ui_t
 
pošt_couÁ
;

575 
	`»que¡_£t_fl_pŞygÚ
(
·ck‘_body_fl_pŞygÚ
* 
body
, 
si_t
 
gd
, cÚ¡ 
pošt
*…ošt, 
ui_t
 
pošt_couÁ
);

576 
si_t
 
	`»que¡_ÿÎ_by_fl_pŞygÚ
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, 
pošt
*, 
ui_t
));

581 
	s·ck‘_body_fl_»ùªgË


583 
si_t
 
gd
;

584 
si_t
 
x_axis
;

585 
si_t
 
y_axis
;

586 
si_t
 
x_size
;

587 
si_t
 
y_size
;

589 
	`»que¡_£t_fl_»ùªgË
(
·ck‘_body_fl_»ùªgË
* 
body
, 
si_t
 
gd
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
);

590 
si_t
 
	`»que¡_ÿÎ_by_fl_»ùªgË
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t));

595 
	s·ck‘_body_fl_x


597 
si_t
 
gd
;

598 
si_t
 
x
;

599 
si_t
 
y
;

600 
si_t
 
a
;

601 
si_t
 
b
;

603 
	`»que¡_£t_fl_x
(
·ck‘_body_fl_x
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
);

604 
si_t
 
	`»que¡_ÿÎ_by_fl_x
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t));

609 
	s·ck‘_body_g‘_¬—


611 
si_t
 
gd
;

613 
	`»que¡_£t_g‘_¬—
(
·ck‘_body_g‘_¬—
* 
body
, 
si_t
 
gd
);

614 
»ùªgË
* 
	`»que¡_ÿÎ_by_g‘_¬—
(
addr_t
 
¬g
, »ùªgË* (*
ÿÎabË
)(
si_t
));

619 
	s·ck‘_body_g‘_cŞÜ


621 
si_t
 
gd
;

623 
	`»que¡_£t_g‘_cŞÜ
(
·ck‘_body_g‘_cŞÜ
* 
body
, 
si_t
 
gd
);

624 
cŞÜ
* 
	`»que¡_ÿÎ_by_g‘_cŞÜ
(
addr_t
 
¬g
, cŞÜ*(*
ÿÎabË
)(
si_t
));

629 
	s·ck‘_body_g‘_fÚt_width


631 
si_t
 
gd
;

633 
	`»que¡_£t_g‘_fÚt_width
(
·ck‘_body_g‘_fÚt_width
* 
body
, 
si_t
 
gd
);

634 
si_t
 
	`»que¡_ÿÎ_by_g‘_fÚt_width
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
));

639 
	s·ck‘_body_g‘_fÚt_height


641 
si_t
 
gd
;

643 
	`»que¡_£t_g‘_fÚt_height
(
·ck‘_body_g‘_fÚt_height
* 
body
, 
si_t
 
gd
);

644 
si_t
 
	`»que¡_ÿÎ_by_g‘_fÚt_height
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
));

649 
	s·ck‘_body_£t_¬—


651 
si_t
 
gd
;

652 
si_t
 
x_axis
;

653 
si_t
 
y_axis
;

654 
si_t
 
x_size
;

655 
si_t
 
y_size
;

657 
	`»que¡_£t_£t_¬—
(
·ck‘_body_£t_¬—
* 
body
, 
si_t
 
gd
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
);

658 
si_t
 
	`»que¡_ÿÎ_by_£t_¬—
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t));

663 
	s·ck‘_body_£t_cŞÜ


665 
si_t
 
gd
;

666 
si_t
 
r
;

667 
si_t
 
g
;

668 
si_t
 
b
;

669 
si_t
 
a
;

671 
	`»que¡_£t_£t_cŞÜ
(
·ck‘_body_£t_cŞÜ
* 
body
, 
si_t
 
gd
, si_ˆ
r
, si_ˆ
g
, si_ˆ
b
, si_ˆ
a
);

672 
si_t
 
	`»que¡_ÿÎ_by_£t_cŞÜ
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, si_t, si_t));

677 
	s·ck‘_body_£t_fÚt


679 
si_t
 
gd
;

680 
si_t
 
fÚt
;

682 
	`»que¡_£t_£t_fÚt
(
·ck‘_body_£t_fÚt
* 
body
, 
si_t
 
gd
, si_ˆ
fÚt
);

683 
si_t
 
	`»que¡_ÿÎ_by_£t_fÚt
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t));

688 
	s·ck‘_body_show_‹xt


690 
si_t
 
gd
;

691 
si_t
 
x
;

692 
si_t
 
y
;

693 * 
¡r
;

694 
si_t
 
Ëngth
;

696 
	`»que¡_£t_show_‹xt
(
·ck‘_body_show_‹xt
* 
body
, 
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, cÚ¡ *
¡r
, si_ˆ
Ëngth
);

697 
si_t
 
	`»que¡_ÿÎ_by_show_‹xt
(
addr_t
 
¬g
, 
	$si_t
 (*
ÿÎabË
)(
si_t
, si_t, si_t, *, si_t));

699 
	s·ck‘_body_g‘_wšdow_t™Ë


701 
si_t
 
wšdow_desütÜ
;

703 
	`»que¡_£t_wšdow_t™Ë
(
·ck‘_body_g‘_wšdow_t™Ë
* 
body
, 
si_t
 
wšdow_desütÜ
);

704 
	`»que¡_g‘_wšdow_t™Ë
(
addr_t
 
body
, 
si_t
* 
wšdow_desütÜ
);

	@comm/respond.c

30 
	~"»¥Úd.h
"

31 
	~<¡ršg.h
>

33 * 
	$»¥Úd_ty³_to_¡r
(
si_t
 
»¥Úd_ty³
)

35 
»¥Úd_ty³
)

37 
RESPOND_TYPE_REGISTER_APPLICATION
:

39 
RESPOND_TYPE_CANCEL_APPLICATION
:

41 
RESPOND_TYPE_GRAPHICS_DEVICE_INIT
:

43 
RESPOND_TYPE_GRAPHICS_DEVICE_EXIT
:

45 
RESPOND_TYPE_WINDOW_MANAGER_QUIT
:

47 
RESPOND_TYPE_UPDATE
:

49 
RESPOND_TYPE_DESKTOP_DIRTY
:

51 
RESPOND_TYPE_REGISTER_WINDOW
:

53 
RESPOND_TYPE_MOVE_WINDOW
:

55 
RESPOND_TYPE_RESIZE_WINDOW
:

57 
RESPOND_TYPE_MINIMIZE_WINDOW
:

59 
RESPOND_TYPE_MAXIMIZE_WINDOW
:

61 
RESPOND_TYPE_RESTORE_WINDOW
:

63 
RESPOND_TYPE_CANCEL_WINDOW
:

65 
RESPOND_TYPE_ACTIVATE_WINDOW
:

67 
RESPOND_TYPE_CLEAR
:

69 
RESPOND_TYPE_CLEAR_WHITE
:

71 
RESPOND_TYPE_CLEAR_BLACK
:

73 
RESPOND_TYPE_DRAW_LINE
:

75 
RESPOND_TYPE_DRAW_POINT
:

77 
RESPOND_TYPE_DRAW_RECTANGLE
:

79 
RESPOND_TYPE_DRAW_POLYGON
:

81 
RESPOND_TYPE_DRAW_CIRCLE
:

83 
RESPOND_TYPE_DRAW_ELLIPSE
:

85 
RESPOND_TYPE_DRAW_ARROW
:

87 
RESPOND_TYPE_DRAW_X
:

89 
RESPOND_TYPE_DRAW_BITMAP
:

91 
RESPOND_TYPE_DRAW_IMG
:

93 
RESPOND_TYPE_FILL_RECTANGLE
:

95 
RESPOND_TYPE_FILL_CIRCLE
:

97 
RESPOND_TYPE_FILL_ELLIPSE
:

99 
RESPOND_TYPE_FILL_ARROW
:

101 
RESPOND_TYPE_FILL_X
:

103 
RESPOND_TYPE_FILL_POLYGON
:

105 
RESPOND_TYPE_SHOW_TEXT
:

107 
RESPOND_TYPE_CPY_AREA
:

109 
RESPOND_TYPE_SET_COLOR
:

111 
RESPOND_TYPE_SET_AREA
:

113 
RESPOND_TYPE_SET_FONT
:

115 
RESPOND_TYPE_GET_COLOR_LIMIT
:

117 
RESPOND_TYPE_GET_SCREEN_WIDTH
:

119 
RESPOND_TYPE_GET_SCREEN_HEIGHT
:

121 
RESPOND_TYPE_GET_AREA
:

123 
RESPOND_TYPE_GET_COLOR
:

125 
RESPOND_TYPE_GET_FONT_WIDTH
:

127 
RESPOND_TYPE_GET_FONT_HEIGHT
:

129 
RESPOND_TYPE_GET_WINDOW_TITLE
:

132  
NULL
;

134 
	}
}

137 
	$»¥Úd_£t_ty³_ªd_size
(
»¥Úd
* 
»¥Úd_±r
, 
si_t
 
ty³
, si_ˆ
d©a_ty³
, si_ˆ
size
)

139 
»¥Úd_±r
->
nÜm®
.
»¥Úd_d©a_ty³
 = 
d©a_ty³
;

140 
»¥Úd_±r
->
nÜm®
.
ty³
 =ype;

141 
»¥Úd_±r
->
nÜm®
.
body_Ën
 = 
size
;

142 
	}
}

144 
	$»¥Úd_£t_nÜm®
(
»¥Úd
* 
»¥Úd_±r
, 
si_t
 
ty³
, si_ˆ
»tv®
)

146 
	`»¥Úd_£t_ty³_ªd_size
(
»¥Úd_±r
, 
ty³
, 
RESPOND_DATA_TYPE_FIX
, (
si_t
));

147 
»¥Úd_±r
->
nÜm®
.
»tv®
 =„etval;

148 
	}
}

150 
	$»¥Úd_£t_»ùªgË
(
»¥Úd
* 
»¥Úd_±r
, 
si_t
 
ty³
, 
»ùªgË
* 
»tv®
)

152 
	`»¥Úd_£t_ty³_ªd_size
(
»¥Úd_±r
, 
ty³
, 
RESPOND_DATA_TYPE_FIX
, (
»ùªgË
));

153 
»¥Úd_±r
->
»ùªgË
.
»tv®
 = *retval;

154 
	}
}

156 
	$»¥Úd_£t_cŞÜ_lim™
(
»¥Úd
* 
»¥Úd_±r
, 
si_t
 
ty³
, 
cŞÜ_lim™
* 
»tv®
)

158 
	`»¥Úd_£t_ty³_ªd_size
(
»¥Úd_±r
, 
ty³
, 
RESPOND_DATA_TYPE_FIX
, (
cŞÜ_lim™
));

159 
»¥Úd_±r
->
cŞÜ_lim™
.
»tv®
 = *retval;

160 
	}
}

162 
	$»¥Úd_£t_cŞÜ
(
»¥Úd
* 
»¥Úd_±r
, 
si_t
 
ty³
, 
cŞÜ
* 
»tv®
)

164 
	`»¥Úd_£t_ty³_ªd_size
(
»¥Úd_±r
, 
ty³
, 
RESPOND_DATA_TYPE_FIX
, (
cŞÜ
));

165 
»¥Úd_±r
->
cŞÜ
.
»tv®
 = *retval;

166 
	}
}

168 
	$»¥Úd_£t_va
(
»¥Úd
* 
»¥Úd_±r
, 
si_t
 
ty³
, 
addr_t
 
va_¬g
, si_ˆ
Ën
)

170 
	`»¥Úd_£t_ty³_ªd_size
(
»¥Úd_±r
, 
ty³
, 
RESPOND_DATA_TYPE_VARIABLE
, 
Ën
);

171 
»¥Úd_±r
->
va
.
»tv®
 = 
va_¬g
;

172 
	}
}

174 
	$»¥Úd_£t_em±y
(
»¥Úd
* 
»¥Úd_±r
)

176 
»¥Úd_±r
->
nÜm®
.
body_Ën
 = 0;

177 
	}
}

179 
si_t
 
	$»¥Úd_g‘_ty³
(cÚ¡ 
»¥Úd
* 
»¥Úd_±r
)

181  
»¥Úd_±r
->
nÜm®
.
ty³
;

182 
	}
}

184 
si_t
 
	$»¥Úd_g‘_Ën
(cÚ¡ 
»¥Úd
* 
»¥Úd_±r
)

186  
»¥Úd_±r
->
nÜm®
.
body_Ën
;

187 
	}
}

189 
cÚ¡_addr_t
 
	$»¥Úd_g‘_v®ue
(cÚ¡ 
»¥Úd
* 
»¥Úd_±r
)

194 if(
»¥Úd_±r
->
nÜm®
.
»¥Úd_d©a_ty³
 =ğ
RESPOND_DATA_TYPE_VARIABLE
)

195  (
addr_t
)
»¥Úd_±r
->
nÜm®
.
»tv®
;

197  &
»¥Úd_±r
->
nÜm®
.
»tv®
;

198 
	}
}

	@comm/respond.h

30 #iâdeà
_RESPOND_H_


31 
	#_RESPOND_H_
 1

	)

33 
	~<lim™s.h
>

35 
	~"cŞÜ.h
"

36 
	~"geom‘ry.h
"

38 
	e__»¥Úd_ty³__


41 
	mRESPOND_TYPE_REGISTER_APPLICATION
 = 0,

43 
	mRESPOND_TYPE_CANCEL_APPLICATION
,

46 
	mRESPOND_TYPE_GRAPHICS_DEVICE_INIT
,

48 
	mRESPOND_TYPE_GRAPHICS_DEVICE_EXIT
,

51 
	mRESPOND_TYPE_WINDOW_MANAGER_QUIT
,

54 
	mRESPOND_TYPE_UPDATE
,

55 
	mRESPOND_TYPE_DESKTOP_DIRTY
,

58 
	mRESPOND_TYPE_REGISTER_WINDOW
,

60 
	mRESPOND_TYPE_MOVE_WINDOW
,

62 
	mRESPOND_TYPE_RESIZE_WINDOW
,

64 
	mRESPOND_TYPE_MINIMIZE_WINDOW
,

66 
	mRESPOND_TYPE_MAXIMIZE_WINDOW
,

68 
	mRESPOND_TYPE_RESTORE_WINDOW
,

70 
	mRESPOND_TYPE_CANCEL_WINDOW
,

72 
	mRESPOND_TYPE_ACTIVATE_WINDOW
,

76 
	mRESPOND_TYPE_CLEAR
,

78 
	mRESPOND_TYPE_CLEAR_WHITE
,

80 
	mRESPOND_TYPE_CLEAR_BLACK
,

84 
	mRESPOND_TYPE_DRAW_LINE
,

86 
	mRESPOND_TYPE_DRAW_POINT
,

88 
	mRESPOND_TYPE_DRAW_RECTANGLE
,

90 
	mRESPOND_TYPE_DRAW_POLYGON
,

92 
	mRESPOND_TYPE_DRAW_CIRCLE
,

94 
	mRESPOND_TYPE_DRAW_ELLIPSE
,

96 
	mRESPOND_TYPE_DRAW_ARROW
,

98 
	mRESPOND_TYPE_DRAW_X
,

100 
	mRESPOND_TYPE_DRAW_BITMAP
,

102 
	mRESPOND_TYPE_DRAW_IMG
,

105 
	mRESPOND_TYPE_FILL_RECTANGLE
,

107 
	mRESPOND_TYPE_FILL_CIRCLE
,

109 
	mRESPOND_TYPE_FILL_ELLIPSE
,

111 
	mRESPOND_TYPE_FILL_ARROW
,

113 
	mRESPOND_TYPE_FILL_X
,

115 
	mRESPOND_TYPE_FILL_POLYGON
,

118 
	mRESPOND_TYPE_SHOW_TEXT
,

121 
	mRESPOND_TYPE_CPY_AREA
,

124 
	mRESPOND_TYPE_SET_COLOR
,

126 
	mRESPOND_TYPE_SET_AREA
,

128 
	mRESPOND_TYPE_SET_FONT
,

131 
	mRESPOND_TYPE_GET_COLOR_LIMIT
,

133 
	mRESPOND_TYPE_GET_SCREEN_WIDTH
,

135 
	mRESPOND_TYPE_GET_SCREEN_HEIGHT
,

137 
	mRESPOND_TYPE_GET_AREA
,

139 
	mRESPOND_TYPE_GET_COLOR
,

141 
	mRESPOND_TYPE_GET_FONT_WIDTH
,

143 
	mRESPOND_TYPE_GET_FONT_HEIGHT
,

146 
	mRESPOND_TYPE_GET_WINDOW_TITLE
,

149 
	mRESPOND_TYPE_QUANTITY
,

153 
	mRESPOND_TYPE_MAX
 = 
INT_MAX


159 * 
»¥Úd_ty³_to_¡r
(
si_t
 
»¥Úd_ty³
);

161 
	#RESPOND_BASE_DEFINATION
 \

162 
si_t
 
body_Ën
; \

163 
si_t
 
ty³
; \

164 
si_t
 
»¥Úd_d©a_ty³
;

	)

166 
	e__»¥Úd_d©a_ty³__


169 
	mRESPOND_DATA_TYPE_FIX
 = 0,

171 
	mRESPOND_DATA_TYPE_VARIABLE
,

173 
	mRESPOND_DATA_TYPE_QUANTITY
,

176 
	mRESPOND_DATA_TYPE_MAX
 = 
INT_MAX


183 
	g»¥Úd
;

188 
	s»¥Úd_body_nÜm®


190 
RESPOND_BASE_DEFINATION


191 
si_t
 
	m»tv®
;

193 
»¥Úd_£t_nÜm®
(
»¥Úd
* 
»¥Úd_±r
, 
si_t
 
ty³
, si_ˆ
»tv®
);

198 
	s»¥Úd_body_»ùªgË


200 
RESPOND_BASE_DEFINATION


201 
»ùªgË
 
	m»tv®
;

203 
»¥Úd_£t_»ùªgË
(
»¥Úd
* 
»¥Úd_±r
, 
si_t
 
ty³
, 
»ùªgË
* 
»tv®
);

208 
	s»¥Úd_body_cŞÜ_lim™


210 
RESPOND_BASE_DEFINATION


211 
cŞÜ_lim™
 
	m»tv®
;

213 
»¥Úd_£t_cŞÜ_lim™
(
»¥Úd
* 
»¥Úd_±r
, 
si_t
 
ty³
, 
cŞÜ_lim™
* 
»tv®
);

218 
	s»¥Úd_body_cŞÜ


220 
RESPOND_BASE_DEFINATION


221 
cŞÜ
 
	m»tv®
;

223 
»¥Úd_£t_cŞÜ
(
»¥Úd
* 
»¥Úd_±r
, 
si_t
 
ty³
, 
cŞÜ
* 
»tv®
);

228 
	s»¥Úd_body_v¬ŸbË


230 
RESPOND_BASE_DEFINATION


231 
addr_t
 
	m»tv®
;

233 
»¥Úd_£t_va
(
»¥Úd
* 
»¥Úd_±r
, 
si_t
 
ty³
, 
addr_t
 
va_¬g
, si_ˆ
Ën
);

235 
	u»¥Úd


237 
»¥Úd_body_nÜm®
 
	mnÜm®
;

238 
»¥Úd_body_»ùªgË
 
	m»ùªgË
;

239 
»¥Úd_body_cŞÜ_lim™
 
	mcŞÜ_lim™
;

240 
»¥Úd_body_cŞÜ
 
	mcŞÜ
;

241 
»¥Úd_body_v¬ŸbË
 
	mva
;

243 
»¥Úd_£t_em±y
(
»¥Úd
* 
»¥Úd_±r
);

244 
si_t
 
»¥Úd_g‘_ty³
(cÚ¡ 
»¥Úd
* 
»¥Úd_±r
);

245 
si_t
 
»¥Úd_g‘_Ën
(cÚ¡ 
»¥Úd
* 
»¥Úd_±r
);

246 
cÚ¡_addr_t
 
»¥Úd_g‘_v®ue
(cÚ¡ 
»¥Úd
* 
»¥Úd_±r
);

	@debug/comm/test_client.c

4 
	~<uni¡d.h
>

5 
	~<¡dio.h
>

6 
	~<¡ršg.h
>

8 
	~"comm.h
"

9 
	~"log.h
"

10 
	~"comp”.h
"

12 
	#SERVER_PATH
 "/tmp/‹¡_£rv”_sock"

	)

13 cÚ¡ * 
	gh–p_¡r
 = "usage:\n1. draw_line x1 y1 x2 y2\n2.„egister_window…arent_descripter window_title\n3. window_manager_exit";

18 
	$çke_d¿w_lše
(
egui_uds
* 
uds_±r
, 
si_t
 
x1
, si_ˆ
y1
, si_ˆ
x2
, si_ˆ
y2
)

20 
·ck‘_body_d¿w_lše
 
body
;

21 
si_t
 
»t
 = 0;

22 
	`»que¡_£t_d¿w_lše
(&
body
, 0, 
x1
, 
y1
, 
x2
, 
y2
);

23 if(0 !ğ
	`comm_£nd_»que¡
(
uds_±r
, 
REQUEST_TYPE_DRAW_LINE
, &
body
, (body)))

25 
	`EGUI_PRINT_ERROR
("failedo send draw†ine„equest");

28 if(0 !ğ
	`comm_»cv_»¥Úd
(
uds_±r
, 
RESPOND_TYPE_DRAW_LINE
, &
»t
, 
NULL
))

30 
	`EGUI_PRINT_ERROR
("failedo„ecv draw†ine„espond");

34 
	`EGUI_PRINT_INFO
("£nd d¿w†š»que¡,„ecv„‘ %d", ()
»t
);

35  
»t
;

36 
	}
}

41 
	$çke_wšdow_mªag”_ex™
(
egui_uds
* 
uds_±r
)

43 
si_t
 
»t
 = 0;

44 if(0 !ğ
	`comm_£nd_»que¡
(
uds_±r
, 
REQUEST_TYPE_WINDOW_MANAGER_QUIT
, 
NULL
, 0))

46 
	`EGUI_PRINT_ERROR
("failedo send window managerƒxit„equest");

49 if(0 !ğ
	`comm_»cv_»¥Úd
(
uds_±r
, 
RESPOND_TYPE_WINDOW_MANAGER_QUIT
, &
»t
, 
NULL
))

51 
	`EGUI_PRINT_ERROR
("failedo„ecv window managerƒxit„espond");

55 
	`EGUI_PRINT_INFO
("£nd wšdow mªag”ƒx™„eque¡,„ecv„‘ %d", ()
»t
);

56  
»t
;

57 
	}
}

62 
	$çke_»gi¡”_wšdow
(
egui_uds
* 
uds_±r
, 
si_t
 
·»Á_fd
, * 
t™Ë
)

64 
·ck‘_body_»gi¡”_wšdow
 
body
;

65 
si_t
 
»t
 = 0;

67 
	`»que¡_£t_»gi¡”_wšdow
(&
body
, 
·»Á_fd
, 
t™Ë
, 
	`¡¾’
(title) + 1, 0, 0, 0, 0, 0, 0, 0);

68 if(0 !ğ
	`comm_£nd_»que¡_w™h_exŒa
(
uds_±r
, 
REQUEST_TYPE_REGISTER_WINDOW
,

69 &
body
, (body), 
t™Ë
, 
	`¡¾’
(title) + 1))

71 
	`EGUI_PRINT_ERROR
("failedo send„egister window„equest");

74 if(0 !ğ
	`comm_»cv_»¥Úd
(
uds_±r
, 
RESPOND_TYPE_REGISTER_WINDOW
, &
»t
, 
NULL
))

76 
	`EGUI_PRINT_ERROR
("failedo„ecv„egister window„espond");

80 
	`EGUI_PRINT_INFO
("£nd„egi¡” wšdow„eque¡,„ecv„‘ %d", ()
»t
);

83 
	}
}

94 
si_t
 
	$commªd_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
¬g
)

96 
commªd_buf
[1024];

97 
egui_uds
* 
£rv”_uds_±r
 = (egui_uds*)
¬g
;

98 cÚ¡ 
d¿w_lše_commªd
[] = "draw_line";

99 cÚ¡ 
»gi¡”_wšdow_commªd
[] = "register_window";

100 cÚ¡ 
wšdow_mªag”_ex™_commªd
[] = "window_manager_exit";

101 
	`NOT_USED
(
uds_±r
);

103 
	`EGUI_PRINT_INFO
("callback command_handler() is called");

105 
	`sÿnf
("%s", 
commªd_buf
);

107 if(0 =ğ
	`¡ºcmp
(
commªd_buf
, 
d¿w_lše_commªd
, (draw_line_command)))

109 
si_t
 
x1
 = 0, 
y1
 = 0, 
x2
 = 0, 
y2
 = 0;

110 
	`EGUI_PRINT_INFO
("get draw_line_command");

111 
	`sÿnf
("%d%d%d%d", (*)&
x1
, (*)&
y1
, (*)&
x2
, (*)&
y2
);

112 if(0 !ğ
	`çke_d¿w_lše
(
£rv”_uds_±r
, 
x1
, 
y1
, 
x2
, 
y2
))

114 
	`EGUI_PRINT_ERROR
("failedoƒxecute draw†ine command");

117 if(0 =ğ
	`¡ºcmp
(
commªd_buf
, 
»gi¡”_wšdow_commªd
, (register_window_command)))

119 
si_t
 
fd
 = 0;

120 
t™Ë_buf
[1024] = {0};

121 
	`EGUI_PRINT_INFO
("get„egister_window_command");

122 
	`sÿnf
("%d%s", (*)&
fd
, 
t™Ë_buf
);

123 if(0 !ğ
	`çke_»gi¡”_wšdow
(
£rv”_uds_±r
, 
fd
, 
t™Ë_buf
))

125 
	`EGUI_PRINT_ERROR
("failedoƒxecute„egister window command");

128 if(0 =ğ
	`¡ºcmp
(
commªd_buf
, 
wšdow_mªag”_ex™_commªd
, (window_manager_exit_command)))

130 
	`EGUI_PRINT_INFO
("get window_manager_exit_command");

131 if(0 !ğ
	`çke_wšdow_mªag”_ex™
(
£rv”_uds_±r
))

133 
	`EGUI_PRINT_ERROR
("failedoƒxecute window managerƒxit command");

136  
SELECTER_RETURN_TYPE_END
;

140 
	`EGUI_PRINT_ERROR
("unknow commªd %s", 
commªd_buf
);

141 
	`EGUI_PRINT_INFO
(
h–p_¡r
);

143  
SELECTER_RETURN_TYPE_CONTINUE
;

144 
	}
}

152 
si_t
 
	$£rv”_mes§ge_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
¬g
)

154 
mes§ge
 
msg
;

155 
	`NOT_USED
(
¬g
);

157 
	`EGUI_PRINT_INFO
("callback server_message_handler() is called");

159 if(0 !ğ
	`comm_»cv_msg
(
uds_±r
, &
msg
))

161 
	`EGUI_PRINT_ERROR
("failedo„ecv message from server");

162  
SELECTER_RETURN_TYPE_CONTINUE
;

165 
	`mes§ge_g‘_ty³
(&
msg
))

167 
MESSAGE_TYPE_WINDOW_ACTIVATE
:

168 
	`EGUI_PRINT_INFO
("recieved window‡ctivate message!");

171 
	`EGUI_PRINT_INFO
("»c›ved unknowÀmes§ge,y³ = %d", ()
	`mes§ge_g‘_ty³
(&
msg
));

174  
SELECTER_RETURN_TYPE_CONTINUE
;

175 
	}
}

177 
	$maš
()

179 
ev’t_li¡’”
 
ş›Á_li¡’”
;

180 
egui_uds
 
ş›Á_uds
;

181 
egui_uds
 
¡dš_uds
;

183 
	`ev’t_li¡’”_š™
(&
ş›Á_li¡’”
);

188 if(0 !ğ
	`uds_š™
(&
ş›Á_uds
, 
SOCK_STREAM
, 
SERVER_PATH
, 
PEER_ROLE_CLIENT
))

190 
	`EGUI_PRINT_ERROR
("Failedo init server uds");

193 
	`ev’t_li¡’”_add_»ad_ev’t
(&
ş›Á_li¡’”
, &
ş›Á_uds
, 
NULL
, 
£rv”_mes§ge_hªdËr
, NULL);

198 
	`uds_š™_äom_Çked_sock‘
(&
¡dš_uds
, 
STDIN_FILENO
);

199 
	`ev’t_li¡’”_add_»ad_ev’t
(&
ş›Á_li¡’”
, &
¡dš_uds
, &
ş›Á_uds
, 
commªd_hªdËr
, 
NULL
);

202 
	`EGUI_PRINT_INFO
(
h–p_¡r
);

204 if(0 !ğ
	`ev’t_li¡’”_exec
(&
ş›Á_li¡’”
))

206 
	`EGUI_PRINT_ERROR
("failedoƒxecuteƒvent_listener");

210 
	`ev’t_li¡’”_ex™
(&
ş›Á_li¡’”
);

213 
	}
}

	@debug/comm/test_server.c

9 
	~"comm.h
"

10 
	~"log.h
"

11 
	~"comp”.h
"

13 
	#SERVER_PATH
 "/tmp/‹¡_£rv”_sock"

	)

18 
si_t
 
	gEXIT_NUMBER
 = 255;

23 
	$uds_de¡ruùÜ
(
egui_uds
* 
uds
, 
addr_t
 
¬g
)

25 
	`NOT_USED
(
¬g
);

26 
	`uds_ex™
(
uds
);

27 
	}
}

32 
si_t
 
	$çke_’gše_d¿w_lše
(
si_t
 
gd
, si_ˆ
x1
, si_ˆ
y1
, si_ˆ
x2
, si_ˆ
y2
)

34 
	`EGUI_PRINT_INFO
("fake_engine_draw_line() is called! graphics_device %d draw†ine from(%d, %d)o (%d, %d)",

35 ()
gd
, ()
x1
, ()
y1
, ()
x2
, ()
y2
);

36  
SELECTER_RETURN_TYPE_CONTINUE
;

37 
	}
}

42 
si_t
 
	$»que¡_hªdËr
(
addr_t
 
body
, 
si_t
 
d‘a_ty³
, 
»¥Úd
* 
»¥Úd_±r
,‡ddr_ˆ
¬g
)

44 * 
¡r
 = 
NULL
;

45 
si_t
 
»t
 = 0;

46 
si_t
 
fd
 = 0;

47 
mes§ge
 
msg
;

48 
queue
* 
mes§ge_queue_±r
 = (queue*)
¬g
;

49 
d‘a_ty³
)

54 
REQUEST_TYPE_DRAW_LINE
:

55 
»t
 = 
	`»que¡_ÿÎ_by_d¿w_lše
(
body
, 
çke_’gše_d¿w_lše
);

56 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_DRAW_LINE
, 
»t
);

57 
	`EGUI_PRINT_INFO
("recieved draw†ine„equest!");

63 
REQUEST_TYPE_REGISTER_WINDOW
:

65 
	`»que¡_g‘_»gi¡”_wšdow
(
body
, &
fd
, &
¡r
, 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL, NULL);

68 
»t
 = 
fd
 + 1;

69 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_REGISTER_WINDOW
, 
»t
);

72 
	`mes§ge_£t_wšdow_aùiv©e
(&
msg
, 
»t
);

73 
	`queue_push
(
mes§ge_queue_±r
, &
msg
, (msg));

75 
	`EGUI_PRINT_INFO
("»c›ved„egi¡” wšdow„eque¡!™Ë = %s", 
¡r
);

81 
REQUEST_TYPE_WINDOW_MANAGER_QUIT
:

82 
»t
 = 
EXIT_NUMBER
;

83 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_WINDOW_MANAGER_QUIT
, 0);

84 
	`EGUI_PRINT_INFO
("recivedƒxit„equest! SERVER EXIT!");

91  
»t
;

92 
	}
}

97 
si_t
 
	$ş›Á_»que¡_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
¬g
)

99 
queue
 
mes§ge_queue
;

100 
si_t
 
»t
 = 0;

101 
	`NOT_USED
(
¬g
);

103 
	`EGUI_PRINT_INFO
("callback client_request_handler() is called");

105 
	`queue_š™
(&
mes§ge_queue
);

108 
»t
 = 
	`comm_»cv_»que¡_ªd_£nd_»¥Úd
(
uds_±r
, &
mes§ge_queue
, 
»que¡_hªdËr
);

109 if(
EXIT_NUMBER
 =ğ
»t
)

111  
SELECTER_RETURN_TYPE_END
;

115 !
	`queue_em±y
(&
mes§ge_queue
))

117 
mes§ge
* 
mes§ge_±r
 = (mes§ge*)
	`queue_äÚt
(&
mes§ge_queue
);

118 if(0 !ğ
	`comm_£nd_mes§ge
(
uds_±r
, 
mes§ge_±r
))

120 
	`EGUI_PRINT_ERROR
("failedo send message!");

122 
	`queue_pİ
(&
mes§ge_queue
);

125 
	`queue_ex™
(&
mes§ge_queue
);

126  
SELECTER_RETURN_TYPE_CONTINUE
;

127 
	}
}

133 
si_t
 
	$£rv”_acû±_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
¬g
)

135 
ev’t_li¡’”
* 
£rv”_li¡’”
 = (ev’t_li¡’”*)
¬g
;

136 
egui_uds
 
Ãw_uds
;

138 
	`EGUI_PRINT_INFO
("callback server_accept_handler() is called");

140 if(0 !ğ
	`acû±_as_uds
(
uds_±r
, &
Ãw_uds
))

142 
	`EGUI_PRINT_ERROR
("Failedo‡ccept client connection");

143  
SELECTER_RETURN_TYPE_CONTINUE
;

146 
	`ev’t_li¡’”_add_»ad_ev’t
(
£rv”_li¡’”
, &
Ãw_uds
, 
NULL
, 
ş›Á_»que¡_hªdËr
, 
uds_de¡ruùÜ
);

148  
SELECTER_RETURN_TYPE_CONTINUE
;

149 
	}
}

151 
	$maš
()

153 
ev’t_li¡’”
 
£rv”_li¡’”
;

154 
egui_uds
 
£rv”_uds
;

156 if(0 !ğ
	`uds_š™
(&
£rv”_uds
, 
SOCK_STREAM
, 
SERVER_PATH
, 
PEER_ROLE_SERVER
))

158 
	`EGUI_PRINT_ERROR
("Failedo init server uds");

162 
	`ev’t_li¡’”_š™
(&
£rv”_li¡’”
);

163 
	`ev’t_li¡’”_add_»ad_ev’t
(&
£rv”_li¡’”
, &
£rv”_uds
, &£rv”_li¡’”, 
£rv”_acû±_hªdËr
, 
NULL
);

165 if(0 !ğ
	`ev’t_li¡’”_exec
(&
£rv”_li¡’”
))

167 
	`EGUI_PRINT_ERROR
("failedoƒxecuteƒvent_listener");

171 
	`ev’t_li¡’”_ex™
(&
£rv”_li¡’”
);

173 if(0 !ğ
	`uds_ex™
(&
£rv”_uds
))

175 
	`EGUI_PRINT_ERROR
("failedoƒxit server uds");

180 
	}
}

	@debug/comm/test_uds_client.c

12 
	~"comm.h
"

13 
	~"log.h
"

15 cÚ¡ 
	gSERVER_MSG
[] = "hello, client";

16 cÚ¡ 
	gCLIENT_MSG
[] = "hello, server";

18 
	#SERVER_PATH
 "/tmp/‹¡_uds_£rv”_sock‘"

	)

20 
	$maš
()

22 
egui_uds
 
£rv”_uds
;

23 
buf
[1024] = {0};

25 if(0 !ğ
	`uds_š™
(&
£rv”_uds
, 
SOCK_STREAM
, 
SERVER_PATH
, 
PEER_ROLE_CLIENT
))

27 
	`EGUI_PRINT_ERROR
("failedo init server socket");

30 
	`EGUI_PRINT_INFO
("connecto server successfully!");

32 if(
	`uds_»ad
(&
£rv”_uds
, 
buf
, (
SERVER_MSG
)) < 0)

34 
	`EGUI_PRINT_ERROR
("failedo„ead server msg");

38 if(0 !ğ
	`¡ºcmp
(
buf
, 
SERVER_MSG
, (SERVER_MSG)))

40 
	`EGUI_PRINT_ERROR
("unknow cl›Á msg %s", 
buf
);

42 
	`EGUI_PRINT_INFO
("»ad % sucûssfuÎy", 
buf
);

44 if(
	`uds_wr™e
(&
£rv”_uds
, 
CLIENT_MSG
, (CLIENT_MSG)) < 0)

46 
	`EGUI_PRINT_ERROR
("failedo write client msg");

49 
	`EGUI_PRINT_INFO
("wr™% sucûssfuÎy", 
CLIENT_MSG
);

51 if(0 !ğ
	`uds_ex™
(&
£rv”_uds
))

53 
	`EGUI_PRINT_ERROR
("failedo clean server socket");

58 
	}
}

	@debug/comm/test_uds_server.c

12 
	~"comm.h
"

13 
	~"log.h
"

15 cÚ¡ 
	gSERVER_MSG
[] = "hello, client";

16 cÚ¡ 
	gCLIENT_MSG
[] = "hello, server";

18 
	#SERVER_PATH
 "/tmp/‹¡_uds_£rv”_sock‘"

	)

20 
	$maš
()

22 
egui_uds
 
£rv”_uds
;

23 
egui_uds
 
ş›Á_uds
;

24 
buf
[1024] = {0};

26 if(0 !ğ
	`uds_š™
(&
£rv”_uds
, 
SOCK_STREAM
, 
SERVER_PATH
, 
PEER_ROLE_SERVER
))

28 
	`EGUI_PRINT_ERROR
("failedo init server socket");

32 if(0 !ğ
	`acû±_as_uds
(&
£rv”_uds
, &
ş›Á_uds
))

34 
	`EGUI_PRINT_ERROR
("failedo‡ccept client uds");

37 
	`EGUI_PRINT_INFO
("accept client socket successfully!");

39 if(
	`uds_wr™e
(&
ş›Á_uds
, 
SERVER_MSG
, (SERVER_MSG)) < 0)

41 
	`EGUI_PRINT_ERROR
("failedo write server msg");

44 
	`EGUI_PRINT_INFO
("wr™% sucûssfuÎy", 
SERVER_MSG
);

46 if(
	`uds_»ad
(&
ş›Á_uds
, 
buf
, (
CLIENT_MSG
)) < 0)

48 
	`EGUI_PRINT_ERROR
("failedo„ead client msg");

52 if(0 !ğ
	`¡ºcmp
(
buf
, 
CLIENT_MSG
, (CLIENT_MSG)))

54 
	`EGUI_PRINT_ERROR
("unknow cl›Á msg %s", 
buf
);

56 
	`EGUI_PRINT_INFO
("»ad % sucûssfuÎy", 
buf
);

58 if(0 !ğ
	`uds_ex™
(&
ş›Á_uds
))

60 
	`EGUI_PRINT_ERROR
("failedo clean client socket");

64 if(0 !ğ
	`uds_ex™
(&
£rv”_uds
))

66 
	`EGUI_PRINT_ERROR
("failedo clean server socket");

70 
	}
}

	@debug/config_parser/main.c

1 
	~<¡dio.h
>

2 
	~<¡ršg.h
>

4 
	~<cÚfig_·r£r.h
>

6 
	#TMP_ARRAY_LENTH
 1024

	)

8 
	$maš
()

10 
cÚfig_·r£r
 
·r£r
;

11 
key
[
TMP_ARRAY_LENTH
] = {'\0'};

12 
v®ue
[
TMP_ARRAY_LENTH
] = {'\0'};

13 
št_v®ue
;

14 
æßt_v®ue
;

16 if(
	`cÚfig_·r£r_š™
("./‹¡.cfg", &
·r£r
) != 0)

18 
	`´štf
("fp is NULL.\n");

23 
	`´štf
("------------------------------------\n");

25 
	`¡rıy
(
key
, "liu");

26 if(
	`cÚfig_·r£r_g‘_¡r
(&
·r£r
, 
key
, 
v®ue
) != 0)

28 
	`´štf
("m­ % çd!\n", 
key
);

32 
	`´štf
("v®uoàkey [%s] i [%s]\n", 
key
, 
v®ue
);

34 
	`¡rıy
(
key
, "lenth");

35 if(
	`cÚfig_·r£r_g‘_št
(&
·r£r
, 
key
, (
si_t
*)&
št_v®ue
) != 0)

37 
	`´štf
("m­ % çd!\n", 
key
);

41 
	`´štf
("v®uoàkey [%s] i [%d]\n", 
key
, 
št_v®ue
);

43 
	`¡rıy
(
key
, "height");

44 if(
	`cÚfig_·r£r_g‘_æßt
(&
·r£r
, 
key
, &
æßt_v®ue
) != 0)

46 
	`´štf
("m­ % çd!\n", 
key
);

50 
	`´štf
("v®uoàkey [%s] i [%f]\n", 
key
, 
æßt_v®ue
);

52 
	`´štf
("------------------------------------\n");

54 if(
	`cÚfig_·r£r_£t_¡r
(&
·r£r
, "liu", "yanping") != 0)

56 
	`´štf
("set key†iu failed.\n");

61 if(
	`cÚfig_·r£r_£t_¡r
(&
·r£r
, "qu", "shisong") != 0)

63 
	`´štf
("add item qu=shisong failed.\n");

68 
	`cÚfig_·r£r_ex™
(&
·r£r
);

71 
	}
}

	@debug/event/main.c

1 
	~<¡dio.h
>

2 
	~<fú.h
>

4 
	~"ba£_ty³.h
"

5 
	~"comm.h
"

6 
	~"ev’t.h
"

7 
	~"log.h
"

8 
	~"comp”.h
"

10 
	#KEYBD_DEVICE_PATH
 "/dev/šput/ev’t2"

	)

11 
	#MOUSE_DEVICE_PATH
 "/dev/šput/ev’t4"

	)

13 
	$šput_deviû_de¡ruùÜ
(
egui_uds
* 
uds
, 
addr_t
 
¬g
)

15 
šput_deviû
* 
id_±r
 = 
¬g
;

16 
	`NOT_USED
(
uds
);

17 if(0 !ğ
id_±r
->
	`šput_ex™
(id_ptr))

19 
	`EGUI_PRINT_ERROR
("failedoƒxit input device");

21 
	}
}

23 cÚ¡ * 
	$g‘_ev’t_¡r
(
ty³
)

25 
ty³
)

27 
MESSAGE_TYPE_KEYBD_RELEASE
:

30 
MESSAGE_TYPE_KEYBD_PRESS
:

33 
MESSAGE_TYPE_KEYBD_CLICK
:

36 
MESSAGE_TYPE_MOUSE_RELEASE
:

39 
MESSAGE_TYPE_MOUSE_PRESS
:

42 
MESSAGE_TYPE_MOUSE_MOVE
:

45 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

48 
MESSAGE_TYPE_MOUSE_DOUBLE_CLICK
:

55 
	}
}

57 
si_t
 
	$šput_ev’t_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
¬g
)

59 
šput_deviû
* 
id_±r
 = 
¬g
;

60 
li¡
 
msg_li¡
;

61 
	`NOT_USED
(
uds_±r
);

63 
	`li¡_š™
(&
msg_li¡
);

65 
id_±r
->
	`d—l_w™h_šput
(id_±r, &
msg_li¡
);

67 !
	`li¡_em±y
(&
msg_li¡
))

69 
mes§ge
* 
m
 = 
	`li¡_äÚt
(&
msg_li¡
);

70 
	`EGUI_PRINT_INFO
("eMsgÑy³:% code:%d v®ue:%d)", 
	`g‘_ev’t_¡r
(
m
->
mou£
.
ty³
), ()m->mou£.
code
, ()m->mou£.
v®ue
);

71 
	`li¡_pİ_äÚt
(&
msg_li¡
);

74 
	`li¡_ex™
(&
msg_li¡
);

76  
SELECTER_RETURN_TYPE_CONTINUE
;

77 
	}
}

79 
	$maš
()

81 
šput_deviû
 
keybd_deviû
;

82 
šput_deviû
 
mou£_deviû
;

83 
ev’t_li¡’”
 
£rv”_li¡’”
;

85 
	`ev’t_li¡’”_š™
(&
£rv”_li¡’”
);

87 if(
	`evdev_š™
(&
keybd_deviû
, 
KEYBD_DEVICE_PATH
) < 0)

89 
	`EGUI_PRINT_ERROR
("failedo init keybd device");

92 
	`ev’t_li¡’”_add_»ad_ev’t
(&
£rv”_li¡’”
, &
keybd_deviû
.
uds
, &keybd_deviû, 
šput_ev’t_hªdËr
, 
šput_deviû_de¡ruùÜ
);

94 ià(
	`evdev_š™
(&
mou£_deviû
, 
MOUSE_DEVICE_PATH
) < 0)

96 
	`EGUI_PRINT_ERROR
("failedo init mouse device");

99 
	`£t_doubË_şick_d–ay
(10000);

100 
	`ev’t_li¡’”_add_»ad_ev’t
(&
£rv”_li¡’”
, &
mou£_deviû
.
uds
, &mou£_deviû, 
šput_ev’t_hªdËr
, 
šput_deviû_de¡ruùÜ
);

102 if(0 !ğ
	`ev’t_li¡’”_exec
(&
£rv”_li¡’”
))

104 
	`EGUI_PRINT_ERROR
("failedoƒxecuteƒvent_listener");

108 
	`ev’t_li¡’”_ex™
(&
£rv”_li¡’”
);

110 
keybd_deviû
.
	`šput_ex™
(&keybd_device);

111 
mou£_deviû
.
	`šput_ex™
(&mouse_device);

114 
	}
}

	@debug/graph/debug_graph.c

30 
	~<¡dio.h
>

32 
	~<g¿ph.h
>

34 
	~"debug_g¿ph.h
"

35 
	~"debug_g¿ph_low”.h
"

36 
	~"debug_g¿ph_’gše.h
"

38 
	$maš
()

40 
	`sü“n_š™
("/dev/fb0");

42 
	`debug_g¿ph_low”
();

44 
	`debug_g¿ph_’gše
();

46 
	`sü“n_ex™
();

48 
	`´štf
("debuged graph\n");

51 
	}
}

	@debug/graph/debug_graph.h

30 #iâdeà
_DEBUG_GRAPH_H_


31 
	#_DEBUG_GRAPH_H_
 1

	)

33 
	~<ba£_ty³.h
>

35 
si_t
 
debug_g¿ph
();

	@debug/graph/debug_graph_engine.c

30 
	~<¡dio.h
>

31 
	~<¡ršg.h
>

32 
	~<uni¡d.h
>

34 
	~<g¿ph.h
>

36 
	~"debug_g¿ph_’gše.h
"

38 
g¿phics_deviû
 
	ggd
;

39 
si_t
 
	ggd_hªdËr
 = (si_t)&
gd
;

40 
cŞÜ_lim™
 
	gş
;

41 
pošt
 
	gp
[5];

43 
si_t
 
	$debug_d¿w
()

45 
ui_t
 
i
;

48 
gd
.
cŞÜ
.
r
 = 
ş
.
r_lim™
;

49 
gd
.
cŞÜ
.
g
 = 
ş
.
g_lim™
;

50 
gd
.
cŞÜ
.
b
 = 0;

53 
p
[0].
x
 = 0;

54 
p
[0].
y
 = 0;

55 
p
[1].
x
 = 500;

56 
p
[1].
y
 = 100;

57 
p
[2].
x
 = 200;

58 
p
[2].
y
 = 300;

59 
p
[3].
x
 = 0;

60 
p
[3].
y
 = 250;

63 
i
 = 0;

64 
i
 < 
gd
.
sü“n
.
width
)

66 
	`’gše_d¿w_lše
(
gd_hªdËr
, 
i
, 0, 
gd
.
sü“n
.
width
 - 1 - i, gd.sü“n.
height
 - 1);

67 
	`’gše_upd©e
(
gd_hªdËr
);

68 ++ 
i
;

72 
i
 = 0;

73 
i
 < 
gd
.
sü“n
.
height
)

75 
	`’gše_d¿w_lše
(
gd_hªdËr
, 0, 
i
, 
gd
.
sü“n
.
width
 - 1, gd.sü“n.
height
 - 1 - i);

76 
	`’gše_upd©e
(
gd_hªdËr
);

77 ++ 
i
;

81 
gd
.
cŞÜ
.
r
 = 0;

82 
gd
.
cŞÜ
.
g
 = 0;

83 
gd
.
cŞÜ
.
b
 = 
ş
.
b_lim™
;

86 
	`’gše_ş—r_bÏck
(
gd_hªdËr
);

88 
	`’gše_d¿w_pŞygÚ
(
gd_hªdËr
, 
p
, 3);

89 
	`’gše_upd©e
(
gd_hªdËr
);

90 
	`¦“p
(1);

93 
	`’gše_ş—r_bÏck
(
gd_hªdËr
);

95 
	`’gše_d¿w_pŞygÚ
(
gd_hªdËr
, 
p
, 4);

96 
	`’gše_upd©e
(
gd_hªdËr
);

97 
	`¦“p
(1);

100 
	`’gše_ş—r_bÏck
(
gd_hªdËr
);

103 
i
 = 0;

104 
i
 ++ < 
gd
.
sü“n
.
height
)

106 
	`’gše_d¿w_cœşe
(
gd_hªdËr
, 
gd
.
sü“n
.
width
 >> 1, gd.sü“n.
height
 >> 1, 
i
 >> 1);

107 
	`’gše_upd©e
(
gd_hªdËr
);

108 
	`’gše_ş—r_bÏck
(
gd_hªdËr
);

114 
i
 = 0;

115 
i
 ++ < (
gd
.
sü“n
.
height
 - 1) >> 1)

117 
	`’gše_d¿w_–l£
(
gd_hªdËr
, (
gd
.
sü“n
.
width
 - 1è>> 1, (gd.sü“n.
height
 - 1è>> 1, (gd.sü“n.width - 1è>> 1, 
i
);

118 
	`’gše_upd©e
(
gd_hªdËr
);

119 
	`’gše_ş—r_bÏck
(
gd_hªdËr
);

124 
i
 = 0;

125 
i
 ++ < (
gd
.
sü“n
.
width
 - 1) >> 1)

127 
	`’gše_d¿w_–l£
(
gd_hªdËr
, (
gd
.
sü“n
.
width
 - 1è>> 1, (gd.sü“n.
height
 - 1è>> 1, 
i
, (gd.screen.height - 1) >> 1);

128 
	`’gše_upd©e
(
gd_hªdËr
);

129 
	`’gše_ş—r_bÏck
(
gd_hªdËr
);

133 
	`’gše_d¿w_x
(
gd_hªdËr
, 640, 383, 191, 191);

134 
	`’gše_upd©e
(
gd_hªdËr
);

135 
	`¦“p
(1);

138 
	`’gše_fl_x
(
gd_hªdËr
, 640, 383, 191, 191);

139 
	`’gše_upd©e
(
gd_hªdËr
);

140 
	`¦“p
(1);

141 
	`’gše_ş—r_bÏck
(
gd_hªdËr
);

144 
	`’gše_d¿w_¬row
(
gd_hªdËr
, 300, 200, 100, 1);

145 
	`’gše_d¿w_¬row
(
gd_hªdËr
, 300, 400, 100, 2);

146 
	`’gše_d¿w_¬row
(
gd_hªdËr
, 200, 300, 100, 3);

147 
	`’gše_d¿w_¬row
(
gd_hªdËr
, 400, 300, 100, 4);

148 
	`’gše_upd©e
(
gd_hªdËr
);

149 
	`¦“p
(1);

152 
	`’gše_fl_¬row
(
gd_hªdËr
, 300, 200, 100, 1);

153 
	`’gše_fl_¬row
(
gd_hªdËr
, 300, 400, 100, 2);

154 
	`’gše_fl_¬row
(
gd_hªdËr
, 200, 300, 100, 3);

155 
	`’gše_fl_¬row
(
gd_hªdËr
, 400, 300, 100, 4);

156 
	`’gše_upd©e
(
gd_hªdËr
);

157 
	`¦“p
(1);

160 
	}
}

162 
si_t
 
	$debug_fl
()

164 
gd
.
cŞÜ
.
r
 = 0;

165 
gd
.
cŞÜ
.
g
 = 
ş
.
g_lim™
;

166 
gd
.
cŞÜ
.
b
 = 0;

169 
	`’gše_fl_»ùªgË
(
gd_hªdËr
, 100, 100, 401, 201);

170 
	`’gše_upd©e
(
gd_hªdËr
);

171 
	`¦“p
(1);

172 
	`’gše_ş—r_bÏck
(
gd_hªdËr
);

174 
p
[0].
x
 = 651;

175 
p
[0].
y
 = 200;

176 
p
[1].
x
 = 601;

177 
p
[1].
y
 = 250;

178 
p
[2].
x
 = 701;

179 
p
[2].
y
 = 250;

181 
gd
.
cŞÜ
.
r
 = 0;

182 
gd
.
cŞÜ
.
g
 = 
ş
.
g_lim™
;

183 
gd
.
cŞÜ
.
b
 = 0;

185 
	`’gše_fl_cœşe
(
gd_hªdËr
, 
gd
.
sü“n
.
width
 >> 1, gd.sü“n.
height
 >> 1, gd.screen.height >> 2);

186 
	`’gše_upd©e
(
gd_hªdËr
);

187 
	`¦“p
(1);

188 
	`’gše_ş—r_bÏck
(
gd_hªdËr
);

190 
gd
.
cŞÜ
.
a
 = 
ş
.
a_lim™
;

191 
gd
.
cŞÜ
.
r
 = 
ş
.
r_lim™
;

194 
	`’gše_fl_cœşe
(
gd_hªdËr
, 
gd
.
sü“n
.
width
 >> 1, gd.sü“n.
height
 >> 1, gd.screen.height >> 1);

195 
	`’gše_upd©e
(
gd_hªdËr
);

196 
	`¦“p
(1);

197 
	`’gše_ş—r_bÏck
(
gd_hªdËr
);

200 
	`’gše_fl_–l£
(
gd_hªdËr
, 
gd
.
sü“n
.
width
 >> 1, gd.sü“n.
height
 >> 1, gd.screen.width >> 2, gd.screen.height >> 2);

201 
	`’gše_upd©e
(
gd_hªdËr
);

202 
	`¦“p
(1);

203 
	`’gše_ş—r_bÏck
(
gd_hªdËr
);

206 
	`’gše_fl_–l£
(
gd_hªdËr
, 
gd
.
sü“n
.
width
 >> 1, gd.sü“n.
height
 >> 1, gd.screen.height >> 2, gd.screen.width >> 2);

207 
	`’gše_upd©e
(
gd_hªdËr
);

208 
	`¦“p
(1);

211 
	}
}

213 
si_t
 
	$debug_‹xt
()

215 
si_t
 
i
, 
‹mp
;

217 
gd
.
cŞÜ
.
r
 = 
ş
.
r_lim™
;

218 
gd
.
cŞÜ
.
g
 = 0;

219 
gd
.
cŞÜ
.
b
 = 0;

220 
gd
.
cŞÜ
.
a
 = 0;

222 
‹mp
 = 0;

223 
i
 = 
FONT_MATRIX_08
; i < 
FONT_QUANTITY
 - 1; ++ i)

225 
gd
.
fÚt
 = 
i
;

226 
	`’gše_show_‹xt
(
gd_hªdËr
, 0, 
‹mp
, "FONT_MATRIX", 11);

227 
‹mp
 =em°+ 
	`’gše_g‘_fÚt_height
(
gd_hªdËr
);

230 
gd
.
fÚt
 = 
FONT_MATRIX_08
;

231 
	`’gše_show_‹xt
(
gd_hªdËr
, 0, 
gd
.
sü“n
.
height
 - 
	`’gše_g‘_fÚt_height
(gd_handler), "!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~", 96);

232 
	`’gše_upd©e
(
gd_hªdËr
);

233 
	`¦“p
(1);

236 
	}
}

238 
si_t
 
	$debug_g¿ph_’gše
()

241 
	`memıy
(&(
gd
.
sü“n
), &
glob®_sü“n
, (screen));

242 
	`’gše_g‘_cŞÜ_lim™
(&
ş
);

244 
gd
.
»ùªgË
.
x
 = 0;

245 
gd
.
»ùªgË
.
y
 = 0;

246 
gd
.
»ùªgË
.
width
 = 
glob®_sü“n
.width;

247 
gd
.
»ùªgË
.
height
 = 
glob®_sü“n
.height;

249 
	`debug_d¿w
();

250 
	`’gše_ş—r_bÏck
(
gd_hªdËr
);

251 
	`debug_fl
();

252 
	`’gše_ş—r_bÏck
(
gd_hªdËr
);

253 
	`debug_‹xt
();

255 
	`´štf
("debuged graph_engine\n");

258 
	}
}

	@debug/graph/debug_graph_engine.h

30 #iâdeà
_DEBUG_GRAPH_ENGINE_H_


31 
	#_DEBUG_GRAPH_ENGINE_H_
 1

	)

33 
	~<ba£_ty³.h
>

35 
si_t
 
debug_g¿ph_’gše
();

	@debug/graph/debug_graph_lower.c

29 
	~<¡dio.h
>

30 
	~<¡ršg.h
>

31 
	~<uni¡d.h
>

33 
	~<g¿ph.h
>

35 
	~"debug_g¿ph_low”.h
"

37 
si_t
 
	$debug_g¿ph_low”
()

39 
cŞÜ
 
c
;

40 
sü“n
 
s
;

41 
»ùªgË
 
a
;

44 
a
.
x
 = 0;

45 
a
.
y
 = 0;

46 
a
.
width
 = 101;

47 
a
.
height
 = 101;

50 
	`memıy
(&
s
, &
glob®_sü“n
, (
sü“n
));

53 
	`sü“n_cŞÜ_lim™
();

55 
	`´štf
("width %ld\n", 
s
.
width
);

56 
	`´štf
("heighˆ %ld\n", 
s
.
height
);

57 
	`´štf
("video_¥aû %ld\n", 
s
.
size
);

58 
	`´štf
("cŞÜ_d•th %ld\n", 
s
.
cŞÜ_d•th
);

60 
	`´štf
("R 0 - %lX\n", 
glob®_cŞÜ_lim™
.
r_lim™
);

61 
	`´štf
("G 0 - %lX\n", 
glob®_cŞÜ_lim™
.
g_lim™
);

62 
	`´štf
("B 0 - %lX\n", 
glob®_cŞÜ_lim™
.
b_lim™
);

63 
	`´štf
("A 0 - %lX\n", 
glob®_cŞÜ_lim™
.
a_lim™
);

65 
c
.
r
 = 
glob®_cŞÜ_lim™
.
r_lim™
;

66 
c
.
g
 = 0;

67 
c
.
b
 = 0;

70 
	`sü“n_ş—r
(&
s
, &
c
);

71 
c
.
r
 = 127;

72 
c
.
g
 = 127;

73 
c
.
b
 = 127;

75 
	`sü“n_£t_pix–
(&
s
, &
a
, &
c
, -100, -100);

76 
sü“n_ıy_¬—


77 (
s
.
memÜy_addr
,

78 
s
.
bufãr_addr
,

83 
s
.
width
,

84 
s
.
height
);

85 
	`¦“p
(1);

87 
	`sü“n_£t_h_lše
(&
s
, &
a
, &
c
, -100, 50, 200, 50);

88 
sü“n_ıy_¬—


89 (
s
.
memÜy_addr
,

90 
s
.
bufãr_addr
,

95 
s
.
width
,

96 
s
.
height
);

97 
	`¦“p
(1);

99 
	`sü“n_£t_v_lše
(&
s
, &
a
, &
c
, 50, -100, 50, 200);

100 
sü“n_ıy_¬—


101 (
s
.
memÜy_addr
,

102 
s
.
bufãr_addr
,

107 
s
.
width
,

108 
s
.
height
);

109 
	`¦“p
(1);

111 
	`sü“n_£t_x_lše
(&
s
, &
a
, &
c
, -100, -100, 200, 200);

112 
sü“n_ıy_¬—


113 (
s
.
memÜy_addr
,

114 
s
.
bufãr_addr
,

119 
s
.
width
,

120 
s
.
height
);

121 
	`¦“p
(1);

123 
	`sü“n_£t_x_lše
(&
s
, &
a
, &
c
, -100, 200, 200, -100);

124 
sü“n_ıy_¬—


125 (
s
.
memÜy_addr
,

126 
s
.
bufãr_addr
,

131 
s
.
width
,

132 
s
.
height
);

133 
	`¦“p
(1);

135 
	`sü“n_£t_¬—
(&
s
, &
a
, &
c
, -100, -100, 300, 300);

136 
sü“n_ıy_¬—


137 (
s
.
memÜy_addr
,

138 
s
.
bufãr_addr
,

143 
s
.
width
,

144 
s
.
height
);

145 
	`¦“p
(1);

148 
	`sü“n_ş—r_bÏck
(&
s
);

149 
sü“n_ıy_¬—


150 (
s
.
memÜy_addr
,

151 
s
.
bufãr_addr
,

156 
s
.
width
 - 16,

157 
s
.
height
 - 16);

158 
	`¦“p
(1);

160 
a
.
x
 = 0;

161 
a
.
y
 = 0;

162 
a
.
width
 = 
s
.width;

163 
a
.
height
 = 
s
.height;

165 
c
.
r
 = 
glob®_cŞÜ_lim™
.
r_lim™
;

166 
c
.
g
 = 
glob®_cŞÜ_lim™
.
g_lim™
;

167 
c
.
b
 = 
glob®_cŞÜ_lim™
.
b_lim™
;

169 
	`sü“n_£t_¬—
(&
s
, &
a
, &
c
, 100, 668, 200, 200);

170 
c
.
b
 = 0;

171 
	`sü“n_£t_¬—
(&
s
, &
a
, &
c
, -100, 200, 200, 200);

172 
sü“n_ıy_¬—


173 (
s
.
bufãr_addr
,

174 
s
.
bufãr_addr
,

181 
	`sü“n_æush
(0, 0, 
s
.
width
, s.
height
);

182 
	`¦“p
(1);

185 
c
.
r
 = 0;

186 
c
.
g
 = 
glob®_cŞÜ_lim™
.
g_lim™
;

187 
c
.
b
 = 0;

189 
	`sü“n_£t_¬—
(&
s
, &
a
, &
c
, 0, 0, 300, 300);

191 
c
.
r
 = 
glob®_cŞÜ_lim™
.
r_lim™
;

192 
c
.
g
 = 
glob®_cŞÜ_lim™
.
g_lim™
;

193 
c
.
b
 = 0;

195 
	`sü“n_£t_¬—
(&
s
, &
a
, &
c
, 300, 0, 300, 300);

196 
	`sü“n_æush
(0, 0, 
s
.
width
, s.
height
);

197 
	`¦“p
(1);

199 
sü“n_ıy_¬—


200 (
s
.
memÜy_addr
,

201 
s
.
memÜy_addr
,

209 
	`¦“p
(1);

211 
	`´štf
("debuged graph_lower\n");

214 
	}
}

	@debug/graph/debug_graph_lower.h

30 #iâdeà
_DEBUG_GRAPH_LOWER_H_


31 
	#_DEBUG_GRAPH_LOWER_H_
 1

	)

33 
	~<ba£_ty³.h
>

35 
si_t
 
debug_g¿ph_low”
();

	@debug/lib/test_client.c

1 
	~<¡ršg.h
>

2 
	~"ş›Á_lib.h
"

3 
	~"log.h
"

5 
	#SERVER_PATH
 "/tmp/‹¡_£rv”_sock"

	)

6 cÚ¡ * 
	gh–p_¡r
 = "usage:\ndraw_line x1 y1 x2 y2\n2.„egister_window…arent_descripter window_title\n3. window_manager_exit";

8 
	$maš
()

10 
egui_uds
 
ş›Á_uds
 = {0};

11 
si_t
 
s_width
 = 0, 
s_height
 = 0, 
gd
 = 0;

12 cÚ¡ 
‹¡_¡r
[] = "hello,ƒgui!";

13 
»ùªgË
 
¬—
 = {0};

17 if(0 !ğ
	`uds_š™
(&
ş›Á_uds
, 
SOCK_STREAM
, 
SERVER_PATH
, 
PEER_ROLE_CLIENT
))

19 
	`EGUI_PRINT_ERROR
("Failedo init server uds");

26 
	`ş›Á_lib_š™
(&
ş›Á_uds
, 
NULL
);

27 
	`EGUI_PRINT_INFO
("client init sucessfully!");

32 
s_width
 = 
	`g‘_sü“n_width
();

33 
s_height
 = 
	`g‘_sü“n_height
();

34 if(
s_width
 < 0 || 
s_height
 < 0)

36 
	`EGUI_PRINT_ERROR
("failedo get screen width or height");

39 
	`EGUI_PRINT_INFO
("sü“Àwidth = %d, heighˆğ%d", ()
s_width
, ()
s_height
);

44 
gd
 = 
	`g¿phics_deviû_š™
(300, 300, 1000, 600, 255, 0, 0, 0, 
FONT_MATRIX_12
);

45 if(
gd
 < 0)

47 
	`EGUI_PRINT_ERROR
("failedo init gd");

54 if(0 !ğ
	`show_‹xt
(
gd
, 300, 300, 
‹¡_¡r
, 
	`¡¾’
(test_str))

55 || 0 !ğ
	`upd©e
(
gd
))

57 
	`EGUI_PRINT_ERROR
("çedØshowe¡ \"%s\"", 
‹¡_¡r
);

64 if(0 !ğ
	`g¿phics_deviû_ex™
(
gd
))

66 
	`EGUI_PRINT_ERROR
("failedoƒxit graph device");

73 if(0 !ğ
	`maximize_wšdow
(10, &
¬—
))

75 
	`EGUI_PRINT_ERROR
("failedo max window");

78 
	`EGUI_PRINT_INFO
("maximizwšdow‡»¨ğ(%d, %d), %d, %d", ()
¬—
.
x
, (ï»a.
y
, (ï»a.
width
, (ï»a.
height
);

80 if(0 !ğ
	`wšdow_mªag”_qu™
())

82 
	`EGUI_PRINT_ERROR
("failedo†et window manager quit");

89 if(0 !ğ
	`uds_ex™
(&
ş›Á_uds
))

91 
	`EGUI_PRINT_ERROR
("failedo clean uds");

95 
	}
}

	@debug/lib/test_server.c

1 
	~<¡ršg.h
>

2 
	~"£rv”_lib.h
"

3 
	~"g¿ph.h
"

4 
	~"log.h
"

5 
	~"comp”.h
"

7 
	#SERVER_PATH
 "/tmp/‹¡_£rv”_sock"

	)

8 
	#FB_DEV_FILE_PATH
 "/dev/fb0"

	)

10 
si_t
 
	$çke_g¿phics_deviû_š™_hªdËr
(
addr_t
 
¬g
, 
si_t
 
gd
)

12 
g¿phics_deviû
* 
gd_±r
 = (g¿phics_deviû*)
gd
;

13 
	`NOT_USED
(
¬g
);

15 
	`memıy
(&(
gd_±r
->
sü“n
), &
glob®_sü“n
, (screen));

16 
gd_±r
->
sü“n
.
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_DIRECT
;

17 
gd_±r
->
sü“n
.
bufãr_addr
 = 
NULL
;

19 
	`EGUI_PRINT_INFO
("çke_g¿phics_deviû_š™_hªdËr(èi ÿÎed! gd = %d", ()
gd
);

22 
	}
}

24 
si_t
 
	$çke_g¿phics_deviû_ex™_hªdËr
(
addr_t
 
¬g
, 
si_t
 
gd
)

26 
	`NOT_USED
(
¬g
);

27 
	`EGUI_PRINT_INFO
("çke_g¿phics_deviû_ex™_hªdËr(èi ÿÎed! gd = %d", ()
gd
);

29 
	}
}

31 
si_t
 
	$çke_maximize_wšdow_hªdËr
(
addr_t
 
¬g
, 
si_t
 
fd
, 
»ùªgË
* 
¬—
)

33 
	`NOT_USED
(
¬g
);

34 
	`EGUI_PRINT_INFO
("maximize_wšdow_hªdËr(èi ÿÎed! fd = %d!", ()
fd
);

35 
¬—
->
x
 = 
fd
 + 1;

36 
¬—
->
y
 = 
fd
 + 2;

37 
¬—
->
width
 = 
fd
 + 3;

38 
¬—
->
height
 = 
fd
 + 4;

40 
	}
}

42 
si_t
 
	$çke_wšdow_mªag”_ex™_hªdËr
(
addr_t
 
¬g
)

44 
	`NOT_USED
(
¬g
);

45 
	`EGUI_PRINT_INFO
("fake_window_manager_exit_handler() is called!");

47 
	}
}

49 
si_t
 
	$çke_upd©e_hªdËr
(
addr_t
 
¬g
, 
si_t
 
gd
)

51 
	`NOT_USED
(
¬g
);

52 
	`’gše_upd©e
(
gd
);

53 
	`EGUI_PRINT_INFO
("fake_update_handler() is called!");

55 
	}
}

57 
si_t
 
	$£rv”_acû±_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
¬g
)

59 
egui_uds
 
ş›Á_uds
 = {0};

60 
	`NOT_USED
(
¬g
);

61 if(0 !ğ
	`acû±_as_uds
(
uds_±r
, &
ş›Á_uds
))

63 
	`EGUI_PRINT_ERROR
("failedo‡ccept client uds");

64  
SELECTER_RETURN_TYPE_END
;

66 
	`£rv”_lib_add_Ãw_ş›Á
(&
ş›Á_uds
, 
NULL
);

68 
	`EGUI_PRINT_INFO
("add‡‚ew client!");

70  
SELECTER_RETURN_TYPE_CONTINUE
;

71 
	}
}

73 
	$maš
()

75 
egui_uds
 
£rv”_uds
;

76 
ev’t_li¡’”
 
£rv”_li¡’”
;

81 if(0 !ğ
	`sü“n_š™
(
FB_DEV_FILE_PATH
))

83 
	`EGUI_PRINT_ERROR
("failedo init screen");

90 if(0 !ğ
	`uds_š™
(&
£rv”_uds
, 
SOCK_STREAM
, 
SERVER_PATH
, 
PEER_ROLE_SERVER
))

92 
	`EGUI_PRINT_ERROR
("Failedo init server uds");

99 
	`ev’t_li¡’”_š™
(&
£rv”_li¡’”
);

100 
	`ev’t_li¡’”_add_»ad_ev’t
(&
£rv”_li¡’”
, &
£rv”_uds
, 
NULL
, 
£rv”_acû±_hªdËr
, NULL);

105 
	`£rv”_lib_š™
(&
£rv”_li¡’”
, 
NULL
);

110 
	`add_g¿phics_deviû_š™_hªdËr
(
çke_g¿phics_deviû_š™_hªdËr
);

111 
	`add_g¿phics_deviû_ex™_hªdËr
(
çke_g¿phics_deviû_ex™_hªdËr
);

112 
	`add_maximize_wšdow_hªdËr
(
çke_maximize_wšdow_hªdËr
);

113 
	`add_wšdow_mªag”_ex™_hªdËr
(
çke_wšdow_mªag”_ex™_hªdËr
);

114 
	`add_upd©e_hªdËr
(
çke_upd©e_hªdËr
);

119 if(0 !ğ
	`ev’t_li¡’”_exec
(&
£rv”_li¡’”
))

121 
	`EGUI_PRINT_ERROR
("failedoƒxecuteƒvent_listener");

128 
	`ev’t_li¡’”_ex™
(&
£rv”_li¡’”
);

133 
	`sü“n_ex™
();

135 
	}
}

	@debug/samples/adv_editerbasic.c

1 
	~<uni¡d.h
>

2 
	~<¡ršg.h
>

3 
	~<¡dlib.h
>

4 
	~<sys/¡©.h
>

5 
	~<fú.h
>

6 
	~<¡dio.h
>

7 
	~<as£¹.h
>

9 
	~"comm.h
"

10 
	~"ş›Á_lib.h
"

11 
	~"widg‘.h
"

12 
	~"­¶iÿtiÚ.h
"

13 
	~"log.h
"

15 
	#LABEL_MAX
 128

	)

16 
	#FILE_MAX
 4096

	)

17 
cŞÜ
 
	gb¬–y_blue
 = {0xcb, 0xf3, 0xfb, 0};

18 
cŞÜ
 
	gd¬k_blue
 = {0x18, 0x29, 0x45, 0};

19 
cŞÜ
 
	glight_blue
 = {0x46, 0xa5, 0xe5, 0};

20 
cŞÜ
 
	glight_g»’
 = {0xcc, 0xff, 0x99, 0};

22 
cŞÜ
 
	glight_y–low
 = {0xff, 0xff, 0xcc, 0};

28 * 
	gfe_buf
 = 
NULL
;

29 * 
	gfe_Çme_buf
 = 
NULL
;

30 * 
	g§ve_fe_Çme_buf
 = 
NULL
;

31 * 
	gİ’_fe_Çme_buf
 = 
NULL
;

33 
	$‹xt_lše_subsüibe_süŞlb¬
(
widg‘
* 
subsüib”
, widg‘* 
pulish”
, 
ev’t
)

35 
‹xt_lše
* 
t
 = 
	`TEXT_LINE_POINTER
(
subsüib”
);

36 
süŞl_b¬
* 
s
 = 
	`SCROLL_BAR_POINTER
(
pulish”
);

37 
lš’o_cur
 = 
	`‹xt_lše_g‘_lše_cur
(
t
);

38 
lšes_³r_·ge
 = 
	`‹xt_lše_g‘_max_lše_shown
(
t
);

40 
ev’t
)

45 
SCROLL_BAR_EVENT_LINE_UP
:

46 
	`‹xt_lše_upd©e_ruËr_lše
(
t
, 
lš’o_cur
 - 1);

52 
SCROLL_BAR_EVENT_LINE_DOWN
:

53 
	`‹xt_lše_upd©e_ruËr_lše
(
t
, 
lš’o_cur
 + 1);

59 
SCROLL_BAR_EVENT_PAGE_UP
:

60 
	`‹xt_lše_upd©e_ruËr_lše
(
t
, 
lš’o_cur
 - 
lšes_³r_·ge
);

66 
SCROLL_BAR_EVENT_PAGE_DOWN
:

67 
	`‹xt_lše_upd©e_ruËr_lše
(
t
, 
lš’o_cur
 + 
lšes_³r_·ge
);

73 
SCROLL_BAR_EVENT_CHANGE
:

74 
	`‹xt_lše_upd©e_ruËr_lše
(
t
, 
s
->
cur_off£t
 / s->
lše_height
);

81 
	`‹xt_lše_»·št
(
t
);

82 
	`‹xt_lše_show
(
t
);

83 
	}
}

85 
	$süŞlb¬_subsüibe_‹xt_lše
(
widg‘
* 
subsüib”
, widg‘* 
pulish”
, 
ev’t
)

87 
süŞl_b¬
* 
s
 = 
	`SCROLL_BAR_POINTER
(
subsüib”
);

89 
ev’t
)

94 
TEXT_LINE_EVENT_PAGE_UP
:

95 
	`süŞl_b¬_upd©e_off£t
(
s
, s->
cur_off£t
 - s->
lše_height
);

101 
TEXT_LINE_EVENT_PAGE_DOWN
:

102 
	`süŞl_b¬_upd©e_off£t
(
s
, s->
cur_off£t
 + s->
lše_height
);

108 
TEXT_LINE_EVENT_PAGE_CHANGE
:

115 
TEXT_LINE_EVENT_CURRENT_CHANGE
:

123 
	`süŞl_b¬_»·št
(
s
);

124 
	`süŞl_b¬_show
(
s
);

125 
	}
}

127 
si_t
 
	$§ve_fe
(* 
fe
, * 
buf
, * 
w¬nšg_sign
)

129 
si_t
 
fd
 = -1;

130 if((
fd
 = 
	`İ’
(
fe
, 
O_WRONLY
 | 
O_CREAT
 | 
O_TRUNC
, 0664)) == -1)

132 
	`EGUI_PRINT_SYS_ERROR
("çedØİ’ f%s. o³n()", 
fe
);

133 
	`¥rštf
(
w¬nšg_sign
, "error when saved: failedo open file");

136 if(
	`wr™e
(
fd
, 
buf
, 
	`¡¾’
(buf)) == -1)

138 
	`EGUI_PRINT_SYS_ERROR
("çedØwr™buàtØf%s. wr™e()", 
fe
);

139 
	`¥rštf
(
w¬nšg_sign
, "error when saved: failedo write file");

142 if(
	`şo£
(
fd
) == -1)

144 
	`EGUI_PRINT_SYS_ERROR
("çedØşo£ f%s. clo£()", 
fe
);

145 
	`¥rštf
(
w¬nšg_sign
, "error when saved: failedo close file");

148 
	`¥rštf
(
w¬nšg_sign
, "save file successfully!");

150 
	}
}

152 
si_t
 
	$§ve_wšdow_bu‰Ú_ÿÎback
(* 
bŠ
, * 
msg
)

154 
mes§ge
* 
m
 = (mes§ge*)
msg
;

155 * 
buç
;

156 * 
bufb
;

157 
¡r
[] = "save successfully";

158 
m
->
ba£
.
ty³
)

160 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

161 
	`§ve_fe
(
	`‹xt_lše_g‘_buf
(

),ext_lše_g‘_buf(
tb
), 
l
->
‹xt
);

165 
	`bu‰Ú_deçuÉ_ÿÎback
(
bŠ
, 
msg
);

169 
	`Ïb–_»·št
(
l
);

170 
	`Ïb–_show
(
l
);

172 
	}
}

174 
si_t
 
	$lßd_fe
(* 
fe_·th
, * 
buf
, * 
w¬nšg_sign
)

176 
fd
;

177 if((
fd
 = 
	`İ’
(
fe_·th
, 
O_RDONLY
))==-1)

179 
	`EGUI_PRINT_SYS_ERROR
("çedØİ’ %s. o³n()", 
fe_·th
);

180 
	`¥rštf
(
w¬nšg_sign
, "error when†oad file: failedo open");

183 if(
	`»ad
(
fd
, 
buf
, 
FILE_MAX
) == -1)

185 
	`EGUI_PRINT_SYS_ERROR
("çedØ»ad %s.„—d()", 
fe_·th
);

186 
	`¥rštf
(
w¬nšg_sign
, "error when†oad file: failedo„ead");

189 if(
	`şo£
(
fd
) == -1)

191 
	`EGUI_PRINT_SYS_ERROR
("çedØşo£%s. clo£()", 
fe_·th
);

192 
	`¥rštf
(
w¬nšg_sign
, "error when†oad file: failedo close");

195 
	`¥rštf
(
w¬nšg_sign
, "load file successfully!");

197 
	}
}

199 
	$İ’_fe_pİ_wšdow
Ğ* 
fe_·th
 )

201 
bufãr_¡»am
[
FILE_MAX
];

202 
wšdow
 * 
wš
;

203 
‹xt_lše
 *

;

204 
wš
 = 
	`wšdow_š™
(66);

205 
wš
->
t™Ë
 = "Open Files";

206 
wš
->
maximize_’abË
 = 1;

207 
wš
->
mšimize_’abË
 = 1;

208 
	`wšdow_£t_bounds
(
wš
, 100, 100, 300, 100);

209 
wš
->
ÿÎback
 = 
wšdow_deçuÉ_ÿÎback
;

210 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
wš
);

212 

 = 
	`‹xt_lše_š™
(67);

213 

->
fÜe_cŞÜ
 = 
d¬k_blue
;

214 
	`‹xt_lše_£t_bufsize
(

, 
FILE_MAX
);

215 
	`‹xt_lše_£t_muÉšes
(

, 0);

216 
	`‹xt_lše_£t_bounds
(

, 0, 0, 300, 100);

217 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
wš
), OBJECT_POINTER(

));

220 
	`mem£t
(
bufãr_¡»am
, 0, 
FILE_MAX
);

221 
	`lßd_fe
(
fe_·th
, 
bufãr_¡»am
, buffer_stream);

222 
	`‹xt_lše_£t_¶aûhŞd”
(

, 
bufãr_¡»am
);

223 
	}
}

225 
si_t
 
	$İ’_wšdow_bu‰Ú_ÿÎback
(* 
bŠ
, *
msg
 )

227 
mes§ge
 * 
m
 = (mes§ge*)
msg
;

228  
m
->
ba£
.
ty³
)

230 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

232 * 
fe_·th
 = 
	`‹xt_lše_g‘_buf
(

);

233 
	`İ’_fe_pİ_wšdow
(
fe_·th
);

237 
	`bu‰Ú_deçuÉ_ÿÎback
(
bŠ
, 
msg
);

242 
	}
}

244 
	$maš
(
¬gc
, * 
¬gv
[])

246 
wšdow
* 
w
 = 
NULL
;

247 
Ïb–
* 
fe_Çme_Ïb–
 = 
NULL
;

248 
Ïb–
* 
log_Ïb–
 = 
NULL
;

249 
bu‰Ú
* 
§ve_wšdow_bu‰Ú
 = 
NULL
;

250 
bu‰Ú
* 
İ’_wšdow_bu‰Ú
 = 
NULL
;

251 
‹xt_lše
* 
fe_cÚ‹xt_‹xt_lše
 = 
NULL
;

252 
süŞl_b¬
 * 
s
 = 
NULL
;

253 
msg
[
LABEL_MAX
] = {0};

254 
Çme
[
LABEL_MAX
] = {0};

255 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

256 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

259 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "editerbasic");

264 
w
 = 
	`wšdow_š™
(0);

265 if(
w
 =ğ
NULL
)

267 
	`­¶iÿtiÚ_ex™
();

270 
	`wšdow_£t_bounds
(
w
, 300, 100, 550, 300);

271 
w
->
t™Ë
 = "editer_basic";

272 
w
->
back_cŞÜ
 = 
light_g»’
;

277 
log_Ïb–
 = 
	`Ïb–_š™
(1);

278 if(
log_Ïb–
 =ğ
NULL
)

280 
	`­¶iÿtiÚ_ex™
();

283 
log_Ïb–
->
‹xt
 = 
msg
;

284 
	`Ïb–_£t_bounds
(
log_Ïb–
, 5, 275, 450, 20);

285 
log_Ïb–
->
back_cŞÜ
 = 
w
->back_color;

290 
fe_Çme_Ïb–
 = 
	`Ïb–_š™
(2);

291 if(
fe_Çme_Ïb–
 =ğ
NULL
)

293 
	`­¶iÿtiÚ_ex™
();

296 
fe_Çme_buf
 = 
fe_Çme_Ïb–
->
‹xt
;

297 
	`Ïb–_£t_bounds
(

, 5, 5, 410, 30);

298 

->
fÜe_cŞÜ
 = 
d¬k_blue
;

303 
§ve_wšdow_bu‰Ú
 = 
	`bu‰Ú_š™
(3);

304 if(
§ve_wšdow_bu‰Ú
 =ğ
NULL
)

306 
	`­¶iÿtiÚ_ex™
();

309 
	`bu‰Ú_£t_bounds
(
§ve_wšdow_bu‰Ú
, 415, 5, 60, 30);

310 
§ve_wšdow_bu‰Ú
->
‹xt
 = "save";

311 
§ve_wšdow_bu‰Ú
->
fÚt
 = 
FONT_MATRIX_12
;

312 
§ve_wšdow_bu‰Ú
->
back_cŞÜ
 = 
b¬–y_blue
;

313 
§ve_wšdow_bu‰Ú
->
fÜe_cŞÜ
 = 
d¬k_blue
;

314 
§ve_wšdow_bu‰Ú
->
ÿÎback
 = 
§ve_wšdow_bu‰Ú_ÿÎback
;

319 
İ’_wšdow_bu‰Ú
 = 
	`bu‰Ú_š™
(4);

320 if(
İ’_wšdow_bu‰Ú
 =ğ
NULL
){

321 
	`­¶iÿtiÚ_ex™
();

324 
	`bu‰Ú_£t_bounds
(
İ’_wšdow_bu‰Ú
, 480, 5, 60, 30);

325 
İ’_wšdow_bu‰Ú
->
‹xt
 = "open";

326 
İ’_wšdow_bu‰Ú
->
fÚt
 = 
FONT_MATRIX_12
;

327 
İ’_wšdow_bu‰Ú
->
back_cŞÜ
 = 
b¬–y_blue
;

328 
İ’_wšdow_bu‰Ú
->
fÜe_cŞÜ
 = 
d¬k_blue
;

329 
İ’_wšdow_bu‰Ú
->
ÿÎback
 = 
İ’_wšdow_bu‰Ú_ÿÎback
;

334 
fe_cÚ‹xt_‹xt_lše
 = 
	`‹xt_lše_š™
(5);

335 if(
tb
 =ğ
NULL
)

337 
	`­¶iÿtiÚ_ex™
();

340 
	`‹xt_lše_£t_bounds
(
fe_cÚ‹xt_‹xt_lše
, 5, 40, 520, 230);

341 
fe_cÚ‹xt_‹xt_lše
->
fÜe_cŞÜ
 = 
d¬k_blue
;

346 
s
 = 
	`süŞl_b¬_š™
(6);

347 if(
s
 =ğ
NULL
)

349 
	`­¶iÿtiÚ_ex™
();

352 
	`süŞl_b¬_£t_bounds
(
s
, 525, 40, 20, 230);

357 if(
¬gc
 == 1)

359 
fÚty
 = 
	`g‘_fÚt_height
(
fe_cÚ‹xt_‹xt_lše
->
gd
);

360 
maxshown
;

361 
	`¡ºıy
(
l
->
‹xt
, 
¡r
, (str));

366 
fe_Çme_Ïb–
->
‹xt
 = "new file";

371 
	`‹xt_lše_£t_bufsize
(
fe_Çme_‹xt
, 
FILE_MAX
);

372 
	`‹xt_lše_£t_¶aûhŞd”
(
tb
, "place holder");

373 
	`‹xt_lše_£t_muÉšes
(
tb
, 0);

374 
	`‹xt_lše_»gi¡”_move_hªdËr
(
tb
, 
	`WIDGET_POINTER
(
s
), 
TEXT_LINE_EVENT_ALL
, 
süŞlb¬_subsüibe_‹xt_lše
);

380 
maxshown
 = 
fÚty
 * 
	`‹xt_lše_g‘_max_lše_shown
(
tb
);

381 
s
->
¬—
.
y
 +ğ(s->¬—.
height
 - 
maxshown
)/ 2;

382 
s
->
¬—
.
height
 = 
maxshown
;

384 
	`süŞl_b¬_£t_v”tiÿl
(
s
);

385 
	`süŞl_b¬_£t_lše_height
(
s
, 
fÚty
);

386 
	`süŞl_b¬_£t_v›w
(
s
, 
maxshown
, 0);

387 
	`süŞl_b¬_»gi¡”_move_hªdËr
(
s
, 
	`WIDGET_POINTER
(
tb
), 
SCROLL_BAR_EVENT_ALL
, 
‹xt_lše_subsüibe_süŞlb¬
);

392 if(
¬gc
 == 2)

394 
¡©
 
¡
;

395 if(
	`¡©
(
¬gv
[1], &
¡
) == -1)

397 
	`­¶iÿtiÚ_ex™
();

401 if(
	`S_ISREG
(
¡
.
¡_mode
è&& 
	`acûss
(
¬gv
[1], 
R_OK
 | 
W_OK
) == 0)

406 if(
¡
.
¡_size
 > 
FILE_MAX
)

408 
¡r
[] = "fileoo†arge";

409 
	`¡ºıy
(
l
->
‹xt
, 
¡r
, (str));

413 
¡r
[] = "open successfully";

414 * 
buf
;

415 
fd
;

416 
fÚty
 = 
	`g‘_fÚt_height
(
tb
->
gd
);

417 
tÙ®
, 
maxshown
;

418 
	`fæush
(
¡dout
);

423 
	`¡ºıy
(
l
->
‹xt
, 
¡r
, (str));

428 
	`‹xt_lše_£t_bufsize
(

, 
LABEL_MAX
);

429 
	`‹xt_lše_£t_¶aûhŞd”
(

, "enter filename");

430 
buf
 = 
	`‹xt_lše_g‘_buf
(

);

431 
	`¡ºıy
(
buf
, 
¬gv
[1], 
LABEL_MAX
);

436 
	`‹xt_lše_£t_bufsize
(
tb
, 
FILE_MAX
);

437 
	`‹xt_lše_£t_¶aûhŞd”
(
tb
, "place holder");

438 
	`‹xt_lše_£t_muÉšes
(
tb
, 0);

439 
	`‹xt_lše_»gi¡”_move_hªdËr
(
tb
, 
	`WIDGET_POINTER
(
s
), 
TEXT_LINE_EVENT_ALL
, 
süŞlb¬_subsüibe_‹xt_lše
);

444 
	`lßd_fe
(
¬gv
[1], 
	`‹xt_lše_g‘_buf
(
tb
), 
l
->
‹xt
);

449 
maxshown
 = 
fÚty
 * 
	`‹xt_lše_g‘_max_lše_shown
(
tb
);

450 
s
->
¬—
.
y
 +ğ(s->¬—.
height
 - 
maxshown
)/ 2;

451 
s
->
¬—
.
height
 = 
maxshown
;

452 
tÙ®
 = 
	`‹xt_lše_g‘_lše_tÙ®
(
tb
);

453 
	`süŞl_b¬_£t_v”tiÿl
(
s
);

454 
	`süŞl_b¬_£t_lše_height
(
s
, 
fÚty
);

455 
	`süŞl_b¬_£t_v›w
(
s
, 
fÚty
 * 
tÙ®
, 0);

456 
	`süŞl_b¬_»gi¡”_move_hªdËr
(
s
, 
	`WIDGET_POINTER
(
tb
), 
SCROLL_BAR_EVENT_ALL
, 
‹xt_lše_subsüibe_süŞlb¬
);

461 
¡r
[] = "permission denied";

462 
	`¡ºıy
(
l
->
‹xt
, 
¡r
, (str));

470 
¡r
[] = "wrong…arameter!";

471 
	`¡ºıy
(
l
->
‹xt
, 
¡r
, (str));

474 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
l
));

475 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
tb
));

476 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(

));

477 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b
));

478 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
s
));

479 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
bt_İ’
));

482 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w
);

484 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w
);

487 
	`­¶iÿtiÚ_exec
();

490 
	}
}

	@debug/samples/calculator/calculator.c

30 
	~<¡dio.h
>

31 
	~<¡ršg.h
>

32 
	~<¡dlib.h
>

34 
	~<uni¡d.h
>

36 
	~"ş›Á_lib.h
"

37 
	~"­¶iÿtiÚ.h
"

39 
	~"ÿlcuÏtÜ.h
"

41 
Ïb–
 * 
	gl
;

43 
bu‰Ú
 * 
	gb_0
;

44 
bu‰Ú
 * 
	gb_1
;

45 
bu‰Ú
 * 
	gb_2
;

46 
bu‰Ú
 * 
	gb_3
;

47 
bu‰Ú
 * 
	gb_4
;

48 
bu‰Ú
 * 
	gb_5
;

49 
bu‰Ú
 * 
	gb_6
;

50 
bu‰Ú
 * 
	gb_7
;

51 
bu‰Ú
 * 
	gb_8
;

52 
bu‰Ú
 * 
	gb_9
;

58 
bu‰Ú
 * 
	gb_mr
;

64 
bu‰Ú
 * 
	gb_mc
;

69 
bu‰Ú
 * 
	gb_madd
;

74 
bu‰Ú
 * 
	gb_msub
;

79 
bu‰Ú
 * 
	gb_c
;

81 
bu‰Ú
 * 
	gb_add
;

82 
bu‰Ú
 * 
	gb_sub
;

83 
bu‰Ú
 * 
	gb_mul
;

84 
bu‰Ú
 * 
	gb_div
;

86 
bu‰Ú
 * 
	gb_dÙ
;

88 
bu‰Ú
 * 
	gb_equ®
;

90 
bu‰Ú
 * 
	gb_Çg‘ive_pos™ive
;

93 
	gİ”ªd_1
[11];

95 
	gİ”ªd_2
[11];

97 
	gmemÜy
[11];

99 
	gİ”©Ü_ch¬
;

102 
si_t
 
	$bu‰Ú_İ”ªd_ÿÎback
(* 
bŠ
, * 
msg
)

104 
bu‰Ú
 * 
b
 = 
bŠ
;

105 
mes§ge
 * 
m
 = 
msg
;

106 
si_t
 
Ëngth
 = 
	`¡¾’
(
İ”ªd_2
);

108 
m
->
ba£
.
ty³
)

110 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

115 if(
İ”ªd_2
[0] == '0' && operand_2[1] == 0)

117 if(
b
->
‹xt
[0] == '.')

119 
İ”ªd_2
[0] = '0';

120 
İ”ªd_2
[1] = '.';

121 
İ”ªd_2
[2] = 0;

125 
İ”ªd_2
[0] = 
b
->
‹xt
[0];

126 
İ”ªd_2
[1] = 0;

131 if(
Ëngth
 < 10)

133 
İ”ªd_2
[
Ëngth
] = 
b
->
‹xt
[0];

134 
İ”ªd_2
[
Ëngth
 + 1] = 0;

138 
l
->
‹xt
 = 
İ”ªd_2
;

139 
	`Ïb–_»·št
(
l
);

140 
	`Ïb–_show
(
l
);

145 
	`bu‰Ú_deçuÉ_ÿÎback
(
bŠ
, 
msg
);

151 
	}
}

154 
si_t
 
	$bu‰Ú_İ”©Ü_ÿÎback
(* 
bŠ
, * 
msg
)

156 
bu‰Ú
 * 
b
 = 
bŠ
;

157 
mes§ge
 * 
m
 = 
msg
;

158 
si_t
 
”rÜ_æag
 ;

160 
si_t
 
i1
, 
i2
;

161 
”rÜ_æag
 = 0;

162 
m
->
ba£
.
ty³
)

164 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

169 
	`memıy
(
İ”ªd_2
, 
l
->
‹xt
, 11);

172 if(
İ”©Ü_ch¬
 == 0)

174 
	`memıy
(
İ”ªd_1
, 
İ”ªd_2
, 11);

176 
İ”ªd_2
[0] = 0;

184 
i1
 = 
	`©oi
(
İ”ªd_1
);

185 
i2
 = 
	`©oi
(
İ”ªd_2
);

188 if(
İ”©Ü_ch¬
 == '+')

193 
i1
 +ğ
i2
;

195 if(
İ”©Ü_ch¬
 == '-')

200 
i1
 -ğ
i2
;

202 if(
İ”©Ü_ch¬
 == '*')

207 
i1
 *ğ
i2
;

209 if(
İ”©Ü_ch¬
 == '/')

214 if(
i2
 != 0)

216 
i1
 /ğ
i2
;

220 
”rÜ_æag
 = 1;

223 
	`¥rštf
(
İ”ªd_1
, "%d", ()
i1
);

225 
İ”ªd_2
[0] = '0';

226 
İ”ªd_2
[1] = 0;

227 
l
->
‹xt
 =(
”rÜ_æag
 =ğ0)? 
İ”ªd_1
 : "Error" ;

229 
	`Ïb–_»·št
(
l
);

230 
	`Ïb–_show
(
l
);

233 if(
b
->
‹xt
[0] == '+')

235 
İ”©Ü_ch¬
 = '+';

237 if(
b
->
‹xt
[0] == '-')

239 
İ”©Ü_ch¬
 = '-';

241 if(
b
->
‹xt
[0] == '*')

243 
İ”©Ü_ch¬
 = '*';

245 if(
b
->
‹xt
[0] == '/')

247 
İ”©Ü_ch¬
 = '/';

249 if(
b
->
‹xt
[0] == '=')

251 
İ”©Ü_ch¬
 = 0;

257 
	`bu‰Ú_deçuÉ_ÿÎback
(
bŠ
, 
msg
);

262 
	}
}

264 
si_t
 
	$bu‰Ú_¥ecŸl_ÿÎback
(*
bŠ
 , *
msg
)

266 
bu‰Ú
 * 
b
 = (bu‰Ú*)
bŠ
;

267 
mes§ge
 * 
m
 = (mes§ge*)
msg
;

268 
si_t
 
‹mp_memÜy
 , 
cu¼_İ”ªd
;

270 
‹mp_memÜy
 = 
	`©oi
(
memÜy
);

271 
cu¼_İ”ªd
 = 
	`©oi
(
l
->
‹xt
);

273 
m
->
ba£
.
ty³
)

275 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

276 if(
b
->
‹xt
[1] == 'S')

278 
	`memıy
(
memÜy
,
l
->
‹xt
,11);

279 
	`´štf
("MS DÚ-->‚ow memÜy=%d\n",
	`©oi
(
memÜy
));

281 if(
b
->
‹xt
[1] == 'R')

283 
	`¥rštf
(
İ”ªd_2
,"%d", 
	`©oi
(
memÜy
));

284 
l
->
‹xt
 = 
İ”ªd_2
;

285 
İ”©Ü_ch¬
 = 0;

286 
İ”ªd_1
[0] = '0';

287 
İ”ªd_1
[1] = 0;

289 
	`Ïb–_»·št
(
l
);

290 
	`Ïb–_show
(
l
);

291 
	`´štf
("MR DÚ-->‚ow memÜyğ%d\n",
	`©oi
(
memÜy
));

293 if(
b
->
‹xt
[1] == '+')

295 
‹mp_memÜy
 +ğ
cu¼_İ”ªd
;

296 
	`¥rštf
(
memÜy
, "%d", ()
‹mp_memÜy
);

297 
	`´štf
("M+ DÚ-->‚ow memÜy=%d\n",
	`©oi
(
memÜy
));

300 if(
b
->
‹xt
[1] == '-')

302 
‹mp_memÜy
 -ğ
cu¼_İ”ªd
;

303 
	`¥rštf
(
memÜy
, "%d", ()
‹mp_memÜy
);

304 
	`´štf
("M- DÚ-->‚ow memÜy=%d\n",
	`©oi
(
memÜy
));

306 if(
b
->
‹xt
[1] == 'C')

308 
memÜy
[0] = '0';

309 
memÜy
[1] = 0;

310 
	`´štf
("MC DÚ-->‚ow memÜy=%d\n",
	`©oi
(
memÜy
));

314 
	`bu‰Ú_deçuÉ_ÿÎback
(
bŠ
,
msg
);

319 
	}
}

320 
si_t
 
	$bu‰Ú_ş—r_ÿÎback
(* 
bŠ
, * 
msg
)

322 
mes§ge
 * 
m
 = 
msg
;

324 
m
->
ba£
.
ty³
)

326 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

330 
l
->
‹xt
 = "0";

331 
İ”ªd_1
[0] = '0';

332 
İ”ªd_2
[0] = '0';

333 
memÜy
[0] = '0';

334 
İ”ªd_1
[1] = 0;

335 
İ”ªd_2
[1] = 0;

336 
memÜy
[1] = 0;

337 
İ”©Ü_ch¬
 = 0;

339 
	`Ïb–_»·št
(
l
);

340 
	`Ïb–_show
(
l
);

343 
	`bu‰Ú_deçuÉ_ÿÎback
(
bŠ
, 
msg
);

348 
	}
}

350 
si_t
 
	$my_š™
()

352 
İ”ªd_1
[0] = '0';

353 
İ”ªd_2
[0] = '0';

354 
memÜy
[0] = '0';

355 
İ”ªd_1
[1] = 0;

356 
İ”ªd_2
[1] = 0;

357 
memÜy
[1] = 0;

358 
İ”©Ü_ch¬
 = 0;

360 
l
 = 
	`Ïb–_š™
("0");

361 if(
l
 =ğ
NULL
)

363 
	`­¶iÿtiÚ_ex™
();

367 
l
->
bÜd”_size
 = 1;

368 
	`Ïb–_£t_bounds
(
l
, 0, 0, 163, 34);

369 
l
->
back_cŞÜ
.
r
 = 0;

370 
l
->
back_cŞÜ
.
g
 = 255;

371 
l
->
back_cŞÜ
.
b
 = 0;

372 
l
->
back_cŞÜ
.
a
 = 0;

373 
	`Ïb–_£t_fÚt
(
l
, 
FONT_MATRIX_16
);

374 
l
->
ÿÎback
 = 
Ïb–_deçuÉ_ÿÎback
;

377 
b_mc
 = 
	`bu‰Ú_š™
("MC");

379 if(
b_mc
 =ğ
NULL
)

381 
	`­¶iÿtiÚ_ex™
();

384 
	`bu‰Ú_£t_bounds
(
b_mc
,0,35,40,34);

385 
	`bu‰Ú_£t_fÚt
(
b_mc
, 
FONT_MATRIX_16
);

386 
b_mc
->
ÿÎback
 = 
bu‰Ú_¥ecŸl_ÿÎback
;

389 
b_madd
 = 
	`bu‰Ú_š™
("M+");

391 if(
b_madd
 =ğ
NULL
)

393 
	`­¶iÿtiÚ_ex™
();

396 
	`bu‰Ú_£t_bounds
(
b_madd
, 41, 35, 40, 34);

397 
	`bu‰Ú_£t_fÚt
(
b_madd
, 
FONT_MATRIX_16
);

398 
b_madd
->
ÿÎback
 = 
bu‰Ú_¥ecŸl_ÿÎback
;

401 
b_msub
 = 
	`bu‰Ú_š™
("M-");

403 if(
b_msub
 =ğ
NULL
)

405 
	`­¶iÿtiÚ_ex™
();

408 
	`bu‰Ú_£t_bounds
(
b_msub
, 82, 35, 40, 34);

409 
	`bu‰Ú_£t_fÚt
(
b_msub
, 
FONT_MATRIX_16
);

410 
b_msub
->
ÿÎback
 = 
bu‰Ú_¥ecŸl_ÿÎback
;

413 
b_mr
 = 
	`bu‰Ú_š™
("MR");

415 if(
b_mr
 =ğ
NULL
)

417 
	`­¶iÿtiÚ_ex™
();

420 
	`bu‰Ú_£t_bounds
(
b_mr
, 123, 35, 40, 34);

421 
	`bu‰Ú_£t_fÚt
(
b_mr
, 
FONT_MATRIX_16
);

422 
b_mr
->
ÿÎback
 = 
bu‰Ú_¥ecŸl_ÿÎback
;

425 
b_add
 = 
	`bu‰Ú_š™
("+");

427 if(
b_add
 =ğ
NULL
)

429 
	`­¶iÿtiÚ_ex™
();

432 
	`bu‰Ú_£t_bounds
(
b_add
, 0, 70, 40, 34);

433 
	`bu‰Ú_£t_fÚt
(
b_add
, 
FONT_MATRIX_16
);

434 
b_add
->
ÿÎback
 = 
bu‰Ú_İ”©Ü_ÿÎback
;

437 
b_sub
 = 
	`bu‰Ú_š™
("-");

439 if(
b_sub
 =ğ
NULL
)

441 
	`­¶iÿtiÚ_ex™
();

444 
	`bu‰Ú_£t_bounds
(
b_sub
, 41, 70, 40, 34);

445 
	`bu‰Ú_£t_fÚt
(
b_sub
, 
FONT_MATRIX_16
);

446 
b_sub
->
ÿÎback
 = 
bu‰Ú_İ”©Ü_ÿÎback
;

449 
b_mul
 = 
	`bu‰Ú_š™
("*");

451 if(
b_mul
 =ğ
NULL
)

453 
	`­¶iÿtiÚ_ex™
();

456 
	`bu‰Ú_£t_bounds
(
b_mul
, 82, 70, 40, 34);

457 
	`bu‰Ú_£t_fÚt
(
b_mul
, 
FONT_MATRIX_16
);

458 
b_mul
->
ÿÎback
 = 
bu‰Ú_İ”©Ü_ÿÎback
;

461 
b_div
 = 
	`bu‰Ú_š™
("/");

463 if(
b_div
 =ğ
NULL
)

465 
	`­¶iÿtiÚ_ex™
();

468 
	`bu‰Ú_£t_bounds
(
b_div
, 123, 70, 40, 34);

469 
	`bu‰Ú_£t_fÚt
(
b_div
, 
FONT_MATRIX_16
);

470 
b_div
->
ÿÎback
 = 
bu‰Ú_İ”©Ü_ÿÎback
;

473 
b_7
 = 
	`bu‰Ú_š™
("7");

475 if(
b_7
 =ğ
NULL
)

477 
	`­¶iÿtiÚ_ex™
();

480 
	`bu‰Ú_£t_bounds
(
b_7
, 0, 105, 40, 34);

481 
	`bu‰Ú_£t_fÚt
(
b_7
, 
FONT_MATRIX_16
);

482 
b_7
->
ÿÎback
 = 
bu‰Ú_İ”ªd_ÿÎback
;

485 
b_8
 = 
	`bu‰Ú_š™
("8");

487 if(
b_8
 =ğ
NULL
)

489 
	`­¶iÿtiÚ_ex™
();

492 
	`bu‰Ú_£t_bounds
(
b_8
, 41, 105, 40, 34);

493 
	`bu‰Ú_£t_fÚt
(
b_8
, 
FONT_MATRIX_16
);

494 
b_8
->
ÿÎback
 = 
bu‰Ú_İ”ªd_ÿÎback
;

497 
b_9
 = 
	`bu‰Ú_š™
("9");

499 if(
b_9
 =ğ
NULL
)

501 
	`­¶iÿtiÚ_ex™
();

504 
	`bu‰Ú_£t_bounds
(
b_9
, 82, 105, 40, 34);

505 
	`bu‰Ú_£t_fÚt
(
b_9
, 
FONT_MATRIX_16
);

506 
b_9
->
ÿÎback
 = 
bu‰Ú_İ”ªd_ÿÎback
;

509 
b_c
 = 
	`bu‰Ú_š™
("C");

511 if(
b_c
 =ğ
NULL
)

513 
	`­¶iÿtiÚ_ex™
();

516 
	`bu‰Ú_£t_bounds
(
b_c
, 123, 105, 40, 34);

517 
	`bu‰Ú_£t_fÚt
(
b_c
, 
FONT_MATRIX_16
);

518 
b_c
->
ÿÎback
 = 
bu‰Ú_ş—r_ÿÎback
;

521 
b_4
 = 
	`bu‰Ú_š™
("4");

523 if(
b_4
 =ğ
NULL
)

525 
	`­¶iÿtiÚ_ex™
();

528 
	`bu‰Ú_£t_bounds
(
b_4
, 0, 140, 40, 34);

529 
	`bu‰Ú_£t_fÚt
(
b_4
, 
FONT_MATRIX_16
);

530 
b_4
->
ÿÎback
 = 
bu‰Ú_İ”ªd_ÿÎback
;

533 
b_5
 = 
	`bu‰Ú_š™
("5");

535 if(
b_5
 =ğ
NULL
)

537 
	`­¶iÿtiÚ_ex™
();

540 
	`bu‰Ú_£t_bounds
(
b_5
, 41, 140, 40, 34);

541 
	`bu‰Ú_£t_fÚt
(
b_5
, 
FONT_MATRIX_16
);

542 
b_5
->
ÿÎback
 = 
bu‰Ú_İ”ªd_ÿÎback
;

545 
b_6
 = 
	`bu‰Ú_š™
("6");

547 if(
b_6
 =ğ
NULL
)

549 
	`­¶iÿtiÚ_ex™
();

552 
	`bu‰Ú_£t_bounds
(
b_6
, 82, 140, 40, 34);

553 
	`bu‰Ú_£t_fÚt
(
b_6
, 
FONT_MATRIX_16
);

554 
b_6
->
ÿÎback
 = 
bu‰Ú_İ”ªd_ÿÎback
;

557 
b_Çg‘ive_pos™ive
 = 
	`bu‰Ú_š™
("MS");

559 if(
b_Çg‘ive_pos™ive
 =ğ
NULL
)

561 
	`­¶iÿtiÚ_ex™
();

564 
	`bu‰Ú_£t_bounds
(
b_Çg‘ive_pos™ive
, 123, 140, 40, 34);

565 
	`bu‰Ú_£t_fÚt
(
b_Çg‘ive_pos™ive
, 
FONT_MATRIX_16
);

566 
b_Çg‘ive_pos™ive
->
ÿÎback
 = 
bu‰Ú_¥ecŸl_ÿÎback
;

569 
b_1
 = 
	`bu‰Ú_š™
("1");

571 if(
b_1
 =ğ
NULL
)

573 
	`­¶iÿtiÚ_ex™
();

576 
	`bu‰Ú_£t_bounds
(
b_1
, 0, 175, 40, 34);

577 
	`bu‰Ú_£t_fÚt
(
b_1
, 
FONT_MATRIX_16
);

578 
b_1
->
ÿÎback
 = 
bu‰Ú_İ”ªd_ÿÎback
;

581 
b_2
 = 
	`bu‰Ú_š™
("2");

583 if(
b_2
 =ğ
NULL
)

585 
	`­¶iÿtiÚ_ex™
();

588 
	`bu‰Ú_£t_bounds
(
b_2
, 41, 175, 40, 34);

589 
	`bu‰Ú_£t_fÚt
(
b_2
, 
FONT_MATRIX_16
);

590 
b_2
->
ÿÎback
 = 
bu‰Ú_İ”ªd_ÿÎback
;

593 
b_3
 = 
	`bu‰Ú_š™
("3");

595 if(
b_3
 =ğ
NULL
)

597 
	`­¶iÿtiÚ_ex™
();

600 
	`bu‰Ú_£t_bounds
(
b_3
, 82, 175, 40, 34);

601 
	`bu‰Ú_£t_fÚt
(
b_3
, 
FONT_MATRIX_16
);

602 
b_3
->
ÿÎback
 = 
bu‰Ú_İ”ªd_ÿÎback
;

605 
b_equ®
 = 
	`bu‰Ú_š™
("=");

607 if(
b_equ®
 =ğ
NULL
)

609 
	`­¶iÿtiÚ_ex™
();

612 
	`bu‰Ú_£t_bounds
(
b_equ®
, 123, 175, 40, 69);

613 
	`bu‰Ú_£t_fÚt
(
b_equ®
, 
FONT_MATRIX_16
);

614 
b_equ®
->
ÿÎback
 = 
bu‰Ú_İ”©Ü_ÿÎback
;

617 
b_0
 = 
	`bu‰Ú_š™
("0");

619 if(
b_0
 =ğ
NULL
)

621 
	`­¶iÿtiÚ_ex™
();

624 
	`bu‰Ú_£t_bounds
(
b_0
, 0, 210, 81, 34);

625 
	`bu‰Ú_£t_fÚt
(
b_0
, 
FONT_MATRIX_16
);

626 
b_0
->
ÿÎback
 = 
bu‰Ú_İ”ªd_ÿÎback
;

629 
b_dÙ
 = 
	`bu‰Ú_š™
(".");

631 if(
b_dÙ
 =ğ
NULL
)

633 
	`­¶iÿtiÚ_ex™
();

636 
	`bu‰Ú_£t_bounds
(
b_dÙ
, 82, 210, 40, 34);

637 
	`bu‰Ú_£t_fÚt
(
b_dÙ
, 
FONT_MATRIX_16
);

638 
b_dÙ
->
ÿÎback
 = 
bu‰Ú_İ”ªd_ÿÎback
;

641 
	}
}

	@debug/samples/calculator/calculator.h

29 
	~"widg‘.h
"

32 
Ïb–
 * 
l
;

34 
bu‰Ú
 * 
b_0
;

35 
bu‰Ú
 * 
b_1
;

36 
bu‰Ú
 * 
b_2
;

37 
bu‰Ú
 * 
b_3
;

38 
bu‰Ú
 * 
b_4
;

39 
bu‰Ú
 * 
b_5
;

40 
bu‰Ú
 * 
b_6
;

41 
bu‰Ú
 * 
b_7
;

42 
bu‰Ú
 * 
b_8
;

43 
bu‰Ú
 * 
b_9
;

49 
bu‰Ú
 * 
b_mr
;

55 
bu‰Ú
 * 
b_mc
;

60 
bu‰Ú
 * 
b_madd
;

65 
bu‰Ú
 * 
b_msub
;

70 
bu‰Ú
 * 
b_c
;

72 
bu‰Ú
 * 
b_add
;

73 
bu‰Ú
 * 
b_sub
;

74 
bu‰Ú
 * 
b_mul
;

75 
bu‰Ú
 * 
b_div
;

77 
bu‰Ú
 * 
b_dÙ
;

79 
bu‰Ú
 * 
b_equ®
;

81 
bu‰Ú
 * 
b_Çg‘ive_pos™ive
;

84 
İ”ªd_1
[11];

86 
İ”ªd_2
[11];

88 
memÜy
[11];

90 
İ”©Ü_ch¬
;

92 
si_t
 
my_š™
();

	@debug/samples/calculator/main.c

30 
	~<as£¹.h
>

31 
	~<¡dio.h
>

32 
	~<¡ršg.h
>

34 
	~<uni¡d.h
>

36 
	~"­¶iÿtiÚ.h
"

38 
	~"ÿlcuÏtÜ.h
"

43 
	$maš
()

45 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

46 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

47 
wšdow
 * 
w
;

50 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "calculator");

53 
w
 = 
	`wšdow_š™
("calc");

55 if(
w
 =ğ
NULL
)

57 
	`­¶iÿtiÚ_ex™
();

60 
	`wšdow_£t_bounds
(
w
, 300, 100, 163, 244);

61 
w
->
back_cŞÜ
.
r
 = 255;

62 
w
->
back_cŞÜ
.
g
 = 0;

63 
w
->
back_cŞÜ
.
b
 = 255;

64 
w
->
back_cŞÜ
.
a
 = 0;

66 
	`my_š™
();

69 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
l
));

70 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_mc
));

71 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_madd
));

72 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_msub
));

73 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_mr
));

74 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_add
));

75 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_sub
));

76 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_mul
));

77 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_div
));

78 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_7
));

79 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_8
));

80 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_9
));

81 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_c
));

82 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_4
));

83 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_5
));

84 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_6
));

85 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_Çg‘ive_pos™ive
));

86 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_1
));

87 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_2
));

88 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_3
));

89 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_equ®
));

90 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_0
));

91 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b_dÙ
));

94 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w
);

96 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w
);

99 
	`­¶iÿtiÚ_exec
();

102 
	}
}

	@debug/samples/desktop.c

30 
	~<¡dio.h
>

31 
	~<¡ršg.h
>

32 
	~<uni¡d.h
>

34 
	~"geom‘ry.h
"

35 
	~"comm.h
"

36 
	~"­¶iÿtiÚ.h
"

37 
	~"ş›Á_lib.h
"

38 
	~"widg‘.h
"

40 
cŞÜ
 
	glight_g»’
 = {0xcc, 0xff, 0x99, 0};

41 
cŞÜ
 
	gb¬–y_blue
 = {0xcb, 0xf3, 0xfb, 0};

43 
si_t


44 
	gbu‰Ú_ÿÎback


45 (* 
	gbŠ
,

46 * 
	gmsg
)

48 
wšdow
 * 
	gw
;

50 
mes§ge_g‘_ty³
(
msg
))

52 
	gMESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

53 
desktİ_dœty
();

57 
bu‰Ú_deçuÉ_ÿÎback
(
bŠ
, 
msg
);

67 
	$maš
()

69 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

70 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_DESKTOP
;

71 
wšdow
 * 
w
 = 
NULL
;

72 
bu‰Ú
 * 
b
 = 
NULL
;

75 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "desktop");

77 
w
 = 
	`wšdow_š™
("desktop");

79 if(
w
 =ğ
NULL
)

81 
	`­¶iÿtiÚ_ex™
();

84 
	`wšdow_£t_bounds
(
w
, 300, 100, 448, 200);

85 
	`wšdow_£t_cŞÜ
(
w
, 
NULL
, &
light_g»’
);

88 
b
 = 
	`bu‰Ú_š™
("click me!");

90 if(
b
 =ğ
NULL
)

92 
	`­¶iÿtiÚ_ex™
();

95 
	`bu‰Ú_£t_bounds
(
b
, 50, 50, 150, 50);

96 
	`bu‰Ú_£t_cŞÜ
(
b
, 
NULL
, &
b¬–y_blue
);

97 
b
->
ÿÎback
 = 
bu‰Ú_ÿÎback
;

100 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b
));

103 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w
);

105 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w
);

107 
	`­¶iÿtiÚ_exec
();

110 
	}
}

	@debug/samples/editerbasic.c

1 
	~<uni¡d.h
>

2 
	~<¡ršg.h
>

3 
	~<¡dlib.h
>

4 
	~<sys/¡©.h
>

5 
	~<fú.h
>

6 
	~<¡dio.h
>

8 
	~"widg‘.h
"

9 
	~"­¶iÿtiÚ.h
"

10 
	~"ş›Á_lib.h
"

11 
	~"log.h
"

12 
	~"comp”.h
"

14 
	#LABEL_MAX
 128

	)

15 
	#FILE_MAX
 4096

	)

17 
cŞÜ
 
	gb¬–y_blue
 = {0xcb, 0xf3, 0xfb, 0};

18 
cŞÜ
 
	gd¬k_blue
 = {0x18, 0x29, 0x45, 0};

19 
cŞÜ
 
	glight_g»’
 = {0xcc, 0xff, 0x99, 0};

20 
cŞÜ
 
	glight_blue
 = {0x46, 0xa5, 0xe5, 0};

22 
cŞÜ
 
	glight_y–low
 = {0xff, 0xff, 0xcc, 0};

25 
‹xt_lše
* 
	gfe_cÚ‹xt_‹xt_lše
 = 
NULL
;

26 
Ïb–
* 
	glog_Ïb–
 = 
NULL
;

27 
Ïb–
* 
	gfe_Ïb–
 = 
NULL
;

28 
wšdow
* 
	gmaš_wšdow
 = 
NULL
;

29 
wšdow
* 
	g§ve_wšdow
 = 
NULL
;

30 
‹xt_lše
* 
	g§ve_‹xt_lše
 = 
NULL
;

32 
	$‹xt_lše_subsüibe_süŞlb¬
(
widg‘
* 
subsüib”
, widg‘* 
pulish”
, 
si_t
 
ev’t
)

34 
‹xt_lše
* 
t
 = 
	`TEXT_LINE_POINTER
(
subsüib”
);

35 
süŞl_b¬
* 
s
 = 
	`SCROLL_BAR_POINTER
(
pulish”
);

36 
si_t
 
lš’o_cur
 = 
	`‹xt_lše_g‘_lše_cur
(
t
);

37 
si_t
 
lšes_³r_·ge
 = 
	`‹xt_lše_g‘_max_lše_shown
(
t
);

39 
ev’t
)

44 
SCROLL_BAR_EVENT_LINE_UP
:

45 
	`‹xt_lše_upd©e_ruËr_lše
(
t
, 
lš’o_cur
 - 1);

51 
SCROLL_BAR_EVENT_LINE_DOWN
:

52 
	`‹xt_lše_upd©e_ruËr_lše
(
t
, 
lš’o_cur
 + 1);

58 
SCROLL_BAR_EVENT_PAGE_UP
:

59 
	`‹xt_lše_upd©e_ruËr_lše
(
t
, 
lš’o_cur
 - 
lšes_³r_·ge
);

65 
SCROLL_BAR_EVENT_PAGE_DOWN
:

66 
	`‹xt_lše_upd©e_ruËr_lše
(
t
, 
lš’o_cur
 + 
lšes_³r_·ge
);

72 
SCROLL_BAR_EVENT_CHANGE
:

73 
	`‹xt_lše_upd©e_ruËr_lše
(
t
, 
s
->
cur_off£t
 / s->
lše_height
);

80 
	`‹xt_lše_»·št
(
t
);

81 
	`‹xt_lše_show
(
t
);

82 
	}
}

85 
	$süŞlb¬_subsüibe_‹xt_lše
(
widg‘
* 
subsüib”
, widg‘* 
pulish”
, 
si_t
 
ev’t
)

87 
süŞl_b¬
* 
s
 = 
	`SCROLL_BAR_POINTER
(
subsüib”
);

88 
	`NOT_USED
(
pulish”
);

90 
ev’t
)

95 
TEXT_LINE_EVENT_PAGE_UP
:

96 
	`süŞl_b¬_upd©e_off£t
(
s
, s->
cur_off£t
 - s->
lše_height
);

102 
TEXT_LINE_EVENT_PAGE_DOWN
:

103 
	`süŞl_b¬_upd©e_off£t
(
s
, s->
cur_off£t
 + s->
lše_height
);

109 
TEXT_LINE_EVENT_PAGE_CHANGE
:

116 
TEXT_LINE_EVENT_CURRENT_CHANGE
:

124 
	`süŞl_b¬_»·št
(
s
);

125 
	`süŞl_b¬_show
(
s
);

126 
	}
}

128 
si_t
 
	$§ve_fe
(* 
fe_Çme
, * 
buf
)

130 
si_t
 
fd
 = -1;

131 if((
fd
 = 
	`İ’
(
fe_Çme
, 
O_WRONLY
 | 
O_CREAT
 | 
O_TRUNC
, 0664)) == -1)

133 
	`EGUI_PRINT_SYS_ERROR
("çedØİ’ %s. o³n:", 
fe_Çme
);

136 if(
	`wr™e
(
fd
, 
buf
, 
	`¡¾’
(buf)) == -1)

138 
	`EGUI_PRINT_SYS_ERROR
("çedØwr™%s. wr™e:", 
fe_Çme
);

141 if(
	`şo£
(
fd
) == -1)

143 
	`EGUI_PRINT_SYS_ERROR
("çedØşo£ %s. clo£:", 
fe_Çme
);

147 
	}
}

149 
si_t
 
	$§ve_bu‰Ú_ÿÎback
(* 
bŠ
, * 
msg
)

151 
mes§ge
* 
m
 = (mes§ge*)
msg
;

152 
m
->
ba£
.
ty³
)

154 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

155 if(0 =ğ
	`§ve_fe
(
fe_Ïb–
->
‹xt
, 
	`‹xt_lše_g‘_buf
(
fe_cÚ‹xt_‹xt_lše
)))

157 
	`¥rštf
(
log_Ïb–
->
‹xt
, "save successfully!");

161 
	`¥rštf
(
log_Ïb–
->
‹xt
, "failedo save file!");

166 
	`bu‰Ú_deçuÉ_ÿÎback
(
bŠ
, 
msg
);

170 
	`Ïb–_»·št
(
log_Ïb–
);

171 
	`Ïb–_show
(
log_Ïb–
);

173 
	}
}

175 
si_t
 
	$§ve_wšdow_ok_bu‰Ú_ÿÎback
(* 
bŠ
, * 
msg
)

177 
mes§ge
* 
m
 = (mes§ge*)
msg
;

178 
m
->
ba£
.
ty³
)

180 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

181 if(0 =ğ
	`§ve_fe
(
	`‹xt_lše_g‘_buf
(
§ve_‹xt_lše
),ext_lše_g‘_buf(
fe_cÚ‹xt_‹xt_lše
)))

183 
	`¥rštf
(
log_Ïb–
->
‹xt
, "save successfully!");

187 
	`¥rštf
(
log_Ïb–
->
‹xt
, "failedo save file!");

189 
	`­¶iÿtiÚ_d–_wšdow
(
§ve_wšdow
);

190 
	`¥rštf
(
fe_Ïb–
->
‹xt
, "%s", 
	`‹xt_lše_g‘_buf
(
§ve_‹xt_lše
));

191 
§ve_wšdow
 = 
NULL
;

192 
§ve_‹xt_lše
 = 
NULL
;

195 
	`bu‰Ú_deçuÉ_ÿÎback
(
bŠ
, 
msg
);

199 
	`Ïb–_»·št
(
log_Ïb–
);

200 
	`Ïb–_show
(
log_Ïb–
);

202 
	}
}

204 
si_t
 
	$§ve_as_bu‰Ú_ÿÎback
(* 
bŠ
, * 
msg
)

206 
mes§ge
* 
m
 = (mes§ge*)
msg
;

207 
bu‰Ú
* 
b
 = 
NULL
;

208 
m
->
ba£
.
ty³
)

210 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

211 if(
NULL
 =ğ
§ve_wšdow
)

213 
§ve_wšdow
 = 
	`wšdow_š™
("save window");

215 if(
NULL
 =ğ
maš_wšdow
)

217 
	`EGUI_PRINT_ERROR
("failedo init save window");

218 
	`­¶iÿtiÚ_ex™
();

221 
	`wšdow_£t_bounds
(
§ve_wšdow
, 
maš_wšdow
->
¬—
.
x
 + 30, maš_wšdow->¬—.
y
 + 30, 300, 60);

222 
	`wšdow_£t_cŞÜ
(
§ve_wšdow
, 
NULL
, &
b¬–y_blue
);

224 
§ve_‹xt_lše
 = 
	`‹xt_lše_š™
(
FILE_MAX
, 0);

225 if(
NULL
 =ğ
§ve_‹xt_lše
)

227 
	`EGUI_PRINT_ERROR
("failedo init save_text_line on save window");

228 
	`­¶iÿtiÚ_ex™
();

231 
	`‹xt_lše_£t_bounds
(
§ve_‹xt_lše
, 5, 5, 230, 50);

232 
	`‹xt_lše_£t_¶aûhŞd”
(
§ve_‹xt_lše
, "input file‚ame");

233 
	`‹xt_lše_£t_cŞÜ
(
§ve_‹xt_lše
, &
d¬k_blue
, 
NULL
, &
light_g»’
);

235 
b
 = 
	`bu‰Ú_š™
("ok");

236 if(
NULL
 =ğ
b
)

238 
	`EGUI_PRINT_ERROR
("failedo init ok button on save window");

239 
	`­¶iÿtiÚ_ex™
();

242 
	`bu‰Ú_£t_bounds
(
b
, 240, 10, 50, 40);

243 
	`bu‰Ú_£t_cŞÜ
(
b
, &
d¬k_blue
, &
light_g»’
);

244 
	`bu‰Ú_£t_fÚt
(
b
, 
FONT_MATRIX_12
);

245 
b
->
ÿÎback
 = 
§ve_wšdow_ok_bu‰Ú_ÿÎback
;

247 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
§ve_wšdow
), OBJECT_POINTER(
b
));

248 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
§ve_wšdow
), OBJECT_POINTER(
§ve_‹xt_lše
));

249 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
§ve_wšdow
);

254 
	`EGUI_PRINT_ERROR
("save window‡lready open!");

257 
	`bu‰Ú_deçuÉ_ÿÎback
(
bŠ
, 
msg
);

260 
	}
}

262 
si_t
 
	$lßd_fe
(* 
fe_Çme
, * 
buf
)

264 
si_t
 
fd
 = -1;

265 if((
fd
 = 
	`İ’
(
fe_Çme
, 
O_RDONLY
)) == -1)

267 
	`EGUI_PRINT_SYS_ERROR
("çedØİ’ %s. o³n:", 
fe_Çme
);

270 if(
	`»ad
(
fd
, 
buf
, 
FILE_MAX
) == -1)

272 
	`EGUI_PRINT_SYS_ERROR
("çedØ»ad %s.„—d: ", 
fe_Çme
);

275 if(
	`şo£
(
fd
) == -1)

277 
	`EGUI_PRINT_SYS_ERROR
("çedØşo£ %s. clo£: ", 
fe_Çme
);

281 
	}
}

283 
	$maš
(
¬gc
, * 
¬gv
[])

285 
süŞl_b¬
* 
s
;

286 
bu‰Ú
* 
b1
 = 
NULL
, *
b2
 = NULL;

287 
msg
[
LABEL_MAX
];

288 
fe_msg
[
LABEL_MAX
];

289 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

290 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

291 * 
fe_Çme
 = 
NULL
;

292 
si_t
 
fÚty
 = 0;

297 if(
¬gc
 == 2)

299 
¡©
 
¡
;

300 if(
	`¡©
(
¬gv
[1], &
¡
) == -1)

302 
	`EGUI_PRINT_ERROR
("f% dÛ nÙƒxi¡s", 
¬gv
[1]);

306 if(!
	`S_ISREG
(
¡
.
¡_mode
è|| 
	`acûss
(
¬gv
[1], 
R_OK
 | 
W_OK
) != 0)

308 
	`EGUI_PRINT_ERROR
("f% ÿÂÙ‡cûss!", 
¬gv
[1]);

315 if(
¡
.
¡_size
 > 
FILE_MAX
)

317 
	`EGUI_PRINT_ERROR
("f% dÛ nÙƒxi¡s\n", 
¬gv
[1]);

320 
fe_Çme
 = 
¬gv
[1];

322 if(
¬gc
 != 1)

324 
	`EGUI_PRINT_ERROR
("wrong…arameter!\nusage: \nediterbasic\nor:\nediterbasic [filename]");

330 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "editerbasic");

335 
maš_wšdow
 = 
	`wšdow_š™
("editer_basic");

337 if(
maš_wšdow
 =ğ
NULL
)

339 
	`­¶iÿtiÚ_ex™
();

342 
	`wšdow_£t_bounds
(
maš_wšdow
, 300, 100, 550, 300);

343 
	`wšdow_£t_cŞÜ
(
maš_wšdow
, 
NULL
, &
light_g»’
);

348 if(
fe_Çme
)

350 
	`¥rštf
(
fe_msg
, "%s", 
fe_Çme
);

354 
	`¥rštf
(
fe_msg
, "new file");

356 
fe_Ïb–
 = 
	`Ïb–_š™
(
fe_msg
);

357 if(
fe_Ïb–
 =ğ
NULL
)

359 
	`­¶iÿtiÚ_ex™
();

362 
	`Ïb–_£t_bounds
(
fe_Ïb–
, 10, 10, 365, 20);

363 
	`Ïb–_£t_cŞÜ
(
fe_Ïb–
, &
b¬–y_blue
, &
light_blue
);

364 
	`Ïb–_£t_fÚt
(
fe_Ïb–
, 
FONT_MATRIX_12
);

369 
b1
 = 
	`bu‰Ú_š™
("save");

370 if(
b1
 =ğ
NULL
)

372 
	`­¶iÿtiÚ_ex™
();

375 
	`bu‰Ú_£t_bounds
(
b1
, 380, 5, 60, 30);

376 
	`bu‰Ú_£t_cŞÜ
(
b1
, &
d¬k_blue
, &
b¬–y_blue
);

377 
	`bu‰Ú_£t_fÚt
(
b1
, 
FONT_MATRIX_12
);

378 
b1
->
ÿÎback
 = 
§ve_bu‰Ú_ÿÎback
;

380 
b2
 = 
	`bu‰Ú_š™
("save‡s");

381 if(
b2
 =ğ
NULL
)

383 
	`­¶iÿtiÚ_ex™
();

386 
	`bu‰Ú_£t_bounds
(
b2
, 445, 5, 100, 30);

387 
	`bu‰Ú_£t_cŞÜ
(
b2
, &
d¬k_blue
, &
b¬–y_blue
);

388 
	`bu‰Ú_£t_fÚt
(
b2
, 
FONT_MATRIX_12
);

389 
b2
->
ÿÎback
 = 
§ve_as_bu‰Ú_ÿÎback
;

394 
fe_cÚ‹xt_‹xt_lše
 = 
	`‹xt_lše_š™
(
FILE_MAX
, 0);

395 if(
fe_cÚ‹xt_‹xt_lše
 =ğ
NULL
)

397 
	`­¶iÿtiÚ_ex™
();

400 
	`‹xt_lše_£t_bounds
(
fe_cÚ‹xt_‹xt_lše
, 5, 40, 520, 230);

401 
	`‹xt_lše_£t_cŞÜ
(
fe_cÚ‹xt_‹xt_lše
, &
d¬k_blue
, 
NULL
, NULL);

402 
	`‹xt_lše_£t_muÉšes
(
fe_cÚ‹xt_‹xt_lše
);

403 
fÚty
 = 
	`g‘_fÚt_height
(
fe_cÚ‹xt_‹xt_lše
->
gd
);

405 if(
fe_Çme
)

407 if(
	`lßd_fe
(
fe_Çme
, 
	`‹xt_lše_g‘_buf
(
fe_cÚ‹xt_‹xt_lše
)) < 0)

409 
	`EGUI_PRINT_ERROR
("çedØlßd f%s", 
fe_Çme
);

410 
	`­¶iÿtiÚ_ex™
();

413 
s
 = 
	`süŞl_b¬_š™
(1, 
fÚty
 * 
	`‹xt_lše_g‘_max_lše_shown
(
fe_cÚ‹xt_‹xt_lše
), fonty);

417 
s
 = 
	`süŞl_b¬_š™
(1, 
fe_cÚ‹xt_‹xt_lše
->
¬—
.
height
, 
fÚty
);

419 if(
s
 =ğ
NULL
)

421 
	`­¶iÿtiÚ_ex™
();

424 
	`süŞl_b¬_£t_bounds
(
s
, 525, 40, 20, 230);

426 
	`‹xt_lše_»gi¡”_move_hªdËr
(
fe_cÚ‹xt_‹xt_lše
, 
	`WIDGET_POINTER
(
s
), 
TEXT_LINE_EVENT_ALL
, 
süŞlb¬_subsüibe_‹xt_lše
);

427 
	`süŞl_b¬_»gi¡”_move_hªdËr
(
s
, 
	`WIDGET_POINTER
(
fe_cÚ‹xt_‹xt_lše
), 
SCROLL_BAR_EVENT_ALL
, 
‹xt_lše_subsüibe_süŞlb¬
);

429 
log_Ïb–
 = 
	`Ïb–_š™
(
msg
);

430 if(
log_Ïb–
 =ğ
NULL
)

432 
	`­¶iÿtiÚ_ex™
();

435 
	`Ïb–_£t_bounds
(
log_Ïb–
, 5, 275, 450, 20);

436 
	`Ïb–_£t_cŞÜ
(
log_Ïb–
, 
NULL
, &
light_g»’
);

437 
	`¥rštf
(
msg
, "open file successfully!");

439 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
maš_wšdow
), OBJECT_POINTER(
fe_Ïb–
));

440 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
maš_wšdow
), OBJECT_POINTER(
fe_cÚ‹xt_‹xt_lše
));

441 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
maš_wšdow
), OBJECT_POINTER(
log_Ïb–
));

442 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
maš_wšdow
), OBJECT_POINTER(
b1
));

443 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
maš_wšdow
), OBJECT_POINTER(
b2
));

444 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
maš_wšdow
), OBJECT_POINTER(
s
));

447 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
maš_wšdow
);

449 
	`­¶iÿtiÚ_£t_maš_wšdow
(
maš_wšdow
);

452 
	`­¶iÿtiÚ_exec
();

455 
	}
}

	@debug/samples/file_browser/directory_content.c

34 
	#_GNU_SOURCE


	)

36 
	~<¡dio.h
>

37 
	~<¡ršg.h
>

38 
	~<¡dlib.h
>

40 
	~<dœ’t.h
>

41 
	~<uni¡d.h
>

42 
	~<sys/¡©.h
>

44 
	~"dœeùÜy_™em.h
"

45 
	~"dœeùÜy_cÚ‹Á.h
"

46 
	~"log.h
"

54 
si_t


55 
	gcomp


56 (* 
	ga
,

57 * 
	gz
)

60 
	g¡rcmp


61 (((
	gdœeùÜy_™em
 *)(((
	gveùÜ_node
 *)
	ga
)->
	gd©a
))->
	gÇme
 + 2,

62 ((
	gdœeùÜy_™em
 *)(((
	gveùÜ_node
 *)
	gz
)->
	gd©a
))->
	gÇme
 + 2);

68 
si_t


69 
	gquick_sÜt


70 (
veùÜ
 * 
	gv
)

72 
qsÜt
(
veùÜ_begš
(
v
), 
veùÜ_size
(v), (
veùÜ_node
), (
__com·r_â_t
)
comp
);

77 
si_t


78 
	gdœeùÜy_cÚ‹Á


79 (* 
	g·th
,

80 
veùÜ
 * 
	gv
)

82 
dœeùÜy_™em
 
	gdi
;

83 
¡©
 
	gfe_šfo
;

84 
dœ’t
 * 
	gdœ’t_±r
;

85 
DIR
 * 
	gdœ_±r
;

88 
	gdœ_±r
 = 
İ’dœ
(
·th
);

90 if(
	gdœ_±r
 =ğ
NULL
)

92 
EGUI_PRINT_SYS_ERROR
("çedØİ’ dœ %s: o³ndœ", 
·th
);

97 (
	gdœ’t_±r
 = 
»addœ
(
dœ_±r
)) != 0)

100 
¡ºıy
(
di
.
Çme
 + 2, 
dœ’t_±r
->
d_Çme
, 
¡¾’
(dirent_ptr->d_name) + 1);

103 if(
l¡©
(
dœ’t_±r
->
d_Çme
, &
fe_šfo
) < 0)

105 
EGUI_PRINT_SYS_ERROR
("çedØgaš f% ¡©:†¡©", 
dœ’t_±r
->
d_Çme
);

110 if(
S_ISDIR
(
fe_šfo
.
¡_mode
))

112 
	gdi
.
	gÇme
[0] = 'D';

113 
	gdi
.
	gÇme
[1] = ' ';

114 if(
acûss
(
dœ’t_±r
->
d_Çme
, 
X_OK
) == 0)

115 
di
.
is_dœeùÜy
 = 1;

117 
	gdi
.
	gis_dœeùÜy
 = 0;

119 if(
S_ISREG
(
fe_šfo
.
¡_mode
))

121 
	gdi
.
	gÇme
[0] = 'F';

122 
	gdi
.
	gÇme
[1] = ' ';

123 if(
acûss
(
dœ’t_±r
->
d_Çme
, 
X_OK
) == 0)

124 
di
.
is_dœeùÜy
 = 2;

125 if(
acûss
(
dœ’t_±r
->
d_Çme
, 
R_OK
) == 0)

126 
di
.
is_dœeùÜy
 = 3;

128 
	gdi
.
	gis_dœeùÜy
 = 0;

132 
	gdi
.
	gÇme
[0] = 'F';

133 
	gdi
.
	gÇme
[1] = ' ';

134 
	gdi
.
	gis_dœeùÜy
 = 0;

137 
veùÜ_push_back
(
v
, &
di
, (
dœeùÜy_™em
));

141 
quick_sÜt
(
v
);

143 
şo£dœ
(
dœ_±r
);

	@debug/samples/file_browser/directory_content.h

30 #iâdeà
_DIRECTORY_CONTENT_


31 
	#_DIRECTORY_CONTENT_
 1

	)

33 
	~"d©a_¡ruùu»s.h
"

35 
si_t


36 
	gdœeùÜy_cÚ‹Á


37 (* 
	g·th
,

38 
veùÜ
 * 
	gv
);

	@debug/samples/file_browser/directory_item.h

30 #iâdeà
_DIRECTORY_ITEM_H_


31 
	#_DIRECTORY_ITEM_H_
 1

	)

33 
	~<lšux/lim™s.h
>

35 
	~"ba£_ty³.h
"

37 
	sdœeùÜy_™em


44 
	mÇme
[
NAME_MAX
 + 1 + 2];

47 
si_t
 
	mis_dœeùÜy
;

	@debug/samples/file_browser/file_browser.c

30 
	~<as£¹.h
>

31 
	~<¡dio.h
>

32 
	~<¡ršg.h
>

33 
	~<uni¡d.h
>

35 
	~"­¶iÿtiÚ.h
"

36 
	~"comp”.h
"

38 
	~"my_widg‘.h
"

39 
	~"dœeùÜy_™em.h
"

40 
	~"dœeùÜy_cÚ‹Á.h
"

44 
	gwÜkšg_dœeùÜy
[
PATH_MAX
];

46 
veùÜ
 
	gfe_li¡
;

48 
cŞÜ
 
	gb¬–y_blue
 = {0xcb, 0xf3, 0xfb, 0};

49 
cŞÜ
 
	glight_blue
 = {0x46, 0xa5, 0xe5, 0};

50 
cŞÜ
 
	gd¬k_blue
 = {0x18, 0x29, 0x45, 0};

51 
cŞÜ
 
	glight_g»’
 = {0xcc, 0xff, 0x99, 0};

53 
wšdow
 * 
	gw
;

55 
bu‰Ú
 * 
	gb1
;

57 
Ïb–
 * 
	gl
;

59 
my_widg‘
 * 
	gmw
;

61 
süŞl_b¬
* 
	gs
;

63 
	$mywidg‘_subsüibe_süŞlb¬
(
widg‘
* 
subsüib”
, widg‘* 
pulish”
, 
si_t
 
ev’t
)

65 
süŞl_b¬
* 
s
 = 
	`SCROLL_BAR_POINTER
(
pulish”
);

66 
lšes_³r_·ge
 = 
s
->
¬—
.
height
 / s->
lše_height
;

67 
	`NOT_USED
(
subsüib”
);

69 
ev’t
)

74 
SCROLL_BAR_EVENT_LINE_UP
:

75 if(
mw
->
¡¬t
 > 0)

77 -- (
mw
->
¡¬t
);

79 
	`my_widg‘_»·št
(
mw
);

80 
	`my_widg‘_show
(
mw
);

87 
SCROLL_BAR_EVENT_LINE_DOWN
:

88 if(
mw
->
¡¬t
 + mw->
couÁ
 < (
si_t
)
	`veùÜ_size
(&
fe_li¡
))

90 ++ (
mw
->
¡¬t
);

92 
	`my_widg‘_»·št
(
mw
);

93 
	`my_widg‘_show
(
mw
);

100 
SCROLL_BAR_EVENT_PAGE_UP
:

101 if((
mw
->
¡¬t
 -ğ
lšes_³r_·ge
) < 0)

102 
mw
->
¡¬t
 = 0;

103 
	`my_widg‘_»·št
(
mw
);

104 
	`my_widg‘_show
(
mw
);

111 
SCROLL_BAR_EVENT_PAGE_DOWN
:

112 if((
mw
->
¡¬t
 +ğ
lšes_³r_·ge
è> (
si_t
)
	`veùÜ_size
(&
fe_li¡
è- mw->
couÁ
)

113 
mw
->
¡¬t
 = 
	`veùÜ_size
(&
fe_li¡
è- mw->
couÁ
;

114 
	`my_widg‘_»·št
(
mw
);

115 
	`my_widg‘_show
(
mw
);

121 
SCROLL_BAR_EVENT_CHANGE
:

122 
mw
->
¡¬t
 = 
s
->
cur_off£t
 / s->
lše_height
;

123 
	`my_widg‘_»·št
(
mw
);

124 
	`my_widg‘_show
(
mw
);

131 
	}
}

133 
si_t


134 
	gbu‰Ú1_ÿÎback


135 (* 
	gbŠ
,

136 * 
	gmsg
)

138 
mes§ge
 * 
	gm
 = 
msg
;

140 
	gm
->
	gba£
.
	gty³
)

142 
	gMESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

144 
chdœ
("..");

146 
g‘cwd
(
wÜkšg_dœeùÜy
, 
PATH_MAX
);

148 
veùÜ_ş—r
(&
fe_li¡
);

150 
dœeùÜy_cÚ‹Á
(
wÜkšg_dœeùÜy
, &
fe_li¡
);

152 
	gmw
->
	g¡¬t
 = 0;

153 
süŞl_b¬_£t_v›w
(
s
, 
g‘_fÚt_height
(
mw
->
gd
è* 
veùÜ_size
(&
fe_li¡
), 0);

154 
süŞl_b¬_upd©e_off£t
(
s
, 0);

155 
süŞl_b¬_»·št
(
s
);

156 
süŞl_b¬_show
(
s
);

158 
my_widg‘_»·št
(
mw
);

159 
my_widg‘_show
(
mw
);

161 
Ïb–_»·št
(
l
);

162 
Ïb–_show
(
l
);

167 
bu‰Ú_deçuÉ_ÿÎback
(
bŠ
, 
msg
);

176 
si_t


177 
	gbu‰Ú2_ÿÎback


178 (* 
	gbŠ
,

179 * 
	gmsg
)

181 
mes§ge
 * 
	gm
 = 
msg
;

183 
	gm
->
	gba£
.
	gty³
)

185 
	gMESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

186 if(
mw
->
¡¬t
 > 0)

188 -- (
mw
->
¡¬t
);

190 
my_widg‘_»·št
(
mw
);

191 
my_widg‘_show
(
mw
);

197 
bu‰Ú_deçuÉ_ÿÎback
(
bŠ
, 
msg
);

205 
si_t


206 
	gbu‰Ú3_ÿÎback


207 (* 
	gbŠ
,

208 * 
	gmsg
)

210 
mes§ge
 * 
	gm
 = 
msg
;

212 
	gm
->
	gba£
.
	gty³
)

214 
	gMESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

215 if(
mw
->
¡¬t
 + mw->
couÁ
 < 
veùÜ_size
(&
fe_li¡
))

217 ++ (
mw
->
¡¬t
);

219 
my_widg‘_»·št
(
mw
);

220 
my_widg‘_show
(
mw
);

226 
bu‰Ú_deçuÉ_ÿÎback
(
bŠ
, 
msg
);

238 
	$maš
(
¬gc
, * 
¬gv
[])

240 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

241 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

242 
fÚt
 = 0;

245 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "file_browser");

249 
	`veùÜ_š™
(&
fe_li¡
);

254 if(
¬gc
 == 2)

256 
	`¡ºıy
(
wÜkšg_dœeùÜy
, 
¬gv
[1], (working_directory));

263 
wÜkšg_dœeùÜy
[0] = '/';

264 
wÜkšg_dœeùÜy
[1] = 0;

268 
	`chdœ
(
wÜkšg_dœeùÜy
);

271 
	`dœeùÜy_cÚ‹Á
(
wÜkšg_dœeùÜy
, &
fe_li¡
);

274 
w
 = 
	`wšdow_š™
("file_browser");

276 if(
w
 =ğ
NULL
)

278 
	`­¶iÿtiÚ_ex™
();

281 
	`wšdow_£t_bounds
(
w
, 300, 100, 500, 440);

282 
	`wšdow_£t_cŞÜ
(
w
, 
NULL
, &
light_g»’
);

285 
b1
 = 
	`bu‰Ú_š™
("parent");

287 if(
b1
 =ğ
NULL
)

289 
	`­¶iÿtiÚ_ex™
();

292 
	`bu‰Ú_£t_bounds
(
b1
, 5, 6, 90, 26);

293 
	`bu‰Ú_£t_fÚt
(
b1
, 
FONT_MATRIX_12
);

294 
	`bu‰Ú_£t_cŞÜ
(
b1
, &
light_blue
, &
b¬–y_blue
);

295 
b1
->
ÿÎback
 = 
bu‰Ú1_ÿÎback
;

298 
l
 = 
	`Ïb–_š™
(
wÜkšg_dœeùÜy
);

300 if(
l
 =ğ
NULL
)

302 
	`­¶iÿtiÚ_ex™
();

305 
	`Ïb–_£t_bounds
(
l
, 100, 6, 400, 26);

306 
	`Ïb–_£t_cŞÜ
(
l
, 
NULL
, &
light_g»’
);

307 
	`Ïb–_£t_fÚt
(
l
, 
FONT_MATRIX_12
);

308 
l
->
ÿÎback
 = 
Ïb–_deçuÉ_ÿÎback
;

311 
mw
 = 
	`my_widg‘_š™
(5);

313 if(
mw
 =ğ
NULL
)

315 
	`­¶iÿtiÚ_ex™
();

318 
mw
->
¬—
.
x
 = 5;

319 
mw
->
¬—
.
y
 = 38;

320 
mw
->
¬—
.
width
 = 465;

321 
mw
->
¬—
.
height
 = 394;

322 
mw
->
fÚt
 = 
FONT_MATRIX_12
;

323 
mw
->
¡¬t
 = 0;

324 
mw
->
couÁ
 = 16;

325 
	`£t_fÚt
(
mw
->
gd
, mw->
fÚt
);

326 
fÚt
 = 
	`g‘_fÚt_height
(
mw
->
gd
);

331 
s
 = 
	`süŞl_b¬_š™
(1, 
fÚt
 * 
	`veùÜ_size
(&
fe_li¡
), font);

332 if(
s
 =ğ
NULL
)

334 
	`­¶iÿtiÚ_ex™
();

337 
	`süŞl_b¬_£t_bounds
(
s
, 475, 43, 20, 384);

340 
	`£t_fÚt
(
mw
->
gd
, mw->
fÚt
);

341 
fÚt
 = 
	`g‘_fÚt_height
(
mw
->
gd
);

342 
	`süŞl_b¬_£t_v”tiÿl
(
s
);

343 
	`süŞl_b¬_£t_lše_height
(
s
, 
fÚt
);

344 
	`süŞl_b¬_£t_v›w
(
s
, 
fÚt
 * 
	`veùÜ_size
(&
fe_li¡
), 0);

345 
	`süŞl_b¬_upd©e_off£t
(
s
, 0);

347 
	`süŞl_b¬_»gi¡”_move_hªdËr
(
s
, 
	`WIDGET_POINTER
(
mw
), 
SCROLL_BAR_EVENT_ALL
, 
mywidg‘_subsüibe_süŞlb¬
);

350 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b1
));

352 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b2
));

353 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b3
));

356 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
l
));

357 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
mw
));

358 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
s
));

362 
	`»gi¡”_wšdow
(
NULL
, 
w
);

363 
w
->
is_aùiv©ed
 = 1;

366 if(
w
->
desütÜ
 == 0)

368 
	`­¶iÿtiÚ_ex™
();

375 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w
);

377 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w
);

381 
	`wšdow_»·št
(
w
);

382 
	`wšdow_show
(
w
);

383 
	`bu‰Ú_»·št
(
b1
);

384 
	`bu‰Ú_show
(
b1
);

385 
	`bu‰Ú_»·št
(
b2
);

386 
	`bu‰Ú_show
(
b2
);

387 
	`bu‰Ú_»·št
(
b3
);

388 
	`bu‰Ú_show
(
b3
);

389 
	`Ïb–_»·št
(
l
);

390 
	`Ïb–_show
(
l
);

391 
	`my_widg‘_»·št
(
mw
);

392 
	`my_widg‘_show
(
mw
);

396 
	`­¶iÿtiÚ_exec
();

399 
	}
}

	@debug/samples/file_browser/my_widget.c

30 
	~<as£¹.h
>

31 
	~<¡dio.h
>

32 
	~<¡ršg.h
>

33 
	~<¡dlib.h
>

35 
	~<uni¡d.h
>

37 
	~"dœeùÜy_™em.h
"

38 
	~"dœeùÜy_cÚ‹Á.h
"

39 
	~"my_widg‘.h
"

41 
	~"widg‘.h
"

42 
	~"ş›Á_lib.h
"

43 
	~"comp”.h
"

44 
	~"­¶iÿtiÚ.h
"

46 
	#DESKTOP_PATH
 "/mÁ/hgfs/gui/ûû/c_egui_desktİ/"

	)

48 
cŞÜ
 
	gb¬–y_blue
 = {0xcb, 0xf3, 0xfb, 0};

49 
cŞÜ
 
	glight_blue
 = {0x46, 0xa5, 0xe5, 0};

51 
si_t


52 
	gmy_widg‘_deçuÉ_widg‘_show


53 (
my_widg‘
 * 
	gmw
,

54 
mes§ge
 * 
	gmsg
)

56 
»ùªgË
 
	g¬—
;

57 
NOT_USED
(
msg
);

59 
­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
WIDGET_POINTER
(
mw
), &
¬—
);

62 
	g£t_¬—


63 (
	gmw
->
	ggd
,

64 
	g¬—
.
	gx
,

65 
	g¬—
.
	gy
,

66 
	g¬—
.
	gwidth
,

67 
	g¬—
.
	gheight
);

70 
upd©e
(
mw
->
gd
);

75 
si_t


76 
	gmy_widg‘_deçuÉ_widg‘_»·št


77 (
my_widg‘
 * 
	gmw
,

78 
mes§ge
 * 
	gmsg
)

80 
dœeùÜy_™em
 * 
	gdi_±r
;

81 
»ùªgË
 
	g¬—
;

82 
si_t
 
	gx
, 
	gy
, 
	gfÚt_height
, 
	gi
, 
	gn
, 
	gx1
, 
	gy1
, 
	g‹mp
;

83 
NOT_USED
(
msg
);

86 
widg‘_absŞu‹_coÜdš©e
(
WIDGET_POINTER
(
mw
), &
x
, &
y
);

90 
­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
WIDGET_POINTER
(
mw
), &
¬—
);

93 
	g£t_¬—


94 (
	gmw
->
	ggd
,

95 
	g¬—
.
	gx
,

96 
	g¬—
.
	gy
,

97 
	g¬—
.
	gwidth
,

98 
	g¬—
.
	gheight
);

100 
	g£t_cŞÜ


101 (
	gmw
->
	ggd
,

102 
	gmw
->
	gback_cŞÜ
.
	gr
,

103 
	gmw
->
	gback_cŞÜ
.
	gg
,

104 
	gmw
->
	gback_cŞÜ
.
	gb
,

105 
	gmw
->
	gback_cŞÜ
.
	ga
);

107 
	gfl_»ùªgË


108 (
	gmw
->
	ggd
,

109 
	g¬—
.
	gx
,

110 
	g¬—
.
	gy
,

111 
	g¬—
.
	gwidth
,

112 
	g¬—
.
	gheight
);

117 
	g£t_cŞÜ


118 (
	gmw
->
	ggd
,

119 
	gmw
->
	gäame_cŞÜ
.
	gr
,

120 
	gmw
->
	gäame_cŞÜ
.
	gg
,

121 
	gmw
->
	gäame_cŞÜ
.
	gb
,

122 
	gmw
->
	gäame_cŞÜ
.
	ga
);

123 
	gd¿w_»ùªgË


124 (
	gmw
->
	ggd
,

125 
	g¬—
.
	gx
,

126 
	g¬—
.
	gy
,

127 
	g¬—
.
	gwidth
,

128 
	g¬—
.
	gheight
);

129 
	gd¿w_»ùªgË


130 (
	gmw
->
	ggd
,

131 
	g¬—
.
	gx
 + 1,

132 
	g¬—
.
	gy
 + 1,

133 
	g¬—
.
	gwidth
 - 2,

134 
	g¬—
.
	gheight
 - 2);

136 
	g¬—
.
	gx
 += 5;

137 
	g¬—
.
	gy
 += 5;

138 
	g¬—
.
	gwidth
 -= 10;

139 
	g¬—
.
	gheight
 -= 10;

140 
	gx
 += 5;

141 
	gy
 += 5;

143 
	g£t_cŞÜ


144 (
	gmw
->
	ggd
,

145 
	gmw
->
	gfÜe_cŞÜ
.
	gr
,

146 
	gmw
->
	gfÜe_cŞÜ
.
	gg
,

147 
	gmw
->
	gfÜe_cŞÜ
.
	gb
,

148 
	gmw
->
	gfÜe_cŞÜ
.
	ga
);

150 
£t_fÚt
(
mw
->
gd
, mw->
fÚt
);

152 
	gfÚt_height
 = 
g‘_fÚt_height
(
mw
->
gd
);

154 
	gn
 = 
veùÜ_size
(&
fe_li¡
);

156 
	gx1
 = 
x
 + 
mw
->
bÜd”_size
;

157 
	gy1
 = 
y
 + 
mw
->
bÜd”_size
;

160 if((
	gsi_t
)
veùÜ_size
(&
fe_li¡
è> 
	gmw
->
	gcouÁ
)

163 
	g‹mp
 = 
mw
->
¡¬t
;

164 
	gi
 = 0; i < 
	gmw
->
	gcouÁ
; ++ i)

166 
	gdi_±r
 = 
veùÜ_©
(&
fe_li¡
, 
‹mp
 ++);

168 
	gshow_‹xt


169 (
	gmw
->
	ggd
,

170 
	gx1
,

171 
	gy1
,

172 
	gdi_±r
->
	gÇme
,

173 
¡¾’
(
di_±r
->
Çme
));

175 
	gy1
 +ğ
fÚt_height
;

180 
	gi
 = 
mw
->
¡¬t
; i < 
	gn
; ++ i)

182 
	gdi_±r
 = 
veùÜ_©
(&
fe_li¡
, 
i
);

184 
	gshow_‹xt


185 (
	gmw
->
	ggd
,

186 
	gx1
,

187 
	gy1
,

188 
	gdi_±r
->
	gÇme
,

189 
¡¾’
(
di_±r
->
Çme
));

191 
	gy1
 +ğ
fÚt_height
;

198 
si_t


199 
	gmy_widg‘_deçuÉ_mou£_´ess


200 (
my_widg‘
 * 
	gmw
,

201 
mes§ge
 * 
	gmsg
)

203 
NOT_USED
(
mw
);

204 
NOT_USED
(
msg
);

208 
si_t


209 
	gmy_widg‘_deçuÉ_mou£_»Ëa£


210 (
my_widg‘
 * 
	gmw
,

211 
mes§ge
 * 
	gmsg
)

213 
NOT_USED
(
mw
);

214 
NOT_USED
(
msg
);

218 
si_t


219 
	gmy_widg‘_deçuÉ_mou£_sšgË_şick


220 (
my_widg‘
 * 
	gmw
,

221 
mes§ge
 * 
	gmsg
)

223 
»ùªgË
 
	g¬—
;

224 
dœeùÜy_™em
 * 
	gdi_±r
;

225 
si_t
 
	gx
, 
	gy
, 
	gy1
, 
	gšdex
;

227 if(
	gmsg
->
	gmou£
.
	gcode
 =ğ
INPUT_CODE_MOUSE_L_KEY
)

230 
widg‘_absŞu‹_coÜdš©e
(
WIDGET_POINTER
(
mw
), &
x
, &
y
);

234 
­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
WIDGET_POINTER
(
mw
), &
¬—
);

237 
	gy1
 = 
msg
->
mou£
.
cursÜ_pos™iÚ
.
y
 - 
¬—
.y;

239 
	gšdex
 = 
y1
 / 24;

240 if(
	gšdex
 >ğ(
si_t
)
veùÜ_size
(&
fe_li¡
))

243 
	gdi_±r
 = 
veùÜ_©
(&
fe_li¡
, 
šdex
 + 
mw
->
¡¬t
);

246 if(
	gdi_±r
->
	gis_dœeùÜy
 == 1)

248 
chdœ
(
di_±r
->
Çme
 + 2);

250 
g‘cwd
(
wÜkšg_dœeùÜy
, 
PATH_MAX
);

252 
veùÜ_ş—r
(&
fe_li¡
);

254 
dœeùÜy_cÚ‹Á
(
wÜkšg_dœeùÜy
, &
fe_li¡
);

256 
	gmw
->
	g¡¬t
 = 0;

258 
süŞl_b¬_£t_v›w
(
s
, 
g‘_fÚt_height
(
mw
->
gd
è* 
veùÜ_size
(&
fe_li¡
), 0);

259 
süŞl_b¬_upd©e_off£t
(
s
, 0);

260 
süŞl_b¬_»·št
(
s
);

261 
süŞl_b¬_show
(
s
);

263 
Ïb–_»·št
(
l
);

264 
Ïb–_show
(
l
);

266 
my_widg‘_»·št
(
mw
);

267 
my_widg‘_show
(
mw
);

272 if(
	gdi_±r
->
	gis_dœeùÜy
 == 2)

274 * 
commªd
[2];

275 
	g®l_·th
[
PATH_MAX
];

276 
pid_t
 
	gpid
;

277 
	gcommªd
[0] = 
di_±r
->
Çme
 + 2;

278 
	gcommªd
[1] = 
NULL
;

279 
¡ºıy
(
®l_·th
, 
wÜkšg_dœeùÜy
, 
PATH_MAX
);

280 
¡ºÿt
(
®l_·th
, 
di_±r
->
Çme
 + 2, 
PATH_MAX
);

281 if((
	gpid
 = 
fÜk
()) == 0)

283 
execv
(
commªd
[0], command);

284 
ex™
(0);

287 if(
	gdi_±r
->
	gis_dœeùÜy
 == 3)

289 * 
commªd
[3];

290 
	gÙh”­p
[
PATH_MAX
];

291 
pid_t
 
	gpid
;

293 
¡ºıy
(
Ùh”­p
, 
DESKTOP_PATH
, 
PATH_MAX
);

294 
¡ºÿt
(
Ùh”­p
, "ed™”basic", 
PATH_MAX
);

296 
	gcommªd
[0] = 
Ùh”­p
;

297 
	gcommªd
[1] = 
di_±r
->
Çme
 + 2;

298 
	gcommªd
[2] = 
NULL
;

300 if((
	gpid
 = 
fÜk
()) == 0)

302 
execv
(
commªd
[0], command);

303 
ex™
(0);

311 
si_t


312 
	gmy_widg‘_deçuÉ_ÿÎback


313 (* 
	g£lf
,

314 * 
	gmsg
)

316 
my_widg‘
 * 
	gmw
 = 
£lf
;

317 
mes§ge
 * 
	gm
 = 
msg
;

319 
	gm
->
	gba£
.
	gty³
)

321 
	gMESSAGE_TYPE_WIDGET_REPAINT
:

322 
my_widg‘_deçuÉ_widg‘_»·št
(
mw
, 
m
);

323 
my_widg‘_deçuÉ_widg‘_show
(
mw
, 
m
);

326 
	gMESSAGE_TYPE_WIDGET_SHOW
:

327 
my_widg‘_deçuÉ_widg‘_show
(
mw
, 
m
);

330 
	gMESSAGE_TYPE_MOUSE_PRESS
:

331 
my_widg‘_deçuÉ_mou£_´ess
(
mw
, 
m
);

334 
	gMESSAGE_TYPE_MOUSE_RELEASE
:

335 
my_widg‘_deçuÉ_mou£_»Ëa£
(
mw
, 
m
);

338 
	gMESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

339 
my_widg‘_deçuÉ_mou£_sšgË_şick
(
mw
, 
m
);

342 
	gMESSAGE_TYPE_WINDOW_CLOSE
:

343 
veùÜ_ex™
(&
fe_li¡
);

353 
si_t


354 
	gmy_widg‘_»·št


355 (
my_widg‘
 * 
	gmw
)

357 
mes§ge
 
	gmsg
;

359 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gx
 = 
mw
->
¬—
.
x
;

360 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gy
 = 
mw
->
¬—
.
y
;

361 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gwidth
 = 
mw
->
¬—
.
width
;

362 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gheight
 = 
mw
->
¬—
.
height
;

364 
my_widg‘_deçuÉ_widg‘_»·št
(
mw
, &
msg
);

369 
si_t


370 
	gmy_widg‘_show


371 (
my_widg‘
 * 
	gmw
)

373 
mes§ge
 
	gmsg
;

375 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gx
 = 
mw
->
¬—
.
x
;

376 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gy
 = 
mw
->
¬—
.
y
;

377 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gwidth
 = 
mw
->
¬—
.
width
;

378 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gheight
 = 
mw
->
¬—
.
height
;

380 
my_widg‘_deçuÉ_widg‘_show
(
mw
, &
msg
);

386 
	gmy_widg‘_š™


387 (
si_t
 
	gid
)

389 
my_widg‘
 * 
	gaddr
;

392 
	gaddr
 = (
my_widg‘
 *)
m®loc
((my_widget));

394 if(
	gaddr
 =ğ
NULL
)

396 
´štf
("ERROR AT LINE %d OF FILE %s\n", 
__LINE__
, 
__FILE__
);

397 
³¼Ü
("malloc");

399  
	gNULL
;

403 
	gaddr
->
	ggd
 = 
g¿phics_deviû_š™
(0, 0, 0, 0, 0, 0 ,0 ,0 ,0);

406 if(
	gaddr
->
	ggd
 == 0)

409 
ä“
(
addr
);

411  
	gNULL
;

415 
	gaddr
->
	g·»Á
 = 
NULL
;

416 
	gaddr
->
	glchd
 = 
NULL
;

417 
	gaddr
->
	grchd
 = 
NULL
;

418 
	gaddr
->
	gÇme
 = "struct my_widget";

419 
	gaddr
->
	gid
 = 
id
;

422 
	gaddr
->
	g¬—
.
	gx
 = 0;

423 
	gaddr
->
	g¬—
.
	gy
 = 0;

424 
	gaddr
->
	g¬—
.
	gwidth
 = 0;

425 
	gaddr
->
	g¬—
.
	gheight
 = 0;

428 
	gaddr
->
	gbÜd”_size
 = 0;

431 
	gaddr
->
	gmaximum_width
 = 0;

433 
	gaddr
->
	gmaximum_height
 = 0;

435 
	gaddr
->
	gmšimum_width
 = 0;

437 
	gaddr
->
	gmšimum_height
 = 0;

440 
	gaddr
->
	gcursÜ
 = 
CURSOR_SHAPE_X
;

443 
	gaddr
->
	gšput_’abË
 = 0;

446 
	gaddr
->
	gupd©e_’abË
 = 1;

449 
	gaddr
->
	gvisibË
 = 1;

452 
	gaddr
->
	gkeybd_focus
 = 0;

455 
	gaddr
->
	gis_wšdow
 = 0;

457 
	gaddr
->
	gback_cŞÜ
 = 
b¬–y_blue
;

458 
	gaddr
->
	gäame_cŞÜ
 = 
light_blue
;

460 
	gaddr
->
	gfÚt
 = 
FONT_MATRIX_08
;

463 
	gaddr
->
	gÿÎback
 = 
my_widg‘_deçuÉ_ÿÎback
;

465  
	gaddr
;

473 
si_t


474 
	gmy_widg‘_ex™


475 (
my_widg‘
 * 
	gmw
)

477 
g¿phics_deviû_ex™
(
mw
->
gd
);

479 
ä“
(
mw
);

	@debug/samples/file_browser/my_widget.h

30 #iâdeà
_MY_WIDGET_H_


31 
	#_MY_WIDGET_H_
 1

	)

33 
	~<lšux/lim™s.h
>

35 
	~"ba£_ty³.h
"

36 
	~"widg‘.h
"

39 
wÜkšg_dœeùÜy
[
PATH_MAX
];

42 
veùÜ
 
fe_li¡
;

44 
Ïb–
 * 
l
;

46 
süŞl_b¬
* 
s
;

48 
	smy_widg‘


50 
WIDGET_DEFINITION


53 
si_t
 
	mfÚt
;

56 
si_t
 
	m¡¬t
;

59 
si_t
 
	mcouÁ
;

64 
cŞÜ
 
	mäame_cŞÜ
;

68 
si_t


69 
my_widg‘_deçuÉ_widg‘_show


70 (
my_widg‘
 * 
mw
,

71 
mes§ge
 * 
msg
);

74 
si_t


75 
my_widg‘_deçuÉ_widg‘_»·št


76 (
my_widg‘
 * 
mw
,

77 
mes§ge
 * 
msg
);

80 
si_t


81 
my_widg‘_deçuÉ_mou£_´ess


82 (
my_widg‘
 * 
mw
,

83 
mes§ge
 * 
msg
);

86 
si_t


87 
my_widg‘_deçuÉ_mou£_»Ëa£


88 (
my_widg‘
 * 
mw
,

89 
mes§ge
 * 
msg
);

92 
si_t


93 
my_widg‘_deçuÉ_ÿÎback


94 (* 
£lf
,

95 * 
msg
);

110 
si_t


111 
my_widg‘_»·št


112 (
my_widg‘
 * 
mw
);

127 
si_t


128 
my_widg‘_show


129 (
my_widg‘
 * 
mw
);

142 
my_widg‘_š™


143 (
si_t
 
id
);

155 
si_t


156 
my_widg‘_ex™


157 (
my_widg‘
 * 
mw
);

	@debug/samples/game.c

30 
	~<¡dio.h
>

31 
	~<¡ršg.h
>

32 
	~<uni¡d.h
>

34 
	~"­¶iÿtiÚ.h
"

35 
	~"widg‘.h
"

36 
	#N
 16

	)

37 
bu‰Ú
 *
	gbb
[
N
];

38 
cŞÜ
 
	gcŞ
[2];

39 
	gbbc
[
N
]={0};

40 
	gi
=100;

41 
	gj
=0;

43 
	$£t_®lcŞÜ
(){

44 
i
=0;

45 
i
=0;i<
N
;i++){

46 
	`bu‰Ú_£t_cŞÜ
(
bb
[
i
],
NULL
,&
cŞ
[
bbc
[i]]);

47 
	`bu‰Ú_»·št
(
bb
[
i
]);

49 
	}
}

51 
	$’d
(){

52 
sum
=0,
i
=0;

53 
i
=0;i<
N
;i++)

54 
sum
+=
bbc
[
i
];

55 if(
sum
==16||sum==0) 1;

57 
	}
}

62 
si_t


63 
	gbu‰Ú_ÿÎback


65 * 
	gbŠ
,

66 * 
	gmsg
)

68 
bu‰Ú
 * 
	gb
 = 
bŠ
;

69 
bu‰Ú
 * 
	gb1
 = 
bŠ
;

70 
	gn
=
b
->
fÜe_cŞÜ
.
r
;

71 if(
mes§ge_g‘_ty³
(
msg
)==
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
){

72 
n
){

74 
bbc
[
n
]=(bbc[n]+1)%2;
	gbbc
[n+1]=(bbc[n+1]+1)%2;bbc[n-1]=(bbc[n-1]+1)%2;

75 
	gbbc
[
n
-4]=(
bbc
[n-4]+1)%2;bbc[n+4]=(bbc[n+4]+1)%2;;

76 0: 
bbc
[
n
]=(bbc[n]+1)%2;
	gbbc
[n+1]=(bbc[n+1]+1)%2;bbc[n+4]=(bbc[n+4]+1)%2;;

77 3: 
bbc
[
n
]=(bbc[n]+1)%2;
	gbbc
[n-1]=(bbc[n-1]+1)%2;bbc[n+4]=(bbc[n+4]+1)%2;;

78 12: 
bbc
[
n
]=(bbc[n]+1)%2;
	gbbc
[n+1]=(bbc[n+1]+1)%2;bbc[n-4]=(bbc[n-4]+1)%2;;

79 15: 
bbc
[
n
]=(bbc[n]+1)%2;
	gbbc
[n-1]=(bbc[n-1]+1)%2;bbc[n-4]=(bbc[n-4]+1)%2;;

81 
bbc
[
n
]=(bbc[n]+1)%2;
	gbbc
[n+1]=(bbc[n+1]+1)%2;bbc[n-1]=(bbc[n-1]+1)%2;bbc[n+4]=(bbc[n+4]+1)%2;;

83 
bbc
[
n
]=(bbc[n]+1)%2;
	gbbc
[n+1]=(bbc[n+1]+1)%2;bbc[n-4]=(bbc[n-4]+1)%2;bbc[n+4]=(bbc[n+4]+1)%2;;

85 
bbc
[
n
]=(bbc[n]+1)%2;
	gbbc
[n-1]=(bbc[n-1]+1)%2;bbc[n-4]=(bbc[n-4]+1)%2;bbc[n+4]=(bbc[n+4]+1)%2;;

87 
bbc
[
n
]=(bbc[n]+1)%2;
	gbbc
[n+1]=(bbc[n+1]+1)%2;bbc[n-1]=(bbc[n-1]+1)%2;bbc[n-4]=(bbc[n-4]+1)%2;;

89 
£t_®lcŞÜ
();

90 if(
’d
()){

91 
wšdow
 * 
	gww
;

93 
	gww
 = 
wšdow_š™
("You win!");

95 if(
	gww
 =ğ
NULL
)

97 
­¶iÿtiÚ_ex™
();

100 
wšdow_£t_bounds
(
ww
, 350, 250, 300, 100);

101 
wšdow_£t_cŞÜ
(
ww
, 
NULL
, &
cŞ
[0]);

104 
­¶iÿtiÚ_add_wšdow
(
NULL
, 
ww
);

105 
¦“p
(2);

106 
­¶iÿtiÚ_ex™
();

110 
bu‰Ú_deçuÉ_ÿÎback
(
b
, 
msg
);

115 
	$maš
()

117 
k
;

118 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

119 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

120 
cŞ
[0].
r
=0;

121 
cŞ
[0].
g
=255;

122 
cŞ
[0].
b
=0;

123 
cŞ
[0].
a
=0;

124 
cŞ
[1].
r
=100;

125 
cŞ
[1].
g
=100;

126 
cŞ
[1].
b
=100;

127 
cŞ
[1].
a
=0;

128 
wšdow
 * 
w
;

131 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "game");

134 
w
 = 
	`wšdow_š™
("game");

136 if(
w
 =ğ
NULL
)

138 
	`­¶iÿtiÚ_ex™
();

141 
	`wšdow_£t_bounds
(
w
, 300, 100, 500, 500);

142 
w
->
back_cŞÜ
.
r
 = 255;

143 
w
->
back_cŞÜ
.
g
 = 0;

144 
w
->
back_cŞÜ
.
b
 = 255;

145 
w
->
back_cŞÜ
.
a
 = 0;

147 
j
=0;j<
N
;j++){

148 
bb
[
j
]ğ
	`bu‰Ú_š™
("");

150 if(
bb
[
j
] =ğ
NULL
)

152 
	`­¶iÿtiÚ_ex™
();

155 
	`bu‰Ú_£t_bounds
(
bb
[
j
], (j%4)*125, (j/4)*125, 123, 123);

156 
bb
[
j
]->
fÜe_cŞÜ
.
r
=j;

158 
bb
[
j
]->
ÿÎback
 = 
bu‰Ú_ÿÎback
;

161 
j
=0;j<
N
;j++)

162 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
bb
[
j
]));

168 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w
);

170 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w
);

173 
	`­¶iÿtiÚ_exec
();

177 
	}
}

	@debug/samples/multi_windows.c

30 
	~<¡dio.h
>

31 
	~<¡ršg.h
>

32 
	~<uni¡d.h
>

34 
	~"­¶iÿtiÚ.h
"

35 
	~"widg‘.h
"

37 
	$foo
(
addr_t
 
d©a
)

39 
	`puts
((*)
d©a
);

40 
	}
}

45 
	$maš
()

47 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

48 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

49 
wšdow
 * 
w1
;

50 
wšdow
 * 
w2
;

51 
checkbox
 *
c
;

54 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "multi_windows");

56 
w1
 = 
	`wšdow_š™
("main window");

59 if(
w1
 =ğ
NULL
)

61 
	`­¶iÿtiÚ_ex™
();

64 
	`wšdow_£t_bounds
(
w1
, 300, 100, 448, 200);

66 
w2
 = 
	`wšdow_š™
("vice window");

68 if(
w2
 =ğ
NULL
)

70 
	`­¶iÿtiÚ_ex™
();

73 
	`wšdow_£t_bounds
(
w2
, 400, 200, 448, 200);

76 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w1
);

78 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w2
);

80 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w1
);

82 
c
 = 
	`checkbox_š™
(0);

84 
c
->
şick_ÿÎback
 = 
foo
;

85 
c
->
u£r_d©a
 = "hello world!";

87 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w2
), OBJECT_POINTER(
c
));

91 
¿diobu‰Ú
 *
r
, *
s
;

92 
r
 = 
	`¿diobu‰Ú_š™
("test_group", 0);

93 
s
 = 
	`¿diobu‰Ú_š™
("test_group", 1);

94 
	`¿diobu‰Ú_£t_bounds
(
r
, 20, 20, 13, 13);

95 
	`¿diobu‰Ú_£t_bounds
(
s
, 20, 40, 13, 13);

96 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w1
), OBJECT_POINTER(
r
));

97 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w1
), OBJECT_POINTER(
s
));

98 
r
 = 
	`¿diobu‰Ú_š™
("test_group_1", 0);

99 
s
 = 
	`¿diobu‰Ú_š™
("test_group_1", 0);

100 
	`¿diobu‰Ú_£t_bounds
(
r
, 40, 20, 13, 13);

101 
	`¿diobu‰Ú_£t_bounds
(
s
, 40, 40, -1, -1);

102 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w1
), OBJECT_POINTER(
r
));

103 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w2
), OBJECT_POINTER(
s
));

107 
¥šbox
 *
s
;

108 
s
 = 
	`¥šbox_š™
(0, 5, 0);

109 
	`¥šbox_£t_bounds
(
s
, 60, 60, -1, -1);

110 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w2
), OBJECT_POINTER(
s
));

114 
æowbox
 *
f
;

115 
bu‰Ú
 *
b
[10];

116 
i
;

117 
f
 = 
	`æowbox_š™
(0);

118 
	`æowbox_£t_bounds
(
f
, 5, 70, 405, 100);

119 
i
=0; i<10; i++) {

120 
b
[
i
] = 
	`bu‰Ú_š™
("test button");

121 
	`bu‰Ú_£t_bounds
(
b
[
i
], 0, 0, i==5?106:100, i==4?40:(i==6?45:30));

122 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
f
), OBJECT_POINTER(
b
[
i
]));

123 
	`æowbox_add_widg‘
(
f
, 
	`WIDGET_POINTER
(
b
[
i
]));

125 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w1
), OBJECT_POINTER(
f
));

129 
	`­¶iÿtiÚ_exec
();

132 
	}
}

	@debug/samples/pop_up_window.c

30 
	~<¡dio.h
>

31 
	~<¡ršg.h
>

32 
	~<uni¡d.h
>

34 
	~"geom‘ry.h
"

35 
	~"comm.h
"

36 
	~"­¶iÿtiÚ.h
"

37 
	~"ş›Á_lib.h
"

38 
	~"widg‘.h
"

40 
cŞÜ
 
	glight_g»’
 = {0xcc, 0xff, 0x99, 0};

41 
cŞÜ
 
	gb¬–y_blue
 = {0xcb, 0xf3, 0xfb, 0};

43 
si_t


44 
	gbu‰Ú_ÿÎback


45 (* 
	gbŠ
,

46 * 
	gmsg
)

48 
wšdow
 * 
	gw
;

50 
mes§ge_g‘_ty³
(
msg
))

52 
	gMESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

54 
w
 = 
wšdow_š™
("pop_up_window");

56 if(
	gw
 =ğ
NULL
)

58 
­¶iÿtiÚ_ex™
();

61 
wšdow_£t_bounds
(
w
, 100, 100, 300, 100);

62 
wšdow_£t_cŞÜ
(
w
, 
NULL
, &
b¬–y_blue
);

65 
­¶iÿtiÚ_add_wšdow
(
NULL
, 
w
);

69 
bu‰Ú_deçuÉ_ÿÎback
(
bŠ
, 
msg
);

79 
	$maš
()

81 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

82 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

83 
wšdow
 * 
w
 = 
NULL
;

84 
bu‰Ú
 * 
b
 = 
NULL
;

87 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "pop_up_window");

90 
w
 = 
	`wšdow_š™
("root window");

92 if(
w
 =ğ
NULL
)

94 
	`­¶iÿtiÚ_ex™
();

97 
	`wšdow_£t_bounds
(
w
, 300, 100, 448, 200);

98 
	`wšdow_£t_cŞÜ
(
w
, 
NULL
, &
light_g»’
);

101 
b
 = 
	`bu‰Ú_š™
("click me!");

103 if(
b
 =ğ
NULL
)

105 
	`­¶iÿtiÚ_ex™
();

108 
	`bu‰Ú_£t_bounds
(
b
, 50, 50, 150, 50);

109 
	`bu‰Ú_£t_cŞÜ
(
b
, 
NULL
, &
b¬–y_blue
);

110 
b
->
ÿÎback
 = 
bu‰Ú_ÿÎback
;

113 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b
));

116 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w
);

118 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w
);

121 
	`­¶iÿtiÚ_exec
();

124 
	}
}

	@debug/samples/shutdown.c

30 
	~"­¶iÿtiÚ.h
"

31 
	~"ş›Á_lib.h
"

43 
	$maš
()

45 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

46 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_WINDOW_MANAGER_EXIT
;

49 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "shutdown");

51 
	`wšdow_mªag”_qu™
();

54 
	`­¶iÿtiÚ_exec
();

56 
	`­¶iÿtiÚ_ex™
();

59 
	}
}

	@debug/samples/single_window.c

30 
	~<¡dio.h
>

31 
	~<¡ršg.h
>

32 
	~<uni¡d.h
>

34 
	~"­¶iÿtiÚ.h
"

39 
	$maš
()

41 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

42 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

43 
wšdow
 * 
w
 = 
NULL
;

46 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "single_window");

48 
w
 = 
	`wšdow_š™
("single_window");

50 if(
w
 =ğ
NULL
)

52 
	`­¶iÿtiÚ_ex™
();

55 
	`wšdow_£t_bounds
(
w
, 300, 100, 450, 200);

58 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w
);

60 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w
);

63 
	`­¶iÿtiÚ_exec
();

66 
	}
}

	@debug/samples/tab.c

1 
	~<¡dio.h
>

3 
	~"­¶iÿtiÚ.h
"

4 
	~"widg‘.h
"

6 
	$maš
()

8 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

9 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

11 
wšdow
 *
w1
, *
w2
;

12 
b
 *
t
;

14 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "tab sample");

16 if((
w1
 = 
	`wšdow_š™
("maš wšdow"))==
NULL
) {

17 
	`­¶iÿtiÚ_ex™
();

20 
	`wšdow_£t_bounds
(
w1
, 300, 100, 448, 200);

22 if((
w2
 = 
	`wšdow_š™
("viû wšdow"))==
NULL
) {

23 
	`­¶iÿtiÚ_ex™
();

26 
	`wšdow_£t_bounds
(
w2
, 400, 200, 448, 200);

28 
cŞÜ
 
wš_back
 = {.
r
=0xD8, .
g
=0xA8, .
b
=0xC0, .
a
=0};

29 
cŞÜ
 
wš_fÜe
 = {.
r
=0x30, .
g
=0x30, .
b
=0x48, .
a
=0};

30 
	`wšdow_£t_cŞÜ
(
w2
, &
wš_fÜe
, &
wš_back
);

33 
t
 = 
	`b_š™
();

34 
	`b_£t_bounds
(
t
, 5, 5, 440, 190);

35 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w2
), OBJECT_POINTER(
t
));

37 
b_·ge
 *
1
 = 
	`b_·ge_š™
("test…age 1");

38 
b_·ge
 *
2
 = 
	`b_·ge_š™
("page 2");

39 
b_·ge
 *
3
 = 
	`b_·ge_š™
("p3");

40 
b_·ge
 *
4
 = 
	`b_·ge_š™
("by_stone");

41 
bu‰Ú
 *
b1
 = 
	`bu‰Ú_š™
("test button");

42 
checkbox
 *
cb
 = 
	`checkbox_š™
(1);

43 
¥šbox
 *
¥b
 = 
	`¥šbox_š™
(
INT_MIN
, 
INT_MAX
, 10);

44 
	`bu‰Ú_£t_bounds
(
b1
, 10, 24, -1, -1);

45 
	`bu‰Ú_£t_bounds_auto
(
b1
);

46 
	`checkbox_£t_bounds
(
cb
, 0, 0, -1, -1);

47 
	`¥šbox_£t_bounds
(
¥b
, 0, 1, 100, 50);

48 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
1
), OBJECT_POINTER(
b1
));

49 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
2
), OBJECT_POINTER(
cb
));

50 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
3
), OBJECT_POINTER(
¥b
));

51 
	`b_add_·ge
(
t
, 
1
);

52 
	`b_add_·ge
(
t
, 
2
);

53 
	`b_add_·ge
(
t
, 
3
);

54 
	`b_add_·ge
(
t
, 
4
);

56 
cŞÜ
 
tc1
 = {.
r
=0xc0, .
g
=0x60, .
b
=0x90, .
a
=0};

57 
cŞÜ
 
tc2
 = {.
r
=0xa8, .
g
=0xa8, .
b
=0xc0, .
a
=0};

58 
cŞÜ
 
tc3
 = {.
r
=0x78, .
g
=0x78, .
b
=0xa8, .
a
=0};

59 
cŞÜ
 
tc4
 = {.
r
=0x48, .
g
=0x48, .
b
=0x78, .
a
=0};

60 
cŞÜ
 
bbc
 = {.
r
=0xd8, .
g
=0x90, .
b
=0xa8, .
a
=0};

61 
cŞÜ
 
bfc
 = {.
r
=0xff, .
g
=0xff, .
b
=0xff, .
a
=0};

62 
	`b_·ge_£t_cŞÜ
(
1
, 
NULL
, &
tc1
);

63 
	`b_·ge_£t_cŞÜ
(
2
, 
NULL
, &
tc2
);

64 
	`b_·ge_£t_cŞÜ
(
3
, 
NULL
, &
tc3
);

65 
	`b_·ge_£t_cŞÜ
(
4
, 
NULL
, &
tc4
);

66 
	`bu‰Ú_£t_cŞÜ
(
b1
, &
bfc
, &
bbc
);

70 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w1
);

71 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w2
);

72 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w1
);

74 
	`­¶iÿtiÚ_exec
();

76 
	}
}

	@debug/samples/text_clock.c

1 
	#_POSIX_C_SOURCE
 199309L

	)

3 
	~<¡dio.h
>

4 
	~<¡dlib.h
>

5 
	~<ùy³.h
>

6 
	~<‹rmios.h
>

7 
	~<fú.h
>

8 
	~<sys/time.h
>

9 
	~<time.h
>

10 
	~<widg‘.h
>

11 
	~"comp”.h
"

13 
‹rmios
 
	gŞd_‹rm
;

15 
	$‹rm_š™
()

17 
‹rmios
 
Ãw_‹rm
;

18 
fd
 = 0;

19 
	`tcg‘©Œ
(
fd
, &
Şd_‹rm
);

20 
Ãw_‹rm
 = 
Şd_‹rm
;

21 
Ãw_‹rm
.
c_læag
 &ğ~(
ECHO
 | 
ICANON
);

22 
	`tc£‰r
(
fd
, 
TCSANOW
, &
Ãw_‹rm
);

23 
	}
}

25 
	$‹rm_ex™
()

27 
fd
 = 0;

28 
	`tc£‰r
(
fd
, 
TCSAFLUSH
, &
Şd_‹rm
);

29 
	}
}

31 
	$ev’t_hªdËr
(
widg‘
 *
sub
, widg‘ *
pub
, 
si_t
 
ev’t
)

33 
buf
[100];

34 
time¥ec
 
¥ec
;

35 
	`NOT_USED
(
sub
);

36 
	`NOT_USED
(
ev’t
);

38 
	`şock_g‘time
(
CLOCK_REALTIME
, &
¥ec
);

40 
	`´štf
("\033[%dD", 
	`¡¾’
(
buf
));

41 
	`¡ráime
(
buf
, (buf), "%T", 
	`loÿÉime
(&
¥ec
.
tv_£c
));

42 
	`¥rštf
(
buf
+
	`¡¾’
(buf), ".%06ld", 
¥ec
.
tv_n£c
/1000);

44 
	`´štf
("%s", 
buf
);

45 
	`fæush
(
¡dout
);

46 
	`tim”_run
(
	`TIMER_POINTER
(
pub
));

47 
	}
}

49 
	$maš
(
¬gc
, *
¬gv
[])

51 
tim”
 *tim” = 
	`tim”_š™
(0);

52 
time¥ec
 
ts
;

53 
ch
;

54 if(
¬gc
<3) {

55 
	`´štf
("U§ge: % <£c> <u£c>\n", 
¬gv
[0]);

56 
	`ex™
(1);

58 
ts
.
tv_£c
 = 
	`©oi
(
¬gv
[1]);

59 
ts
.
tv_n£c
 = 
	`©oi
(
¬gv
[2]);

61 
	`‹rm_š™
();

62 
	`tim”_£t_time
(
tim”
, &
ts
);

63 
	`tim”_»gi¡”_ev’t_hªdËr
(
tim”
, 
NULL
, 
TIMER_EVENT_ALL
, 
ev’t_hªdËr
);

64 
	`ev’t_hªdËr
(
NULL
, 
	`WIDGET_POINTER
(
tim”
), 
TIMER_EVENT_ALL
);

65 
	`tŞow”
(
ch
 = 
	`fg‘c
(
¡dš
))!='q');

66 
	`‹rm_ex™
();

67 
	`puts
("");

69 
	}
}

	@debug/samples/timer.c

1 
	~<¡dio.h
>

2 
	~<¡dlib.h
>

3 
	~<uni¡d.h
>

4 
	~<widg‘.h
>

5 
	~"comp”.h
"

7 
	$ev’t_hªdËr
(
widg‘
 *
sub
, widg‘ *
pub
, 
si_t
 
ev’t
)

9 
	`NOT_USED
(
sub
);

10 
	`NOT_USED
(
ev’t
);

11 
	`puts
("hello world");

12 
	`tim”_run
(
	`TIMER_POINTER
(
pub
));

13 
	}
}

15 
	$maš
(
¬gc
, *
¬gv
[])

17 
tim”
 *tim” = 
	`tim”_š™
(0);

18 
time¥ec
 
ts
 = {

19 .
tv_£c
=0,

20 .
tv_n£c
=0

22 if(
¬gc
<3) {

23 
	`´štf
("U§ge: % <£c> <n£c>\n", 
¬gv
[0]);

24 
	`ex™
(1);

26 
ts
.
tv_£c
 = 
	`©oi
(
¬gv
[1]);

27 
ts
.
tv_n£c
 = 
	`©oi
(
¬gv
[2]);

28 
	`tim”_£t_time
(
tim”
, &
ts
);

29 
	`tim”_»gi¡”_ev’t_hªdËr
(
tim”
, 
NULL
, 
TIMER_EVENT_ALL
, 
ev’t_hªdËr
);

30 
	`tim”_run
(
tim”
);

31 
	`¦“p
(10);

33 
	}
}

	@debug/samples/toplevel_child.c

30 
	~<¡dio.h
>

31 
	~<¡ršg.h
>

32 
	~<uni¡d.h
>

34 
	~"­¶iÿtiÚ.h
"

35 
	~"widg‘.h
"

37 
si_t


38 
	gbu‰Ú_ÿÎback


39 (* 
	gbŠ
,

40 * 
	gmsg
)

42 
mes§ge_g‘_ty³
(
msg
)) {

43 
	gMESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

44 
puts
("hello world!");

47 
bu‰Ú_deçuÉ_ÿÎback
(
bŠ
, 
msg
);

63 
	$maš
()

65 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

66 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

67 
wšdow
 * 
w1
;

68 
wšdow
 * 
w2
;

69 
wšdow
 * 
w3
;

70 
wšdow
 * 
w4
;

71 
wšdow
 * 
w5
;

72 
¿diobu‰Ú
 * 
r
, *
s
;

75 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "toplevel_child");

77 
w1
 = 
	`wšdow_š™
("uncle-1");

79 if(
w1
 =ğ
NULL
)

81 
	`­¶iÿtiÚ_ex™
();

84 
	`wšdow_£t_bounds
(
w1
, 300, 100, 448, 200);

86 
w2
 = 
	`wšdow_š™
("parent");

88 if(
w2
 =ğ
NULL
)

90 
	`­¶iÿtiÚ_ex™
();

93 
	`wšdow_£t_bounds
(
w2
, 350, 150, 448, 200);

95 
w3
 = 
	`wšdow_š™
("child-1");

97 if(
w3
 =ğ
NULL
)

99 
	`­¶iÿtiÚ_ex™
();

102 
	`wšdow_£t_bounds
(
w3
, 400, 200, 600, 600);

104 
w4
 = 
	`wšdow_š™
("child-2");

106 if(
w4
 =ğ
NULL
)

108 
	`­¶iÿtiÚ_ex™
();

111 
	`wšdow_£t_bounds
(
w4
, 450, 250, 448, 200);

113 
w5
 = 
	`wšdow_š™
("uncle-2");

115 if(
w5
 =ğ
NULL
)

117 
	`­¶iÿtiÚ_ex™
();

120 
	`wšdow_£t_bounds
(
w5
, 500, 300, 448, 200);

123 
bu‰Ú
 *
b
 = 
	`bu‰Ú_š™
("click me!");

124 
	`bu‰Ú_£t_bounds
(
b
, 50, 50, 150, 50);

125 
b
->
ÿÎback
 = 
bu‰Ú_ÿÎback
;

126 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w4
), OBJECT_POINTER(
b
));

139 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w1
);

141 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w2
);

143 
	`­¶iÿtiÚ_add_wšdow
(
w2
, 
w3
);

145 
	`­¶iÿtiÚ_add_wšdow
(
w2
, 
w4
);

147 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w5
);

149 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w1
);

151 
r
 = 
	`¿diobu‰Ú_š™
("test_group", 0);

152 
s
 = 
	`¿diobu‰Ú_š™
("test_group", 1);

153 
	`¿diobu‰Ú_£t_bounds
(
r
, 20, 20, 13, 13);

154 
	`¿diobu‰Ú_£t_bounds
(
s
, 20, 40, 13, 13);

155 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w4
), OBJECT_POINTER(
r
));

156 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w4
), OBJECT_POINTER(
s
));

159 
·Ãl
 *
p
 = 
	`·Ãl_š™
(0);

160 
bu‰Ú
 *
pb
 = 
	`bu‰Ú_š™
("button in…anel");

161 
checkbox
 *
pcb
 = 
	`checkbox_š™
(0);

162 
	`·Ãl_£t_bounds
(
p
, 5, 5, 500, 500);

163 
	`bu‰Ú_£t_bounds
(
pb
, 5, 5, 200, 50);

164 
	`checkbox_£t_bounds
(
pcb
, 210, 5, -1, -1);

165 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w3
), OBJECT_POINTER(
p
));

166 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
p
), OBJECT_POINTER(
pb
));

167 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
p
), OBJECT_POINTER(
pcb
));

171 
	`­¶iÿtiÚ_exec
();

174 
	}
}

	@debug/widget/test_button.c

30 
	~<¡dio.h
>

31 
	~<¡ršg.h
>

32 
	~<uni¡d.h
>

34 
	~"geom‘ry.h
"

35 
	~"comm.h
"

36 
	~"­¶iÿtiÚ.h
"

37 
	~"widg‘.h
"

39 
si_t


40 
	gbu‰Ú_ÿÎback


41 (* 
	gbŠ
,

42 * 
	gmsg
)

44 
bu‰Ú
 * 
	gb
 = 
bŠ
;

45 
mes§ge
 * 
	gm
 = 
msg
;

47 
	gm
->
	gba£
.
	gty³
)

49 
	gMESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

50 
´štf
("%lX sšgË click\n", (
si_t
)
b
);

55 
bu‰Ú_deçuÉ_ÿÎback
(
bŠ
, 
msg
);

66 
	$maš
()

68 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

69 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

70 
wšdow
 * 
w
 = 
NULL
;

71 
bu‰Ú
 * 
b
 = 
NULL
;

74 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "button");

77 
w
 = 
	`wšdow_š™
("window with button");

79 if(
w
 =ğ
NULL
)

81 
	`­¶iÿtiÚ_ex™
();

85 
	`wšdow_£t_bounds
(
w
,300,100,448,200);

88 
b
 = 
	`bu‰Ú_š™
("hello");

90 if(
b
 =ğ
NULL
)

92 
	`­¶iÿtiÚ_ex™
();

96 
	`bu‰Ú_£t_bounds
(
b
,50,50,50,50);

97 
b
->
ÿÎback
 = 
bu‰Ú_ÿÎback
;

100 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
b
));

104 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w
);

106 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w
);

109 
	`­¶iÿtiÚ_exec
();

112 
	}
}

	@debug/widget/test_icon.c

30 
	~<as£¹.h
>

31 
	~<¡dio.h
>

32 
	~<¡dlib.h
>

33 
	~<¡ršg.h
>

34 
	~<uni¡d.h
>

36 
	~<geom‘ry.h
>

37 
	~<comm.h
>

38 
	~<­¶iÿtiÚ.h
>

39 
	~<widg‘.h
>

40 
	~<cÚfig_·r£r.h
>

45 
	$maš
()

47 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

48 
wšdow
 * 
w
;

49 
icÚ
 * 
ic
;

50 *
img_·th
;

53 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
APPLICATION_TYPE_NORMAL
, "eicon");

56 
w
 = 
	`wšdow_š™
("window with old-styleƒicon");

58 if(
w
 =ğ
NULL
)

60 
	`­¶iÿtiÚ_ex™
();

63 
	`wšdow_£t_bounds
(
w
,300,100,500,200);

64 
w
->
mšimize_’abË
 = 1;

65 
w
->
maximize_’abË
 = 1;

66 
w
->
ÿÎback
 = 
wšdow_deçuÉ_ÿÎback
;

69 
ic
 = 
	`icÚ_š™
(2);

71 if(
ic
 =ğ
NULL
)

73 
	`­¶iÿtiÚ_ex™
();

76 
	`icÚ_£t_bounds
(
ic
 ,50,50,100,120);

77 
	`icÚ_£t_‹xt
(
ic
,"ehello");

78 
	`icÚ_£t_img_·th
(
ic
,
img_·th
=
	`g‘_cÚfig_·th
("img/2.bmp"));

79 
	`ä“
(
img_·th
);

80 
	`icÚ_£t_is_‹xt_visŸbË
(
ic
 ,1);

81 
ic
->
ÿÎback
 = 
icÚ_deçuÉ_ÿÎback
;

84 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
ic
));

87 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w
);

89 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w
);

92 
	`­¶iÿtiÚ_exec
();

95 
	}
}

	@debug/widget/test_image_view.c

1 
	~<¡ršg.h
>

2 
	~<uni¡d.h
>

3 
	~<¡dio.h
>

5 
	~"­¶iÿtiÚ.h
"

6 
	~"widg‘.h
"

8 
	$maš
()

10 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

11 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

12 
wšdow
 * 
w
 = 
NULL
;

13 
image_v›w
* 
i
 = 
NULL
;

16 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "test_image_view");

19 
w
 = 
	`wšdow_š™
("window with image_view");

21 if(
w
 =ğ
NULL
)

23 
	`­¶iÿtiÚ_ex™
();

26 
	`wšdow_£t_bounds
(
w
, 300, 100, 520, 520);

28 
i
 = 
	`image_v›w_š™
("/home/sisi/dst/debug/widget/file.bmp");

29 if(
NULL
 =ğ
i
)

31 
	`­¶iÿtiÚ_ex™
();

34 
	`image_v›w_£t_bounds
(
i
, 10, 10, 500, 500);

37 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
i
));

40 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w
);

42 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w
);

45 
	`­¶iÿtiÚ_exec
();

48 
	}
}

	@debug/widget/test_label.c

30 
	~<¡dio.h
>

31 
	~<¡ršg.h
>

32 
	~<uni¡d.h
>

34 
	~"geom‘ry.h
"

35 
	~"ş›Á_lib.h
"

36 
	~"­¶iÿtiÚ.h
"

37 
	~"widg‘.h
"

42 
	$maš
()

44 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

45 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

46 
wšdow
 * 
w
 = 
NULL
;

47 
Ïb–
 * 
l
 = 
NULL
;

50 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "label");

53 
w
 = 
	`wšdow_š™
("window with†abel");

55 if(
w
 =ğ
NULL
)

57 
	`­¶iÿtiÚ_ex™
();

61 
	`wšdow_£t_bounds
(
w
, 300, 100, 448, 200);

64 
l
 = 
	`Ïb–_š™
("queue is dead");

66 if(
l
 =ğ
NULL
)

68 
	`­¶iÿtiÚ_ex™
();

72 
	`Ïb–_£t_bounds
(
l
, 50, 50, 100, 50);

75 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
l
));

78 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w
);

80 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w
);

83 
	`­¶iÿtiÚ_exec
();

86 
	}
}

	@debug/widget/test_panel.c

30 
	~<as£¹.h
>

31 
	~<¡dio.h
>

32 
	~<¡ršg.h
>

33 
	~<uni¡d.h
>

35 
	~"geom‘ry.h
"

36 
	~"comm.h
"

37 
	~"­¶iÿtiÚ.h
"

38 
	~"ş›Á_lib.h
"

39 
	~"widg‘.h
"

44 
	$maš
()

46 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

47 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

48 
ewšdow
 * 
ä—m
;

49 
•ª–
 * 
Çvig©iÚ
;

50 
•ª–
 * 
wÜk_¥aû
;

51 
–ab–
 * 
³rsÚ_šfo
;

52 
–ab–
 * 
Œade_hi¡Üy
;

53 
–ab–
 * 
my_ÿ¹
;

54 
ebu‰Ú
 * 
ãedback
;

56 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "epanel");

59 
ä—m
 = 
	`wšdow_š™
(1);

61 if(
ä—m
 =ğ
NULL
)

63 
	`­¶iÿtiÚ_ex™
();

66 
	`wšdow_£t_bounds
(
ä—m
,300,100,500,350);

67 
ä—m
->
t™Ë
 = "window withƒpanel";

68 
ä—m
->
mšimize_’abË
 = 1;

69 
ä—m
->
maximize_’abË
 = 1;

72 
Çvig©iÚ
 = 
	`·Ãl_š™
(2);

74 ifĞ
Çvig©iÚ
 =ğ
NULL
)

76 
	`­¶iÿtiÚ_ex™
();

79 
Çvig©iÚ
->
back_cŞÜ
.
r
 = 155;

80 
Çvig©iÚ
->
back_cŞÜ
.
g
 = 97;

81 
Çvig©iÚ
->
back_cŞÜ
.
b
 = 0;

82 
Çvig©iÚ
->
back_cŞÜ
.
a
= 0;

83 
	`·Ãl_£t_bounds
(
Çvig©iÚ
,50,50,300,210);

84 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
ä—m
), OBJECT_POINTER(
Çvig©iÚ
));

89 
³rsÚ_šfo
 = 
	`Ïb–_š™
(3);

90 if(
³rsÚ_šfo
 =ğ
NULL
)

92 
	`­¶iÿtiÚ_ex™
();

96 
³rsÚ_šfo
->
‹xt
 = "Person Info";

97 
	`Ïb–_£t_bounds
(
³rsÚ_šfo
,0,0,200,50);

98 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
Çvig©iÚ
), OBJECT_POINTER(
³rsÚ_šfo
));

103 
Œade_hi¡Üy
 = 
	`Ïb–_š™
(4);

104 if(
Œade_hi¡Üy
 =ğ
NULL
)

106 
	`­¶iÿtiÚ_ex™
();

110 
Œade_hi¡Üy
->
‹xt
 = "Trade History";

111 
	`Ïb–_£t_bounds
(
Œade_hi¡Üy
,0,52,200,50);

112 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
Çvig©iÚ
), OBJECT_POINTER(
Œade_hi¡Üy
));

116 
my_ÿ¹
ğ
	`Ïb–_š™
(5);

117 if(
my_ÿ¹
=ğ
NULL
)

119 
	`­¶iÿtiÚ_ex™
();

123 
my_ÿ¹
->
‹xt
 = "My Cart";

124 
	`Ïb–_£t_bounds
(
my_ÿ¹
,0,104,200,50);

125 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
Çvig©iÚ
), OBJECT_POINTER(
my_ÿ¹
));

130 
ãedback
ğ
	`bu‰Ú_š™
(6);

131 if(
ãedback
=ğ
NULL
)

133 
	`­¶iÿtiÚ_ex™
();

137 
ãedback
->
‹xt
 = "Feedback";

138 
	`bu‰Ú_£t_bounds
(
ãedback
,0,156,200,50);

139 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
Çvig©iÚ
), OBJECT_POINTER(
ãedback
));

143 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
ä—m
);

145 
	`­¶iÿtiÚ_£t_maš_wšdow
(
ä—m
);

148 
	`­¶iÿtiÚ_exec
();

151 
	}
}

	@debug/widget/test_scroll_bar.c

1 
	~<¡ršg.h
>

2 
	~<uni¡d.h
>

3 
	~<¡dio.h
>

5 
	~"geom‘ry.h
"

6 
	~"comm.h
"

7 
	~"­¶iÿtiÚ.h
"

8 
	~"widg‘.h
"

9 
	~"ş›Á_lib.h
"

10 
	~"comp”.h
"

12 
	$Ïb–_hªdËr
(
widg‘
* 
subsüib”
, widg‘* 
publish”
, 
si_t
 
ev’t
)

14 
süŞl_b¬
* 
s
 = (süŞl_b¬*)
publish”
;

15 
Ïb–
* 
l
 = (Ïb–*)
subsüib”
;

16 
	`NOT_USED
(
ev’t
);

17 
	`¥rštf
(
l
->
‹xt
, "e:%3ld, %3ld, s:%3ld, %3ld", 
s
->
–ev©Ü_off£t
, s->
–ev©Ü_height
, s->
tÙ®_Ën
, s->
cur_off£t
);

18 
	`Ïb–_»·št
(
l
);

19 
	`Ïb–_show
(
l
);

20 
	}
}

22 
	$maš
()

24 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

25 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

26 
wšdow
 * 
w
;

27 
süŞl_b¬
* 
s
;

28 
Ïb–
* 
l
;

29 
show
[25];

32 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "scroll_bar");

35 
w
 = 
	`wšdow_š™
("window with scroll_bar");

37 if(
w
 =ğ
NULL
)

39 
	`­¶iÿtiÚ_ex™
();

42 
	`wšdow_£t_bounds
(
w
, 300, 100, 448, 200);

44 
s
 = 
	`süŞl_b¬_š™
(1, 400, 20);

46 if(
s
 =ğ
NULL
)

48 
	`­¶iÿtiÚ_ex™
();

51 
	`süŞl_b¬_£t_bounds
(
s
, 428, 0, 20, 200);

53 
l
 = 
	`Ïb–_š™
(
show
);

55 if(
l
 =ğ
NULL
)

57 
	`­¶iÿtiÚ_ex™
();

60 
	`Ïb–_£t_bounds
(
l
, 10, 40, 400, 20);

61 
	`¥rštf
(
show
, "not started");

63 
	`süŞl_b¬_»gi¡”_move_hªdËr
(
s
, 
	`WIDGET_POINTER
(
l
), 
SCROLL_BAR_EVENT_ALL
, 
Ïb–_hªdËr
);

65 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
s
));

66 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
l
));

69 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w
);

71 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w
);

74 
	`­¶iÿtiÚ_exec
();

77 
	}
}

	@debug/widget/test_tab_header.c

1 
	~<¡dio.h
>

3 
	~"­¶iÿtiÚ.h
"

4 
	~"widg‘.h
"

6 
	$maš
()

8 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

9 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

10 
wšdow
 * 
w
;

11 
b_h—d”
 *
t
;

12 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "multi_windows");

13 
w
 = 
	`wšdow_š™
("main window");

14 if(
w
 =ğ
NULL
) {

15 
	`­¶iÿtiÚ_ex™
();

18 
	`wšdow_£t_bounds
(
w
, 300, 100, 448, 200);

19 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w
);

20 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w
);

22 
t
 = 
	`b_h—d”_š™
();

24 
b_·ge
 *
p1
 = 
	`b_·ge_š™
("test1"),

25 *
p2
 = 
	`b_·ge_š™
("test…age 2"),

26 *
p3
 = 
	`b_·ge_š™
("page_3");

27 
cŞÜ
 
blue
 = {.
r
=0x1A, .
g
=0x7B, .
b
=0xBD, .
a
=0};

28 
	`b_h—d”_add_·ge
(
t
, 
p1
);

29 
	`b_h—d”_add_·ge
(
t
, 
p2
);

30 
	`b_h—d”_add_·ge
(
t
, 
p3
);

31 
	`b_·ge_£t_cŞÜ
(
p1
, 
NULL
, &
blue
);

33 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(
t
));

35 
	`­¶iÿtiÚ_exec
();

38 
	}
}

	@debug/widget/test_text_line.c

2 
	~<¡dio.h
>

3 
	~<¡ršg.h
>

4 
	~<uni¡d.h
>

6 
	~"widg‘.h
"

7 
	~"­¶iÿtiÚ.h
"

9 
	$maš
()

11 
si_t
 
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

12 
si_t
 
­p_ty³
 = 
APPLICATION_TYPE_NORMAL
;

13 
wšdow
 * 
w
;

14 
‹xt_lše
 * 

;

15 
lyrics
[]= "The boy withhehorn in his side\n"

32 * 
buf
;

35 
	`­¶iÿtiÚ_š™
(
video_acûss_mode
, 
­p_ty³
, "text_line");

38 
w
 = 
	`wšdow_š™
("window withext_line");

40 if(
w
 =ğ
NULL
)

42 
	`­¶iÿtiÚ_ex™
();

45 
	`wšdow_£t_bounds
(
w
, 300, 100, 548, 300);

47 

 = 
	`‹xt_lše_š™
(2 * (
lyrics
), 0);

49 if(

 =ğ
NULL
)

51 
	`­¶iÿtiÚ_ex™
();

55 
	`‹xt_lše_£t_bounds
(

, 5, 5, 538, 290);

56 
	`‹xt_lše_£t_muÉšes
(

);

57 
buf
 = 
	`‹xt_lše_g‘_buf
(

);

58 
	`¡ºıy
(
buf
, 
lyrics
, (lyrics));

60 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
w
), OBJECT_POINTER(

));

63 
	`­¶iÿtiÚ_add_wšdow
(
NULL
, 
w
);

65 
	`­¶iÿtiÚ_£t_maš_wšdow
(
w
);

68 
	`­¶iÿtiÚ_exec
();

71 
	}
}

	@debug/widget/test_widget.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

33 
	~"geom‘ry.h
"

34 
	~"d©a_¡ruùu»s.h
"

35 
	~"widg‘.h
"

36 
	~"­¶iÿtiÚ.h
"

43 
	$maš
()

45 
objeù
 
node
, * 
‹mp
;

46 
widg‘
 
obj
[4];

47 
»ùªgË
 
¬—
;

48 
si_t
 
i
;

50 
i
 = 0; i < 4; ++ i)

52 
obj
[
i
].
·»Á
 = 
NULL
;

53 
obj
[
i
].
lchd
 = 
NULL
;

54 
obj
[
i
].
rchd
 = 
NULL
;

55 
obj
[
i
].
id
 = i;

56 
obj
[
i
].
¬—
.
x
 = 1;

57 
obj
[
i
].
¬—
.
y
 = 1;

58 
obj
[
i
].
¬—
.
width
 = 5;

59 
obj
[
i
].
¬—
.
height
 = 5;

61 
	`´štf
("%ld - %lX\n", 
i
, (
ui_t
)(
obj
 + i));

64 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
obj
 + 0), OBJECT_POINTER(obj + 1));

65 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
obj
 + 1), OBJECT_POINTER(obj + 2));

66 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
obj
 + 2), OBJECT_POINTER(obj + 3));

68 
obj
[0].
·»Á
 = &
node
;

69 
node
.
·»Á
 = 
	`OBJECT_POINTER
(
obj
 + 0);

70 
node
.
lchd
 = 
	`objeù_Œ“_l_mo¡_node
(
	`OBJECT_POINTER
(
obj
 + 0));

71 
node
.
rchd
 = 
	`objeù_Œ“_r_mo¡_node
(
	`OBJECT_POINTER
(
obj
 + 0));

73 
	`´štf
("showree in†-n-r order\n");

74 
‹mp
 = 
node
.
lchd
;

75 
‹mp
 !ğ
NULL
)

77 
	`´štf
("%ld - %lX\n", 
‹mp
->
id
, (
ui_t
)temp);

79 
‹mp
 = 
	`objeù_Œ“_™”©Ü_šüem’t
(&
node
,emp);

82 
	`´štf
("showree in„-n-l order\n");

83 
‹mp
 = 
node
.
rchd
;

84 
‹mp
 !ğ
NULL
)

86 
	`´štf
("%ld - %lX\n", 
‹mp
->
id
, (
ui_t
)temp);

88 
‹mp
 = 
	`objeù_Œ“_™”©Ü_deüem’t
(&
node
,emp);

91 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
obj
 + 3, &
¬—
);

92 
	`´štf
("application_widget_absolute_area\n");

93 
	`´štf
("%ld %ld %ld %ld\n", 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

95 
	`widg‘_absŞu‹_coÜdš©e
(
obj
 + 3, &(
¬—
.
x
), &×»a.
y
));

96 
	`´štf
("widget_absolute_coordinate\n");

97 
	`´štf
("%ld %ld\n", 
¬—
.
x
,‡»a.
y
);

100 
	}
}

	@event/event.c

1 
	~<¡dio.h
>

2 
	~<fú.h
>

3 
	~<uni¡d.h
>

4 
	~<lšux/šput.h
>

6 
	~"ev’t.h
"

7 
	~"log.h
"

8 
	~"cÚfig.h
"

10 
si_t
 
d—l_w™h_ev’t
(
šput_deviû
 * 
£lf
, 
li¡
* 
msg_li¡
);

11 
si_t
 
evdev_ex™
(
šput_deviû
 * 
£lf
);

13 
si_t
 
	gmou£_doubË_şick_d–ay
 = 1;

15 
	smou£_şick_¡©us


18 
si_t
 
	ml_key
;

21 
si_t
 
	mm_key
;

24 
si_t
 
	mr_key
;

27 
si_t
 
	mhas_´evious_şick
;

30 
si_t
 
	m´evious_şick_key
;

33 
timev®
 
	gmou£_´evious_şick_time
;

38 
mou£_şick_¡©us
 
	gmou£_şick
 = {0, 0, 0, 0, 0};

51 
si_t
 
	$diff_timev®
(
timev®
 * 
t1
, timev® * 
t2
, timev® * 
»suÉ
)

53 if(
t1
->
tv_u£c
 < 
t2
->tv_usec)

55 
»suÉ
->
tv_u£c
 = 
t1
->tv_u£ø+ 1000000 - 
t2
->tv_usec;

56 
»suÉ
->
tv_£c
 = 
t1
->tv_£ø- 1 - 
t2
->tv_sec;

60 
»suÉ
->
tv_u£c
 = 
t1
->tv_u£ø- 
t2
->tv_usec;

61 
»suÉ
->
tv_£c
 = 
t1
->tv_£ø- 
t2
->tv_sec;

65 
	}
}

67 
si_t
 
	$basic_ev’t
(
šput_deviû
 * 
£lf
, 
mes§ge
 * 
m
)

69 
šput_ev’t
 
›
;

70 
syn_ok
;

73 if(
	`uds_»ad
(&
£lf
->
uds
, &
›
, (
šput_ev’t
)) < 0)

75 
	`EGUI_PRINT_ERROR
("failedo„ead from keybd input device.");

79 if(
›
.
ty³
 !ğ
EV_SYN
 && !
syn_ok
) {

84 
m
->
ba£
.
time
.
tv_£c
 = 
›
.time.tv_sec;

85 
m
->
ba£
.
time
.
tv_u£c
 = 
›
.time.tv_usec;

87 if(
›
.
ty³
 =ğ
EV_SYN
) {

88 
›
.
code
) {

89 
SYN_REPORT
:

90 
syn_ok
=1;

93 
SYN_CONFIG
:

96 
SYN_MT_REPORT
:

99 
SYN_DROPPED
:

100 
syn_ok
=0;

104 
	`EGUI_PRINT_ERROR
("UnknowÀšput_ev’ˆcod%d fÜy³ EV_SYN.", 
›
.
code
);

107 } if(
›
.
ty³
 =ğ
EV_KEY
)

109 
is_mou£_ev’t
 = 0;

112 
›
.
code
)

114 
BTN_LEFT
:

115 
m
->
mou£
.
code
 = 
INPUT_CODE_MOUSE_L_KEY
;

116 
is_mou£_ev’t
 = 1;

118 
BTN_RIGHT
:

119 
m
->
mou£
.
code
 = 
INPUT_CODE_MOUSE_R_KEY
;

120 
is_mou£_ev’t
 = 1;

122 
BTN_MIDDLE
:

123 
m
->
mou£
.
code
 = 
INPUT_CODE_MOUSE_M_KEY
;

124 
is_mou£_ev’t
 = 1;

126 
KEY_ESC
:

127 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_ESC
;

129 
KEY_1
:

130 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_1
;

132 
KEY_2
:

133 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_2
;

135 
KEY_3
:

136 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_3
;

138 
KEY_4
:

139 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_4
;

141 
KEY_5
:

142 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_5
;

144 
KEY_6
:

145 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_6
;

147 
KEY_7
:

148 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_7
;

150 
KEY_8
:

151 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_8
;

153 
KEY_9
:

154 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_9
;

156 
KEY_0
:

157 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_0
;

159 
KEY_MINUS
:

160 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_SUB
;

162 
KEY_EQUAL
:

163 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_EQUAL
;

165 
KEY_BACKSPACE
:

166 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_BACKSPACE
;

168 
KEY_TAB
:

169 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_TAB
;

171 
KEY_Q
:

172 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_Q
;

174 
KEY_W
:

175 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_W
;

177 
KEY_E
:

178 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_E
;

180 
KEY_R
:

181 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_R
;

183 
KEY_T
:

184 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_T
;

186 
KEY_Y
:

187 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_Y
;

189 
KEY_U
:

190 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_U
;

192 
KEY_I
:

193 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_I
;

195 
KEY_O
:

196 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_O
;

198 
KEY_P
:

199 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_P
;

201 
KEY_LEFTBRACE
:

202 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_L_BRACE
;

204 
KEY_RIGHTBRACE
:

205 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_R_BRACE
;

207 
KEY_ENTER
:

208 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_ENTER
;

210 
KEY_LEFTCTRL
:

211 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_L_CTRL
;

213 
KEY_A
:

214 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_A
;

216 
KEY_S
:

217 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_S
;

219 
KEY_D
:

220 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_D
;

222 
KEY_F
:

223 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_F
;

225 
KEY_G
:

226 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_G
;

228 
KEY_H
:

229 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_H
;

231 
KEY_J
:

232 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_J
;

234 
KEY_K
:

235 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_K
;

237 
KEY_L
:

238 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_L
;

240 
KEY_SEMICOLON
:

241 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_SEMICOLON
;

243 
KEY_APOSTROPHE
:

244 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_APOSTROPHE
;

246 
KEY_GRAVE
:

247 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_GRAVE
;

249 
KEY_LEFTSHIFT
:

250 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_L_SHIFT
;

252 
KEY_BACKSLASH
:

253 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_BACKSLASH
;

255 
KEY_Z
:

256 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_Z
;

258 
KEY_X
:

259 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_X
;

261 
KEY_C
:

262 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_C
;

264 
KEY_V
:

265 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_V
;

267 
KEY_B
:

268 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_B
;

270 
KEY_N
:

271 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_N
;

273 
KEY_M
:

274 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_M
;

276 
KEY_COMMA
:

277 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_COMMA
;

279 
KEY_DOT
:

280 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_DOT
;

282 
KEY_SLASH
:

283 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_SLASH
;

285 
KEY_RIGHTSHIFT
:

286 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_R_SHIFT
;

288 
KEY_KPASTERISK
:

289 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KPASTERISK
;

291 
KEY_LEFTALT
:

292 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_L_ALT
;

294 
KEY_SPACE
:

295 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_SPACE
;

297 
KEY_CAPSLOCK
:

298 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_CAPSLOCK
;

300 
KEY_F1
:

301 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_F1
;

303 
KEY_F2
:

304 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_F2
;

306 
KEY_F3
:

307 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_F3
;

309 
KEY_F4
:

310 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_F4
;

312 
KEY_F5
:

313 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_F5
;

315 
KEY_F6
:

316 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_F6
;

318 
KEY_F7
:

319 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_F7
;

321 
KEY_F8
:

322 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_F8
;

324 
KEY_F9
:

325 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_F9
;

327 
KEY_F10
:

328 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_F10
;

330 
KEY_NUMLOCK
:

331 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_NUMLOCK
;

333 
KEY_SCROLLLOCK
:

334 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_SCROLLLOCK
;

336 
KEY_KP7
:

337 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KP_7
;

339 
KEY_KP8
:

340 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KP_8
;

342 
KEY_KP9
:

343 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KP_9
;

345 
KEY_KPMINUS
:

346 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KP_SUB
;

348 
KEY_KP4
:

349 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KP_4
;

351 
KEY_KP5
:

352 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KP_5
;

354 
KEY_KP6
:

355 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KP_6
;

357 
KEY_KPPLUS
:

358 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KP_ADD
;

360 
KEY_KP1
:

361 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KP_1
;

363 
KEY_KP2
:

364 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KP_2
;

366 
KEY_KP3
:

367 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KP_3
;

369 
KEY_KP0
:

370 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KP_0
;

372 
KEY_KPDOT
:

373 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KP_DOT
;

375 
KEY_F11
:

376 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_F11
;

378 
KEY_F12
:

379 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_F12
;

381 
KEY_KPENTER
:

382 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KP_ENTER
;

384 
KEY_RIGHTCTRL
:

385 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_R_CTRL
;

387 
KEY_KPSLASH
:

388 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_KP_SLASH
;

390 
KEY_SYSRQ
:

391 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_SYSRQ
;

393 
KEY_RIGHTALT
:

394 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_R_ALT
;

396 
KEY_HOME
:

397 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_HOME
;

399 
KEY_UP
:

400 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_UP
;

402 
KEY_PAGEUP
:

403 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_PAGEUP
;

405 
KEY_LEFT
:

406 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_LEFT
;

408 
KEY_RIGHT
:

409 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_RIGHT
;

411 
KEY_END
:

412 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_END
;

414 
KEY_DOWN
:

415 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_DOWN
;

417 
KEY_PAGEDOWN
:

418 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_PAGEDOWN
;

420 
KEY_INSERT
:

421 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_INSERT
;

423 
KEY_DELETE
:

424 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_DELETE
;

426 
KEY_PAUSE
:

427 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_PAUSE
;

429 
KEY_LEFTMETA
:

430 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_L_META
;

432 
KEY_RIGHTMETA
:

433 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_R_META
;

435 
KEY_COMPOSE
:

436 
m
->
keybd
.
code
 = 
INPUT_CODE_KEYBD_COMPOSE
;

442 if(
is_mou£_ev’t
) {

443 
m
->
mou£
.
v®ue
 = 
›
.value;

444 
›
.
v®ue
) {

446 
m
->
mou£
.
ty³
 = 
MESSAGE_TYPE_MOUSE_RELEASE
;

449 
m
->
mou£
.
ty³
 = 
MESSAGE_TYPE_MOUSE_PRESS
;

455 
m
->
keybd
.
v®ue
 = 
›
.value;

456 
›
.
v®ue
) {

458 
m
->
keybd
.
ty³
 = 
MESSAGE_TYPE_KEYBD_RELEASE
;

461 
m
->
keybd
.
ty³
 = 
MESSAGE_TYPE_KEYBD_PRESS
;

464 
m
->
keybd
.
ty³
 = 
MESSAGE_TYPE_KEYBD_CLICK
;

473 if(
›
.
ty³
 =ğ
EV_REL
)

476 
m
->
mou£
.
ty³
 = 
MESSAGE_TYPE_MOUSE_MOVE
;

478 
m
->
mou£
.
v®ue
 = 
›
.value;

481 
›
.
code
)

483 
REL_X
:

484 
m
->
mou£
.
code
 = 
INPUT_CODE_MOUSE_X_OFFSET
;

486 
REL_Y
:

487 
m
->
mou£
.
code
 = 
INPUT_CODE_MOUSE_Y_OFFSET
;

489 
REL_WHEEL
:

490 
m
->
mou£
.
code
 = 
INPUT_CODE_MOUSE_Z_OFFSET
;

497 } if(
›
.
ty³
 =ğ
EV_ABS
) {

498 
šput_absšfo
 
absšfo_x
, 
absšfo_y
, 
absšfo_wh“l
;

499 
š™_æag
 = 0;

500 cÚ¡ 
šput_absšfo
 *
absšfo_u£
;

501 if(!
š™_æag
) {

502 
	`ioùl
(
£lf
->
uds
.
sock_fd
, 
	`EVIOCGABS
(
ABS_X
), &
absšfo_x
);

503 
	`ioùl
(
£lf
->
uds
.
sock_fd
, 
	`EVIOCGABS
(
ABS_Y
), &
absšfo_y
);

504 
	`ioùl
(
£lf
->
uds
.
sock_fd
, 
	`EVIOCGABS
(
ABS_WHEEL
), &
absšfo_wh“l
);

505 
š™_æag
 = 1;

507 
m
->
mou£
.
ty³
 = 
MESSAGE_TYPE_MOUSE_MOVE_POINT
;

508 
›
.
code
) {

509 
ABS_X
:

510 
m
->
mou£
.
code
 = 
INPUT_CODE_MOUSE_X_OFFSET
;

511 
absšfo_u£
 = &
absšfo_x
;

513 
ABS_Y
:

514 
m
->
mou£
.
code
 = 
INPUT_CODE_MOUSE_Y_OFFSET
;

515 
absšfo_u£
 = &
absšfo_y
;

517 
ABS_WHEEL
:

518 
m
->
mou£
.
code
 = 
INPUT_CODE_MOUSE_Z_OFFSET
;

519 
absšfo_u£
 = &
absšfo_wh“l
;

533 
m
->
mou£
.
v®ue
 =

534 (
›
.
v®ue
-
absšfo_u£
->
mšimum
)/

535 ()(
absšfo_u£
->
maximum
-absšfo_u£->
mšimum
)*
MOUSE_RESOLUTION
;

537 } if(
›
.
ty³
 =ğ
EV_MSC
){

538 if(
›
.
code
 =ğ
MSC_SCAN
) {

544 
	}
}

546 
si_t
 
	$d—l_w™h_ev’t
(
šput_deviû
 * 
£lf
, 
li¡
* 
msg_li¡
)

548 
mes§ge
 
msg
;

549 
g‘_msg_»s
;

550 
	`mem£t
(&
msg
, 0, (msg));

551 if(0 > (
g‘_msg_»s
=
	`basic_ev’t
(
£lf
, &
msg
)))

553 
	`EGUI_PRINT_ERROR
("failedo getƒvent");

556 if(1==
g‘_msg_»s
)  0;

558 
	`li¡_push_back
(
msg_li¡
, &
msg
, (
mes§ge
));

564 if(
msg
.
mou£
.
ty³
 =ğ
MESSAGE_TYPE_MOUSE_PRESS
)

567 if(
msg
.
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_L_KEY
)

569 
mou£_şick
.
l_key
 = 1;

571 if(
msg
.
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_M_KEY
)

573 
mou£_şick
.
m_key
 = 1;

575 if(
msg
.
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_R_KEY
)

577 
mou£_şick
.
r_key
 = 1;

580 if(
msg
.
mou£
.
ty³
 =ğ
MESSAGE_TYPE_MOUSE_RELEASE
)

582 
mes§ge
 
şick_mes§ge
;

584 if(
msg
.
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_L_KEY
)

586 
mou£_şick
.
l_key
 = 0;

588 if(
msg
.
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_M_KEY
)

590 
mou£_şick
.
m_key
 = 0;

592 if(
msg
.
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_R_KEY
)

594 
mou£_şick
.
r_key
 = 0;

598 if(
mou£_şick
.
has_´evious_şick
 == 0)

600 
mou£_şick
.
has_´evious_şick
 = 1;

601 
mou£_şick
.
´evious_şick_key
 = 
msg
.
mou£
.
code
;

602 
mou£_´evious_şick_time
 = 
msg
.
mou£
.
time
;

604 
	`memıy
(&
şick_mes§ge
, &
msg
, (
mes§ge
));

606 
şick_mes§ge
.
mou£
.
ty³
 = 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
;

608 
	`li¡_push_back
(
msg_li¡
, &
şick_mes§ge
, (
mes§ge
));

611 if(
mou£_şick
.
has_´evious_şick
 == 1)

614 if(
mou£_şick
.
´evious_şick_key
 =ğ
msg
.
mou£
.
code
)

616 
timev®
 
difã»nû
 = {0};

618 
	`diff_timev®
(&(
msg
.
mou£
.
time
),&
mou£_´evious_şick_time
, &
difã»nû
);

620 
	`memıy
(&
şick_mes§ge
, &
msg
, (
mes§ge
));

623 if(
difã»nû
.
tv_£c
 =ğ0 && difã»nû.
tv_u£c
 < 
mou£_doubË_şick_d–ay
)

625 
şick_mes§ge
.
mou£
.
ty³
 = 
MESSAGE_TYPE_MOUSE_DOUBLE_CLICK
;

627 
mou£_şick
.
has_´evious_şick
 = 0;

631 
şick_mes§ge
.
mou£
.
ty³
 = 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
;

632 
mou£_´evious_şick_time
 = 
msg
.
mou£
.
time
;

635 
	`li¡_push_back
(
msg_li¡
, &
şick_mes§ge
, (
mes§ge
));

640 
mou£_şick
.
´evious_şick_key
 = 
msg
.
mou£
.
code
;

641 
mou£_´evious_şick_time
 = 
msg
.
mou£
.
time
;

643 
	`memıy
(&
şick_mes§ge
, &
msg
, (
mes§ge
));

645 
şick_mes§ge
.
mou£
.
ty³
 = 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
;

647 
	`li¡_push_back
(
msg_li¡
, &
şick_mes§ge
, (
mes§ge
));

651 if(
msg
.
mou£
.
ty³
 =ğ
MESSAGE_TYPE_MOUSE_MOVE
)

653 
mes§ge
* 
msg_±r
 = 
	`li¡_back
(
msg_li¡
);

655 if(
mou£_şick
.
l_key
 == 1)

660 
msg_±r
->
mou£
.
mask
 = 
INPUT_MODIFIER_MASK_MOUSE_L_KEY
 | msg_ptr->mouse.mask;

663 if(
mou£_şick
.
m_key
 == 1)

668 
msg_±r
->
mou£
.
mask
 = 
INPUT_MODIFIER_MASK_MOUSE_M_KEY
 | msg_ptr->mouse.mask;

671 if(
mou£_şick
.
r_key
 == 1)

676 
msg_±r
->
mou£
.
mask
 = 
INPUT_MODIFIER_MASK_MOUSE_R_KEY
 | msg_ptr->mouse.mask;

681 
	}
}

683 
si_t
 
	$evdev_š™
(
šput_deviû
 * 
£lf
, * 
deviû_·th
)

685 
si_t
 
fd
;

687 if((
fd
 = 
	`İ’
(
deviû_·th
, 
O_RDONLY
)) < 0)

689 
	`EGUI_PRINT_SYS_ERROR
("failedo open device: open()");

693 
	`uds_š™_äom_Çked_sock‘
(&
£lf
->
uds
, 
fd
);

694 
£lf
->
d—l_w™h_šput
 = 
d—l_w™h_ev’t
;

695 
£lf
->
šput_ex™
 = 
evdev_ex™
;

698 
	}
}

700 
	$£t_doubË_şick_d–ay
(
si_t
 
doubË_şick_d–ay
)

702 
mou£_doubË_şick_d–ay
 = 
doubË_şick_d–ay
;

703 
	}
}

706 
si_t
 
	$evdev_ex™
(
šput_deviû
 * 
£lf
)

708  
	`uds_ex™
(&
£lf
->
uds
);

709 
	}
}

	@event/event.h

1 #iâdeà
_EVENT_H_


2 
	#_EVENT_H_
 1

	)

4 
	~"comm.h
"

6 
	sšput_deviû


8 
egui_uds
 
	muds
;

9 
si_t
 (*
d—l_w™h_šput
)(
šput_deviû
 * 
	m£lf
, 
li¡
* 
	mmsg_li¡
);

10 
si_t
 (*
šput_ex™
)(
šput_deviû
 * 
	m£lf
);

13 
si_t
 
evdev_š™
(
šput_deviû
 * 
£lf
, * 
deviû_·th
);

15 
£t_doubË_şick_d–ay
(
si_t
 
doubË_şick_d–ay
);

	@fix_make.c

18 
	~<¡dio.h
>

19 
	~<¡dlib.h
>

20 
	~<ùy³.h
>

21 
	~<¡ršg.h
>

23 
	$Œim
(*
lše
)

25 
Ën
 = 
	`¡¾’
(
lše
);

26 
Ën
 && 
	`is¥aû
(
lše
[len-1]))†en--;

27 
lše
[
Ën
]=0;

28 
	}
}

30 cÚ¡ *
	glibs
[] = {"widget", "application", "server_lib", "graph", "client_lib", "geometry", "event", "comm", "config_parser", "data_structures", "color", "c"};

31 
	g­p
[20];

32 cÚ¡ 
	g¡d
[]={0,1,0,2,3,4,5,6,7,8,9,10,11};

34 cÚ¡ 
	gd•’ds
[20][4]={

48 cÚ¡ 
	gd•út
[20]={4,4,3,2,1,0,2,1,1,0,0,0};

50 
	$m¬k_d•’d
(
x
)

52 
i
;

53 if(
­p
[
x
]>0) ;

54 
­p
[
x
]++;

55 
i
=0; i<
d•út
[
x
]; i++) {

56 
	`m¬k_d•’d
(
d•’ds
[
x
][
i
]);

58 
	}
}

60 
	$»cÜd_­p
(*
tok’
)

62 
i
;

63 if(
tok’
==
NULL
) {

64 
	`mem£t
(
­p
, 0, (app));

67 
i
=0; i<(
libs
)/(*); i++) {

68 if(!
	`¡rcmp
(
tok’
, 
libs
[
i
])) {

69 
	`m¬k_d•’d
(
i
);

72 
	}
}

74 
	$æush_»cÜds
(*
Ãw
)

76 
i
;

77 
i
=0; i<(
¡d
)/(); i++) {

78 if(
­p
[
¡d
[
i
]]) {

79 
	`¡rÿt
(
Ãw
, " -l");

80 
	`¡rÿt
(
Ãw
, 
libs
[
¡d
[
i
]]);

83 
	`»cÜd_­p
(
NULL
);

84 
	}
}

86 
	$´oûss_fe
(
FILE
 *
fš
, FILE *
fout
)

88 
lše
[100000], 
bkp
[100000], 
Ãw
[100000];

89 
	`fg‘s
(
lše
, 100000, 
fš
)) {

90 *
tok’
;

91 *
nÚ¥aû
=
lše
;

92 
	`Œim
(
lše
);

93 if(
lše
[0]==0) {

94 
	`årštf
(
fout
, "\n");

97 
	`¡rıy
(
bkp
, 
lše
);

98 
Ãw
[0]=0;

99 
	`is¥aû
(*
nÚ¥aû
)) {

100 
	`¡ºÿt
(
Ãw
, 
nÚ¥aû
++, 1);

102 
tok’
 = 
	`¡¹ok
(
nÚ¥aû
, " \n\t");

103 
	`¡rÿt
(
Ãw
, 
tok’
);

104 
	`»cÜd_­p
(
NULL
);

105 (
tok’
=
	`¡¹ok
(
NULL
, " \n\t"))) {

106 if(!
	`¡ºcmp
(
tok’
, "-l", 2)) {

107 if(!
	`¡rcmp
(
tok’
, "-lpthread")) {

108 
	`¡rÿt
(
Ãw
, " ");

109 
	`¡rÿt
(
Ãw
, 
tok’
);

111 
	`»cÜd_­p
(
tok’
+2);

114 
	`æush_»cÜds
(
Ãw
);

115 
	`¡rÿt
(
Ãw
, " ");

116 
	`¡rÿt
(
Ãw
, 
tok’
);

119 
	`æush_»cÜds
(
Ãw
);

123 
	`årštf
(
fout
, "%s\n", 
Ãw
);

125 
	}
}

127 
	$cİy_fe
(
FILE
 *
fout
, *
r
)

129 
ch
;

130 
	`»wšd
(
fout
);

131 (
ch
=
	`fg‘c
(
fout
))!=
EOF
) {

132 
	`åutc
(
ch
, 
¡dout
);

134 
	}
}

136 
	$maš
(
¬gc
, *
¬gv
[])

138 
FILE
 *
fš
, *
fout
;

139 if(
¬gc
!=2) {

142 
fš
 = 
	`fİ’
(
¬gv
[1], "r");

143 
fout
 = 
	`tmpfe
();

144 
	`´oûss_fe
(
fš
, 
fout
);

145 
	`cİy_fe
(
fout
, 
¬gv
[1]);

146 
	`fşo£
(
fš
);

147 
	`fşo£
(
fout
);

149 
	}
}

	@graph/bitops.h

30 #iâdeà
_BIT_OPS_H_


31 
	#_BIT_OPS_H_
 1

	)

33 
	~<ba£_ty³.h
>

45 
	#SET_BIT
(
addr
, 
n
) \

46 (((
ui08_t
 *)(
addr
))[(
n
è>> 3] |ğ(0X1 << (Òè& 0X7)))

	)

58 
	#CLR_BIT
(
addr
, 
n
) \

59 (((
ui08_t
 *)(
addr
))[(
n
è>> 3] &ğ~(0X1 << (Òè& 0X7)))

	)

71 
	#GET_BIT
(
addr
, 
n
) \

72 ((((
ui08_t
 *)(
addr
))[(
n
è>> 3] >> (Òè& 0X7)è& 0X1)

	)

89 
si_t


90 
¬™hm‘ic_r_shiá


91 (* 
addr
,

92 
ui_t
 
n
,

93 
ui_t
 
shiá
);

106 
si_t


107 
¬™hm‘ic_l_shiá


108 (* 
addr
,

109 
ui_t
 
n
,

110 
ui_t
 
shiá
);

123 
si_t


124 
logiÿl_r_shiá


125 (* 
addr
,

126 
ui_t
 
n
,

127 
ui_t
 
shiá
);

140 
si_t


141 
logiÿl_l_shiá


142 (* 
addr
,

143 
ui_t
 
n
,

144 
ui_t
 
shiá
);

157 
si_t


158 
r_rÙ©e


159 (* 
addr
,

160 
ui_t
 
n
,

161 
ui_t
 
rÙ©e
);

174 
si_t


175 
l_rÙ©e


176 (* 
addr
,

177 
ui_t
 
n
,

178 
ui_t
 
rÙ©e
);

	@graph/external.h

30 #iâdeà
_EXTERNAL_GRAPH_H_


31 
	#_EXTERNAL_GRAPH_H_
 1

	)

33 
	~"g¿ph_low”.h
"

34 
	~"g¿ph_’gše.h
"

35 
	~"g¿ph_’um”©Ü.h
"

36 
	~"g¿ph_low”/fbtoŞs.h
"

	@graph/graph_engine.h

30 #iâdeà
_GRAPH_ENGINE_H_


31 
	#_GRAPH_ENGINE_H_
 1

	)

33 
	~"g¿ph_low”.h
"

34 
	~"d©a_¡ruùu»s.h
"

43 
	#__AMOUNT__
(
h—d
, 

è(Ñaè- (h—dè+ 1)

	)

52 
	#ABSOLUTE_I
(
i
) \

53 (((
i
è< 0è? (-(i)è: (i))

	)

64 
	#CONTAINER_OF
(
memb”_addr
, 
¡ruù_Çme
, 
memb”_Çme
) \

65 ((
¡ruù_Çme
 *)((
by‹_t
 *)(
memb”_addr
è- (
ui_t
)(&(((¡ruù_Çm*)0)->
memb”_Çme
))))

	)

70 
	e__b™m­_com´essiÚ__


72 
	mBI_RGB
 = 0,

73 
	mBI_RLE8
,

74 
	mBI_RLE4
,

75 
	mBI_BITFIELDS
,

76 
	mBI_JPEG
,

77 
	mBI_PNG


80 
	sb™m­_h—d


89 
ui16_t
 
	mbhTy³
;

97 
ui32_t
 
	mbhSize
;

105 
ui16_t
 
	mbhRe£rved1
;

113 
ui16_t
 
	mbhRe£rved2
;

119 
ui32_t
 
	mbhOffB™s
;

120 } 
__©Œibu‹__
((
·cked
));

122 
	sb™m­_šfo


131 
ui32_t
 
	mbiSize
;

139 
si32_t
 
	mbiWidth
;

150 
si32_t
 
	mbiHeight
;

158 
ui16_t
 
	mbiPÏÃs
;

202 
ui16_t
 
	mbiB™CouÁ
;

210 
ui32_t
 
	mbiCom´essiÚ
;

222 
ui32_t
 
	mbiSizeImage
;

230 
si32_t
 
	mbiXP–sP”M‘”
;

238 
si32_t
 
	mbiYP–sP”M‘”
;

244 
ui32_t
 
	mbiCÌU£d
;

250 
ui32_t
 
	mbiCÌImpÜÁ
;

253 
	srgb


260 
ui08_t
 
	mrgbBlue
;

266 
ui08_t
 
	mrgbG»’
;

272 
ui08_t
 
	mrgbRed
;

280 
ui08_t
 
	mrgbRe£rved
;

283 
	scŞÜ_f›ld


285 
ui32_t
 
	mrF›ld
;

286 
ui32_t
 
	mgF›ld
;

287 
ui32_t
 
	mbF›ld
;

293 
	sb™m­


298 * 
	m·th
;

302 
ui08_t
 * 
	maddr
;

306 
ui_t
 
	msize
;

310 
b™m­_h—d
 * 
	mh—d
;

314 
b™m­_šfo
 * 
	mšfo
;

318 
rgb
 * 
	mcŞÜ_bË
;

322 
cŞÜ_f›ld
 * 
	mcŞÜ_f›ld
;

326 
ui_t
 
	mcŞÜ_d•th
;

330 
ui08_t
 * 
	md©a
;

337 
	sg¿phics_deviû


342 
sü“n
 
	msü“n
;

347 
»ùªgË
 
	m»ùªgË
;

352 
cŞÜ
 
	mcŞÜ
;

357 
si_t
 
	mfÚt
;

369 
si_t
 
’gše_g‘_cŞÜ_lim™
(
cŞÜ_lim™
 * 
»suÉ
);

388 
si_t
 
’gše_g¿phics_deviû_š™
(si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
, si_ˆ
r
, si_ˆ
g
, si_ˆ
b
, si_ˆ
a
, si_ˆ
fÚt
);

397 
si_t
 
’gše_g¿phics_deviû_ex™
(si_ˆ
g¿phics_deviû_hªdË
);

406 
si_t
 
’gše_ş—r
(si_ˆ
g¿phics_deviû_hªdË
);

415 
si_t
 
’gše_ş—r_bÏck
(si_ˆ
g¿phics_deviû_hªdË
);

424 
si_t
 
’gše_ş—r_wh™e
(si_ˆ
g¿phics_deviû_hªdË
);

437 
si_t
 
’gše_d¿w_pošt
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
x
, si_ˆ
y
);

452 
si_t
 
’gše_d¿w_lše
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
x1
, si_ˆ
y1
, si_ˆ
x2
, si_ˆ
y2
);

467 
si_t
 
’gše_d¿w_»ùªgË
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
);

480 
si_t
 
’gše_d¿w_pŞygÚ
(si_ˆ
g¿phics_deviû_hªdË
, 
pošt
 * 
p
, 
ui_t
 
pošt_couÁ
);

494 
si_t
 
’gše_d¿w_cœşe
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
x
, si_ˆ
y
, si_ˆ
¿dius
);

509 
si_t
 
’gše_d¿w_–l£
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
);

524 
si_t
 
’gše_d¿w_x
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
);

525 
si_t
 
’gše_d¿w_cursÜ
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
, 
cursÜ
* 
cur
);

538 
si_t
 
’gše_d¿w_¬row
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
x
, si_ˆ
y
, si_ˆ
size
, si_ˆ
dœeùiÚ
);

549 
si_t
 
’gše_d¿w_img
(si_ˆ
g¿phics_deviû_hªdË
, * 
·th
, si_ˆ
®ign
);

560 
si_t
 
’gše_d¿w_b™m­
(si_ˆ
g¿phics_deviû_hªdË
, * 
·th
, si_ˆ
®ign
);

575 
si_t
 
’gše_fl_»ùªgË
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
xaxis
, si_ˆ
yaxis
, si_ˆ
xsize
, si_ˆ
ysize
);

589 
si_t
 
’gše_fl_cœşe
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
x
, si_ˆ
y
, si_ˆ
¿dius
);

604 
si_t
 
’gše_fl_–l£
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
);

617 
si_t
 
’gše_fl_x
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
x
, si_ˆ
y
, si_ˆ
a
, si_ˆ
b
);

630 
si_t
 
’gše_fl_¬row
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
x
, si_ˆ
y
, si_ˆ
size
, si_ˆ
dœeùiÚ
);

641 
si_t
 
’gše_fl_pŞygÚ
(si_ˆ
g¿phics_deviû_hªdË
, 
pošt
 *
p
, 
ui_t
 
pošt_couÁ
);

646 
si_t
 
’gše_ıy_¬—
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
mode
, si_ˆ
d¡_x
, si_ˆ
d¡_y
, si_ˆ
¤c_x
, si_ˆ
¤c_y
, si_ˆ
x_size
, si_ˆ
y_size
);

661 
si_t
 
’gše_show_‹xt
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
x
, si_ˆ
y
, * 
¡r
, si_ˆ
Ëngth
);

670 
si_t
 
’gše_g‘_fÚt_width
(si_ˆ
g¿phics_deviû_hªdË
);

679 
si_t
 
’gše_g‘_fÚt_height
(si_ˆ
g¿phics_deviû_hªdË
);

688 
si_t
 
’gše_upd©e
(si_ˆ
g¿phics_deviû_hªdË
);

701 
si_t
 
’gše_£t_cŞÜ
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
r
, si_ˆ
g
, si_ˆ
b
, si_ˆ
a
);

714 
si_t
 
’gše_£t_¬—
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
);

724 
si_t
 
’gše_£t_fÚt
(si_ˆ
g¿phics_deviû_hªdË
, si_ˆ
fÚt
);

734 
cŞÜ
* 
’gše_g‘_cŞÜ
(
si_t
 
g¿phics_deviû_hªdË
);

744 
»ùªgË
* 
’gše_g‘_¬—
(
si_t
 
g¿phics_deviû_hªdË
);

751 
si_t
 
’gše_fÚt_š™
();

	@graph/graph_engine/engine_clear.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g’gše_ş—r


34 (
si_t
 
	gg¿phics_deviû_hªdË
)

36 
g¿phics_deviû
 * 
	ggd
;

38 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

40 
sü“n_ş—r
(&(
gd
->
sü“n
), &(gd->
cŞÜ
));

	@graph/graph_engine/engine_clear_black.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g’gše_ş—r_bÏck


34 (
si_t
 
	gg¿phics_deviû_hªdË
)

36 
g¿phics_deviû
 * 
	ggd
;

38 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

40 
sü“n_ş—r_bÏck
(&(
gd
->
sü“n
));

	@graph/graph_engine/engine_clear_white.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g’gše_ş—r_wh™e


34 (
si_t
 
	gg¿phics_deviû_hªdË
)

36 
g¿phics_deviû
 * 
	ggd
;

38 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

40 
sü“n_ş—r_wh™e
(&(
gd
->
sü“n
));

	@graph/graph_engine/engine_cpy_area.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g’gše_ıy_¬—


34 (
si_t
 
	gg¿phics_deviû_hªdË
,

35 
si_t
 
	gmode
,

36 
si_t
 
	gd¡_x
,

37 
si_t
 
	gd¡_y
,

38 
si_t
 
	g¤c_x
,

39 
si_t
 
	g¤c_y
,

40 
si_t
 
	gx_size
,

41 
si_t
 
	gy_size
)

43 
g¿phics_deviû
 * 
	ggd
;

45 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

48 if(
	ggd
->
	gsü“n
.
	gvideo_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_DIRECT
)

50 if(
mode
 =ğ
CPY_AREA_MODE_BUFFER_TO_MEMORY
)

54 if(
mode
 =ğ
CPY_AREA_MODE_MEMORY_TO_BUFFER
)

58 if(
mode
 =ğ
CPY_AREA_MODE_BUFFER_TO_BUFFER
)

62 if(
mode
 =ğ
CPY_AREA_MODE_MEMORY_TO_MEMORY
)

64 
sü“n_ıy_¬—


65 (
gd
->
sü“n
.
memÜy_addr
,

66 
gd
->
sü“n
.
memÜy_addr
,

67 
d¡_x
,

68 
d¡_y
,

69 
¤c_x
,

70 
¤c_y
,

71 
x_size
,

72 
y_size
);

76 if(
	ggd
->
	gsü“n
.
	gvideo_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_BUFFER
)

78 if(
mode
 =ğ
CPY_AREA_MODE_BUFFER_TO_MEMORY
)

80 
sü“n_ıy_¬—


81 (
gd
->
sü“n
.
memÜy_addr
,

82 
gd
->
sü“n
.
bufãr_addr
,

83 
d¡_x
,

84 
d¡_y
,

85 
¤c_x
,

86 
¤c_y
,

87 
x_size
,

88 
y_size
);

90 if(
	gmode
 =ğ
CPY_AREA_MODE_MEMORY_TO_BUFFER
)

92 
sü“n_ıy_¬—


93 (
gd
->
sü“n
.
bufãr_addr
,

94 
gd
->
sü“n
.
memÜy_addr
,

95 
d¡_x
,

96 
d¡_y
,

97 
¤c_x
,

98 
¤c_y
,

99 
x_size
,

100 
y_size
);

102 if(
	gmode
 =ğ
CPY_AREA_MODE_BUFFER_TO_BUFFER
)

104 
sü“n_ıy_¬—


105 (
gd
->
sü“n
.
bufãr_addr
,

106 
gd
->
sü“n
.
bufãr_addr
,

107 
d¡_x
,

108 
d¡_y
,

109 
¤c_x
,

110 
¤c_y
,

111 
x_size
,

112 
y_size
);

114 if(
	gmode
 =ğ
CPY_AREA_MODE_MEMORY_TO_MEMORY
)

116 
sü“n_ıy_¬—


117 (
gd
->
sü“n
.
memÜy_addr
,

118 
gd
->
sü“n
.
memÜy_addr
,

119 
d¡_x
,

120 
d¡_y
,

121 
¤c_x
,

122 
¤c_y
,

123 
x_size
,

124 
y_size
);

	@graph/graph_engine/engine_draw_arrow.c

30 
	~"../g¿ph_’gše.h
"

68 
si_t


69 
	g’gše_d¿w_¬row


70 (
si_t
 
	gg¿phics_deviû_hªdË
,

71 
si_t
 
	gx
,

72 
si_t
 
	gy
,

73 
si_t
 
	gsize
,

74 
si_t
 
	gdœeùiÚ
)

76 
g¿phics_deviû
 * 
	ggd
;

78 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

80 
	gdœeùiÚ
)

83 
sü“n_£t_h_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
, x + size, y);

84 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
, x, y - size);

85 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
, 
y
, x, y - size);

89 
sü“n_£t_h_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
, x + size, y);

90 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
, x, y + size);

91 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
, 
y
, x, y + size);

95 
sü“n_£t_v_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
, 
y
 - 
size
, x, y + size);

96 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
, x, y - size);

97 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
, x, y + size);

101 
sü“n_£t_v_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
, 
y
 - 
size
, x, y + size);

102 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
, 
y
, x, y - size);

103 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
, 
y
, x, y + size);

	@graph/graph_engine/engine_draw_bitmap.c

30 
	~<fú.h
>

31 
	~<¡ršg.h
>

32 
	~<uni¡d.h
>

33 
	~<sys/¡©.h
>

34 
	~<sys/mmª.h
>

36 
	~"../g¿ph_’gše.h
"

37 
	~"log.h
"

40 
ui_t
 
__g‘dÙ__
(* 
addr
, ui_ˆ
width
, ui_ˆ
cŞÜ_d•th
, ui_ˆ
row
, ui_ˆ
cŞ
);

41 
si_t
 
__is_cŞÜ_bË_u£d__
(
b™m­_šfo
 * 
šfo
);

42 
si_t
 
__is_cŞÜ_f›ld_u£d__
(
b™m­_šfo
 * 
šfo
);

43 
si_t
 
__show_w™h_cŞÜ_bË__
(
b™m­
 * 
bm
, 
g¿phics_deviû
* 
gd
, 
»ùªgË
* 
loÿtiÚ
);

44 
si_t
 
__show_w™h_cŞÜ_f›ld__
(
b™m­
 * 
bm
, 
g¿phics_deviû
* 
gd
, 
»ùªgË
* 
loÿtiÚ
);

45 
si_t
 
__show_Úly_d©a__
(
b™m­
 * 
bm
, 
g¿phics_deviû
* 
gd
, 
»ùªgË
* 
loÿtiÚ
);

46 
si_t
 
b™m­_š™
(
b™m­
 * 
bm
);

47 
si_t
 
b™m­_ex™
(
b™m­
 * 
bm
);

48 
si_t
 
show_b™m­
(
b™m­
 * 
bm
, 
g¿phics_deviû
* 
gd
, 
»ùªgË
* 
loÿtiÚ
);

49 
si_t
 
b™m­_®ign
(
b™m­
* 
bm
, 
»ùªgË
* 
loÿtiÚ
, 
®ign
);

52 
si_t
 
	$’gše_d¿w_b™m­
(
si_t
 
g¿phics_deviû_hªdË
, * 
·th
, si_ˆ
®ign
)

54 
b™m­
 
bm
;

55 
»ùªgË
 
¬—
;

56 
g¿phics_deviû
 * 
gd
;

58 
gd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

59 
¬—
 = 
gd
->
»ùªgË
;

61 
bm
.
·th
 =…ath;

63 if(
	`b™m­_š™
(&
bm
) == -1)

66 
	`b™m­_®ign
(&
bm
, &
¬—
, 
®ign
);

68 
	`show_b™m­
(&
bm
, 
gd
, &
¬—
);

70 
	`b™m­_ex™
(&
bm
);

73 
	}
}

82 
si_t
 
	$b™m­_š™
(
b™m­
 * 
bm
)

84 
si_t
 
fd
;

85 
¡©
 
fe_¡©
;

88 if((
fd
 = 
	`İ’
(
bm
->
·th
, 
O_RDONLY
)) < 0)

90 
	`EGUI_PRINT_SYS_ERROR
("çedØİ’ bm°f%s: o³n()", 
bm
->
·th
);

95 if(
	`¡©
(
bm
->
·th
, &
fe_¡©
) != 0)

97 
	`EGUI_PRINT_SYS_ERROR
("failedo get status of bmp file: stat()");

102 
bm
->
size
 = 
fe_¡©
.
¡_size
;

105 if((
bm
->
addr
 = 
	`mm­
(
NULL
, bm->
size
, 
PROT_READ
, 
MAP_SHARED
, 
fd
, 0)è=ğ
MAP_FAILED
)

107 
	`EGUI_PRINT_SYS_ERROR
("failedo map bitmap fileo memory: mmap()");

111 
	`şo£
(
fd
);

114 
bm
->
h—d
 = (
b™m­_h—d
 *)(bm->
addr
);

116 
bm
->
šfo
 = (
b™m­_šfo
 *)(bm->
addr
 + (
b™m­_h—d
));

119 if(
	`__is_cŞÜ_bË_u£d__
(
bm
->
šfo
) == 1)

122 
bm
->
cŞÜ_bË
 = (
rgb
 *)(bm->
addr
 + (
b™m­_h—d
è+ (
b™m­_šfo
));

127 
bm
->
cŞÜ_bË
 = 
NULL
;

131 if(
	`__is_cŞÜ_f›ld_u£d__
(
bm
->
šfo
) == 1)

133 
bm
->
cŞÜ_bË
 = 
NULL
;

135 
bm
->
cŞÜ_f›ld
 = (cŞÜ_f›ld *)(bm->
addr
 + (
b™m­_h—d
è+ (
b™m­_šfo
));

140 
bm
->
cŞÜ_f›ld
 = 
NULL
;

144 
bm
->
d©a
 = bm->
addr
 + bm->
h—d
->
bhOffB™s
;

146 
bm
->
cŞÜ_d•th
 = bm->
šfo
->
biB™CouÁ
;

149 
	}
}

158 
si_t
 
	$b™m­_ex™
(
b™m­
 * 
bm
)

161 
	`munm­
(
bm
->
addr
, bm->
size
);

164 
	`mem£t
(
bm
, 0, (
b™m­
));

167 
	}
}

176 
si_t
 
	$show_b™m­
(
b™m­
 * 
bm
, 
g¿phics_deviû
* 
gd
, 
»ùªgË
* 
loÿtiÚ
)

179 if(
bm
->
cŞÜ_bË
 !ğ
NULL
)

181 
	`__show_w™h_cŞÜ_bË__
(
bm
, 
gd
, 
loÿtiÚ
);

184 if(
bm
->
cŞÜ_bË
 !ğ
NULL
)

186 
	`__show_w™h_cŞÜ_f›ld__
(
bm
, 
gd
, 
loÿtiÚ
);

191 
	`__show_Úly_d©a__
(
bm
, 
gd
, 
loÿtiÚ
);

195 
	}
}

206 
si_t
 
	$b™m­_®ign
(
b™m­
* 
bm
, 
»ùªgË
* 
loÿtiÚ
, 
®ign
)

208 
x
 = 
bm
->
šfo
->
biWidth
;

209 
Üigš
 = 
bm
->
šfo
->
biHeight
;

210 
y
 = 
Üigš
 > 0 ? origin : (- origin);

215 if(
loÿtiÚ
->
width
 > 
x
)

217 
®ign
 & 
ALIGN_HORIZONTAL_TYPE_MASK
)

219 
ALIGN_HORIZONTAL_TYPE_LEFT
:

220 
loÿtiÚ
->
width
 = 
x
;

223 
ALIGN_HORIZONTAL_TYPE_CENTER
:

224 
loÿtiÚ
->
x
 +ğÖoÿtiÚ->
width
 - x) / 2;

225 
loÿtiÚ
->
width
 = 
x
;

228 
ALIGN_HORIZONTAL_TYPE_RIGHT
:

229 
loÿtiÚ
->
x
 +ğloÿtiÚ->
width
 - x;

230 
loÿtiÚ
->
width
 = 
x
;

241 if(
loÿtiÚ
->
height
 > 
y
)

243 
®ign
 & 
ALIGN_VERTICAL_TYPE_MASK
)

245 
ALIGN_VERTICAL_TYPE_UP
:

246 
loÿtiÚ
->
height
 = 
y
;

249 
ALIGN_VERTICAL_TYPE_CENTER
:

250 
loÿtiÚ
->
y
 +ğÖoÿtiÚ->
height
 - y) / 2;

251 
loÿtiÚ
->
height
 = 
y
;

254 
ALIGN_VERTICAL_TYPE_DOWN
:

255 
loÿtiÚ
->
y
 +ğloÿtiÚ->
height
 - y;

256 
loÿtiÚ
->
height
 = 
y
;

265 
	}
}

276 
ui_t
 
	$__g‘dÙ__
(* 
addr
, 
ui_t
 
width
, ui_ˆ
cŞÜ_d•th
, ui_ˆ
row
, ui_ˆ
cŞ
)

278 
ui_t
 
lše_Ëngth
 = ((
width
*
cŞÜ_d•th
+31) & (~31U));

279 
ui_t
 
lše_h—d_b™
 = 
lše_Ëngth
*
row
;

280 
ui_t
 
pos™iÚ
 = 
lše_h—d_b™
 + 
cŞ
*
cŞÜ_d•th
;

281 
ui08_t
 * 
‹mp
 = 
addr
;

282 
ui_t
 
v®ue
;

284 
cŞÜ_d•th
)

288 
v®ue
 = 
‹mp
[
pos™iÚ
 >> 3];

289 
v®ue
 >>ğ
pos™iÚ
 & 7U;

290  
v®ue
 & 0X1U;

293 
pos™iÚ
 >>= 2;

294 
v®ue
 = 
‹mp
[
pos™iÚ
 >> 1];

295 
v®ue
 >>ğ(
pos™iÚ
 & 1U) << 2;

296  
v®ue
 & 0XFU;

299  
‹mp
[
pos™iÚ
 >> 3];

302 
‹mp
 +ğ(
pos™iÚ
 >> 3);

303  * ((
ui16_t
 *)
‹mp
);

306 
‹mp
 +ğ(
pos™iÚ
 >> 3);

307 
v®ue
 = (((
‹mp
[2]<<8) +emp[1])<<8) +emp[0];

308  
v®ue
;

311 
‹mp
 +ğ(
pos™iÚ
 >> 3);

312  * ((
ui32_t
 *)
‹mp
);

319 
	}
}

328 
si_t
 
	$__is_cŞÜ_bË_u£d__
(
b™m­_šfo
 * 
šfo
)

330 
šfo
->
biB™CouÁ
)

343 ((
šfo
->
biCom´essiÚ
 =ğ
BI_RGB
) ||

344 (
šfo
->
biCom´essiÚ
 =ğ
BI_BITFIELDS
))

360 ((
šfo
->
biCom´essiÚ
 =ğ
BI_RGB
) ||

361 (
šfo
->
biCom´essiÚ
 =ğ
BI_BITFIELDS
))

375 
	}
}

384 
si_t
 
	$__is_cŞÜ_f›ld_u£d__
(
b™m­_šfo
 * 
šfo
)

386 
šfo
->
biB™CouÁ
)

397 if(
šfo
->
biCom´essiÚ
 =ğ
BI_BITFIELDS
)

411 if(
šfo
->
biCom´essiÚ
 =ğ
BI_BITFIELDS
)

425 
	}
}

434 
si_t
 
	$__show_w™h_cŞÜ_bË__
(
b™m­
 * 
bm
, 
g¿phics_deviû
* 
gd
, 
»ùªgË
* 
loÿtiÚ
)

436 
ui_t
 
off£t
;

437 
rgb
 *„gb;

438 
cŞÜ
 
c
={0};

439 
si_t
 
x
, 
y
, 
i
, 
j
, 
Üigš
;

442 
x
 = 
bm
->
šfo
->
biWidth
;

444 
Üigš
 = 
bm
->
šfo
->
biHeight
;

445 
y
 = 
Üigš
 > 0 ? origin : (- origin);

448 if(
Üigš
 > 0)

450 
j
 = 0; j < 
loÿtiÚ
->
height
 && j < 
y
; ++ j)

452 
i
 = 0; i < 
loÿtiÚ
->
width
 && i < 
x
; ++ i)

455 
rgb
 = 
bm
->
cŞÜ_bË
 + 
	`__g‘dÙ__
(bm->
d©a
, 
x
, bm->
cŞÜ_d•th
, 
y
-
j
-1, 
i
);

458 
c
.
r
 = (
rgb
->
rgbRed
è* 
glob®_cŞÜ_lim™
.
r_lim™
 / (
ui08_t
)-1;

459 
c
.
g
 = (
rgb
->
rgbG»’
è* 
glob®_cŞÜ_lim™
.
g_lim™
 / (
ui08_t
)-1;

460 
c
.
b
 = (
rgb
->
rgbBlue
è* 
glob®_cŞÜ_lim™
.
b_lim™
 / (
ui08_t
)-1;

463 
	`sü“n_£t_pix–
(&(
gd
->
sü“n
), 
loÿtiÚ
, &
c
,†oÿtiÚ->
x
 + 
i
,†oÿtiÚ->
y
 + 
j
);

468 if(
Üigš
 < 0)

470 
j
 = 0; j < 
loÿtiÚ
->
height
 && j < 
y
; ++ j)

472 
i
 = 0; i < 
loÿtiÚ
->
width
 && i < 
x
; ++ i)

475 
rgb
 = 
bm
->
cŞÜ_bË
 + 
	`__g‘dÙ__
(bm->
d©a
, 
x
, bm->
cŞÜ_d•th
, 
j
, 
i
);

478 
c
.
r
 = (
rgb
->
rgbRed
è* 
glob®_cŞÜ_lim™
.
r_lim™
 / (
ui08_t
)-1;

479 
c
.
g
 = (
rgb
->
rgbG»’
è* 
glob®_cŞÜ_lim™
.
g_lim™
 / (
ui08_t
)-1;

480 
c
.
b
 = (
rgb
->
rgbBlue
è* 
glob®_cŞÜ_lim™
.
b_lim™
 / (
ui08_t
)-1;

483 
	`sü“n_£t_pix–
(&(
gd
->
sü“n
), 
loÿtiÚ
, &
c
,†oÿtiÚ->
x
 + 
i
,†oÿtiÚ->
y
 + 
j
);

489 
	}
}

498 
si_t
 
	$__show_w™h_cŞÜ_f›ld__
(
b™m­
 * 
bm
, 
g¿phics_deviû
* 
gd
, 
»ùªgË
* 
loÿtiÚ
)

500 
ui_t
 
r_f›ld
, 
g_f›ld
, 
b_f›ld
, 
off£t
, 
rgb
;

501 
cŞÜ
 
c
={0};

502 
si_t
 
x
, 
y
, 
i
, 
j
, 
Üigš
;

505 
r_f›ld
 = 
bm
->
cŞÜ_f›ld
->
rF›ld
;

506 
g_f›ld
 = 
bm
->
cŞÜ_f›ld
->
gF›ld
;

507 
b_f›ld
 = 
bm
->
cŞÜ_f›ld
->
bF›ld
;

510 
x
 = 
bm
->
šfo
->
biWidth
;

512 
Üigš
 = 
bm
->
šfo
->
biHeight
;

513 
y
 = 
Üigš
 > 0 ? origin : (- origin);

516 if(
Üigš
 > 0)

518 
j
 = 0; j < 
loÿtiÚ
->
height
 && j < 
y
; ++ j)

520 
i
 = 0; i < 
loÿtiÚ
->
width
 && i < 
x
; ++ i)

523 
rgb
 = 
	`__g‘dÙ__
(
bm
->
d©a
, 
x
, bm->
cŞÜ_d•th
, 
y
-
j
-1, 
i
);

526 
c
.
r
 = (
rgb
 & 
r_f›ld
è* 
glob®_cŞÜ_lim™
.
r_lim™
 / (
ui08_t
)-1;

527 
c
.
g
 = (
rgb
 & 
g_f›ld
è* 
glob®_cŞÜ_lim™
.
g_lim™
 / (
ui08_t
)-1;

528 
c
.
b
 = (
rgb
 & 
b_f›ld
è* 
glob®_cŞÜ_lim™
.
b_lim™
 / (
ui08_t
)-1;

530 
	`sü“n_£t_pix–
(&(
gd
->
sü“n
), 
loÿtiÚ
, &
c
,†oÿtiÚ->
x
 + 
i
,†oÿtiÚ->
y
 + 
j
);

535 if(
Üigš
 < 0)

537 
j
 = 0; j < 
loÿtiÚ
->
height
 && j < 
y
; ++ j)

539 
i
 = 0; i < 
loÿtiÚ
->
width
 && i < 
x
; ++ i)

542 
rgb
 = 
	`__g‘dÙ__
(
bm
->
d©a
, 
x
, bm->
cŞÜ_d•th
, 
j
, 
i
);

545 
c
.
r
 = (
rgb
 & 
r_f›ld
è* 
glob®_cŞÜ_lim™
.
r_lim™
 / (
ui08_t
)-1;

546 
c
.
g
 = (
rgb
 & 
g_f›ld
è* 
glob®_cŞÜ_lim™
.
g_lim™
 / (
ui08_t
)-1;

547 
c
.
b
 = (
rgb
 & 
b_f›ld
è* 
glob®_cŞÜ_lim™
.
b_lim™
 / (
ui08_t
)-1;

549 
	`sü“n_£t_pix–
(&(
gd
->
sü“n
), 
loÿtiÚ
, &
c
,†oÿtiÚ->
x
 + 
i
,†oÿtiÚ->
y
 + 
j
);

555 
	}
}

564 
si_t
 
	$__show_Úly_d©a__
(
b™m­
 * 
bm
, 
g¿phics_deviû
* 
gd
, 
»ùªgË
* 
loÿtiÚ
)

566 
ui_t
 
off£t
, 
rgb
, 
r_mask
, 
g_mask
, 
b_mask
, 
r_shiá
, 
g_shiá
, 
b_shiá
;

567 
cŞÜ
 
c
={0};

568 
si_t
 
x
, 
y
, 
i
, 
j
, 
Üigš
;

571 
x
 = 
bm
->
šfo
->
biWidth
;

573 
Üigš
 = 
bm
->
šfo
->
biHeight
;

574 
y
 = 
Üigš
 > 0 ? origin : (- origin);

576 
bm
->
šfo
->
biB™CouÁ
)

579 
b_mask
 = 0X1F;

580 
g_mask
 = 0X3E0;

581 
r_mask
 = 0X7C00;

582 
b_shiá
 = 0X0;

583 
g_shiá
 = 0X5;

584 
r_shiá
 = 0XA;

588 
b_mask
 = 0XFF;

589 
g_mask
 = 0XFF00;

590 
r_mask
 = 0XFF0000;

591 
b_shiá
 = 0X0;

592 
g_shiá
 = 0X8;

593 
r_shiá
 = 0X10;

597 
b_mask
 = 0XFF;

598 
g_mask
 = 0XFF00;

599 
r_mask
 = 0XFF0000;

600 
b_shiá
 = 0X0;

601 
g_shiá
 = 0X8;

602 
r_shiá
 = 0X10;

610 if(
Üigš
 > 0)

612 
j
 = 0; j < 
loÿtiÚ
->
height
 && j < 
y
; ++ j)

614 
i
 = 0; i < 
loÿtiÚ
->
width
 && i < 
x
; ++ i)

617 
rgb
 = 
	`__g‘dÙ__
(
bm
->
d©a
, 
x
, bm->
cŞÜ_d•th
, 
y
-
j
-1, 
i
);

620 
c
.
b
 = ((
rgb
 & 
b_mask
è>> 
b_shiá
è* 
glob®_cŞÜ_lim™
.
b_lim™
 / (
ui08_t
)-1;

621 
c
.
g
 = ((
rgb
 & 
g_mask
è>> 
g_shiá
è* 
glob®_cŞÜ_lim™
.
g_lim™
 / (
ui08_t
)-1;

622 
c
.
r
 = ((
rgb
 & 
r_mask
è>> 
r_shiá
è* 
glob®_cŞÜ_lim™
.
r_lim™
 / (
ui08_t
)-1;

624 
	`sü“n_£t_pix–
(&(
gd
->
sü“n
), 
loÿtiÚ
, &
c
,†oÿtiÚ->
x
 + 
i
,†oÿtiÚ->
y
 + 
j
);

629 if(
Üigš
 < 0)

631 
j
 = 0; j < 
loÿtiÚ
->
height
 && j < 
y
; ++ j)

633 
i
 = 0; i < 
loÿtiÚ
->
width
 && i < 
x
; ++ i)

636 
rgb
 = 
	`__g‘dÙ__
(
bm
->
d©a
, 
x
, bm->
cŞÜ_d•th
, 
j
, 
i
);

639 
c
.
b
 = ((
rgb
 & 
b_mask
è>> 
b_shiá
è* 
glob®_cŞÜ_lim™
.
b_lim™
 / (
ui08_t
)-1;

640 
c
.
g
 = ((
rgb
 & 
g_mask
è>> 
g_shiá
è* 
glob®_cŞÜ_lim™
.
g_lim™
 / (
ui08_t
)-1;

641 
c
.
r
 = ((
rgb
 & 
r_mask
è>> 
r_shiá
è* 
glob®_cŞÜ_lim™
.
r_lim™
 / (
ui08_t
)-1;

643 
	`sü“n_£t_pix–
(&(
gd
->
sü“n
), 
loÿtiÚ
, &
c
,†oÿtiÚ->
x
 + 
i
,†oÿtiÚ->
y
 + 
j
);

649 
	}
}

	@graph/graph_engine/engine_draw_circle.c

30 
	~"../g¿ph_’gše.h
"

35 
si_t


36 
	g__d¿w_cœşe_w™h_mp__


37 (
sü“n
 * 
	gs
,

38 
»ùªgË
 * 
	gr
,

39 
cŞÜ
 * 
	gc
,

40 
si_t
 
	gx0
,

41 
si_t
 
	gy0
,

42 
si_t
 
	g¿dius
)

44 
si_t
 
	gd
 = 5 - (
¿dius
 << 2), 
	gx
 = 0, 
	gy
 =„adius;

46 
	gx
 <ğ
y
)

48 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 + 
x
, 
y0
 + 
y
);

49 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 - 
x
, 
y0
 + 
y
);

50 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 + 
x
, 
y0
 - 
y
);

51 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 - 
x
, 
y0
 - 
y
);

52 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 + 
y
, 
y0
 + 
x
);

53 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 + 
y
, 
y0
 - 
x
);

54 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 - 
y
, 
y0
 + 
x
);

55 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 - 
y
, 
y0
 - 
x
);

57 ++ 
	gx
;

58 if(
	gd
 < 0)

60 
	gd
 +ğ(
x
 << 3) + 12;

64 
	gd
 +ğ((
x
 - 
y
) << 3) + 20;

65 -- 
	gy
;

72 
si_t


73 
	g’gše_d¿w_cœşe


74 (
si_t
 
	gg¿phics_deviû_hªdË
,

75 
si_t
 
	gx
, si_ˆ
	gy
,

76 
si_t
 
	g¿dius
)

78 
g¿phics_deviû
 * 
	ggd
;

80 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

82  
__d¿w_cœşe_w™h_mp__
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
, 
y
, 
¿dius
);

	@graph/graph_engine/engine_draw_cursor.c

30 
	~"../g¿ph_’gše.h
"

31 
	~<d©a_¡ruùu»s.h
>

33 
d¿w_cursÜ
(
sü“n
* 
s
, 
»ùªgË
* 
»ù
, 
si_t
 
x
, si_ˆ
y
, 
cursÜ
 *
cur
);

35 
si_t


36 
	g’gše_d¿w_cursÜ


37 (
si_t
 
	gg¿phics_deviû_hªdË
,

38 
si_t
 
	gx
,

39 
si_t
 
	gy
,

40 
si_t
 
	ga
,

41 
si_t
 
	gb
,

42 
cursÜ
* 
	gcur
)

44 
g¿phics_deviû
 * 
	ggd
;

46 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

48 
»ùªgË
 
	gsü“n_¬—
, 
	g»suÉ_¬—
;

49 
	gsü“n_¬—
.
	gx
 = 0;

50 
	gsü“n_¬—
.
	gy
 = 0;

51 
	gsü“n_¬—
.
	gwidth
 = 
gd
->
sü“n
.
width
;

52 
	gsü“n_¬—
.
	gheight
 = 
gd
->
sü“n
.
height
;

54 ià(
¬—_š‹r£ùiÚ
 (&
gd
->
»ùªgË
, &
sü“n_¬—
, &
»suÉ_¬—
) == -1)

59 if(
	ga
 !ğ0 && 
b
 != 0)

61 
d¿w_cursÜ
(&
gd
->
sü“n
,&gd->
»ùªgË
, 
x
, 
y
, 
cur
);

67 
	$d¿w_cursÜ
(
sü“n
* 
s
, 
»ùªgË
* 
»ù
, 
si_t
 
x
, si_ˆ
y
, 
cursÜ
 *
cur
)

69 
j
;

72 
ş
;

73 
b™
;

75 
t
 = 1;

76 
ªdos
=0;

77 
xÜos
=0;

78 
i
;

79 
pix–_m©rix
[64][64];

80 
t
=0;<1;++)

83 
i
 = 
cur
->
ciH—d”
[
t
].
ciHeight
-1; i >= 0; i--)

85 
b™s
;

86 
off£t
;

87 if(
cur
->
ciH—d”
[
t
].
ciWidth
 == 16)

89 
b™s
 = 2;

90 
off£t
 = 2;

92 if(
cur
->
ciH—d”
[
t
].
ciWidth
 == 24)

94 
b™s
 = 3;

95 
off£t
 = 1;

97 ià(
cur
->
ciH—d”
[
t
].
ciWidth
 == 32)

99 
b™s
 = 4;

100 
off£t
 = 0;

102 ià(
cur
->
ciH—d”
[
t
].
ciWidth
 == 48)

104 
b™s
 = 6;

105 
off£t
 = 2;

107  
j
 = 0; j < 
b™s
; j++)

109 
ş
 = 
cur
->
ªdD©a
[
t
][
ªdos
++];

110 
b™
 = 0; bit < 8; bit++)

112 ià(((
ş
 >> (7-
b™
)) & 1) == 1)

114 
pix–_m©rix
[
i
][
j
*8+
b™
] = 100;

118 
pix–_m©rix
[
i
][
j
*8+
b™
] = 0;

123 
ªdos
 +ğ
off£t
;

129 if(
cur
->
biH—d”
[
t
].
biB™CouÁ
 == 24 ||

130 
cur
->
biH—d”
[
t
].
biB™CouÁ
 == 32)

132 
i
 = 
cur
->
ciH—d”
[
t
].
ciHeight
-1; i >=0; i--)

134  
j
 = 0; j < 
cur
->
ciH—d”
[
t
].
ciWidth
; j++)

137 
cŞÜ
 
c
;

138 
c
.
r
=
cur
->
xÜD©a
[
t
][
xÜos
++];

139 
c
.
g
=
cur
->
xÜD©a
[
t
][
xÜos
++];

140 
c
.
b
=
cur
->
xÜD©a
[
t
][
xÜos
++];

141 
c
.
a
=
pix–_m©rix
[
i
][
j
];

142 if(
cur
->
biH—d”
[
t
].
biB™CouÁ
 == 32)

143 
xÜos
++;

145 
	`sü“n_£t_pix–
(
s
, 
»ù
, &
c
, 
x
+
j
, 
y
+
i
 );

150 if(
cur
->
biH—d”
[
t
].
biB™CouÁ
 == 4 ||

151 
cur
->
biH—d”
[
t
].
biB™CouÁ
 == 8 ||

152 
cur
->
biH—d”
[
t
].
biB™CouÁ
 == 1)

154 
¡¬tPos
 = (1 << 
cur
->
biH—d”
[
t
].
biB™CouÁ
) * 4;

155 
xÜos
 = 
¡¬tPos
;

157 if(
cur
->
biH—d”
[
t
].
biB™CouÁ
 == 4)

159 
šdex
;

160 
i
 = 
cur
->
ciH—d”
[
t
].
ciHeight
-1; i >= 0; i--)

162 
j
 = 0; j < 
cur
->
ciH—d”
[
t
].
ciWidth
; j++)

164 
cŞÜ
 
c
;

165 
šdex
 = 
cur
->
xÜD©a
[
t
][
xÜos
++];

167 
l
 = ((
šdex
>>7)&1)*(1<<3) +

168 ((
šdex
>>6)&1)*(1<<2) +

169 ((
šdex
>>5)&1)*(1<<1) +

170 ((
šdex
>>4)&1)*(1<<0);

171 
r
 = ((
šdex
>>3)&1)*(1<<3) +

172 ((
šdex
>>2)&1)*(1<<2) +

173 ((
šdex
>>1)&1)*(1<<1) +

174 ((
šdex
>>0)&1)*(1<<0);

176 
c
.
b
 = 
cur
->
xÜD©a
[
t
][
l
*4];

177 
c
.
g
 = 
cur
->
xÜD©a
[
t
][
l
*4+1];

178 
c
.
r
 = 
cur
->
xÜD©a
[
t
][
l
*4+2];

179 
c
.
a
 = 
pix–_m©rix
[
i
][
j
];

181 
	`sü“n_£t_pix–
(
s
, 
»ù
, &
c
, 
x
+
j
, 
y
+
i
);

182 
j
++;

183 
c
.
b
 = 
cur
->
xÜD©a
[
t
][
r
*4];

184 
c
.
g
 = 
cur
->
xÜD©a
[
t
][
r
*4+1];

185 
c
.
r
 = 
cur
->
xÜD©a
[
t
][r*4+2];

186 
c
.
a
 = 
pix–_m©rix
[
i
][
j
];

187 
	`sü“n_£t_pix–
(
s
, 
»ù
, &
c
, 
x
+
j
, 
y
+
i
);

192 if(
cur
->
biH—d”
[
t
].
biB™CouÁ
 == 8)

194 
šdex
;

195 
i
 = 
cur
->
ciH—d”
[
t
].
ciHeight
-1; i >= 0; i--)

197 
j
 = 0; j < 
cur
->
ciH—d”
[
t
].
ciWidth
; j++)

199 
cŞÜ
 
c
;

200 
šdex
 = 
cur
->
xÜD©a
[
t
][
xÜos
++];

202 
l
 = ((
šdex
>>7)&1)*(1<<7) +

203 ((
šdex
>>6)&1)*(1<<6) +

204 ((
šdex
>>5)&1)*(1<<5) +

205 ((
šdex
>>4)&1)*(1<<4) +

206 ((
šdex
>>3)&1)*(1<<3) +

207 ((
šdex
>>2)&1)*(1<<2) +

208 ((
šdex
>>1)&1)*(1<<1) +

209 ((
šdex
>>0)&1)*(1<<0);

211 
c
.
b
 = 
cur
->
xÜD©a
[
t
][
l
*4];

212 
c
.
g
 = 
cur
->
xÜD©a
[
t
][
l
*4+1];

213 
c
.
r
 = 
cur
->
xÜD©a
[
t
][
l
*4+2];

214 
c
.
a
 = 
pix–_m©rix
[
i
][
j
];

215 
	`sü“n_£t_pix–
(
s
, 
»ù
, &
c
, 
x
+
j
, 
y
+
i
);

220 if(
cur
->
biH—d”
[
t
].
biB™CouÁ
 == 1)

222 
xÜos
=0;

223 
šdex
;

224 
i
 = 
cur
->
ciH—d”
[
t
].
ciHeight
-1; i >= 0; i--)

226 
j
 = 0; j < 
cur
->
ciH—d”
[
t
].
ciWidth
; j++)

228 
cŞÜ
 
c
;

229 
£ek
=7;

230 
l
;

231 
šdex
 = 
cur
->
xÜD©a
[
t
][
xÜos
];

232 
l
 = (
šdex
>>
£ek
)&1;

234 
c
.
b
 = 
cur
->
xÜD©a
[
t
][
l
*4];

235 
c
.
g
 = 
cur
->
xÜD©a
[
t
][
l
*4+1];

236 
c
.
r
 = 
cur
->
xÜD©a
[
t
][
l
*4+2];

237 
c
.
b
 = 
l
*255;

238 
c
.
g
 = 
l
*255;

239 
c
.
r
 = 
l
*255;

240 
c
.
a
 = 
pix–_m©rix
[
i
][
j
];

241 
	`sü“n_£t_pix–
(
s
, 
»ù
, &
c
, 
x
+
j
, 
y
+
i
);

243 
£ek
--;

244 if(
£ek
 == -1)

246 
£ek
 = 7;

247 
xÜos
++;

253 
xÜos
=0;

254 
ªdos
=0;

256 
	}
}

	@graph/graph_engine/engine_draw_ellipse.c

30 
	~"../g¿ph_’gše.h
"

35 
si_t


36 
	g__d¿w_–l£_w™h_mp__


37 (
sü“n
 * 
	gs
,

38 
»ùªgË
 * 
	gr
,

39 
cŞÜ
 * 
	gc
,

40 
si_t
 
	gx0
,

41 
si_t
 
	gy0
,

42 
si_t
 
	ga
,

43 
si_t
 
	gb
)

45 
f_t
 
	gd–
, 
	g¯
, 
	gbb
;

46 
si_t
 
	gx
, 
	gy
;

48 
	g¯
 = 
a
 *‡;

49 
	gbb
 = 
b
 * b;

50 
	gx
 = 0;

51 
	gy
 = 
b
;

53 
	gd–
 = 
bb
 - 
¯
 * 
b
 + (0.25 *‡a);

55 
	g¯
 * (
	gy
 - 0.5è> 
	gbb
 * (
	gx
 + 1))

57 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 + 
x
, 
y0
 + 
y
);

58 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 - 
x
, 
y0
 + 
y
);

59 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 + 
x
, 
y0
 - 
y
);

60 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 - 
x
, 
y0
 - 
y
);

62 if(
	gd–
 <= 0)

64 
d–
 +ğ
bb
 * ((
x
 << 1) + 3);

68 
	gd–
 +ğ
bb
 * ((
x
 << 1è+ 3è+ 
¯
 * (2 - (
y
 << 1));

69 -- 
	gy
;

71 ++ 
	gx
;

74 
	gd–
 = 
bb
 * (
x
 + 0.5è* (x + 0.5è+ 
¯
 * (
y
 - 1) * (y - 1) -‡a * bb;

76 
	gy
 > 0)

78 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 + 
x
, 
y0
 + 
y
);

79 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 - 
x
, 
y0
 + 
y
);

80 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 + 
x
, 
y0
 - 
y
);

81 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 - 
x
, 
y0
 - 
y
);

83 if(
	gd–
 <= 0)

85 
d–
 +ğ
bb
 * ((
x
 << 1è+ 2è+ 
¯
 * (3 - (
y
 << 1));

86 ++ 
	gx
;

90 
	gd–
 +ğ
¯
 * (3 - (
y
 << 1));

92 -- 
	gy
;

95 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 + 
a
, 
y0
);

96 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
, 
y0
 + 
b
);

97 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
 - 
a
, 
y0
);

98 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
x0
, 
y0
 - 
b
);

103 
si_t


104 
	g’gše_d¿w_–l£


105 (
si_t
 
	gg¿phics_deviû_hªdË
,

106 
si_t
 
	gx
,

107 
si_t
 
	gy
,

108 
si_t
 
	ga
,

109 
si_t
 
	gb
)

111 
g¿phics_deviû
 * 
	ggd
;

113 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

115  
__d¿w_–l£_w™h_mp__
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
, 
y
, 
a
, 
b
);

	@graph/graph_engine/engine_draw_img.c

30 
	~"../g¿ph_’gše.h
"

31 
	~<¡ršg.h
>

33 cÚ¡ 
	gbmp_ty³
[] = ".bmp";

35 
si_t


36 
’gše_d¿w_img


37 (
si_t
 
g¿phics_deviû_hªdË
,

38 * 
·th
,

39 
si_t
 
®ign
)

46 * 
ty³
 = 
·th
 + 
¡¾’
(path);

47 *
ty³
 != '.')

49 -- 
ty³
;

50 if(
ty³
 =ğ
·th
)

57 if(0 =ğ
¡ºcmp
(
bmp_ty³
, 
ty³
, (bmp_type)))

59  
’gše_d¿w_b™m­
(
g¿phics_deviû_hªdË
, 
·th
, 
®ign
);

	@graph/graph_engine/engine_draw_line.c

1 
	~<d©a_¡ruùu»s.h
>

3 
	~"../g¿ph_’gše.h
"

8 
si_t


9 
	g__d¿w_lše_w™h_b»£nham__


10 (
sü“n
 * 
	gs
,

11 
»ùªgË
 * 
	gr
,

12 
cŞÜ
 * 
	gc
,

13 
si_t
 
	gx1
,

14 
si_t
 
	gy1
,

15 
si_t
 
	gx2
,

16 
si_t
 
	gy2
)

20 if(
	gx1
 =ğ
x2
)

22  
sü“n_£t_v_lše
(
s
, 
r
, 
c
, 
x1
, 
y1
, 
x2
, 
y2
);

26 if(
	gy1
 =ğ
y2
)

28  
sü“n_£t_h_lše
(
s
, 
r
, 
c
, 
x1
, 
y1
, 
x2
, 
y2
);

32 if(
ABSOLUTE_I
(
x1
 - 
x2
è=ğABSOLUTE_I(
y1
 -
y2
))

34  
sü“n_£t_x_lše
(
s
, 
r
, 
c
, 
x1
, 
y1
, 
x2
, 
y2
);

38 
pošt
 *
	gpos
;

39 
b»£nham_™”©Ü
 *
	g™
;

40 
b»£nham_fÜ_—ch
(
pos
, 
™
, 
x1
, 
y1
, 
x2
, 
y2
) {

41 
sü“n_£t_pix–
(
s
, 
r
, 
c
, 
pos
->
x
,…os->
y
);

48 
si_t


49 
	g’gše_d¿w_lše


50 (
si_t
 
	gg¿phics_deviû_hªdË
,

51 
si_t
 
	gx1
,

52 
si_t
 
	gy1
,

53 
si_t
 
	gx2
,

54 
si_t
 
	gy2
)

56 
g¿phics_deviû
 * 
	ggd
;

58 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

68  
__d¿w_lše_w™h_b»£nham__
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x1
, 
y1
, 
x2
, 
y2
);

	@graph/graph_engine/engine_draw_point.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g’gše_d¿w_pošt


34 (
si_t
 
	gg¿phics_deviû_hªdË
,

35 
si_t
 
	gx
,

36 
si_t
 
	gy
)

38 
g¿phics_deviû
 * 
	ggd
;

40 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

42  
sü“n_£t_pix–
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
, 
y
);

	@graph/graph_engine/engine_draw_polygon.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g’gše_d¿w_pŞygÚ


34 (
si_t
 
	gg¿phics_deviû_hªdË
,

35 
pošt
 * 
	gp
,

36 
ui_t
 
	gpošt_couÁ
)

38 
ui_t
 
	gi
 = 0;

40 if(
	gpošt_couÁ
 <= 0) {

44 -- 
	gpošt_couÁ
;

46 
	gi
 < 
	gpošt_couÁ
)

48 
’gše_d¿w_lše
(
g¿phics_deviû_hªdË
, 
p
[
i
].
x
,…[i].
y
,…[i + 1].x,…[i + 1].y);

49 ++ 
	gi
;

52 
’gše_d¿w_lše
(
g¿phics_deviû_hªdË
, 
p
[
pošt_couÁ
].
x
,…[pošt_couÁ].
y
,…[0].x,…[0].y);

	@graph/graph_engine/engine_draw_rectangle.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g’gše_d¿w_»ùªgË


34 (
si_t
 
	gg¿phics_deviû_hªdË
,

35 
si_t
 
	gxaxis
,

36 
si_t
 
	gyaxis
,

37 
si_t
 
	gxsize
,

38 
si_t
 
	gysize
)

40 
g¿phics_deviû
 * 
	ggd
;

42 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

45 
sü“n_£t_h_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
xaxis
, 
yaxis
, xaxi + 
xsize
 - 1, yaxis);

46 
sü“n_£t_h_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
xaxis
, 
yaxis
 + 
ysize
 - 1, xaxi + 
xsize
 - 1, yaxis + ysize - 1);

47 
sü“n_£t_v_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
xaxis
, 
yaxis
, xaxis, yaxi + 
ysize
 - 1);

48 
sü“n_£t_v_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
xaxis
 + 
xsize
 - 1, 
yaxis
, xaxi + xsiz- 1, yaxi + 
ysize
 - 1);

	@graph/graph_engine/engine_draw_x.c

30 
	~"../g¿ph_’gše.h
"

102 
si_t


103 
	g’gše_d¿w_x


104 (
si_t
 
	gg¿phics_deviû_hªdË
,

105 
si_t
 
	gx
,

106 
si_t
 
	gy
,

107 
si_t
 
	gsize
)

109 
si_t
 
	gb
;

110 
g¿phics_deviû
 * 
	ggd
;

112 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

115 if(
	gsize
 == 0)

120 
	gb
 = (
size
 + 1) >> 1;

127 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
 + 
b
 - 1, 
y
 - size, x, y - b + 1);

128 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
 - 
b
 + 1, 
y
 + size, x, y + b - 1);

129 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
 - siz+ 
b
 - 1, x - b + 1, y);

130 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
, 
y
 + siz- 
b
 + 1, x + b - 1, y);

137 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
, 
y
 - siz+ 
b
 - 1, x + b - 1, y);

138 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
 + siz- 
b
 + 1, x - b + 1, y);

139 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
 - 
b
 + 1, 
y
 - size, x, y - b + 1);

140 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
 + 
b
 - 1, 
y
 + size, x, y + b - 1);

145 
sü“n_£t_h_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
 - size, x - siz+ 
b
 - 1, y - size);

146 
sü“n_£t_h_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
 + size, x - siz+ 
b
 - 1, y + size);

147 
sü“n_£t_h_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
 - 
b
 + 1, 
y
 - size, x + size, y - size);

148 
sü“n_£t_h_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
 - 
b
 + 1, 
y
 + size, x + size, y + size);

153 
sü“n_£t_v_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
 - size, x - size, y - siz+ 
b
 - 1);

154 
sü“n_£t_v_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
, 
y
 - size, x + size, y - siz+ 
b
 - 1);

155 
sü“n_£t_v_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
 + siz- 
b
 + 1, x - size, y + size);

156 
sü“n_£t_v_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
, 
y
 + siz- 
b
 + 1, x + size, y + size);

163 
si_t


164 
	g’gše_d¿w_x


165 (
si_t
 
	gg¿phics_deviû_hªdË
,

166 
si_t
 
	gx
,

167 
si_t
 
	gy
,

168 
si_t
 
	ga
,

169 
si_t
 
	gb
)

171 
si_t
 
	gsize
 = 
a
 + 
b
;

172 
g¿phics_deviû
 * 
	ggd
;

174 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

177 if(
	ga
 !ğ0 && 
b
 != 0)

184 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
a
, 
y
 - 
size
, x, y - 
b
);

185 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
a
, 
y
 + 
size
, x, y + 
b
);

186 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
 - 
a
, x - 
b
, y);

187 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
, 
y
 + 
a
, x + 
b
, y);

194 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
, 
y
 - 
a
, x + 
b
, y);

195 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
 + 
a
, x - 
b
, y);

196 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
a
, 
y
 - 
size
, x, y - 
b
);

197 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
a
, 
y
 + 
size
, x, y + 
b
);

202 
sü“n_£t_h_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
 - size, x - 
a
, y - size);

203 
sü“n_£t_h_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
 + size, x - 
a
, y + size);

204 
sü“n_£t_h_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
a
, 
y
 - 
size
, x + size, y - size);

205 
sü“n_£t_h_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
a
, 
y
 + 
size
, x + size, y + size);

210 
sü“n_£t_v_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
 - size, x - size, y - 
a
);

211 
sü“n_£t_v_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
, 
y
 - size, x + size, y - 
a
);

212 
sü“n_£t_v_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
, 
y
 + 
a
, x - size, y + size);

213 
sü“n_£t_v_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
size
, 
y
 + 
a
, x + size, y + size);

	@graph/graph_engine/engine_fill_arrow.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g’gše_fl_¬row


34 (
si_t
 
	gg¿phics_deviû_hªdË
,

35 
si_t
 
	gx
,

36 
si_t
 
	gy
,

37 
si_t
 
	gsize
,

38 
si_t
 
	gdœeùiÚ
)

40 
si_t
 
	gi
;

41 
g¿phics_deviû
 * 
	ggd
;

43 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

46 
	gdœeùiÚ
)

50 
i
 = 0; 
	gi
 <ğ
size
; ++ i)

52 
sü“n_£t_h_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
 + 
i
, 
y
 - i, x + size - i, y - i);

59 
i
 = 0; 
	gi
 <ğ
size
; ++ i)

61 
sü“n_£t_h_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
size
 + 
i
, 
y
 + i, x + size - i, y + i);

68 
i
 = 0; 
	gi
 <ğ
size
; ++ i)

70 
sü“n_£t_v_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 - 
i
, 
y
 - 
size
 + i, x - i, y + size - i);

77 
i
 = 0; 
	gi
 <ğ
size
; ++ i)

79 
sü“n_£t_v_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
i
, 
y
 - 
size
 + i, x + i, y + size - i);

	@graph/graph_engine/engine_fill_circle.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g__fl_cœşe_w™h_mp__


34 (
sü“n
 * 
	gs
,

35 
»ùªgË
 * 
	gr
,

36 
cŞÜ
 * 
	gc
,

37 
si_t
 
	gx0
,

38 
si_t
 
	gy0
,

39 
si_t
 
	g¿dius
)

41 
si_t
 
	gd
 = 5 - (
¿dius
 << 2), 
	gx
 = 0, 
	gy
 =„adius;

43 
	gx
 <ğ
y
)

45 
sü“n_£t_h_lše
(
s
, 
r
, 
c
, 
x0
 - 
x
, 
y0
 + 
y
, x0 + x, y0 + y);

46 
sü“n_£t_h_lše
(
s
, 
r
, 
c
, 
x0
 - 
x
, 
y0
 - 
y
, x0 + x, y0 - y);

47 
sü“n_£t_h_lše
(
s
, 
r
, 
c
, 
x0
 - 
y
, 
y0
 + 
x
, x0 + y, y0 + x);

48 
sü“n_£t_h_lše
(
s
, 
r
, 
c
, 
x0
 - 
y
, 
y0
 - 
x
, x0 + y, y0 - x);

50 if(
	gd
 < 0)

52 
	gd
 +ğ(
x
 << 3) + 12;

53 ++ 
	gx
;

57 
	gd
 +ğ((
x
 - 
y
) << 3) + 20;

58 -- 
	gy
;

59 ++ 
	gx
;

66 
si_t


67 
	g’gše_fl_cœşe


68 (
si_t
 
	gg¿phics_deviû_hªdË
,

69 
si_t
 
	gx0
,

70 
si_t
 
	gy0
,

71 
si_t
 
	g¿dius
)

73 
g¿phics_deviû
 * 
	ggd
;

75 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

77  
__fl_cœşe_w™h_mp__
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x0
, 
y0
, 
¿dius
);

	@graph/graph_engine/engine_fill_ellipse.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g__fl_–l£_w™h_mp__


34 (
sü“n
 * 
	gs
,

35 
»ùªgË
 * 
	gr
,

36 
cŞÜ
 * 
	gc
,

37 
si_t
 
	gx0
,

38 
si_t
 
	gy0
,

39 
si_t
 
	ga
,

40 
si_t
 
	gb
)

42 
f_t
 
	gd–
, 
	g¯
, 
	gbb
;

43 
si_t
 
	gx
, 
	gy
;

45 
	g¯
 = 
a
 *‡;

46 
	gbb
 = 
b
 * b;

47 
	gx
 = 0;

48 
	gy
 = 
b
;

50 
	gd–
 = 
bb
 - 
¯
 * 
b
 + (0.25 *‡a);

52 
	g¯
 * (
	gy
 - 0.5è>ğ
bb
 * (
x
 + 1))

54 
sü“n_£t_h_lše
(
s
, 
r
, 
c
, 
x0
 - 
x
, 
y0
 + 
y
, x0 + x, y0 + y);

55 
sü“n_£t_h_lše
(
s
, 
r
, 
c
, 
x0
 - 
x
, 
y0
 - 
y
, x0 + x, y0 - y);

57 if(
	gd–
 < 0)

59 
	gd–
 +ğ
bb
 * ((
x
 << 1) + 3);

63 
	gd–
 +ğ
bb
 * ((
x
 << 1è+ 3è+ 
¯
 * (2 - (
y
 << 1));

64 -- 
	gy
;

66 ++ 
	gx
;

69 
	gd–
 = 
bb
 * (
x
 + 0.5è* (x + 0.5è+ 
¯
 * (
y
 - 1) * (y - 1) -‡a * bb;

71 
	gy
 >= 0)

73 
sü“n_£t_h_lše
(
s
, 
r
, 
c
, 
x0
 - 
x
, 
y0
 + 
y
, x0 + x, y0 + y);

74 
sü“n_£t_h_lše
(
s
, 
r
, 
c
, 
x0
 - 
x
, 
y0
 - 
y
, x0 + x, y0 - y);

76 if(
	gd–
 < 0)

78 
	gd–
 +ğ
bb
 * ((
x
 << 1è+ 2è+ 
¯
 * (3 - (
y
 << 1));

79 ++ 
	gx
;

83 
	gd–
 +ğ
¯
 * (3 - (
y
 << 1));

85 -- 
	gy
;

91 
si_t


92 
	g’gše_fl_–l£


93 (
si_t
 
	gg¿phics_deviû_hªdË
,

94 
si_t
 
	gx0
,

95 
si_t
 
	gy0
,

96 
si_t
 
	ga
,

97 
si_t
 
	gb
)

99 
g¿phics_deviû
 * 
	ggd
;

101 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

103  
__fl_–l£_w™h_mp__
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x0
, 
y0
, 
a
, 
b
);

	@graph/graph_engine/engine_fill_polygon.c

30 
	~"../g¿ph_’gše.h
"

61 
»ùªgË
 *

62 
	gg‘_d¿w_¬—


63 (
si_t
 
	gg¿phics_deviû_hªdË
,

64 
pošt
 *
	gp
,

65 
ui_t
 
	gpút
)

67 
»ùªgË
 
	gcheck_¬—
 = { 0 };

68 
»ùªgË
 
	gd¿w_¬—
;

69 
g¿phics_deviû
 *
	ggd
 = (
addr_t
)
g¿phics_deviû_hªdË
;

70 
ui_t
 
	gi
;

72 
mem£t
(&
d¿w_¬—
, 0, (draw_area));

73 if(
	gpút
<=0) {

74  &
d¿w_¬—
;

77 
	gcheck_¬—
.
	gx
 = 
p
[0].
x
;

78 
	gcheck_¬—
.
	gy
 = 
p
[0].
y
;

79 
	gi
=1; i<
	gpút
; i++) {

80 if(
	gcheck_¬—
.
	gx
 > 
	gp
[
i
].x) {

81 
	gcheck_¬—
.
	gx
 = 
p
[
i
].
x
;

83 if(
	gcheck_¬—
.
	gy
 > 
	gp
[
i
].y) {

84 
	gcheck_¬—
.
	gy
 = 
p
[
i
].
y
;

87 
	gi
=0; i<
	gpút
; i++) {

88 if(
	gcheck_¬—
.
	gwidth
 < 
	gp
[
i
].
	gx
-check_area.x+1) {

89 
	gcheck_¬—
.
	gwidth
 = 
p
[
i
].
x
-
check_¬—
.x+1;

91 if(
	gcheck_¬—
.
	gheight
 < 
	gp
[
i
].
	gy
-check_area.y+1) {

92 
	gcheck_¬—
.
	gheight
 = 
p
[
i
].
y
-
check_¬—
.y+1;

99 
	gd¿w_¬—
.
	gwidth
 = 
gd
->
sü“n
.
width
;

100 
	gd¿w_¬—
.
	gheight
 = 
gd
->
sü“n
.
height
;

101 
¬—_š‹r£ùiÚ
(&
d¿w_¬—
, &
check_¬—
, &draw_area);

102 
¬—_š‹r£ùiÚ
(&
d¿w_¬—
, &
gd
->
»ùªgË
, &draw_area);

104  &
	gd¿w_¬—
;

109 
addr_t
 
	$g‘_m­_¥aû
(
size_t
 
by‹s
)

111 
size_t
 
®loÿ‹d_by‹s
 = 0;

112 
addr_t
 
bufãr
 = 
NULL
;

113 if(
®loÿ‹d_by‹s
<
by‹s
) {

114 
bufãr
 = 
	`»®loc
(bufãr, 
by‹s
);

115 
®loÿ‹d_by‹s
 = 
by‹s
;

117 if(
bufãr
) {

118 
	`mem£t
(
bufãr
, 0, 
by‹s
);

120  
bufãr
;

121 
	}
}

124 
	$m­_toggË_b™
(
addr_t
 
m­
, 
si_t
 
width
, si_ˆ
x
, si_ˆ
y
)

126 
ui_t
 
æ©_pix–
 = 
x
 + 
y
*
width
;

127 ((
by‹_t
*)
m­
)[
æ©_pix–
/
CHAR_BIT
] ^= (1u<<(flat_pixel%CHAR_BIT));

128 
	}
}

131 
by‹_t
 
	$m­_g‘_b™
(
addr_t
 
m­
, 
si_t
 
width
, si_ˆ
x
, si_ˆ
y
)

133 
ui_t
 
æ©_pix–
 = 
x
 + 
y
*
width
;

134  ((
by‹_t
*)
m­
)[
æ©_pix–
/
CHAR_BIT
] & (1u<<(flat_pixel%CHAR_BIT));

135 
	}
}

138 
	$m­_£t_b™
(
addr_t
 
m­
, 
si_t
 
width
, si_ˆ
x
, si_ˆ
y
)

140 
ui_t
 
æ©_pix–
 = 
x
 + 
y
*
width
;

141 ((
by‹_t
*)
m­
)[
æ©_pix–
/
CHAR_BIT
] |= (1u<<(flat_pixel%CHAR_BIT));

142 
	}
}

145 
	$m¬k_pošt
(
si_t
 
row_¡¬t
[], si_ˆ
row_’d
[], 
»ùªgË
 *
a
,

146 
pošt
 *
dp
)

148 if(
dp
->
y
<0 || dp->y>
a
->
height
) {

151 if(
dp
->
x
 < 0) {

152 
dp
->
x
 = 0;

154 if(
dp
->
x
 >ğ
a
->
width
) {

157 
dp
->
x
 = 
a
->
width
-1;

160 if(
row_¡¬t
[
dp
->
y
] =ğ-1 ||„ow_¡¬t[dp->y] > dp->
x
) {

161 
row_¡¬t
[
dp
->
y
] = dp->
x
;

163 if(
row_’d
[
dp
->
y
] =ğ-1 ||„ow_’d[dp->y] < dp->
x
) {

164 
row_’d
[
dp
->
y
] = dp->
x
;

166 
	}
}

169 
	$m¬k_lše
(
si_t
 
row_¡¬t
[], si_ˆ
row_’d
[], 
»ùªgË
 *
a
,

170 cÚ¡ 
pošt
 *
¡
, cÚ¡ pošˆ*
’
)

172 
pošt
 *
pos
;

173 
pošt
 
Ï¡
;

174 
b»£nham_™”©Ü
 *
™
;

175 if(
¡
->
x
 > 
’
->x || (¡->x =ğ’->x && st->
y
 >ƒn->y)) {

176 cÚ¡ 
pošt
 *
tmp
 = 
¡
;

177 
¡
 = 
’
;

178 
’
 = 
tmp
;

184 
	`b»£nham_fÜ_—ch
(
pos
, 
™
, 
¡
->
x
, st->
y
, 
’
->x,ƒn->y) {

185 
pošt
 
dp
;

186 if((
¡
->
x
 =ğ
pos
->x && st->
y
 ==…os->y) ||

187 
Ï¡
.
y
 =ğ
pos
->y) {

188 
Ï¡
 = *
pos
;

191 
dp
.
x
 = 
Ï¡
.x - 
a
->x;

192 
dp
.
y
 = 
Ï¡
.y - 
a
->y;

193 
Ï¡
 = *
pos
;

194 
	`m¬k_pošt
(
row_¡¬t
, 
row_’d
, 
a
, &
dp
);

196 
Ï¡
.
x
 -ğ
a
->x;

197 
Ï¡
.
y
 -ğ
a
->y;

198 
	`m¬k_pošt
(
row_¡¬t
, 
row_’d
, 
a
, &
Ï¡
);

199 
	}
}

203 
	$fl_m­
(
addr_t
 
m­
, 
»ùªgË
 *
¬—
)

205 
si_t
 
j
;

206 
j
=0; j<
¬—
->
height
; j++) {

207 
si_t
 
i
;

208 
¡©e
 = 0;

209 
i
=0; i<
¬—
->
width
; i++) {

210 if(
	`m­_g‘_b™
(
m­
, 
¬—
->
width
, 
i
, 
j
)) {

211 
¡©e
 = ~state;

212 if(!
¡©e
) {

215 
	`m­_toggË_b™
(
m­
, 
¬—
->
width
, 
i
, 
j
);

218 if(
¡©e
) {

219 
	`m­_toggË_b™
(
m­
, 
¬—
->
width
, 
i
, 
j
);

224 
	}
}

228 
	$£t_bÜd”
(
addr_t
 
m­
, 
»ùªgË
 *
¬—
, 
pošt
 
p
[], 
ui_t
 
pút
)

230 
ui_t
 
i
;

231 
i
=0; i<
pút
; i++) {

232 
ui_t
 
Ãxt
 = 
i
==
pút
-1 ? 0 : (i+1);

233 
pošt
 *
pos
;

234 
b»£nham_™”©Ü
 *
™
;

235 
	`b»£nham_fÜ_—ch
(
pos
, 
™
, 
p
[
i
].
x
,…[i].
y
,…[
Ãxt
].x,…[next].y) {

236 
si_t
 
x
 = 
pos
->x - 
¬—
->x;

237 
si_t
 
y
 = 
pos
->y - 
¬—
->y;

238 if(
x
<0 || 
y
<0 || x>=
¬—
->
width
 || y>÷»a->
height
) {

241 
	`m­_£t_b™
(
m­
, 
¬—
->
width
, 
x
, 
y
);

244 
	}
}

247 
addr_t
 
	$´•¬e_m­
(
»ùªgË
 *
¬—
, 
pošt
 
p
[], 
ui_t
 
pút
)

249 
ui_t
 
i
;

250 
size_t
 
m­_size
 = (
¬—
->
width
 *‡»a->
height
 + 
CHAR_BIT
-1) / CHAR_BIT;

251 
size_t
 
row_size
 = (
si_t
è* 
¬—
->
width
;

253 
addr_t
 
m­
 = 
	`g‘_m­_¥aû
(
m­_size
);

254 
si_t
 *
row_¡¬t
 = 
	`m®loc
(
row_size
);

255 
si_t
 *
row_’d
 = 
	`m®loc
(
row_size
);

256 
i
=1; i<
pút
-1; i++) {

257 
pošt
 *
ba£
 = 
p
+0,

258 *
a
 = 
p
+
i
,

259 *
b
 = 
p
+(
i
+1);

260 
si_t
 
j
;

262 
	`mem£t
(
row_¡¬t
, -1, 
row_size
);

263 
	`mem£t
(
row_’d
, -1, 
row_size
);

265 
	`m¬k_lše
(
row_¡¬t
, 
row_’d
, 
¬—
, 
ba£
, 
a
);

266 
	`m¬k_lše
(
row_¡¬t
, 
row_’d
, 
¬—
, 
a
, 
b
);

267 
	`m¬k_lše
(
row_¡¬t
, 
row_’d
, 
¬—
, 
b
, 
ba£
);

271 
j
=0; j<
¬—
->
height
; j++) {

272 if(
row_¡¬t
[
j
]>
row_’d
[j]) {

275 if(
row_¡¬t
[
j
]==-1 || 
row_’d
[j]==-1) {

278 
	`m­_toggË_b™
(
m­
, 
¬—
->
width
, 
row_¡¬t
[
j
], j);

279 if(
row_’d
[
j
] < 
¬—
->
width
) {

280 
	`m­_toggË_b™
(
m­
, 
¬—
->
width
, 
row_’d
[
j
], j);

284 
	`ä“
(
row_¡¬t
);

285 
	`ä“
(
row_’d
);

287 
	`fl_m­
(
m­
, 
¬—
);

289 
	`£t_bÜd”
(
m­
, 
¬—
, 
p
, 
pút
);

290  
m­
;

291 
	}
}

293 
si_t


294 
	g’gše_fl_pŞygÚ


295 (
si_t
 
	gg¿phics_deviû_hªdË
,

296 
pošt
 *
	gp
,

297 
ui_t
 
	gpút
)

299 
»ùªgË
 *
	g¬—
;

300 
g¿phics_deviû
 *
	ggd
 = (
addr_t
)
g¿phics_deviû_hªdË
;

301 
addr_t
 
	gm­
;

302 
si_t
 
	gi
;

304 if(
	gpút
 < 3) {

307 
	g¬—
 = 
g‘_d¿w_¬—
(
g¿phics_deviû_hªdË
, 
p
, 
pút
);

308 
	gm­
 = 
´•¬e_m­
(
¬—
, 
p
, 
pút
);

309 
	gi
=
¬—
->
x
; i < 
	g¬—
->
	gx
+¬—->
	gwidth
; i++) {

310 
si_t
 
	gj
;

311 
	gj
=
¬—
->
y
; j < 
	g¬—
->
	gy
+¬—->
	gheight
; j++) {

312 if(
m­_g‘_b™
(
m­
, 
¬—
->
width
, 
i
-¬—->
x
, 
j
-¬—->
y
)) {

313 
sü“n_£t_pix–_nocheck
(&
gd
->
sü“n
, &gd->
cŞÜ
, 
i
, 
j
);

	@graph/graph_engine/engine_fill_rectangle.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g’gše_fl_»ùªgË


34 (
si_t
 
	gg¿phics_deviû_hªdË
,

35 
si_t
 
	gxaxis
,

36 
si_t
 
	gyaxis
,

37 
si_t
 
	gxsize
,

38 
si_t
 
	gysize
)

40 
g¿phics_deviû
 * 
	ggd
;

42 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

44 
sü“n_£t_¬—
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
xaxis
, 
yaxis
, 
xsize
, 
ysize
);

	@graph/graph_engine/engine_fill_x.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g’gše_fl_x


34 (
si_t
 
	gg¿phics_deviû_hªdË
,

35 
si_t
 
	gx
,

36 
si_t
 
	gy
,

37 
si_t
 
	ga
,

38 
si_t
 
	gb
)

40 
si_t
 
	gsize
, 
	gi
, 
	gx1
, 
	gy1
, 
	gx2
, 
	gy2
;

41 
g¿phics_deviû
 * 
	ggd
;

43 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

45 
	gsize
 = 
a
 + 
b
;

47 if(
	ga
 !ğ0 && 
b
 != 0)

49 ++ 
b
;

56 
	gx1
 = 
x
 - 
size
, 
	gy1
 = 
y
 - size, 
	gx2
 = x, 
	gy2
 = y, 
	gi
 = 0; i < 
	gb
; ++ i)

58 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x1
 + 
i
, 
y1
, 
x2
, 
y2
 - i);

59 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x1
, 
y1
 + 
i
, 
x2
 - i, 
y2
);

62 
	gx1
 = 
x
 + 
size
, 
	gy1
 = 
y
 + size, 
	gx2
 = x, 
	gy2
 = y, 
	gi
 = 0; i < 
	gb
; ++ i)

64 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x1
 - 
i
, 
y1
, 
x2
, 
y2
 + i);

65 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x1
, 
y1
 - 
i
, 
x2
 + i, 
y2
);

73 
	gx1
 = 
x
 + 
size
, 
	gy1
 = 
y
 - size, 
	gx2
 = x, 
	gy2
 = y, 
	gi
 = 0; i < 
	gb
; ++ i)

75 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x1
, 
y1
 + 
i
, 
x2
 + i, 
y2
);

76 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x1
 - 
i
, 
y1
, 
x2
, 
y2
 - i);

79 
	gx1
 = 
x
 - 
size
, 
	gy1
 = 
y
 + size, 
	gx2
 = x, 
	gy2
 = y, 
	gi
 = 0; i < 
	gb
; ++ i)

81 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x1
, 
y1
 - 
i
, 
x2
 - i, 
y2
);

82 
sü“n_£t_x_lše
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x1
 + 
i
, 
y1
, 
x2
, 
y2
 + i);

	@graph/graph_engine/engine_get_area.c

1 
	~"../g¿ph_’gše.h
"

3 
»ùªgË
* 
	$’gše_g‘_¬—
(
si_t
 
g¿phics_deviû_hªdË
)

5 
g¿phics_deviû
 * 
gd
;

7 
gd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

9  &
gd
->
»ùªgË
;

10 
	}
}

	@graph/graph_engine/engine_get_color.c

1 
	~"../g¿ph_’gše.h
"

3 
cŞÜ
* 
	$’gše_g‘_cŞÜ
(
si_t
 
g¿phics_deviû_hªdË
)

5 
g¿phics_deviû
 * 
gd
;

7 
gd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

9  &
gd
->
cŞÜ
;

10 
	}
}

	@graph/graph_engine/engine_get_color_limit.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g’gše_g‘_cŞÜ_lim™


34 (
cŞÜ_lim™
 * 
	gş
)

37 
	gş
->
	gr_lim™
 = 
glob®_cŞÜ_lim™
.
r_lim™
;

38 
	gş
->
	gg_lim™
 = 
glob®_cŞÜ_lim™
.
g_lim™
;

39 
	gş
->
	gb_lim™
 = 
glob®_cŞÜ_lim™
.
b_lim™
;

40 
	gş
->
	ga_lim™
 = 
glob®_cŞÜ_lim™
.
a_lim™
;

	@graph/graph_engine/engine_get_font_height.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g’gše_g‘_fÚt_height


34 (
si_t
 
	gg¿phics_deviû_hªdË
)

36 
g¿phics_deviû
 * 
	ggd
;

38 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

40 
	ggd
->
	gfÚt
)

42 
	gFONT_MATRIX_08
:

45 
	gFONT_MATRIX_10
:

48 
	gFONT_MATRIX_12
:

51 
	gFONT_MATRIX_14
:

54 
	gFONT_MATRIX_16
:

57 
	gFONT_MATRIX_20
:

60 
	gFONT_MATRIX_24
:

63 
	gFONT_MATRIX_28
:

66 
	gFONT_MATRIX_32
:

69 
	gFONT_MATRIX_40
:

72 
	gFONT_MATRIX_48
:

75 
	gFONT_MATRIX_56
:

78 
	gFONT_MATRIX_64
:

	@graph/graph_engine/engine_get_font_width.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g’gše_g‘_fÚt_width


34 (
si_t
 
	gg¿phics_deviû_hªdË
)

36 
g¿phics_deviû
 * 
	ggd
;

38 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

40 
	ggd
->
	gfÚt
)

42 
	gFONT_MATRIX_08
:

45 
	gFONT_MATRIX_10
:

48 
	gFONT_MATRIX_12
:

51 
	gFONT_MATRIX_14
:

54 
	gFONT_MATRIX_16
:

57 
	gFONT_MATRIX_20
:

60 
	gFONT_MATRIX_24
:

63 
	gFONT_MATRIX_28
:

66 
	gFONT_MATRIX_32
:

69 
	gFONT_MATRIX_40
:

72 
	gFONT_MATRIX_48
:

75 
	gFONT_MATRIX_56
:

78 
	gFONT_MATRIX_64
:

	@graph/graph_engine/engine_graphics_device_exit.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

33 
	~"../g¿ph_’gše.h
"

35 
si_t


36 
	g’gše_g¿phics_deviû_ex™


37 (
si_t
 
	gg¿phics_deviû_hªdË
)

39 
g¿phics_deviû
 * 
	ggd
;

41 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

43 
ä“
(
gd
);

	@graph/graph_engine/engine_graphics_device_init.c

30 
	~<¡dlib.h
>

32 
	~"../g¿ph_’gše.h
"

33 
	~"log.h
"

35 
si_t


36 
	g’gše_g¿phics_deviû_š™


37 (
si_t
 
	gx
,

38 
si_t
 
	gy
,

39 
si_t
 
	gwidth
,

40 
si_t
 
	gheight
,

41 
si_t
 
	gr
,

42 
si_t
 
	gg
,

43 
si_t
 
	gb
,

44 
si_t
 
	ga
,

45 
si_t
 
	gfÚt
)

47 
g¿phics_deviû
 * 
	ggd
;

49 
	ggd
 = (
g¿phics_deviû
 *)
m®loc
((graphics_device));

51 if(
	ggd
 =ğ
NULL
)

53 
EGUI_PRINT_SYS_ERROR
("failedo malloc for graphics_device: malloc()");

57 
	ggd
->
	g»ùªgË
.
	gx
 = 
x
;

58 
	ggd
->
	g»ùªgË
.
	gy
 = 
y
;

59 
	ggd
->
	g»ùªgË
.
	gwidth
 = 
width
;

60 
	ggd
->
	g»ùªgË
.
	gheight
 = 
height
;

61 
	ggd
->
	gcŞÜ
.
	gr
 = 
r
;

62 
	ggd
->
	gcŞÜ
.
	gg
 = 
g
;

63 
	ggd
->
	gcŞÜ
.
	gb
 = 
b
;

64 
	ggd
->
	gcŞÜ
.
	ga
 = 
a
;

65 
	ggd
->
	gfÚt
 = 
fÚt
;

68 
	ggd
->
	gsü“n
.
	gwidth
 = 
glob®_sü“n
.
width
;

69 
	ggd
->
	gsü“n
.
	gheight
 = 
glob®_sü“n
.
height
;

70 
	ggd
->
	gsü“n
.
	gcŞÜ_d•th
 = 
glob®_sü“n
.
cŞÜ_d•th
;

75 
	ggd
->
	gsü“n
.
	gmemÜy_addr
 = 
glob®_sü“n
.
bufãr_addr
;

78 
	ggd
->
	gsü“n
.
	gsize
 = 
glob®_sü“n
.
size
;

80  (
	gsi_t
)
	ggd
;

	@graph/graph_engine/engine_set_area.c

1 
	~"../g¿ph_’gše.h
"

3 
si_t
 
	$’gše_£t_¬—
(
si_t
 
g¿phics_deviû_hªdË
, si_ˆ
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
)

5 
g¿phics_deviû
 * 
gd
;

7 
gd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

9 
gd
->
»ùªgË
.
x
 = x;

10 
gd
->
»ùªgË
.
y
 = y;

11 
gd
->
»ùªgË
.
width
 = width;

12 
gd
->
»ùªgË
.
height
 = height;

15 
	}
}

	@graph/graph_engine/engine_set_color.c

1 
	~"../g¿ph_’gše.h
"

3 
si_t
 
	$’gše_£t_cŞÜ
(
si_t
 
g¿phics_deviû_hªdË
, si_ˆ
r
, si_ˆ
g
, si_ˆ
b
, si_ˆ
a
)

5 
g¿phics_deviû
 * 
gd
;

7 
gd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

9 
gd
->
cŞÜ
.
r
 =„;

10 
gd
->
cŞÜ
.
g
 = g;

11 
gd
->
cŞÜ
.
b
 = b;

12 
gd
->
cŞÜ
.
a
 =‡;

15 
	}
}

	@graph/graph_engine/engine_set_font.c

1 
	~"../g¿ph_’gše.h
"

3 
si_t
 
	$’gše_£t_fÚt
(
si_t
 
g¿phics_deviû_hªdË
, si_ˆ
fÚt
)

5 
g¿phics_deviû
 * 
gd
;

7 
gd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

9 
gd
->
fÚt
 = font;

12 
	}
}

	@graph/graph_engine/engine_show_text.c

30 
	~<ùy³.h
>

31 
	~<¡ršg.h
>

33 
	~<d©a_¡ruùu»s.h
>

35 
	~"../g¿ph_’gše.h
"

37 
si_t
 
fÚt_m©rix_š™ed
;

38 
ui08_t
 
fÚt_m©rix_08
[][1 * 16];

39 
ui08_t
 
fÚt_m©rix_10
[][2 * 20];

40 
ui08_t
 
fÚt_m©rix_12
[][2 * 24];

41 
ui08_t
 
fÚt_m©rix_14
[][2 * 28];

42 
ui08_t
 
fÚt_m©rix_16
[][2 * 32];

43 
ui08_t
 
fÚt_m©rix_20
[][3 * 40];

44 
ui08_t
 
fÚt_m©rix_24
[][3 * 48];

45 
ui08_t
 
fÚt_m©rix_28
[][4 * 56];

46 
ui08_t
 
fÚt_m©rix_32
[][4 * 64];

47 
ui08_t
 
fÚt_m©rix_40
[][5 * 80];

48 
ui08_t
 
fÚt_m©rix_48
[][6 * 96];

49 
ui08_t
 
fÚt_m©rix_56
[][7 * 112];

50 
ui08_t
 
fÚt_m©rix_64
[][8 * 128];

62 
	g__fÚt_m©rix_addr__


63 (
si_t
 
	gty³
,

64 
	gc
)

66 
	gty³
)

68 
	gFONT_MATRIX_08
:

69  
fÚt_m©rix_08
[
c
 - 32];

71 
	gFONT_MATRIX_10
:

72  
fÚt_m©rix_10
[
c
 - 32];

74 
	gFONT_MATRIX_12
:

75  
fÚt_m©rix_12
[
c
 - 32];

77 
	gFONT_MATRIX_14
:

78  
fÚt_m©rix_14
[
c
 - 32];

80 
	gFONT_MATRIX_16
:

81  
fÚt_m©rix_16
[
c
 - 32];

83 
	gFONT_MATRIX_20
:

84  
fÚt_m©rix_20
[
c
 - 32];

86 
	gFONT_MATRIX_24
:

87  
fÚt_m©rix_24
[
c
 - 32];

89 
	gFONT_MATRIX_28
:

90  
fÚt_m©rix_28
[
c
 - 32];

92 
	gFONT_MATRIX_32
:

93  
fÚt_m©rix_32
[
c
 - 32];

95 
	gFONT_MATRIX_40
:

96  
fÚt_m©rix_40
[
c
 - 32];

98 
	gFONT_MATRIX_48
:

99  
fÚt_m©rix_48
[
c
 - 32];

101 
	gFONT_MATRIX_56
:

102  
fÚt_m©rix_56
[
c
 - 32];

104 
	gFONT_MATRIX_64
:

105  
fÚt_m©rix_64
[
c
 - 32];

111  
	gNULL
;

124 
si_t


125 
	g__m©rix_‹xt__


126 (
si_t
 
	gg¿phics_deviû_hªdË
,

127 
si_t
 
	gx
,

128 
si_t
 
	gy
,

129 
	gc
)

131 
si_t
 
	gi
, 
	gj
, 
	gw
, 
	gh
, 
	glšeby‹
;

132 
by‹_t
 * 
	gaddr
;

133 
g¿phics_deviû
 * 
	ggd
;

135 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

139 if(
i¥ršt
(
c
))

143 
	gw
 = 
’gše_g‘_fÚt_width
(
g¿phics_deviû_hªdË
);

146 
	gh
 = 
’gše_g‘_fÚt_height
(
g¿phics_deviû_hªdË
);

149 
	glšeby‹
 = 
w
 >> 3;

151 if(
	gw
 & 0X7)

153 ++ 
	glšeby‹
;

158 
	gaddr
 = 
__fÚt_m©rix_addr__
(
gd
->
fÚt
, 
c
);

161 
	gj
 = 0; j < 
	gh
; ++ j)

163 
	gi
 = 0; i < 
	gw
; ++ i)

165 if(
GET_BIT
(
addr
, 
i
) == 1)

167 
sü“n_£t_pix–
(&(
gd
->
sü“n
), &(gd->
»ùªgË
), &(gd->
cŞÜ
), 
x
 + 
i
, 
y
 + 
j
);

171 
	gaddr
 +ğ
lšeby‹
;

190 
si_t


191 
	g__veùÜ_‹xt__


192 (
si_t
 
	gg¿phics_deviû_hªdË
,

193 
si_t
 
	gx
,

194 
si_t
 
	gy
,

195 
	gch
)

197 
g¿phics_deviû
 * 
	ggd
;

199 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

206 
si_t


207 
	g’gše_show_‹xt


208 (
si_t
 
	gg¿phics_deviû_hªdË
,

209 
si_t
 
	gx
,

210 
si_t
 
	gy
,

211 * 
	g¡r
,

212 
si_t
 
	gËngth
)

214 
si_t
 
	gi
, 
	gw
;

216 if(!
	gfÚt_m©rix_š™ed
 && -1==
’gše_fÚt_š™
()) {

221 
	gw
 = 
’gše_g‘_fÚt_width
(
g¿phics_deviû_hªdË
);

224 
	gi
 = 0; i < 
	gËngth
; ++ i)

226 
__m©rix_‹xt__
(
g¿phics_deviû_hªdË
, 
x
, 
y
, 
¡r
[
i
]);

227 
	gx
 +ğ
w
;

	@graph/graph_engine/engine_update.c

30 
	~"../g¿ph_’gše.h
"

32 
si_t


33 
	g’gše_upd©e


34 (
si_t
 
	gg¿phics_deviû_hªdË
)

36 
g¿phics_deviû
 * 
	ggd
;

38 
	ggd
 = (
g¿phics_deviû
 *)
g¿phics_deviû_hªdË
;

41 if(
	ggd
->
	gsü“n
.
	gvideo_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_DIRECT
)

46 if(
gd
->
sü“n
.
video_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_BUFFER
)

49 
sü“n_ıy_¬—


50 (
gd
->
sü“n
.
memÜy_addr
,

51 
gd
->
sü“n
.
bufãr_addr
,

52 
gd
->
»ùªgË
.
x
,

53 
gd
->
»ùªgË
.
y
,

54 
gd
->
»ùªgË
.
x
,

55 
gd
->
»ùªgË
.
y
,

56 
gd
->
»ùªgË
.
width
,

57 
gd
->
»ùªgË
.
height
);

	@graph/graph_engine/font_matrix/font_matrix.c

30 
	~<¡dio.h
>

31 
	~<uni¡d.h
>

33 
	~"../../g¿ph_’gše.h
"

40 
si_t
 
	gfÚt_m©rix_š™ed
;

50 
ui08_t
 
	gfÚt_m©rix_08
[95][1 * 16];

53 
ui08_t
 
	gfÚt_m©rix_10
[95][2 * 20];

56 
ui08_t
 
	gfÚt_m©rix_12
[95][2 * 24];

59 
ui08_t
 
	gfÚt_m©rix_14
[95][2 * 28];

62 
ui08_t
 
	gfÚt_m©rix_16
[95][2 * 32];

65 
ui08_t
 
	gfÚt_m©rix_20
[95][3 * 40];

68 
ui08_t
 
	gfÚt_m©rix_24
[95][3 * 48];

71 
ui08_t
 
	gfÚt_m©rix_28
[95][4 * 56];

74 
ui08_t
 
	gfÚt_m©rix_32
[95][4 * 64];

77 
ui08_t
 
	gfÚt_m©rix_40
[95][5 * 80];

80 
ui08_t
 
	gfÚt_m©rix_48
[95][6 * 96];

83 
ui08_t
 
	gfÚt_m©rix_56
[95][7 * 112];

86 
ui08_t
 
	gfÚt_m©rix_64
[95][8 * 128];

89 
	#DEFAULT_FONT_MATRIX
 
PACKAGE_DATA_PATH
"/»sourû/fÚt_m©rix/"

	)

90 
	#NONINST_FONT_MATRIX
 
PACKAGE_SRC_PATH
"/»sourû/fÚt_m©rix/"

	)

92 #iâdeà
PATH_MAX


93 
	#PATH_MAX
 1024

	)

96 
	sm2f_»c_t
 {

97 
ui08_t
 *
	mfÚt_m©rix
;

98 
size_t
 
	mËngth
;

99 cÚ¡ *
	mf’ame
;

103 cÚ¡ 
m2f_»c_t
 
	gm2f
[] = {

104 {(
ui08_t
*)
fÚt_m©rix_08
, (ui08_t)*95*1* 16, "font_matrix_08.dat"},

105 {(
ui08_t
*)
fÚt_m©rix_10
, (ui08_t)*95*2* 20, "font_matrix_10.dat"},

106 {(
ui08_t
*)
fÚt_m©rix_12
, (ui08_t)*95*2* 24, "font_matrix_12.dat"},

107 {(
ui08_t
*)
fÚt_m©rix_14
, (ui08_t)*95*2* 28, "font_matrix_14.dat"},

108 {(
ui08_t
*)
fÚt_m©rix_16
, (ui08_t)*95*2* 32, "font_matrix_16.dat"},

109 {(
ui08_t
*)
fÚt_m©rix_20
, (ui08_t)*95*3* 40, "font_matrix_20.dat"},

110 {(
ui08_t
*)
fÚt_m©rix_24
, (ui08_t)*95*3* 48, "font_matrix_24.dat"},

111 {(
ui08_t
*)
fÚt_m©rix_28
, (ui08_t)*95*4* 56, "font_matrix_28.dat"},

112 {(
ui08_t
*)
fÚt_m©rix_32
, (ui08_t)*95*4* 64, "font_matrix_32.dat"},

113 {(
ui08_t
*)
fÚt_m©rix_40
, (ui08_t)*95*5* 80, "font_matrix_40.dat"},

114 {(
ui08_t
*)
fÚt_m©rix_48
, (ui08_t)*95*6* 96, "font_matrix_48.dat"},

115 {(
ui08_t
*)
fÚt_m©rix_56
, (ui08_t)*95*7*112, "font_matrix_56.dat"},

116 {(
ui08_t
*)
fÚt_m©rix_64
, (ui08_t)*95*8*128, "font_matrix_64.dat"},

120 
si_t
 
	$’gše_fÚt_š™_´efix
(cÚ¡ *
´efix
)

122 
ui_t
 
i
;

123 
i
=0; i<(
m2f
)/(m2f[0]); i++) {

124 
·th
[
PATH_MAX
];

125 
FILE
 *
fš
;

126 
	`¥rštf
(
·th
, "%s%s", 
´efix
, 
m2f
[
i
].
f’ame
);

127 if(-1==
	`acûss
(
·th
, 
R_OK
)) {

130 
fš
 = 
	`fİ’
(
·th
, "rb");

131 
	`ä—d
(
m2f
[
i
].
fÚt_m©rix
, 1, m2f[i].
Ëngth
, 
fš
);

132 
	`fşo£
(
fš
);

134 
fÚt_m©rix_š™ed
 = 1;

136 
	}
}

139 
si_t
 
	$’gše_fÚt_š™
()

141 if(0==
	`acûss
(
DEFAULT_FONT_MATRIX
, 
F_OK
)) {

142  
	`’gše_fÚt_š™_´efix
(
DEFAULT_FONT_MATRIX
);

143 } if(0==
	`acûss
(
NONINST_FONT_MATRIX
, 
F_OK
)) {

144  
	`’gše_fÚt_š™_´efix
(
NONINST_FONT_MATRIX
);

148 
	}
}

	@graph/graph_enumerator.h

30 #iâdeà
_GRAPH_ENUMATER_H_


31 
	#_GRAPH_ENUMATER_H_
 1

	)

33 
	~<¡ršg.h
>

35 
	~<lim™s.h
>

40 
	eALIGN_TYPE


45 
	mALIGN_HORIZONTAL_TYPE_LEFT
 = ((
ui_t
)1) << 0,

49 
	mALIGN_HORIZONTAL_TYPE_CENTER
 = ((
ui_t
)1) << 1,

53 
	mALIGN_HORIZONTAL_TYPE_RIGHT
 = ((
ui_t
)1) << 2,

57 
	mALIGN_HORIZONTAL_TYPE_MASK
 = 0x7,

62 
	mALIGN_VERTICAL_TYPE_UP
 = ((
ui_t
)1) << 3,

66 
	mALIGN_VERTICAL_TYPE_CENTER
 = ((
ui_t
)1) << 4,

70 
	mALIGN_VERTICAL_TYPE_DOWN
 = ((
ui_t
)1) << 5,

74 
	mALIGN_VERTICAL_TYPE_MASK
 = 0x38

80 
	e__ıy_¬—_mode__


83 
	mCPY_AREA_MODE_BUFFER_TO_MEMORY
 = 0,

85 
	mCPY_AREA_MODE_MEMORY_TO_BUFFER
,

87 
	mCPY_AREA_MODE_BUFFER_TO_BUFFER
,

89 
	mCPY_AREA_MODE_MEMORY_TO_MEMORY
,

92 
	mCPY_AREA_MODE_QUANTITY
,

96 
	mCPY_AREA_MODE_MAX
 = 
INT_MAX


99 
	e__video_acûss_mode__


104 
	mVIDEO_ACCESS_MODE_DIRECT
 = 0,

109 
	mVIDEO_ACCESS_MODE_BUFFER


115 
	e__fÚt__


117 
	mFONT_MATIX_MINIMUM
 = 0,

120 
	mFONT_MATRIX_08
 = 0,

123 
	mFONT_MATRIX_10
,

126 
	mFONT_MATRIX_12
,

129 
	mFONT_MATRIX_14
,

132 
	mFONT_MATRIX_16
,

135 
	mFONT_MATRIX_20
,

138 
	mFONT_MATRIX_24
,

141 
	mFONT_MATRIX_28
,

144 
	mFONT_MATRIX_32
,

147 
	mFONT_MATRIX_40
,

150 
	mFONT_MATRIX_48
,

153 
	mFONT_MATRIX_56
,

156 
	mFONT_MATRIX_64
,

158 
	mFONT_MATRIX_MAXMUM
,

161 
	mFONT_VECTOR
,

164 
	mFONT_QUANTITY
,

168 
	mFONT_MAX
 = 
INT_MAX


171 
	e__cursÜ_sh­e__


174 
	mCURSOR_SHAPE_X
 = 0,

177 
	mCURSOR_SHAPE_ARROW
,

180 
	mCURSOR_SHAPE_HAND
,

183 
	mCURSOR_SHAPE_TEXT_INPUT
,

186 
	mCURSOR_SHAPE_TEXT_SELECT
,

189 
	mCURSOR_SHAPE_H_RESIZE
,

192 
	mCURSOR_SHAPE_V_RESIZE


207 
si_t
 
	$g‘_fÚt_’um_äom_¡r
(cÚ¡ * 
¡r
)

209 if(
NULL
 =ğ
¡r
)

214 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_08"))

216  
FONT_MATRIX_08
;

218 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_10"))

220  
FONT_MATRIX_10
;

222 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_12"))

224  
FONT_MATRIX_12
;

226 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_14"))

228  
FONT_MATRIX_14
;

230 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_16"))

232  
FONT_MATRIX_16
;

234 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_20"))

236  
FONT_MATRIX_20
;

238 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_24"))

240  
FONT_MATRIX_24
;

242 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_28"))

244  
FONT_MATRIX_28
;

246 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_32"))

248  
FONT_MATRIX_32
;

250 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_40"))

252  
FONT_MATRIX_40
;

254 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_48"))

256  
FONT_MATRIX_48
;

258 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_56"))

260  
FONT_MATRIX_56
;

262 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_64"))

264  
FONT_MATRIX_64
;

266 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_VECTOR"))

268  
FONT_VECTOR
;

272 
	}
}

281 
si_t
 
	$g‘_cursÜ_’um_äom_¡r
(cÚ¡ * 
¡r
)

283 if(
NULL
 =ğ
¡r
)

288 if(0 =ğ
	`¡rcmp
(
¡r
, "CURSOR_SHAPE_X"))

290  
CURSOR_SHAPE_X
;

292 if(0 =ğ
	`¡rcmp
(
¡r
, "CURSOR_SHAPE_ARROW"))

294  
CURSOR_SHAPE_ARROW
;

296 if(0 =ğ
	`¡rcmp
(
¡r
, "CURSOR_SHAPE_HAND"))

298  
CURSOR_SHAPE_HAND
;

300 if(0 =ğ
	`¡rcmp
(
¡r
, "CURSOR_SHAPE_TEXT_INPUT"))

302  
CURSOR_SHAPE_TEXT_INPUT
;

304 if(0 =ğ
	`¡rcmp
(
¡r
, "CURSOR_SHAPE_TEXT_SELECT"))

306  
CURSOR_SHAPE_TEXT_SELECT
;

308 if(0 =ğ
	`¡rcmp
(
¡r
, "CURSOR_SHAPE_H_RESIZE"))

310  
CURSOR_SHAPE_H_RESIZE
;

312 if(0 =ğ
	`¡rcmp
(
¡r
, "CURSOR_SHAPE_V_RESIZE"))

314  
CURSOR_SHAPE_V_RESIZE
;

318 
	}
}

	@graph/graph_lower.h

30 #iâdeà
_GRAPH_LOWER_H_


31 
	#_GRAPH_LOWER_H_
 1

	)

33 
	~<lšux/fb.h
>

35 
	~<ba£_ty³.h
>

36 
	~<geom‘ry.h
>

37 
	~<cŞÜ.h
>

39 
	~"b™İs.h
"

40 
	~"g¿ph_’um”©Ü.h
"

45 
	ssü“n


50 
ui_t
 
	mwidth
;

55 
ui_t
 
	mheight
;

60 
si_t
 
	mvideo_acûss_mode
;

65 
si_t
 
	mcŞÜ_d•th
;

70 
si_t
 
	msize
;

75 
by‹_t
 * 
	mmemÜy_addr
;

80 
by‹_t
 * 
	mbufãr_addr
;

85 
si_t
 
	mvisibË
;

93 
fb_v¬_sü“nšfo
 
glob®_v¬_sü“n_šfo
;

100 
fb_fix_sü“nšfo
 
glob®_fix_sü“n_šfo
;

107 
fb_cm­
 
glob®_cm­
;

117 
sü“n
 
glob®_sü“n
;

124 
cŞÜ_lim™
 
glob®_cŞÜ_lim™
;

136 
si_t
 
sü“n_š™
(cÚ¡ * 
·th
);

144 
si_t
 
sü“n_ex™
();

150 
si_t
 
sü“n_g‘_width
();

156 
si_t
 
sü“n_g‘_height
();

167 
si_t
 
sü“n_ş—r_wh™e
(
sü“n
 * 
s
);

178 
si_t
 
sü“n_ş—r_bÏck
(
sü“n
 * 
s
);

192 
si_t
 
sü“n_upd©e
(
sü“n
 * 
s
, 
»ùªgË
 * 
r
);

200 
si_t
 
sü“n_cŞÜ_lim™
();

212 
si_t
 
sü“n_cŞÜ_to_v®ue
(
ui_t
 * 
v®ue
, 
cŞÜ
 * 
c
);

224 
si_t
 
sü“n_v®ue_to_cŞÜ
(
cŞÜ
 * 
c
, 
ui_t
 * 
v®ue
);

237 
si_t
 
sü“n_cŞÜ_to_šdex
(
ui_t
 * 
šdex
, 
cŞÜ
 * 
c
);

249 
si_t
 
sü“n_šdex_to_cŞÜ
(
cŞÜ
 * 
c
, 
ui_t
 * 
šdex
);

270 
si_t
 
sü“n_£t_pix–
(
sü“n
 * 
s
, 
»ùªgË
 * 
a
, 
cŞÜ
 * 
c
, si_ˆ
x
, si_ˆ
y
);

272 
si_t
 
sü“n_£t_pix–_nocheck
(
sü“n
 *
s
, 
cŞÜ
 *
c
, si_ˆ
x
, si_ˆ
y
);

275 
si_t
 
sü“n_£t_pix–_r
(
sü“n
 * 
s
, 
»ùªgË
 * 
a
, 
cŞÜ
 * 
c
, si_ˆ
x
, si_ˆ
y
, sü“À*
d¡
);

293 
si_t
 
sü“n_£t_pix–_¿w
(* 
video
, si_ˆ
width
, si_ˆ
height
, si_ˆ
d•th
, 
»ùªgË
 * 
a
, 
cŞÜ
 * 
c
, si_ˆ
x
, si_ˆ
y
);

295 
sü“n_£t_pix–_¿w_nocheck
(*
video
, 
si_t
 
d•th
, 
cŞÜ
 *
c
, si_ˆ
x
, si_ˆ
y
);

298 
si_t
 
sü“n_£t_pix–_¿w_r
(* 
video
, si_ˆ
width
, si_ˆ
height
, si_ˆ
d•th
, 
»ùªgË
 * 
a
, 
cŞÜ
 * 
c
, si_ˆ
x
, si_ˆ
y
, *
d¡
);

300 
sü“n_£t_pix–_¿w_r_nocheck
(*
video
, 
si_t
 
d•th
, 
cŞÜ
 *
c
, si_ˆ
x
, si_ˆ
y
, *
d¡
);

315 
si_t
 
sü“n_g‘_pix–
(
sü“n
 * 
s
, 
»ùªgË
 * 
a
, 
cŞÜ
 * 
c
, si_ˆ
x
, si_ˆ
y
);

317 
si_t
 
sü“n_g‘_pix–_nocheck
(
sü“n
 *
s
, 
cŞÜ
 *
c
, si_ˆ
x
, si_ˆ
y
);

335 
si_t
 
sü“n_g‘_pix–_¿w
(* 
video
, si_ˆ
width
, si_ˆ
height
, si_ˆ
d•th
, 
»ùªgË
 * 
a
, 
cŞÜ
 * 
c
, si_ˆ
x
, si_ˆ
y
);

337 
sü“n_g‘_pix–_¿w_nocheck
(* 
video
, 
si_t
 
d•th
, 
cŞÜ
 *
c
, si_ˆ
x
, si_ˆ
y
);

355 
si_t
 
sü“n_£t_h_lše
(
sü“n
 * 
s
, 
»ùªgË
 * 
a
, 
cŞÜ
 * 
c
, si_ˆ
x1
, si_ˆ
y1
, si_ˆ
x2
, si_ˆ
y2
);

373 
si_t
 
sü“n_£t_v_lše
(
sü“n
 * 
s
, 
»ùªgË
 * 
a
, 
cŞÜ
 * 
c
, si_ˆ
x1
, si_ˆ
y1
, si_ˆ
x2
, si_ˆ
y2
);

391 
si_t
 
sü“n_£t_x_lše
(
sü“n
 * 
s
, 
»ùªgË
 * 
a
, 
cŞÜ
 * 
c
, si_ˆ
x1
, si_ˆ
y1
, si_ˆ
x2
, si_ˆ
y2
);

410 
si_t
 
sü“n_£t_¬—
(
sü“n
 * 
s
, 
»ùªgË
 * 
a
, 
cŞÜ
 * 
c
, si_ˆ
x
, si_ˆ
y
, si_ˆ
w
, si_ˆ
h
);

422 
si_t
 
sü“n_ş—r
(
sü“n
 * 
s
, 
cŞÜ
 * 
c
);

438 
si_t
 
sü“n_ıy_¬—
(* 
d¡
, * 
¤c
, si_ˆ
d¡_x
, si_ˆ
d¡_y
, si_ˆ
¤c_x
, si_ˆ
¤c_y
, si_ˆ
x_size
, si_ˆ
y_size
);

447 
si_t
 
sü“n_ıy_¬—_®pha
(* 
d¡
, * 
¤c
, si_ˆ
d¡_x
, si_ˆ
d¡_y
, si_ˆ
¤c_x
, si_ˆ
¤c_y
, si_ˆ
x_size
, si_ˆ
y_size
);

459 
si_t
 
sü“n_æush
(si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
);

	@graph/graph_lower/fbtools.c

6 
	#_POSIX_C_SOURCE
 200112L

	)

7 
	#_BSD_SOURCE


	)

9 
	~<¡dio.h
>

10 
	~<¡dlib.h
>

11 
	~<¡ršg.h
>

12 
	~<uni¡d.h
>

13 
	~<fú.h
>

14 
	~<‹rmios.h
>

15 
	~<sigÇl.h
>

16 
	~<”ºo.h
>

17 
	~<£tjmp.h
>

18 
	~<sys/ioùl.h
>

19 
	~<sys/mmª.h
>

20 
	~<sys/wa™.h
>

21 
	~<sys/¡©.h
>

23 
	~<lšux/kd.h
>

24 
	~<lšux/vt.h
>

25 
	~<lšux/fb.h
>

27 
	~"fbtoŞs.h
"

32 
fb_fix_sü“nšfo
 
	gfb_fix
;

33 
fb_v¬_sü“nšfo
 
	gfb_v¬
;

34 *
	gfb_mem
;

35 
	gfb_mem_off£t
 = 0;

36 
	gfb_sw™ch_¡©e
 = 
FB_ACTIVE
;

41 
	gfb
,
	g‰y
;

43 
	gbµ
,
	gbÏck
,
	gwh™e
;

46 
	gÜig_vt_no
 = 0;

47 
vt_mode
 
	gvt_mode
;

49 
	gkd_mode
;

50 
vt_mode
 
	gvt_omode
;

51 
‹rmios
 
	g‹rm
;

52 
fb_v¬_sü“nšfo
 
	gfb_ov¬
;

53 
	gÜed
[256], 
	gog»’
[256], 
	goblue
[256];

54 
fb_cm­
 
	gocm­
 = { 0, 256, 
Üed
, 
og»’
, 
oblue
, 
NULL
 };

59 
	sDEVS
 {

60 *
	mfb0
;

61 *
	mfbÄ
;

62 *
	m‰yÄ
;

65 
DEVS
 
	gdevs_deçuÉ
 = {

66 .
fb0
= "/dev/fb0",

67 .
	gfbÄ
= "/dev/fb%d",

68 .
	g‰yÄ
= "/dev/tty%d",

70 
DEVS
 
	gdevs_devfs
 = {

71 .
fb0
= "/dev/fb/0",

72 .
	gfbÄ
= "/dev/fb/%d",

73 .
	g‰yÄ
= "/dev/vc/%d",

75 
DEVS
 *
	gdeviûs
;

77 
	$dev_š™
()

79 
¡©
 
dummy
;

81 ià(
NULL
 !ğ
deviûs
)

83 ià(0 =ğ
	`¡©
("/dev/.devfsd",&
dummy
))

84 
deviûs
 = &
devs_devfs
;

86 
deviûs
 = &
devs_deçuÉ
;

87 
	}
}

92 
	gdebug
;

95 
	$fb_sw™ch_sigÇl
(
sigÇl
)

97 ià(
sigÇl
 =ğ
SIGUSR1
) {

99 
fb_sw™ch_¡©e
 = 
FB_REL_REQ
;

100 ià(
debug
)

101 
	`wr™e
(2,"vt: SIGUSR1\n",12);

103 ià(
sigÇl
 =ğ
SIGUSR2
) {

105 
fb_sw™ch_¡©e
 = 
FB_ACQ_REQ
;

106 ià(
debug
)

107 
	`wr™e
(2,"vt: SIGUSR2\n",12);

109 
	}
}

112 
	$fb_sw™ch_»Ëa£
()

114 
	`ioùl
(
‰y
, 
VT_RELDISP
, 1);

115 
fb_sw™ch_¡©e
 = 
FB_INACTIVE
;

116 ià(
debug
)

117 
	`wr™e
(2,"vt:„elease\n",12);

118 
	}
}

121 
	$fb_sw™ch_acquœe
()

123 
	`ioùl
(
‰y
, 
VT_RELDISP
, 
VT_ACKACQ
);

124 
fb_sw™ch_¡©e
 = 
FB_ACTIVE
;

125 ià(
debug
)

126 
	`wr™e
(2,"vt:‡cquire\n",12);

127 
	}
}

130 
	$fb_sw™ch_š™
()

132 
sigaùiÚ
 
aù
,
Şd
;

134 
	`mem£t
(&
aù
,0,(act));

135 
aù
.
§_hªdËr
 = 
fb_sw™ch_sigÇl
;

136 
	`sigem±y£t
(&
aù
.
§_mask
);

137 
	`sigaùiÚ
(
SIGUSR1
,&
aù
,&
Şd
);

138 
	`sigaùiÚ
(
SIGUSR2
,&
aù
,&
Şd
);

140 ià(-1 =ğ
	`ioùl
(
‰y
,
VT_GETMODE
, &
vt_mode
)) {

141 
	`³¼Ü
("ioctl VT_GETMODE");

142 
	`ex™
(1);

144 
vt_mode
.
mode
 = 
VT_PROCESS
;

145 
vt_mode
.
wa™v
 = 0;

146 
vt_mode
.
»lsig
 = 
SIGUSR1
;

147 
vt_mode
.
acqsig
 = 
SIGUSR2
;

149 ià(-1 =ğ
	`ioùl
(
‰y
,
VT_SETMODE
, &
vt_mode
)) {

150 
	`³¼Ü
("ioctl VT_SETMODE");

151 
	`ex™
(1);

154 
	}
}

160 
	$fb_mem£t
 (*
addr
, 
c
, 
size_t
 
Ën
)

163 
i
, *
p
;

165 
i
 = (
c
 & 0xff) << 8;

166 
i
 |= i << 16;

167 
Ën
 >>= 2;

168 
p
 = 
addr
; 
Ën
--;…++)

169 *
p
 = 
i
;

171 
	`mem£t
(
addr
, 
c
, 
Ën
);

173 
	}
}

176 
	$fb_£tmode
(*
Çme
)

178 
FILE
 *
å
;

179 
lše
[80],
Ïb–
[32],
v®ue
[16];

180 
geom‘ry
=0, 
timšgs
=0;

183 ià(-1 =ğ
	`ioùl
(
fb
,
FBIOGET_VSCREENINFO
,&
fb_v¬
)) {

184 
	`³¼Ü
("ioctl FBIOGET_VSCREENINFO");

185 
	`ex™
(1);

188 ià(
NULL
 =ğ
Çme
)

190 ià(
NULL
 =ğ(
å
 = 
	`fİ’
("/etc/fb.modes","r")))

192 
NULL
 !ğ
	`fg‘s
(
lše
,79,
å
)) {

193 ià(1 =ğ
	`ssÿnf
(
lše
, "mod\"%31[^\"]\"",
Ïb–
) &&

194 0 =ğ
	`¡rcmp
(
Ïb–
,
Çme
)) {

196 
fb_v¬
.
sync
 = 0;

197 
fb_v¬
.
vmode
 = 0;

198 
NULL
 !ğ
	`fg‘s
(
lše
,79,
å
) &&

199 
NULL
 =ğ
	`¡r¡r
(
lše
,"endmode")) {

200 ià(5 =ğ
	`ssÿnf
(
lše
," geometry %u %u %u %u %u",

201 &
fb_v¬
.
x»s
,&fb_v¬.
y»s
,

202 &
fb_v¬
.
x»s_vœtu®
,&fb_v¬.
y»s_vœtu®
,

203 &
fb_v¬
.
b™s_³r_pix–
))

204 
geom‘ry
 = 1;

205 ià(7 =ğ
	`ssÿnf
(
lše
,"imings %u %u %u %u %u %u %u",

206 &
fb_v¬
.
pixşock
,

207 &
fb_v¬
.
Ëá_m¬gš
, &fb_v¬.
right_m¬gš
,

208 &
fb_v¬
.
uµ”_m¬gš
, &fb_v¬.
low”_m¬gš
,

209 &
fb_v¬
.
hsync_Ën
, &fb_v¬.
vsync_Ën
))

210 
timšgs
 = 1;

211 ià(1 =ğ
	`ssÿnf
(
lše
, " hsynø%15s",
v®ue
) &&

212 0 =ğ
	`¡rÿ£cmp
(
v®ue
,"high"))

213 
fb_v¬
.
sync
 |ğ
FB_SYNC_HOR_HIGH_ACT
;

214 ià(1 =ğ
	`ssÿnf
(
lše
, " vsynø%15s",
v®ue
) &&

215 0 =ğ
	`¡rÿ£cmp
(
v®ue
,"high"))

216 
fb_v¬
.
sync
 |ğ
FB_SYNC_VERT_HIGH_ACT
;

217 ià(1 =ğ
	`ssÿnf
(
lše
, " csynø%15s",
v®ue
) &&

218 0 =ğ
	`¡rÿ£cmp
(
v®ue
,"high"))

219 
fb_v¬
.
sync
 |ğ
FB_SYNC_COMP_HIGH_ACT
;

220 ià(1 =ğ
	`ssÿnf
(
lše
, "ƒxtsynø%15s",
v®ue
) &&

221 0 =ğ
	`¡rÿ£cmp
(
v®ue
,"true"))

222 
fb_v¬
.
sync
 |ğ
FB_SYNC_EXT
;

223 ià(1 =ğ
	`ssÿnf
(
lše
, "†aûd %15s",
v®ue
) &&

224 0 =ğ
	`¡rÿ£cmp
(
v®ue
,"true"))

225 
fb_v¬
.
vmode
 |ğ
FB_VMODE_INTERLACED
;

226 ià(1 =ğ
	`ssÿnf
(
lše
, " doubË %15s",
v®ue
) &&

227 0 =ğ
	`¡rÿ£cmp
(
v®ue
,"true"))

228 
fb_v¬
.
vmode
 |ğ
FB_VMODE_DOUBLE
;

231 ià(!
geom‘ry
 || !
timšgs
)

234 
fb_v¬
.
xoff£t
 = 0;

235 
fb_v¬
.
yoff£t
 = 0;

236 ià(-1 =ğ
	`ioùl
(
fb
,
FBIOPUT_VSCREENINFO
,&
fb_v¬
))

237 
	`³¼Ü
("ioctl FBIOPUT_VSCREENINFO");

239 ià(-1 =ğ
	`ioùl
(
fb
,
FBIOGET_VSCREENINFO
,&
fb_v¬
)) {

240 
	`³¼Ü
("ioctl FBIOGET_VSCREENINFO");

241 
	`ex™
(1);

247 
	}
}

250 
	$fb_£tvt
(
vŠo
)

252 
vt_¡©
 
vts
;

253 
vŠame
[12];

255 ià(
vŠo
 < 0) {

256 ià(-1 =ğ
	`ioùl
(
‰y
,
VT_OPENQRY
, &
vŠo
) || vtno == -1) {

257 
	`³¼Ü
("ioctl VT_OPENQRY");

258 
	`ex™
(1);

262 
vŠo
 &= 0xff;

263 
	`¥rštf
(
vŠame
, 
deviûs
->
‰yÄ
, 
vŠo
);

264 
	`chown
(
vŠame
, 
	`g‘uid
(), 
	`g‘gid
());

265 ià(-1 =ğ
	`acûss
(
vŠame
, 
R_OK
 | 
W_OK
)) {

266 
	`årštf
(
¡d”r
,"acûs %s: %s\n",
vŠame
,
	`¡»¼Ü
(
”ºo
));

267 
	`ex™
(1);

269 
	`fÜk
()) {

273 
	`³¼Ü
("fork");

274 
	`ex™
(1);

276 
	`ex™
(0);

278 
	`şo£
(
‰y
);

279 
	`şo£
(0);

280 
	`şo£
(1);

281 
	`şo£
(2);

282 
	`£tsid
();

283 
	`İ’
(
vŠame
,
O_RDWR
);

284 
	`dup
(0);

285 
	`dup
(0);

287 ià(-1 =ğ
	`ioùl
(
‰y
,
VT_GETSTATE
, &
vts
)) {

288 
	`³¼Ü
("ioctl VT_GETSTATE");

289 
	`ex™
(1);

291 
Üig_vt_no
 = 
vts
.
v_aùive
;

292 ià(-1 =ğ
	`ioùl
(
‰y
,
VT_ACTIVATE
, 
vŠo
)) {

293 
	`³¼Ü
("ioctl VT_ACTIVATE");

294 
	`ex™
(1);

296 ià(-1 =ğ
	`ioùl
(
‰y
,
VT_WAITACTIVE
, 
vŠo
)) {

297 
	`³¼Ü
("ioctl VT_WAITACTIVE");

298 
	`ex™
(1);

300 
	}
}

303 
	$fb_aùiv©e_cu¼’t
(
‰y
)

305 
vt_¡©
 
vts
;

307 ià(-1 =ğ
	`ioùl
(
‰y
,
VT_GETSTATE
, &
vts
)) {

308 
	`³¼Ü
("ioctl VT_GETSTATE");

311 ià(-1 =ğ
	`ioùl
(
‰y
,
VT_ACTIVATE
, 
vts
.
v_aùive
)) {

312 
	`³¼Ü
("ioctl VT_ACTIVATE");

315 ià(-1 =ğ
	`ioùl
(
‰y
,
VT_WAITACTIVE
, 
vts
.
v_aùive
)) {

316 
	`³¼Ü
("ioctl VT_WAITACTIVE");

320 
	}
}

323 
	$fb_š™
(*
deviû
, *
mode
, 
vt
)

325 
fbdev
[16];

326 
vt_¡©
 
vts
;

327 
·ge_mask
;

329 
	`dev_š™
();

330 
‰y
 = 0;

331 ià(
vt
 != 0)

332 
	`fb_£tvt
(
vt
);

334 ià(-1 =ğ
	`ioùl
(
‰y
,
VT_GETSTATE
, &
vts
)) {

335 
	`årštf
(
¡d”r
,"ioctl VT_GETSTATE: %s (not‡†inux console?)\n",

336 
	`¡»¼Ü
(
”ºo
));

337 
	`ex™
(1);

340 ià(
NULL
 =ğ
deviû
) {

341 
deviû
 = 
	`g‘’v
("FRAMEBUFFER");

342 ià(
NULL
 =ğ
deviû
) {

343 
fb_cÚ2fbm­
 
c2m
;

344 
	`mem£t
(&
c2m
, 0, (c2m));

345 ià(-1 =ğ(
fb
 = 
	`İ’
(
deviûs
->
fb0
,
O_RDWR
 ,0))) {

346 
	`årštf
(
¡d”r
,"İ’ %s: %s\n",
deviûs
->
fb0
,
	`¡»¼Ü
(
”ºo
));

347 
	`ex™
(1);

349 
c2m
.
cÚsŞe
 = 
vts
.
v_aùive
;

350 ià(-1 =ğ
	`ioùl
(
fb
, 
FBIOGET_CON2FBMAP
, &
c2m
)) {

351 
	`³¼Ü
("ioctl FBIOGET_CON2FBMAP");

352 
	`ex™
(1);

354 
	`şo£
(
fb
);

355 
	`årštf
(
¡d”r
,"map: vt%02d => fb%d\n",

356 
c2m
.
cÚsŞe
, c2m.
äamebufãr
);

357 
	`¥rštf
(
fbdev
,
deviûs
->
fbÄ
,
c2m
.
äamebufãr
);

358 
deviû
 = 
fbdev
;

363 ià(-1 =ğ(
fb
 = 
	`İ’
(
deviû
,
O_RDWR
 ))) {

364 
	`årštf
(
¡d”r
,"İ’ %s: %s\n",
deviû
,
	`¡»¼Ü
(
”ºo
));

365 
	`ex™
(1);

367 ià(-1 =ğ
	`ioùl
(
fb
,
FBIOGET_VSCREENINFO
,&
fb_ov¬
)) {

368 
	`³¼Ü
("ioctl FBIOGET_VSCREENINFO");

369 
	`ex™
(1);

371 ià(-1 =ğ
	`ioùl
(
fb
,
FBIOGET_FSCREENINFO
,&
fb_fix
)) {

372 
	`³¼Ü
("ioctl FBIOGET_FSCREENINFO");

373 
	`ex™
(1);

375 ià(
fb_ov¬
.
b™s_³r_pix–
 == 8 ||

376 
fb_fix
.
visu®
 =ğ
FB_VISUAL_DIRECTCOLOR
) {

377 ià(-1 =ğ
	`ioùl
(
fb
,
FBIOGETCMAP
,&
ocm­
)) {

378 
	`³¼Ü
("ioctl FBIOGETCMAP");

379 
	`ex™
(1);

382 ià(-1 =ğ
	`ioùl
(
‰y
,
KDGETMODE
, &
kd_mode
)) {

383 
	`³¼Ü
("ioctl KDGETMODE");

384 
	`ex™
(1);

386 ià(-1 =ğ
	`ioùl
(
‰y
,
VT_GETMODE
, &
vt_omode
)) {

387 
	`³¼Ü
("ioctl VT_GETMODE");

388 
	`ex™
(1);

390 
	`tcg‘©Œ
(
‰y
, &
‹rm
);

393 
	`fb_£tmode
(
mode
);

396 ià(-1 =ğ
	`ioùl
(
fb
,
FBIOGET_FSCREENINFO
,&
fb_fix
)) {

397 
	`³¼Ü
("ioctl FBIOGET_FSCREENINFO");

398 
	`ex™
(1);

400 ià(
fb_fix
.
ty³
 !ğ
FB_TYPE_PACKED_PIXELS
) {

401 
	`årštf
(
¡d”r
,"can handle only…acked…ixel frame buffers\n");

402 
”r
;

405 
fb_v¬
.
b™s_³r_pix–
) {

407 
wh™e
 = 255; 
bÏck
 = 0; 
bµ
 = 1;

411 ià(
fb_v¬
.
g»’
.
Ëngth
 == 6)

412 
wh™e
 = 0xffff;

414 
wh™e
 = 0x7fff;

415 
bÏck
 = 0; 
bµ
 = 2;

418 
wh™e
 = 0xffffff; 
bÏck
 = 0; 
bµ
 = 
fb_v¬
.
b™s_³r_pix–
/8;

421 
wh™e
 = 0xffffff; 
bÏck
 = 0; 
bµ
 = 
fb_v¬
.
b™s_³r_pix–
/8;

422 
fb_£ix–s
 = 
fb_£ix–s4
;

425 
	`årštf
(
¡d”r
, "Oops: %i bit/pixel ???\n",

426 
fb_v¬
.
b™s_³r_pix–
);

427 
”r
;

430 
·ge_mask
 = 
	`g‘·gesize
()-1;

431 
fb_mem_off£t
 = ()(
fb_fix
.
smem_¡¬t
è& 
·ge_mask
;

432 
fb_mem
 = 
	`mm­
(
NULL
,
fb_fix
.
smem_Ën
+
fb_mem_off£t
,

433 
PROT_READ
|
PROT_WRITE
,
MAP_SHARED
,
fb
,0);

434 ià(-1L =ğ()
fb_mem
) {

435 
	`³¼Ü
("mmap");

436 
”r
;

439 ià(
fb_v¬
.
xoff£t
 !ğ0 || fb_v¬.
yoff£t
 != 0) {

440 
fb_v¬
.
xoff£t
 = 0;

441 
fb_v¬
.
yoff£t
 = 0;

442 ià(-1 =ğ
	`ioùl
(
fb
,
FBIOPAN_DISPLAY
,&
fb_v¬
)) {

443 
	`³¼Ü
("ioctl FBIOPAN_DISPLAY");

444 
”r
;

447 ià(-1 =ğ
	`ioùl
(
‰y
,
KDSETMODE
, 
KD_GRAPHICS
)) {

448 
	`³¼Ü
("ioctl KDSETMODE");

449 
”r
;

451 
	`fb_aùiv©e_cu¼’t
(
‰y
);

454 
	`fb_mem£t
(
fb_mem
+
fb_mem_off£t
, 0, 
fb_fix
.
lše_Ëngth
 * 
fb_v¬
.
y»s
);

455  
fb
;

457 
”r
:

458 
	`fb_ş—nup
();

459 
	`ex™
(1);

460 
	}
}

463 
	$fb_ş—nup
()

466 ià(-1 =ğ
	`ioùl
(
‰y
,
KDSETMODE
, 
kd_mode
))

467 
	`³¼Ü
("ioctl KDSETMODE");

468 ià(-1 =ğ
	`ioùl
(
fb
,
FBIOPUT_VSCREENINFO
,&
fb_ov¬
))

469 
	`³¼Ü
("ioctl FBIOPUT_VSCREENINFO");

470 ià(-1 =ğ
	`ioùl
(
fb
,
FBIOGET_FSCREENINFO
,&
fb_fix
))

471 
	`³¼Ü
("ioctl FBIOGET_FSCREENINFO");

472 ià(
fb_ov¬
.
b™s_³r_pix–
 == 8 ||

473 
fb_fix
.
visu®
 =ğ
FB_VISUAL_DIRECTCOLOR
) {

474 ià(-1 =ğ
	`ioùl
(
fb
,
FBIOPUTCMAP
,&
ocm­
))

475 
	`³¼Ü
("ioctl FBIOPUTCMAP");

477 
	`şo£
(
fb
);

479 ià(-1 =ğ
	`ioùl
(
‰y
,
VT_SETMODE
, &
vt_omode
))

480 
	`³¼Ü
("ioctl VT_SETMODE");

481 ià(
Üig_vt_no
 && -1 =ğ
	`ioùl
(
‰y
, 
VT_ACTIVATE
, orig_vt_no))

482 
	`³¼Ü
("ioctl VT_ACTIVATE");

483 ià(
Üig_vt_no
 && -1 =ğ
	`ioùl
(
‰y
, 
VT_WAITACTIVE
, orig_vt_no))

484 
	`³¼Ü
("ioctl VT_WAITACTIVE");

485 
	`tc£‰r
(
‰y
, 
TCSANOW
, &
‹rm
);

486 
	`şo£
(
‰y
);

487 
	}
}

492 
jmp_buf
 
	gfb_çl_ş—nup
;

495 
	$fb_ÿtch_ex™_sigÇl
(
sigÇl
)

497 
	`siglÚgjmp
(
fb_çl_ş—nup
,
sigÇl
);

498 
	}
}

501 
	$fb_ÿtch_ex™_sigÇls
()

503 
sigaùiÚ
 
aù
,
Şd
;

504 
‹rmsig
;

506 
	`mem£t
(&
aù
,0,(act));

507 
aù
.
§_hªdËr
 = 
fb_ÿtch_ex™_sigÇl
;

508 
	`sigem±y£t
(&
aù
.
§_mask
);

509 
	`sigaùiÚ
(
SIGINT
, &
aù
,&
Şd
);

510 
	`sigaùiÚ
(
SIGQUIT
,&
aù
,&
Şd
);

511 
	`sigaùiÚ
(
SIGTERM
,&
aù
,&
Şd
);

513 
	`sigaùiÚ
(
SIGABRT
,&
aù
,&
Şd
);

514 
	`sigaùiÚ
(
SIGTSTP
,&
aù
,&
Şd
);

516 
	`sigaùiÚ
(
SIGBUS
, &
aù
,&
Şd
);

517 
	`sigaùiÚ
(
SIGILL
, &
aù
,&
Şd
);

518 
	`sigaùiÚ
(
SIGSEGV
,&
aù
,&
Şd
);

520 ià(0 =ğ(
‹rmsig
 = 
	`sig£tjmp
(
fb_çl_ş—nup
,0)))

524 
	`fb_ş—nup
();

525 
	`årštf
(
¡d”r
,"Oİs: %s\n",
sys_sigli¡
[
‹rmsig
]);

526 
	`ex™
(42);

527 
	}
}

	@graph/graph_lower/fbtools.h

1 
	#FB_ACTIVE
 0

	)

2 
	#FB_REL_REQ
 1

	)

3 
	#FB_INACTIVE
 2

	)

4 
	#FB_ACQ_REQ
 3

	)

7 
fb_fix_sü“nšfo
 
fb_fix
;

8 
fb_v¬_sü“nšfo
 
fb_v¬
;

9 *
fb_mem
;

10 
fb_mem_off£t
;

11 
fb_sw™ch_¡©e
;

14 
fb_´obe
();

15 
fb_š™
(*
deviû
, *
mode
, 
vt
);

16 
fb_ş—nup
();

17 
fb_ÿtch_ex™_sigÇls
();

18 
fb_mem£t
(*
addr
, 
c
, 
size_t
 
Ën
);

21 
fb_sw™ch_š™
();

22 
fb_sw™ch_»Ëa£
();

23 
fb_sw™ch_acquœe
();

	@graph/graph_lower/screen_clear.c

29 
	~<¡ršg.h
>

31 
	~"../g¿ph_low”.h
"

33 
si_t


34 
	gsü“n_ş—r


35 (
sü“n
 * 
	gs
,

36 
cŞÜ
 * 
	gc
)

38 
ui_t
 
	gpix–
, 
	gcŞÜ
;

39 
by‹_t
 * 
	gaddr
;

41 if(
	gs
->
	gvideo_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_BUFFER
)

43 
addr
 = 
s
->
bufãr_addr
;

45 if(
	gs
->
	gvideo_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_DIRECT
)

47 
addr
 = 
s
->
memÜy_addr
;

55 
	gpix–
 = 
s
->
cŞÜ_d•th
 >> 3;

58 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_DIRECTCOLOR
)

61 
sü“n_cŞÜ_to_šdex
(&
cŞÜ
, 
c
);

63 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_PSEUDOCOLOR
)

66 
sü“n_cŞÜ_to_šdex
(&
cŞÜ
, 
c
);

68 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_TRUECOLOR
)

71 
sü“n_cŞÜ_to_v®ue
(&
cŞÜ
, 
c
);

75 
ui_t
 
	gi
;

76 cÚ¡ 
ui_t
 
	gwidth_by‹
 = 
s
->
width
 * (s->
cŞÜ_d•th
<<3);

77 
	gi
=0; i<
	gs
->
	gheight
; i++) {

78 
by‹_t
 *
	gddr
 = 
addr
;

79 
	gddr
 < 
	gaddr
+
	gwidth_by‹
) {

80 
memıy
(
ddr
, &
cŞÜ
, 
pix–
);

81 
	gddr
 +ğ
pix–
;

83 
	gaddr
 +ğ
glob®_fix_sü“n_šfo
.
lše_Ëngth
;

	@graph/graph_lower/screen_clear_black.c

29 
	~<¡ršg.h
>

31 
	~"../g¿ph_low”.h
"

36 
si_t


37 
	gsü“n_ş—r_bÏck


38 (
sü“n
 * 
	gs
)

40 
addr_t
 
	gvideo
;

41 if(
	gVIDEO_ACCESS_MODE_BUFFER
 =ğ
s
->
video_acûss_mode
) {

42 
video
 = 
s
->
bufãr_addr
;

43 } if(
	gVIDEO_ACCESS_MODE_DIRECT
 =ğ
s
->
video_acûss_mode
){

44 
video
 = 
s
->
memÜy_addr
;

50 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_MONO01
)

52 
mem£t
(
video
, 0XFF, 
s
->
size
);

55 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_MONO10
)

57 
mem£t
(
video
, 0X00, 
s
->
size
);

59 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_PSEUDOCOLOR
)

61 
mem£t
(
video
, 0X00, 
s
->
size
);

63 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_STATIC_PSEUDOCOLOR
)

65 
mem£t
(
video
, 0X00, 
s
->
size
);

67 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_DIRECTCOLOR
)

69 
mem£t
(
video
, 0X00, 
s
->
size
);

71 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_TRUECOLOR
)

73 
mem£t
(
video
, 0X00, 
s
->
size
);

	@graph/graph_lower/screen_clear_white.c

30 
	~<¡ršg.h
>

32 
	~"../g¿ph_low”.h
"

37 
si_t


38 
	gsü“n_ş—r_wh™e


39 (
sü“n
 * 
	gs
)

41 
addr_t
 
	gvideo
;

42 if(
	gVIDEO_ACCESS_MODE_BUFFER
 =ğ
s
->
video_acûss_mode
) {

43 
video
 = 
s
->
bufãr_addr
;

44 } if(
	gVIDEO_ACCESS_MODE_DIRECT
 =ğ
s
->
video_acûss_mode
){

45 
video
 = 
s
->
memÜy_addr
;

51 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_MONO01
)

53 
mem£t
(
video
, 0X00, 
s
->
size
);

56 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_MONO10
)

58 
mem£t
(
video
, 0XFF, 
s
->
size
);

60 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_PSEUDOCOLOR
)

62 
mem£t
(
video
, 0XFF, 
s
->
size
);

64 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_STATIC_PSEUDOCOLOR
)

66 
mem£t
(
video
, 0XFF, 
s
->
size
);

68 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_DIRECTCOLOR
)

70 
mem£t
(
video
, 0XFF, 
s
->
size
);

72 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_TRUECOLOR
)

74 
mem£t
(
video
, 0XFF, 
s
->
size
);

	@graph/graph_lower/screen_color.c

30 
	~"../g¿ph_low”.h
"

44 
cŞÜ_lim™
 
	gglob®_cŞÜ_lim™
;

51 
si_t


52 
	gsü“n_cŞÜ_to_v®ue


53 (
ui_t
 * 
	gv®ue
,

54 
cŞÜ
 * 
	gc
)

56 * 
	gv®ue
 = 0;

57 * 
	gv®ue
 = ((~((
ui_t
)-1 << 
glob®_v¬_sü“n_šfo
.
»d
.
Ëngth
è& 
c
->
r
è<< glob®_v¬_sü“n_šfo.»d.
off£t
);

58 * 
	gv®ue
 = ((~((
ui_t
)-1 << 
glob®_v¬_sü“n_šfo
.
g»’
.
Ëngth
è& 
c
->
g
è<< glob®_v¬_sü“n_šfo.g»’.
off£t
è| (* 
v®ue
);

59 * 
	gv®ue
 = ((~((
ui_t
)-1 << 
glob®_v¬_sü“n_šfo
.
blue
.
Ëngth
è& 
c
->
b
è<< glob®_v¬_sü“n_šfo.blue.
off£t
è| (* 
v®ue
);

60 * 
	gv®ue
 = ((~((
ui_t
)-1 << 
glob®_v¬_sü“n_šfo
.
Œª¥
.
Ëngth
è& 
c
->
a
è<< glob®_v¬_sü“n_šfo.Œª¥.
off£t
è| (* 
v®ue
);

70 
si_t


71 
	gsü“n_v®ue_to_cŞÜ


72 (
cŞÜ
 * 
	gc
,

73 
ui_t
 * 
	gv®ue
)

75 
	gc
->
	gr
 = (((
ui_t
)1<<
glob®_v¬_sü“n_šfo
.
»d
.
Ëngth
)-1è& ((*
v®ue
è>> glob®_v¬_sü“n_šfo.»d.
off£t
);

76 
	gc
->
	gg
 = (((
ui_t
)1<<
glob®_v¬_sü“n_šfo
.
g»’
.
Ëngth
)-1è& ((*
v®ue
è>> glob®_v¬_sü“n_šfo.g»’.
off£t
);

77 
	gc
->
	gb
 = (((
ui_t
)1<<
glob®_v¬_sü“n_šfo
.
blue
.
Ëngth
)-1è& ((*
v®ue
è>> glob®_v¬_sü“n_šfo.blue.
off£t
);

78 
	gc
->
	ga
 = (((
ui_t
)1<<
glob®_v¬_sü“n_šfo
.
Œª¥
.
Ëngth
)-1è& ((*
v®ue
è>> glob®_v¬_sü“n_šfo.Œª¥.
off£t
);

86 
si_t


87 
	gsü“n_cŞÜ_to_šdex


88 (
ui_t
 * 
	gšdex
,

89 
cŞÜ
 * 
	gc
)

91 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_PSEUDOCOLOR
)

94 if(
c
->
r
 =ğc->
g
 && c->g =ğc->
b
)

96 * 
šdex
 = (
c
->
r
 << 
glob®_v¬_sü“n_šfo
.
b™s_³r_pix–
è>> glob®_v¬_sü“n_šfo.
»d
.
Ëngth
;

110 
si_t


111 
	gsü“n_šdex_to_cŞÜ


112 (
cŞÜ
 * 
	gc
,

113 
ui_t
 * 
	gšdex
)

115 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_DIRECTCOLOR
)

118 if(
glob®_fix_sü“n_šfo
.
visu®
 =ğ
FB_VISUAL_PSEUDOCOLOR
)

120 
c
->
r
 = 
glob®_cm­
.
»d
[* 
šdex
];

121 
	gc
->
	gg
 = 
glob®_cm­
.
g»’
[* 
šdex
];

122 
	gc
->
	gb
 = 
glob®_cm­
.
blue
[* 
šdex
];

123 
	gc
->
	ga
 = 
glob®_cm­
.
Œª¥
[* 
šdex
];

129 
si_t


130 
	$sü“n_cŞÜ_lim™
()

132 if(
glob®_fix_sü“n_šfo
.
visu®
 =ğ
FB_VISUAL_PSEUDOCOLOR
 ||

133 
glob®_fix_sü“n_šfo
.
visu®
 =ğ
FB_VISUAL_DIRECTCOLOR
)

135 
glob®_cŞÜ_lim™
.
r_lim™
 = 
glob®_cm­
.
»d
[(1 << 
glob®_v¬_sü“n_šfo
.
b™s_³r_pix–
) - 1];

136 
glob®_cŞÜ_lim™
.
g_lim™
 = 
glob®_cm­
.
g»’
[(1 << 
glob®_v¬_sü“n_šfo
.
b™s_³r_pix–
) - 1];

137 
glob®_cŞÜ_lim™
.
b_lim™
 = 
glob®_cm­
.
blue
[(1 << 
glob®_v¬_sü“n_šfo
.
b™s_³r_pix–
) - 1];

138 
glob®_cŞÜ_lim™
.
a_lim™
 = 
glob®_cm­
.
Œª¥
[(1 << 
glob®_v¬_sü“n_šfo
.
b™s_³r_pix–
) - 1];

140 if(
glob®_fix_sü“n_šfo
.
visu®
 =ğ
FB_VISUAL_TRUECOLOR
)

143 
glob®_cŞÜ_lim™
.
r_lim™
 = (1 << 
glob®_v¬_sü“n_šfo
.
»d
.
Ëngth
) - 1;

144 
glob®_cŞÜ_lim™
.
g_lim™
 = (1 << 
glob®_v¬_sü“n_šfo
.
g»’
.
Ëngth
) - 1;

145 
glob®_cŞÜ_lim™
.
b_lim™
 = (1 << 
glob®_v¬_sü“n_šfo
.
blue
.
Ëngth
) - 1;

146 
glob®_cŞÜ_lim™
.
a_lim™
 = (1 << 
glob®_v¬_sü“n_šfo
.
Œª¥
.
Ëngth
) - 1;

162 
	}
}

	@graph/graph_lower/screen_cpy_area.c

30 
	~<¡ršg.h
>

31 
	~<lim™s.h
>

33 
	~<d©a_¡ruùu»s.h
>

35 
	~"../g¿ph_low”.h
"

37 
	~<cŞÜ.h
>

39 
si_t


40 
	gg‘_aùu®_¬—s


41 (
si_t
 
	gd¡_x
,

42 
si_t
 
	gd¡_y
,

43 
si_t
 
	g¤c_x
,

44 
si_t
 
	g¤c_y
,

45 
si_t
 
	gwidth
,

46 
si_t
 
	gheight
,

47 
»ùªgË
 * cÚ¡ 
	gªs_¤c
,

48 
»ùªgË
 * cÚ¡ 
	gªs_d¡
)

50 
»ùªgË
 
	g¤c_¬—
, 
	gd¡_¬—
, 
	g‹mp_¤c_¬—
, 
	g‹mp_d¡_¬—
, 
	gsü“n_¬—
, 
	g‹mp_¬—
;

53 
	gsü“n_¬—
.
	gx
 = 0;

54 
	gsü“n_¬—
.
	gy
 = 0;

55 
	gsü“n_¬—
.
	gwidth
 = 
glob®_sü“n
.
width
;

56 
	gsü“n_¬—
.
	gheight
 = 
glob®_sü“n
.
height
;

58 
	g¤c_¬—
.
	gx
 = 
¤c_x
;

59 
	g¤c_¬—
.
	gy
 = 
¤c_y
;

60 
	g¤c_¬—
.
	gwidth
 = 
width
;

61 
	g¤c_¬—
.
	gheight
 = 
height
;

63 
	gd¡_¬—
.
	gx
 = 
d¡_x
;

64 
	gd¡_¬—
.
	gy
 = 
d¡_y
;

65 
	gd¡_¬—
.
	gwidth
 = 
width
;

66 
	gd¡_¬—
.
	gheight
 = 
height
;

69 if(
¬—_š‹r£ùiÚ
(&
sü“n_¬—
, &
¤c_¬—
, &
‹mp_¤c_¬—
) == -1)

74 if(
¬—_š‹r£ùiÚ
(&
sü“n_¬—
, &
d¡_¬—
, &
‹mp_d¡_¬—
) == -1)

80 
	g‹mp_¬—
.
	gx
 = 
‹mp_d¡_¬—
.
x
 + 
¤c_x
 - 
d¡_x
;

81 
	g‹mp_¬—
.
	gy
 = 
‹mp_d¡_¬—
.
y
 + 
¤c_y
 - 
d¡_y
;

82 
	g‹mp_¬—
.
	gwidth
 = 
‹mp_d¡_¬—
.
width
;

83 
	g‹mp_¬—
.
	gheight
 = 
‹mp_d¡_¬—
.
height
;

86 if(
¬—_š‹r£ùiÚ
(&
‹mp_¬—
, &
‹mp_¤c_¬—
, &
¤c_¬—
) == -1)

92 
	g‹mp_¬—
.
	gx
 = 
‹mp_¤c_¬—
.
x
 - 
¤c_x
 + 
d¡_x
;

93 
	g‹mp_¬—
.
	gy
 = 
‹mp_¤c_¬—
.
y
 - 
¤c_y
 + 
d¡_y
;

94 
	g‹mp_¬—
.
	gwidth
 = 
‹mp_¤c_¬—
.
width
;

95 
	g‹mp_¬—
.
	gheight
 = 
‹mp_¤c_¬—
.
height
;

98 if(
¬—_š‹r£ùiÚ
(&
‹mp_¬—
, &
‹mp_d¡_¬—
, &
d¡_¬—
) == -1)

103 *
	gªs_¤c
 = 
¤c_¬—
;

104 *
	gªs_d¡
 = 
d¡_¬—
;

109 
si_t


110 
	gsü“n_ıy_¬—


111 (* 
	gd¡
,

112 * 
	g¤c
,

113 
si_t
 
	gd¡_x
,

114 
si_t
 
	gd¡_y
,

115 
si_t
 
	g¤c_x
,

116 
si_t
 
	g¤c_y
,

117 
si_t
 
	gwidth
,

118 
si_t
 
	gheight
)

120 
ui_t
 
	gb™
, 
	gby‹_quªt™y
, 
	gsize
, 
	glše_by‹
;

121 
ui_t
 
	g¤c_h_off£t
, 
	g¤c_h_b™
;

122 
ui_t
 
	gd¡_h_off£t
, 
	gd¡_h_b™
;

123 
by‹_t
 * 
	g¤c_addr
;

124 
by‹_t
 * 
	gd¡_addr
;

125 
»ùªgË
 
	g¤c_¬—
, 
	gd¡_¬—
;

127 if(
g‘_aùu®_¬—s
(
d¡_x
, 
d¡_y
, 
¤c_x
, 
¤c_y
, 
width
, 
height
,

128 &
¤c_¬—
, &
d¡_¬—
)<0) {

132 
	g¤c_x
 = 
¤c_¬—
.
x
;

133 
	g¤c_y
 = 
¤c_¬—
.
y
;

134 
	gd¡_x
 = 
d¡_¬—
.
x
;

135 
	gd¡_y
 = 
d¡_¬—
.
y
;

136 
	gwidth
 = 
¤c_¬—
.
width
;

137 
	gheight
 = 
d¡_¬—
.
height
;

140 
	g¤c_h_b™
 = 
¤c_y
 * 
glob®_fix_sü“n_šfo
.
lše_Ëngth
 * 
CHAR_BIT
 + 
¤c_x
 * 
glob®_sü“n
.
cŞÜ_d•th
;

141 
	gd¡_h_b™
 = 
d¡_y
 * 
glob®_fix_sü“n_šfo
.
lše_Ëngth
 * 
CHAR_BIT
 + 
d¡_x
 * 
glob®_sü“n
.
cŞÜ_d•th
;

143 
	gb™
 = 
width
 * 
glob®_sü“n
.
cŞÜ_d•th
;

146 
	glše_by‹
 = 
glob®_fix_sü“n_šfo
.
lše_Ëngth
;

148 
	gsize
 = 
height
;

150 
	g¤c_addr
 = 
¤c
;

151 
	gd¡_addr
 = 
d¡
;

153 if(
	gglob®_sü“n
.
	gcŞÜ_d•th
 < 8)

159 
	gby‹_quªt™y
 = 
b™
 >> 3;

162 if(
	g¤c_h_b™
 <ğ
d¡_h_b™
 && 
¤c_addr
 =ğ
d¡_addr
)

165 
¤c_h_b™
 = (
¤c_y
 + 
height
 - 1è* 
glob®_fix_sü“n_šfo
.
lše_Ëngth
 * 
CHAR_BIT
 + 
¤c_x
 * 
glob®_sü“n
.
cŞÜ_d•th
;

166 
	gd¡_h_b™
 = (
d¡_y
 + 
height
 - 1è* 
glob®_fix_sü“n_šfo
.
lše_Ëngth
 * 
CHAR_BIT
 + 
d¡_x
 * 
glob®_sü“n
.
cŞÜ_d•th
;

169 
	g¤c_h_off£t
 = 
¤c_h_b™
 >> 3;

170 
	gd¡_h_off£t
 = 
d¡_h_b™
 >> 3;

172 
	g¤c_addr
 +ğ
¤c_h_off£t
;

173 
	gd¡_addr
 +ğ
d¡_h_off£t
;

175 
	gsize
)

177 -- 
	gsize
;

179 
memmove
(
d¡_addr
, 
¤c_addr
, 
by‹_quªt™y
);

181 
	g¤c_addr
 -ğ
lše_by‹
;

182 
	gd¡_addr
 -ğ
lše_by‹
;

189 
	g¤c_h_off£t
 = 
¤c_h_b™
 >> 3;

190 
	gd¡_h_off£t
 = 
d¡_h_b™
 >> 3;

192 
	g¤c_addr
 +ğ
¤c_h_off£t
;

193 
	gd¡_addr
 +ğ
d¡_h_off£t
;

195 
	gsize
)

197 -- 
	gsize
;

199 
memıy
(
d¡_addr
, 
¤c_addr
, 
by‹_quªt™y
);

201 
	g¤c_addr
 +ğ
lše_by‹
;

202 
	gd¡_addr
 +ğ
lše_by‹
;

210 
si_t


211 
	gsü“n_ıy_¬—_®pha


212 (* 
	gd¡
,

213 * 
	g¤c
,

214 
si_t
 
	gd¡_x
,

215 
si_t
 
	gd¡_y
,

216 
si_t
 
	g¤c_x
,

217 
si_t
 
	g¤c_y
,

218 
si_t
 
	gwidth
,

219 
si_t
 
	gheight
)

221 
»ùªgË
 
	g¤c_¬—
, 
	gd¡_¬—
;

223 if(
g‘_aùu®_¬—s
(
d¡_x
, 
d¡_y
, 
¤c_x
, 
¤c_y
, 
width
, 
height
,

224 &
¤c_¬—
, &
d¡_¬—
)<0) {

228 
	g¤c_x
 = 
¤c_¬—
.
x
;

229 
	g¤c_y
 = 
¤c_¬—
.
y
;

230 
	gd¡_x
 = 
d¡_¬—
.
x
;

231 
	gd¡_y
 = 
d¡_¬—
.
y
;

232 
	gwidth
 = 
¤c_¬—
.
width
;

233 
	gheight
 = 
d¡_¬—
.
height
;

236 
	gi
;

237 
	gi
=
¤c_x
; i<
	g¤c_x
+
	gwidth
; i++) {

238 
	gj
;

239 
	gj
=
¤c_y
; j<
	g¤c_y
+
	gheight
; j++) {

240 
cŞÜ
 
	g¤c_pix
;

241 if(
sü“n_g‘_pix–_¿w
(
¤c
, 
glob®_sü“n
.
width
,

242 
glob®_sü“n
.
height
,

243 
glob®_sü“n
.
cŞÜ_d•th
,

244 &
¤c_¬—
, &
¤c_pix
, 
i
, 
j
)<0) {

247 
sü“n_£t_pix–_¿w
(
d¡
, 
glob®_sü“n
.
width
,

248 
glob®_sü“n
.
height
,

249 
glob®_sü“n
.
cŞÜ_d•th
,

250 &
d¡_¬—
, &
¤c_pix
,

251 
i
-
¤c_x
+
d¡_x
, 
j
-
¤c_y
+
d¡_y
);

	@graph/graph_lower/screen_exit.c

30 
	~<¡dlib.h
>

31 
	~<¡ršg.h
>

32 
	~<sys/mmª.h
>

34 
	~<d©a_¡ruùu»s.h
>

35 
	~<log.h
>

37 
	~"../g¿ph_low”.h
"

39 
	~"cÚfig.h
"

41 #ifdeà
USE_FBTOOLS


42 
	~"fbtoŞs.h
"

45 
si_t


46 
	$sü“n_ex™
()

54 
	`ä“
(
glob®_cm­
.
»d
);

55 
	`ä“
(
glob®_cm­
.
g»’
);

56 
	`ä“
(
glob®_cm­
.
blue
);

57 
	`ä“
(
glob®_cm­
.
Œª¥
);

60 
	`ä“
(
glob®_sü“n
.
bufãr_addr
);

62 #ifdeà
USE_FBTOOLS


63 
	`fb_ş—nup
();

66 if(-1 =ğ
	`munm­
(
glob®_sü“n
.
memÜy_addr
, glob®_sü“n.
size
)) {

67 
	`EGUI_PRINT_SYS_ERROR
("failedo unmap framebuffer: munmap()");

73 
	}
}

	@graph/graph_lower/screen_flush.c

30 
	~<¡ršg.h
>

31 
	~<lim™s.h
>

33 
	~<d©a_¡ruùu»s.h
>

35 
	~"../g¿ph_low”.h
"

37 
si_t


38 
	gsü“n_æush


39 (
si_t
 
	gx
,

40 
si_t
 
	gy
,

41 
si_t
 
	gwidth
,

42 
si_t
 
	gheight
)

44 
ui_t
 
	gb™
, 
	gby‹_quªt™y
, 
	gsize
, 
	glše_by‹
;

45 
ui_t
 
	gh_off£t
, 
	gh_b™
;

46 
by‹_t
 * 
	g¤c_addr
, * 
	gd¡_addr
;

47 
»ùªgË
 
	gsü“n_¬—
, 
	g‹mp_¬—
, 
	g»®_¬—
;

49 if(!
	gglob®_sü“n
.
	gvisibË
) {

52 if(
	gglob®_sü“n
.
	gvideo_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_DIRECT
)

56 if(
	gglob®_sü“n
.
	gvideo_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_BUFFER
)

59 
sü“n_¬—
.
x
 = 0;

60 
	gsü“n_¬—
.
	gy
 = 0;

61 
	gsü“n_¬—
.
	gwidth
 = 
glob®_sü“n
.
width
;

62 
	gsü“n_¬—
.
	gheight
 = 
glob®_sü“n
.
height
;

64 
	g‹mp_¬—
.
	gx
 = 
x
;

65 
	g‹mp_¬—
.
	gy
 = 
y
;

66 
	g‹mp_¬—
.
	gwidth
 = 
width
;

67 
	g‹mp_¬—
.
	gheight
 = 
height
;

70 if(
¬—_š‹r£ùiÚ
(&
sü“n_¬—
, &
‹mp_¬—
, &
»®_¬—
) == -1)

75 
	gx
 = 
»®_¬—
.
x
;

76 
	gy
 = 
»®_¬—
.
y
;

77 
	gwidth
 = 
»®_¬—
.
width
;

78 
	gheight
 = 
»®_¬—
.
height
;

81 
	gh_b™
 = 
y
 * 
glob®_fix_sü“n_šfo
.
lše_Ëngth
 * 
CHAR_BIT
 + 
x
 * 
glob®_sü“n
.
cŞÜ_d•th
;

83 
	gb™
 = 
width
 * 
glob®_sü“n
.
cŞÜ_d•th
;

86 
	glše_by‹
 = 
glob®_fix_sü“n_šfo
.
lše_Ëngth
;

89 
	gsize
 = 
height
;

91 
	g¤c_addr
 = 
glob®_sü“n
.
bufãr_addr
;

92 
	gd¡_addr
 = 
glob®_sü“n
.
memÜy_addr
;

94 if(
	gglob®_sü“n
.
	gcŞÜ_d•th
 < 8)

101 
	gh_off£t
 = 
h_b™
 >> 3;

103 
	g¤c_addr
 +ğ
h_off£t
;

104 
	gd¡_addr
 +ğ
h_off£t
;

106 
	gby‹_quªt™y
 = 
b™
 >> 3;

108 
	gsize
)

110 -- 
	gsize
;

112 
memıy
(
d¡_addr
, 
¤c_addr
, 
by‹_quªt™y
);

114 
	g¤c_addr
 +ğ
lše_by‹
;

115 
	gd¡_addr
 +ğ
lše_by‹
;

	@graph/graph_lower/screen_get_height.c

29 
	~"../g¿ph_low”.h
"

31 
si_t
 
	$sü“n_g‘_height
()

33  
glob®_sü“n
.
height
;

34 
	}
}

	@graph/graph_lower/screen_get_pixel.c

30 
	~<¡ršg.h
>

32 
	~<d©a_¡ruùu»s.h
>

34 
	~"../g¿ph_low”.h
"

36 
by‹_t
 *

37 
	$sü“n_g‘_¿w_video
(
sü“n
 *
s
)

39 if(
s
->
video_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_DIRECT
)

41  
s
->
memÜy_addr
;

43 if(
s
->
video_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_BUFFER
)

45  
s
->
bufãr_addr
;

49  
NULL
;

51 
	}
}

54 
	gsü“n_g‘_pix–_¿w_nocheck


55 (* 
	gvideo
,

56 
si_t
 
	gd•th
,

57 
cŞÜ
 *
	gc
,

58 
si_t
 
	gx
,

59 
si_t
 
	gy
)

61 
ui_t
 
	goff£t
, 
	gcŞÜ
;

63 
	goff£t
 = 
y
 * 
glob®_fix_sü“n_šfo
.
lše_Ëngth
 + 
x
 * (
d•th
 >> 3);

66 
memıy
(&
cŞÜ
, (
by‹_t
*)
video
 + 
off£t
, 
d•th
 >> 3);

69 
sü“n_v®ue_to_cŞÜ
(
c
, &
cŞÜ
);

75 
si_t


76 
	gsü“n_g‘_pix–_¿w


77 (* 
	gvideo
,

78 
si_t
 
	gwidth
,

79 
si_t
 
	gheight
,

80 
si_t
 
	gd•th
,

81 
»ùªgË
 * 
	ga
,

82 
cŞÜ
 * 
	gc
,

83 
si_t
 
	gx
,

84 
si_t
 
	gy
)

86 
»ùªgË
 
	g»suÉ_¬—
, 
	gsü“n_¬—
;

88 
	gsü“n_¬—
.
	gx
 = 0;

89 
	gsü“n_¬—
.
	gy
 = 0;

90 
	gsü“n_¬—
.
	gwidth
 = 
width
;

91 
	gsü“n_¬—
.
	gheight
 = 
height
;

94 if(
¬—_š‹r£ùiÚ
(
a
, &
sü“n_¬—
, &
»suÉ_¬—
) == -1)

101 ((
	gx
 < 
	g»suÉ_¬—
.x) ||

102 (
	gx
 > 
	g»suÉ_¬—
.x +„esuÉ_¬—.
	gwidth
 - 1) ||

103 (
	gy
 < 
	g»suÉ_¬—
.y) ||

104 (
	gy
 > 
	g»suÉ_¬—
.y +„esuÉ_¬—.
	gheight
 - 1))

109 
sü“n_g‘_pix–_¿w_nocheck
(
video
, 
d•th
, 
c
, 
x
, 
y
);

114 
si_t


115 
	gsü“n_g‘_pix–_nocheck


116 (
sü“n
 *
	gs
,

117 
cŞÜ
 *
	gc
,

118 
si_t
 
	gx
,

119 
si_t
 
	gy
)

121 
by‹_t
 * 
	gvideo
 = 
sü“n_g‘_¿w_video
(
s
);

122 if(!
	gvideo
) {

125 
sü“n_g‘_pix–_¿w_nocheck
(
video
,

126 
s
->
cŞÜ_d•th
, 
c
, 
x
, 
y
);

135 
si_t


136 
	gsü“n_g‘_pix–


137 (
sü“n
 * 
	gs
,

138 
»ùªgË
 * 
	ga
,

139 
cŞÜ
 * 
	gc
,

140 
si_t
 
	gx
,

141 
si_t
 
	gy
)

143 
by‹_t
 * 
	gvideo
 = 
sü“n_g‘_¿w_video
(
s
);

144 if(!
	gvideo
) {

147  
sü“n_g‘_pix–_¿w
(
video
, 
s
->
width
, s->
height
, s->
cŞÜ_d•th
,

148 
a
, 
c
, 
x
, 
y
);

	@graph/graph_lower/screen_get_width.c

29 
	~"../g¿ph_low”.h
"

31 
si_t
 
	$sü“n_g‘_width
()

33  
glob®_sü“n
.
width
;

34 
	}
}

	@graph/graph_lower/screen_init.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

32 
	~<¡ršg.h
>

33 
	~<fú.h
>

34 
	~<uni¡d.h
>

35 
	~<sys/mmª.h
>

36 
	~<sys/ioùl.h
>

38 
	~<d©a_¡ruùu»s.h
>

39 
	~"../g¿ph_low”.h
"

40 
	~"log.h
"

42 
	~"cÚfig.h
"

43 
	~"comp”.h
"

45 #ifdeà
USE_FBTOOLS


46 
	~"fbtoŞs.h
"

49 
fb_v¬_sü“nšfo
 
	gglob®_v¬_sü“n_šfo
;

50 
fb_fix_sü“nšfo
 
	gglob®_fix_sü“n_šfo
;

51 
fb_cm­
 
	gglob®_cm­
;

52 
sü“n
 
	gglob®_sü“n
;

53 #ifdeà
USE_FBTOOLS


54 
si_t
 
	gäamebufãr_fd
;

57 
si_t
 
	$sü“n_š™
(cÚ¡ * 
·th
)

59 
si_t
 
fb_fd
;

61 #ifdeà
USE_FBTOOLS


62 
	`NOT_USED
(
·th
);

63 
fb_fd
 = 
	`fb_š™
(
NULL
, NULL, 0);

64 
	`fb_ÿtch_ex™_sigÇls
();

65 
	`fb_sw™ch_š™
();

66 
glob®_v¬_sü“n_šfo
 = 
fb_v¬
;

67 
glob®_fix_sü“n_šfo
 = 
fb_fix
;

69 
si_t
 
»tv®
;

71 
fb_fd
 = 
	`İ’
(
·th
, 
O_RDWR
);

73 if(
fb_fd
 < 0)

75 
	`EGUI_PRINT_SYS_ERROR
("failedo open framebuffer: open()");

80 
»tv®
 = 
	`ioùl
(
fb_fd
, 
FBIOGET_VSCREENINFO
, &
glob®_v¬_sü“n_šfo
);

82 if(
»tv®
 == -1)

84 
	`EGUI_PRINT_SYS_ERROR
("failedo obtain variable screen info: ioctl()");

89 
»tv®
 = 
	`ioùl
(
fb_fd
, 
FBIOGET_FSCREENINFO
, &
glob®_fix_sü“n_šfo
);

91 if(
»tv®
 == -1)

93 
	`EGUI_PRINT_SYS_ERROR
("failedo obtain fixed screen info: ioctl()");

99 
glob®_sü“n
.
width
 = 
glob®_v¬_sü“n_šfo
.
x»s
;

102 
glob®_sü“n
.
height
 = 
glob®_v¬_sü“n_šfo
.
y»s
;

105 
glob®_sü“n
.
cŞÜ_d•th
 = 
glob®_v¬_sü“n_šfo
.
b™s_³r_pix–
;

108 
glob®_sü“n
.
size
 = 
glob®_fix_sü“n_šfo
.
smem_Ën
;

111 
glob®_sü“n
.
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

113 #ifdeà
USE_FBTOOLS


114 
glob®_sü“n
.
memÜy_addr
 = 
fb_mem
;

118 
glob®_sü“n
.
memÜy_addr
 =

119 
	`mm­
(
NULL
, 
glob®_sü“n
.
size
, 
PROT_READ
 | 
PROT_WRITE
, 
MAP_SHARED
, 
fb_fd
, 0);

121 if(
glob®_sü“n
.
memÜy_addr
 =ğ
MAP_FAILED
)

123 
	`EGUI_PRINT_SYS_ERROR
("failedo map screeno memory: mmap()");

128 
glob®_sü“n
.
bufãr_addr
 = (
by‹_t
 *)
	`m®loc
(glob®_sü“n.
size
);

130 if(
glob®_sü“n
.
bufãr_addr
 =ğ
NULL
)

132 
	`EGUI_PRINT_SYS_ERROR
("failedo malloc for screen buffer: malloc()");

136 
glob®_sü“n
.
visibË
 = 1;

139 if(
glob®_fix_sü“n_šfo
.
visu®
 =ğ
FB_VISUAL_MONO01
)

142 
	`mem£t
(
glob®_sü“n
.
memÜy_addr
, 0XFF, glob®_sü“n.
size
);

143 
	`mem£t
(
glob®_sü“n
.
bufãr_addr
, 0XFF, glob®_sü“n.
size
);

146 if(
glob®_fix_sü“n_šfo
.
visu®
 =ğ
FB_VISUAL_MONO10
)

149 
	`mem£t
(
glob®_sü“n
.
memÜy_addr
, 0X00, glob®_sü“n.
size
);

150 
	`mem£t
(
glob®_sü“n
.
bufãr_addr
, 0X00, glob®_sü“n.
size
);

153 if(
glob®_fix_sü“n_šfo
.
visu®
 =ğ
FB_VISUAL_TRUECOLOR
)

156 
	`mem£t
(
glob®_sü“n
.
memÜy_addr
, 0X00, glob®_sü“n.
size
);

157 
	`mem£t
(
glob®_sü“n
.
bufãr_addr
, 0X00, glob®_sü“n.
size
);

161 (
glob®_fix_sü“n_šfo
.
visu®
 =ğ
FB_VISUAL_PSEUDOCOLOR
 ||

162 
glob®_fix_sü“n_šfo
.
visu®
 =ğ
FB_VISUAL_DIRECTCOLOR
)

164 
ui_t
 
i
;

166 
glob®_cm­
.
¡¬t
 = 0;

167 
glob®_cm­
.
Ën
 = 1 << 
glob®_v¬_sü“n_šfo
.
b™s_³r_pix–
;

170 
glob®_cm­
.
»d
 = (
ui16_t
 *)
	`m®loc
(glob®_cm­.
Ën
 << 1);

172 if(
glob®_cm­
.
»d
 =ğ
NULL
)

174 
	`EGUI_PRINT_SYS_ERROR
("failedo malloc„ed color map: malloc()");

178 
glob®_cm­
.
g»’
 = (
ui16_t
 *)
	`m®loc
(glob®_cm­.
Ën
 << 1);

180 if(
glob®_cm­
.
g»’
 =ğ
NULL
)

182 
	`EGUI_PRINT_SYS_ERROR
("failedo malloc green color map: malloc()");

186 
glob®_cm­
.
blue
 = (
ui16_t
 *)
	`m®loc
(glob®_cm­.
Ën
 << 1);

188 if(
glob®_cm­
.
blue
 =ğ
NULL
)

190 
	`EGUI_PRINT_SYS_ERROR
("failedo malloc blue color map: malloc()");

194 
glob®_cm­
.
Œª¥
 = (
ui16_t
 *)
	`m®loc
(glob®_cm­.
Ën
 << 1);

196 if(
glob®_cm­
.
Œª¥
 =ğ
NULL
)

198 
	`EGUI_PRINT_SYS_ERROR
("failedo mallocransparent color map: malloc()");

203 
i
 = 0; i < 
glob®_cm­
.
Ën
; ++ i)

205 
glob®_cm­
.
»d
[
i
] = ((˜<< 1è+ 1è* ((
ui16_t
)-1è/ (glob®_cm­.
Ën
 << 1);

207 
	`memıy
(
glob®_cm­
.
g»’
, glob®_cm­.
»d
, glob®_cm­.
Ën
 << 1);

208 
	`memıy
(
glob®_cm­
.
blue
, glob®_cm­.
»d
, glob®_cm­.
Ën
 << 1);

209 
	`memıy
(
glob®_cm­
.
Œª¥
, glob®_cm­.
»d
, glob®_cm­.
Ën
 << 1);

211 if(
	`ioùl
(
fb_fd
, 
FBIOPUTCMAP
, &
glob®_cm­
) == -1)

213 
	`EGUI_PRINT_SYS_ERROR
("failedo set color map: ioctl()");

218 
	`mem£t
(
glob®_sü“n
.
memÜy_addr
, 0X00, glob®_sü“n.
size
);

219 
	`mem£t
(
glob®_sü“n
.
bufãr_addr
, 0X00, glob®_sü“n.
size
);

222 if(
glob®_fix_sü“n_šfo
.
visu®
 =ğ
FB_VISUAL_STATIC_PSEUDOCOLOR
)

227 #ifdeà
USE_FBTOOLS


228 
äamebufãr_fd
 = 
fb_fd
;

231 
	`şo£
(
fb_fd
);

235 
	}
}

	@graph/graph_lower/screen_set_area.c

30 
	~<¡ršg.h
>

31 
	~<lim™s.h
>

33 
	~<d©a_¡ruùu»s.h
>

35 
	~"../g¿ph_low”.h
"

37 
ui08_t


38 
	gcŞÜ_by‹


39 (
ui_t
 
	gcŞÜ_d•th
,

40 
ui_t
 
	gcŞÜ
)

42 
ui08_t
 
	g‹mp
 = 0;

44 if(
	gcŞÜ_d•th
 == 1)

46 if(
cŞÜ
 == 0)

48 
‹mp
 = 0X00;

50 if(
	gcŞÜ
 == 1)

52 
‹mp
 = 0XFF;

55 if(
	gcŞÜ_d•th
 == 2)

57 if(
cŞÜ
 == 0)

59 
‹mp
 = 0X00;

61 if(
	gcŞÜ
 == 1)

63 
‹mp
 = 0X55;

65 if(
	gcŞÜ
 == 2)

67 
‹mp
 = 0XAA;

69 if(
	gcŞÜ
 == 3)

71 
‹mp
 = 0XFF;

74 if(
	gcŞÜ_d•th
 == 4)

76 if(
cŞÜ
 == 0)

78 
‹mp
 = 0X00;

80 if(
	gcŞÜ
 == 1)

82 
‹mp
 = 0X11;

84 if(
	gcŞÜ
 == 2)

86 
‹mp
 = 0X22;

88 if(
	gcŞÜ
 == 3)

90 
‹mp
 = 0X33;

92 if(
	gcŞÜ
 == 4)

94 
‹mp
 = 0X44;

96 if(
	gcŞÜ
 == 5)

98 
‹mp
 = 0X55;

100 if(
	gcŞÜ
 == 6)

102 
‹mp
 = 0X66;

104 if(
	gcŞÜ
 == 7)

106 
‹mp
 = 0X77;

108 if(
	gcŞÜ
 == 8)

110 
‹mp
 = 0X88;

112 if(
	gcŞÜ
 == 9)

114 
‹mp
 = 0X99;

116 if(
	gcŞÜ
 == 10)

118 
‹mp
 = 0XAA;

120 if(
	gcŞÜ
 == 11)

122 
‹mp
 = 0XBB;

124 if(
	gcŞÜ
 == 12)

126 
‹mp
 = 0XCC;

128 if(
	gcŞÜ
 == 13)

130 
‹mp
 = 0XDD;

132 if(
	gcŞÜ
 == 14)

134 
‹mp
 = 0XEE;

136 if(
	gcŞÜ
 == 15)

138 
‹mp
 = 0XFF;

142  
	g‹mp
;

145 
si_t


146 
	gsü“n_£t_¬—


147 (
sü“n
 * 
	gs
,

148 
»ùªgË
 * 
	ga
,

149 
cŞÜ
 * 
	gc
,

150 
si_t
 
	gx
,

151 
si_t
 
	gy
,

152 
si_t
 
	gwidth
,

153 
si_t
 
	gheight
)

155 
ui_t
 
	goff£t
, 
	gcŞÜ
, 
	gpix–
, 
	gn
, 
	gh_off£t
, 
	gt_off£t
, 
	gh_b™
, 
	gb™
, 
	gt_b™
, 
	gby‹_quªt™y
, 
	glše_b™
, 
	gsize
;

156 
by‹_t
 * 
	gaddr
, * 
	gvideo
;

157 
by‹_t
 
	g‹mp
, 
	gmask
;

158 
si_t
 
	gi
, 
	gj
, 
	gt_bÜd”
, 
	gb_bÜd”
, 
	gl_bÜd”
, 
	gr_bÜd”
;

159 
»ùªgË
 
	g»suÉ_¬—
, 
	gsü“n_¬—
;

161 if(
	gs
->
	gvideo_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_DIRECT
)

163 
video
 = 
s
->
memÜy_addr
;

165 if(
	gs
->
	gvideo_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_BUFFER
)

167 
video
 = 
s
->
bufãr_addr
;

174 
	gsü“n_¬—
.
	gx
 = 0;

175 
	gsü“n_¬—
.
	gy
 = 0;

176 
	gsü“n_¬—
.
	gwidth
 = 
s
->
width
;

177 
	gsü“n_¬—
.
	gheight
 = 
s
->
height
;

180 if(
¬—_š‹r£ùiÚ
(
a
, &
sü“n_¬—
, &
»suÉ_¬—
) == -1)

187 ((
	gx
 > 
	g»suÉ_¬—
.x +„esuÉ_¬—.
	gwidth
 - 1) ||

188 (
	gx
 + 
	gwidth
 - 1 < 
	g»suÉ_¬—
.x) ||

189 (
	gy
 > 
	g»suÉ_¬—
.y +„esuÉ_¬—.
	gheight
 - 1) ||

190 (
	gy
 + 
	gheight
 - 1 < 
	g»suÉ_¬—
.y))

197 
	gl_bÜd”
 = 
x
 < 
»suÉ_¬—
.x ?„esult_area.x : x;

198 
	gt_bÜd”
 = 
y
 < 
»suÉ_¬—
.y ?„esult_area.y : y;

199 
	gr_bÜd”
 =

200 
x
 + 
width
 - 1 < 
»suÉ_¬—
.x +„esult_area.width - 1 ? x + width - 1 :„esult_area.x +„esult_area.width - 1;

201 
	gb_bÜd”
 =

202 
y
 + 
height
 - 1 < 
»suÉ_¬—
.y +„esult_area.height - 1 ? y + height - 1 :„esult_area.y +„esult_area.height - 1;

203 
	gx
 = 
l_bÜd”
;

204 
	gy
 = 
t_bÜd”
;

205 
	gwidth
 = 
r_bÜd”
 - 
l_bÜd”
 + 1;

206 
	gheight
 = 
b_bÜd”
 - 
t_bÜd”
 + 1;

209 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_MONO01
)

213 ((
c
->
r
 =ğ
glob®_cŞÜ_lim™
.
r_lim™
) &&

214 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
) &&

215 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
))

217 
cŞÜ
 = 0;

221 ((
	gc
->
	gr
 == 0) &&

222 (
c
->
g
 == 0) &&

223 (
c
->
g
 == 0))

225 
cŞÜ
 = (1 << 8) - 1;

228 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_MONO10
)

232 ((
c
->
r
 =ğ
glob®_cŞÜ_lim™
.
r_lim™
) &&

233 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
) &&

234 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
))

236 
cŞÜ
 = (1 << 8) - 1;

240 ((
	gc
->
	gr
 == 0) &&

241 (
c
->
g
 == 0) &&

242 (
c
->
g
 == 0))

244 
cŞÜ
 = 0;

247 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_DIRECTCOLOR
)

250 
sü“n_cŞÜ_to_šdex
(&
cŞÜ
, 
c
);

252 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_PSEUDOCOLOR
)

255 
sü“n_cŞÜ_to_šdex
(&
cŞÜ
, 
c
);

257 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_TRUECOLOR
)

260 
sü“n_cŞÜ_to_v®ue
(&
cŞÜ
, 
c
);

264 
	gh_b™
 = 
y
 * 
glob®_fix_sü“n_šfo
.
lše_Ëngth
 * 
CHAR_BIT
 + 
x
 * 
s
->
cŞÜ_d•th
;

266 
	gb™
 = 
width
 * 
s
->
cŞÜ_d•th
;

268 
	gt_b™
 = 
h_b™
 + 
b™
;

270 
	glše_b™
 = 
glob®_fix_sü“n_šfo
.
lše_Ëngth
 * 
CHAR_BIT
;

272 
	gsize
 = 
height
;

274 if(
	gs
->
	gcŞÜ_d•th
 < 8)

277 
	gsize
)

280 
	gh_off£t
 = 
h_b™
 & 7;

282 
	gt_off£t
 = 
t_b™
 & 7;

284 
	gby‹_quªt™y
 = 
b™
 >> 3;

286 
	gaddr
 = 
video
;

288 if(
	gh_off£t
 + 
	gb™
 < 8)

291 
	gaddr
 +ğ(
h_b™
 >> 3);

294 
	gmask
 = ~((((
ui08_t
)-1è<< 
h_off£t
è& (((ui08_t)-1è>> (8 - 
t_off£t
)));

295 * 
	gaddr
 &ğ
mask
;

297 
	g‹mp
 = 
cŞÜ_by‹
(
s
->
cŞÜ_d•th
, 
cŞÜ
);

299 
	g‹mp
 <<ğ
h_off£t
;

300 
	g‹mp
 &ğ((
ui08_t
)-1è>> (8 - 
t_off£t
);

302 * 
	gaddr
 |ğ
‹mp
;

307 if(
	gh_off£t
 != 0)

310 
addr
 +ğ(
h_b™
 >> 3);

312 * 
	gaddr
 &ğ((
ui08_t
)-1è>> (8 - 
h_off£t
);

314 
	g‹mp
 = 
cŞÜ_by‹
(
s
->
cŞÜ_d•th
, 
cŞÜ
);

316 
	g‹mp
 <<ğ
h_off£t
;

318 * 
	gaddr
 |ğ
‹mp
;

321 
	gaddr
 += 1;

323 
	gby‹_quªt™y
 = (
b™
 - 8 + 
h_off£t
) >> 3;

327 
	g‹mp
 = 
cŞÜ_by‹
(
s
->
cŞÜ_d•th
, 
cŞÜ
);

329 
mem£t
(
addr
, 
‹mp
, 
by‹_quªt™y
);

332 if(
	gt_off£t
 != 0)

335 
addr
 +ğ
by‹_quªt™y
;

337 * 
	gaddr
 &ğ((
ui08_t
)-1è<< 
t_off£t
;

339 
	g‹mp
 = 
cŞÜ_by‹
(
s
->
cŞÜ_d•th
, 
cŞÜ
);

341 
	g‹mp
 >>ğ(8 - 
t_off£t
);

343 * 
	gaddr
 |ğ
‹mp
;

347 
	gh_b™
 +ğ
lše_b™
;

348 
	gt_b™
 +ğ
lše_b™
;

350 -- 
	gsize
;

356 
	gpix–
 = 
s
->
cŞÜ_d•th
 >> 3;

358 
	goff£t
 = 
h_b™
 >> 3;

360 
	gn
 = 
lše_b™
 >> 3;

363 
	gi
 = 0; i < 
	gheight
; ++ i)

365 
	gsize
 = 
off£t
;

368 
	gj
 = 0; j < 
	gwidth
; ++ j)

371 
memıy
(
video
 + 
size
, &
cŞÜ
, 
pix–
);

373 
	gsize
 +ğ
pix–
;

376 
	goff£t
 +ğ
n
;

	@graph/graph_lower/screen_set_h_line.c

30 
	~<¡ršg.h
>

31 
	~<lim™s.h
>

33 
	~<d©a_¡ruùu»s.h
>

35 
	~"../g¿ph_low”.h
"

38 
ui08_t


39 
	gcŞÜ_by‹


40 (
ui_t
 
	gcŞÜ_d•th
,

41 
ui_t
 
	gcŞÜ
)

43 
ui08_t
 
	g‹mp
 = 0;

45 if(
	gcŞÜ_d•th
 == 1)

47 if(
cŞÜ
 == 0)

49 
‹mp
 = 0X00;

51 if(
	gcŞÜ
 == 1)

53 
‹mp
 = 0XFF;

56 if(
	gcŞÜ_d•th
 == 2)

58 if(
cŞÜ
 == 0)

60 
‹mp
 = 0X00;

62 if(
	gcŞÜ
 == 1)

64 
‹mp
 = 0X55;

66 if(
	gcŞÜ
 == 2)

68 
‹mp
 = 0XAA;

70 if(
	gcŞÜ
 == 3)

72 
‹mp
 = 0XFF;

75 if(
	gcŞÜ_d•th
 == 4)

77 if(
cŞÜ
 == 0)

79 
‹mp
 = 0X00;

81 if(
	gcŞÜ
 == 1)

83 
‹mp
 = 0X11;

85 if(
	gcŞÜ
 == 2)

87 
‹mp
 = 0X22;

89 if(
	gcŞÜ
 == 3)

91 
‹mp
 = 0X33;

93 if(
	gcŞÜ
 == 4)

95 
‹mp
 = 0X44;

97 if(
	gcŞÜ
 == 5)

99 
‹mp
 = 0X55;

101 if(
	gcŞÜ
 == 6)

103 
‹mp
 = 0X66;

105 if(
	gcŞÜ
 == 7)

107 
‹mp
 = 0X77;

109 if(
	gcŞÜ
 == 8)

111 
‹mp
 = 0X88;

113 if(
	gcŞÜ
 == 9)

115 
‹mp
 = 0X99;

117 if(
	gcŞÜ
 == 10)

119 
‹mp
 = 0XAA;

121 if(
	gcŞÜ
 == 11)

123 
‹mp
 = 0XBB;

125 if(
	gcŞÜ
 == 12)

127 
‹mp
 = 0XCC;

129 if(
	gcŞÜ
 == 13)

131 
‹mp
 = 0XDD;

133 if(
	gcŞÜ
 == 14)

135 
‹mp
 = 0XEE;

137 if(
	gcŞÜ
 == 15)

139 
‹mp
 = 0XFF;

143  
	g‹mp
;

146 
si_t


147 
	gsü“n_£t_h_lše


148 (
sü“n
 * 
	gs
,

149 
»ùªgË
 * 
	ga
,

150 
cŞÜ
 * 
	gc
,

151 
si_t
 
	gx1
,

152 
si_t
 
	gy1
,

153 
si_t
 
	gx2
,

154 
si_t
 
	gy2
)

156 
ui_t
 
	goff£t
, 
	gcŞÜ
, 
	gpix–
, 
	gsize
, 
	gh_off£t
, 
	gt_off£t
, 
	gh_b™
, 
	gb™
, 
	gt_b™
, 
	gby‹_quªt™y
;

157 
by‹_t
 * 
	gaddr
, * 
	gvideo
;

158 
by‹_t
 
	g‹mp
, 
	gmask
;

159 
»ùªgË
 
	g»suÉ_¬—
, 
	gsü“n_¬—
;

161 if(
	gs
->
	gvideo_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_DIRECT
)

163 
video
 = 
s
->
memÜy_addr
;

165 if(
	gs
->
	gvideo_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_BUFFER
)

167 
video
 = 
s
->
bufãr_addr
;

174 
	gsü“n_¬—
.
	gx
 = 0;

175 
	gsü“n_¬—
.
	gy
 = 0;

176 
	gsü“n_¬—
.
	gwidth
 = 
s
->
width
;

177 
	gsü“n_¬—
.
	gheight
 = 
s
->
height
;

180 if(
¬—_š‹r£ùiÚ
(
a
, &
sü“n_¬—
, &
»suÉ_¬—
) == -1)

186 if(
	gx2
 < 
	gx1
)

189 
	gx1
 = 
x1
 ^ 
x2
;

190 
	gx2
 = 
x2
 ^ 
x1
;

191 
	gx1
 = 
x1
 ^ 
x2
;

196 ((
	gx2
 < 
	g»suÉ_¬—
.
	gx
) ||

197 (
	gx1
 > 
	g»suÉ_¬—
.
	gx
 +„esuÉ_¬—.
	gwidth
 - 1) ||

198 (
	gy2
 < 
	g»suÉ_¬—
.
	gy
) ||

199 (
	gy1
 > 
	g»suÉ_¬—
.
	gy
 +„esuÉ_¬—.
	gheight
 - 1))

206 
	gx1
 = 
x1
 < 
»suÉ_¬—
.
x
 ?„esult_area.x : x1;

207 
	gx2
 = 
x2
 > 
»suÉ_¬—
.
x
 +„esuÉ_¬—.
width
 - 1 ?„esult_area.x +„esult_area.width - 1 : x2;

210 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_MONO01
)

214 ((
c
->
r
 =ğ
glob®_cŞÜ_lim™
.
r_lim™
) &&

215 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
) &&

216 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
))

218 
cŞÜ
 = 0;

222 ((
	gc
->
	gr
 == 0) &&

223 (
c
->
g
 == 0) &&

224 (
c
->
g
 == 0))

226 
cŞÜ
 = 1;

229 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_MONO10
)

233 ((
c
->
r
 =ğ
glob®_cŞÜ_lim™
.
r_lim™
) &&

234 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
) &&

235 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
))

237 
cŞÜ
 = 1;

241 ((
	gc
->
	gr
 == 0) &&

242 (
c
->
g
 == 0) &&

243 (
c
->
g
 == 0))

245 
cŞÜ
 = 0;

249 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_DIRECTCOLOR
)

252 
sü“n_cŞÜ_to_šdex
(&
cŞÜ
, 
c
);

254 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_PSEUDOCOLOR
)

257 
sü“n_cŞÜ_to_šdex
(&
cŞÜ
, 
c
);

259 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_TRUECOLOR
)

262 
sü“n_cŞÜ_to_v®ue
(&
cŞÜ
, 
c
);

266 
	gh_b™
 = 
y1
 * 
glob®_fix_sü“n_šfo
.
lše_Ëngth
 * 
CHAR_BIT
 + 
x1
 * 
s
->
cŞÜ_d•th
;

268 
	gb™
 = (
x2
 - 
x1
 + 1è* 
s
->
cŞÜ_d•th
;

270 
	gt_b™
 = 
h_b™
 + 
b™
;

272 if(
	gs
->
	gcŞÜ_d•th
 < 8)

275 
	gh_off£t
 = 
h_b™
 & 7;

277 
	gt_off£t
 = 
t_b™
 & 7;

279 
	gby‹_quªt™y
 = 
b™
 >> 3;

281 
	gaddr
 = 
video
;

284 if(
	gh_off£t
 + 
	gb™
 < 8)

287 
	gaddr
 +ğ(
h_b™
 >> 3);

290 
	gmask
 = ~((((
ui08_t
)-1è<< 
h_off£t
è& (((ui08_t)-1è>> (8 - 
t_off£t
)));

291 * 
	gaddr
 = (* 
addr
è& 
mask
;

293 
	g‹mp
 = 
cŞÜ_by‹
(
s
->
cŞÜ_d•th
, 
cŞÜ
);

295 
	g‹mp
 <<ğ
h_off£t
;

296 
	g‹mp
 &ğ((
ui08_t
)-1è>> (8 - 
t_off£t
);

298 * 
	gaddr
 = (* 
addr
è| 
‹mp
;

303 if(
	gh_off£t
 != 0)

306 
addr
 +ğ(
h_b™
 >> 3);

308 * 
	gaddr
 &ğ((
ui08_t
)-1è>> (8 - 
h_off£t
);

310 
	g‹mp
 = 
cŞÜ_by‹
(
s
->
cŞÜ_d•th
, 
cŞÜ
);

312 
	g‹mp
 <<ğ
h_off£t
;

314 * 
	gaddr
 |ğ
‹mp
;

317 
	gaddr
 += 1;

319 
	gby‹_quªt™y
 = (
b™
 - 8 + 
h_off£t
) >> 3;

323 
	g‹mp
 = 
cŞÜ_by‹
(
s
->
cŞÜ_d•th
, 
cŞÜ
);

325 
mem£t
(
addr
, 
‹mp
, 
by‹_quªt™y
);

328 if(
	gt_off£t
 != 0)

331 
addr
 +ğ
by‹_quªt™y
;

333 * 
	gaddr
 &ğ((
ui08_t
)-1è<< 
t_off£t
;

335 
	g‹mp
 = 
cŞÜ_by‹
(
s
->
cŞÜ_d•th
, 
cŞÜ
);

337 
	g‹mp
 >>ğ(8 - 
t_off£t
);

339 * 
	gaddr
 |ğ
‹mp
;

345 
ui_t
 
	gi
;

347 
	gpix–
 = 
s
->
cŞÜ_d•th
 >> 3;

349 
	goff£t
 = 
h_b™
 >> 3;

351 
	gsize
 = 
x2
 - 
x1
 + 1;

354 
	gi
 = 0; i < 
	gsize
; ++ i)

357 
memıy
((*)(
video
 + 
off£t
), (*)(&
cŞÜ
), 
pix–
);

359 
	goff£t
 +ğ
pix–
;

	@graph/graph_lower/screen_set_pixel.c

30 
	~<¡ršg.h
>

31 
	~<lim™s.h
>

33 
	~<d©a_¡ruùu»s.h
>

35 
	~"../g¿ph_low”.h
"

37 
by‹_t
 *

38 
	$sü“n_g‘_¿w_video
(
sü“n
 *
s
)

40 if(
s
->
video_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_DIRECT
) {

41  
s
->
memÜy_addr
;

42 } if(
s
->
video_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_BUFFER
) {

43  
s
->
bufãr_addr
;

45  
NULL
;

47 
	}
}

50 
	gsü“n_£t_pix–_¿w_r_nocheck


51 (*
	gvideo
,

52 
si_t
 
	gd•th
,

53 
cŞÜ
 *
	gc
,

54 
si_t
 
	gx
,

55 
si_t
 
	gy
,

56 *
	gd¡
)

58 
ui_t
 
	goff£t
, 
	gcŞÜ
, 
	gb™
;

59 
by‹_t
 * 
	gaddr
;

62 
	gb™
 = 
y
 * 
glob®_fix_sü“n_šfo
.
lše_Ëngth
 * 
CHAR_BIT
 + 
x
 * 
d•th
;

64 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_MONO01
)

67 if((
c
->
r
 =ğ
glob®_cŞÜ_lim™
.
r_lim™
è&& (c->
g
 =ğglob®_cŞÜ_lim™.
g_lim™
è&& (c->
b
 =ğglob®_cŞÜ_lim™.
b_lim™
))

69 
cŞÜ
 = 0;

73 ((
	gc
->
	gr
 == 0) &&

74 (
c
->
g
 == 0) &&

75 (
c
->
b
 == 0))

77 
cŞÜ
 = 1;

80 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_MONO10
)

84 ((
c
->
r
 =ğ
glob®_cŞÜ_lim™
.
r_lim™
) &&

85 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
) &&

86 (
c
->
b
 =ğ
glob®_cŞÜ_lim™
.
b_lim™
))

88 
cŞÜ
 = 1;

92 ((
	gc
->
	gr
 == 0) &&

93 (
c
->
g
 == 0) &&

94 (
c
->
b
 == 0))

96 
cŞÜ
 = 0;

99 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_DIRECTCOLOR
)

103 
sü“n_cŞÜ_to_šdex
(&
cŞÜ
, 
c
);

105 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_PSEUDOCOLOR
)

109 
sü“n_cŞÜ_to_šdex
(&
cŞÜ
, 
c
);

111 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_TRUECOLOR
)

113 if(
d•th
 >ğ32 && 
c
->
a
 > 0) {

115 
cŞÜ
 
Şd
;

116 
sü“n_g‘_pix–_¿w_nocheck
(
video
, 
d•th
, &
Şd
, 
x
, 
y
);

117 
	gc
 = 
®pha_bËnd
(
c
, &
Şd
);

120 
sü“n_cŞÜ_to_v®ue
(&
cŞÜ
, 
c
);

123 if(
	gd•th
 < 8)

126 
	goff£t
 = 
b™
 & 7;

128 
	gaddr
 = (
by‹_t
*)
d¡
 + (
b™
 >> 3);

130 if(
	gd•th
 == 1)

133 
cŞÜ
 = (cŞÜ & 0X1è<< 
off£t
;

135 * 
	gaddr
 &ğ~(0X1 << 
off£t
);

137 * 
	gaddr
 |ğ
cŞÜ
;

139 if(
	gd•th
 == 2)

142 
cŞÜ
 = (cŞÜ & 0X3è<< 
off£t
;

144 * 
	gaddr
 &ğ~(0X3 << 
off£t
);

146 * 
	gaddr
 |ğ
cŞÜ
;

148 if(
	gd•th
 == 4)

151 
cŞÜ
 = (cŞÜ & 0XFè<< 
off£t
;

153 * 
	gaddr
 &ğ~(0XF << 
off£t
);

155 * 
	gaddr
 |ğ
cŞÜ
;

161 
	goff£t
 = 
b™
 >> 3;

164 
memıy
((*)((
by‹_t
*)
d¡
 + 
off£t
), (*)(&
cŞÜ
), 
d•th
 >> 3);

168 
si_t


169 
	gsü“n_£t_pix–_¿w_r


170 (* 
	gvideo
,

171 
si_t
 
	gwidth
,

172 
si_t
 
	gheight
,

173 
si_t
 
	gd•th
,

174 
»ùªgË
 * 
	ga
,

175 
cŞÜ
 * 
	gc
,

176 
si_t
 
	gx
,

177 
si_t
 
	gy
,

178 * 
	gd¡
)

180 
»ùªgË
 
	g»suÉ_¬—
, 
	gsü“n_¬—
;

182 
	gsü“n_¬—
.
	gx
 = 0;

183 
	gsü“n_¬—
.
	gy
 = 0;

184 
	gsü“n_¬—
.
	gwidth
 = 
width
;

185 
	gsü“n_¬—
.
	gheight
 = 
height
;

188 if(
¬—_š‹r£ùiÚ
(
a
, &
sü“n_¬—
, &
»suÉ_¬—
) == -1)

195 ((
	gx
 < 
	g»suÉ_¬—
.x) ||

196 (
	gx
 > 
	g»suÉ_¬—
.x +„esuÉ_¬—.
	gwidth
 - 1) ||

197 (
	gy
 < 
	g»suÉ_¬—
.y) ||

198 (
	gy
 > 
	g»suÉ_¬—
.y +„esuÉ_¬—.
	gheight
 - 1))

203 
sü“n_£t_pix–_¿w_r_nocheck
(
video
,

204 
d•th
, 
c
, 
x
, 
y
, 
d¡
);

210 
	gsü“n_£t_pix–_¿w_nocheck


211 (*
	gvideo
,

212 
si_t
 
	gd•th
,

213 
cŞÜ
 *
	gc
,

214 
si_t
 
	gx
,

215 
si_t
 
	gy
)

217 
sü“n_£t_pix–_¿w_r_nocheck
(
video
,

218 
d•th
, 
c
, 
x
, 
y
, 
video
);

221 
si_t


222 
	gsü“n_£t_pix–_¿w


223 (* 
	gvideo
,

224 
si_t
 
	gwidth
,

225 
si_t
 
	gheight
,

226 
si_t
 
	gd•th
,

227 
»ùªgË
 * 
	ga
,

228 
cŞÜ
 * 
	gc
,

229 
si_t
 
	gx
,

230 
si_t
 
	gy
)

232  
sü“n_£t_pix–_¿w_r
(
video
, 
width
, 
height
, 
d•th
, 
a
, 
c
, 
x
, 
y
,

233 
video
);

239 
si_t


240 
	gsü“n_£t_pix–_r


241 (
sü“n
 * 
	gs
,

242 
»ùªgË
 * 
	ga
,

243 
cŞÜ
 * 
	gc
,

244 
si_t
 
	gx
,

245 
si_t
 
	gy
,

246 
sü“n
 * 
	gd¡
)

248 
by‹_t
 *
	gvideo
 = 
sü“n_g‘_¿w_video
(
s
),

249 *
	gvideo_d¡
 = 
sü“n_g‘_¿w_video
(
d¡
);

251 if(!
	gvideo
 || !
	gvideo_d¡
) {

254  
sü“n_£t_pix–_¿w_r
(
video
,

255 
s
->
width
, s->
height
, s->
cŞÜ_d•th
,

256 
a
, 
c
, 
x
, 
y
, 
video_d¡
);

259 
si_t


260 
	gsü“n_£t_pix–_nocheck


261 (
sü“n
 *
	gs
,

262 
cŞÜ
 *
	gc
,

263 
si_t
 
	gx
,

264 
si_t
 
	gy
)

266 
by‹_t
 *
	gvideo
 = 
sü“n_g‘_¿w_video
(
s
);

267 if(!
	gvideo
) {

270 
sü“n_£t_pix–_¿w_r_nocheck
(
video
,

271 
s
->
cŞÜ_d•th
, 
c
, 
x
, 
y
, 
video
);

275 
si_t


276 
	gsü“n_£t_pix–


277 (
sü“n
 * 
	gs
,

278 
»ùªgË
 * 
	ga
,

279 
cŞÜ
 * 
	gc
,

280 
si_t
 
	gx
,

281 
si_t
 
	gy
)

283 
by‹_t
 *
	gvideo
 = 
sü“n_g‘_¿w_video
(
s
);

284 if(!
	gvideo
) {

287  
sü“n_£t_pix–_¿w_r
(
video
,

288 
s
->
width
, s->
height
, s->
cŞÜ_d•th
, 
a
, 
c
, 
x
, 
y
, 
video
);

	@graph/graph_lower/screen_set_v_line.c

30 
	~<¡ršg.h
>

31 
	~<lim™s.h
>

33 
	~<d©a_¡ruùu»s.h
>

35 
	~"../g¿ph_low”.h
"

37 
si_t


38 
	gsü“n_£t_v_lše


39 (
sü“n
 * 
	gs
,

40 
»ùªgË
 * 
	ga
,

41 
cŞÜ
 * 
	gc
,

42 
si_t
 
	gx1
,

43 
si_t
 
	gy1
,

44 
si_t
 
	gx2
,

45 
si_t
 
	gy2
)

47 
ui_t
 
	goff£t
, 
	gcŞÜ
, 
	gpix–
, 
	gn
, 
	gsize
, 
	gb™
, 
	glše_b™
;

48 
by‹_t
 * 
	gaddr
, * 
	gvideo
;

49 
by‹_t
 
	g‹mp
;

50 
»ùªgË
 
	g»suÉ_¬—
, 
	gsü“n_¬—
;

52 if(
	gs
->
	gvideo_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_DIRECT
)

54 
video
 = 
s
->
memÜy_addr
;

56 if(
	gs
->
	gvideo_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_BUFFER
)

58 
video
 = 
s
->
bufãr_addr
;

65 
	gsü“n_¬—
.
	gx
 = 0;

66 
	gsü“n_¬—
.
	gy
 = 0;

67 
	gsü“n_¬—
.
	gwidth
 = 
s
->
width
;

68 
	gsü“n_¬—
.
	gheight
 = 
s
->
height
;

71 if(
¬—_š‹r£ùiÚ
(
a
, &
sü“n_¬—
, &
»suÉ_¬—
) == -1)

77 if(
	gy2
 < 
	gy1
)

80 
	gy1
 = 
y1
 ^ 
y2
;

81 
	gy2
 = 
y2
 ^ 
y1
;

82 
	gy1
 = 
y1
 ^ 
y2
;

87 ((
	gx2
 < 
	g»suÉ_¬—
.
	gx
) ||

88 (
	gx1
 > 
	g»suÉ_¬—
.
	gx
 +„esuÉ_¬—.
	gwidth
 - 1) ||

89 (
	gy2
 < 
	g»suÉ_¬—
.
	gy
) ||

90 (
	gy1
 > 
	g»suÉ_¬—
.
	gy
 +„esuÉ_¬—.
	gheight
 - 1))

97 
	gy1
 = 
y1
 < 
»suÉ_¬—
.
y
 ?„esult_area.y : y1;

98 
	gy2
 = 
y2
 > 
»suÉ_¬—
.
y
 +„esuÉ_¬—.
height
 - 1 ?„esult_area.y +„esult_area.height - 1 : y2;

101 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_MONO01
)

105 ((
c
->
r
 =ğ
glob®_cŞÜ_lim™
.
r_lim™
) &&

106 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
) &&

107 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
))

109 
cŞÜ
 = 0;

113 ((
	gc
->
	gr
 == 0) &&

114 (
c
->
g
 == 0) &&

115 (
c
->
g
 == 0))

117 
cŞÜ
 = 1;

120 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_MONO10
)

124 ((
c
->
r
 =ğ
glob®_cŞÜ_lim™
.
r_lim™
) &&

125 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
) &&

126 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
))

128 
cŞÜ
 = 1;

132 ((
	gc
->
	gr
 == 0) &&

133 (
c
->
g
 == 0) &&

134 (
c
->
g
 == 0))

136 
cŞÜ
 = 0;

140 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_DIRECTCOLOR
)

143 
sü“n_cŞÜ_to_šdex
(&
cŞÜ
, 
c
);

145 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_PSEUDOCOLOR
)

148 
sü“n_cŞÜ_to_šdex
(&
cŞÜ
, 
c
);

150 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_TRUECOLOR
)

153 
sü“n_cŞÜ_to_v®ue
(&
cŞÜ
, 
c
);

157 
	gb™
 = 
y1
 * 
glob®_fix_sü“n_šfo
.
lše_Ëngth
 * 
CHAR_BIT
 + 
x1
 * 
s
->
cŞÜ_d•th
;

159 
	glše_b™
 = 
glob®_fix_sü“n_šfo
.
lše_Ëngth
 * 
CHAR_BIT
;

161 
	gsize
 = 
y2
 - 
y1
 + 1;

163 if(
	gs
->
	gcŞÜ_d•th
 < 8)

165 if(
	gs
->
	gcŞÜ_d•th
 == 1)

167 
size
)

169 
off£t
 = 
b™
 & 7;

170 
	gaddr
 = 
video
 + (
b™
 >> 3);

172 
	g‹mp
 = 
cŞÜ
;

174 
	g‹mp
 = (
‹mp
 & 0X1è<< 
off£t
;

176 * 
	gaddr
 &ğ~(0X1 << 
off£t
);

178 * 
	gaddr
 |ğ
‹mp
;

180 
	gb™
 = 
b™
 + 
lše_b™
;

182 -- 
	gsize
;

185 if(
	gs
->
	gcŞÜ_d•th
 == 2)

187 
size
)

189 
off£t
 = 
b™
 & 7;

190 
	gaddr
 = 
video
 + (
b™
 >> 3);

192 
	g‹mp
 = 
cŞÜ
;

194 
	g‹mp
 = (
‹mp
 & 0X3è<< 
off£t
;

196 * 
	gaddr
 &ğ~(0X3 << 
off£t
);

198 * 
	gaddr
 |ğ
‹mp
;

200 
	gb™
 = 
b™
 + 
lše_b™
;

202 -- 
	gsize
;

205 if(
	gs
->
	gcŞÜ_d•th
 == 4)

207 
size
)

209 
off£t
 = 
b™
 & 7;

210 
	gaddr
 = 
video
 + (
b™
 >> 3);

212 
	g‹mp
 = 
cŞÜ
;

214 
	g‹mp
 = (
‹mp
 & 0XFè<< 
off£t
;

216 * 
	gaddr
 &ğ~(0XF << 
off£t
);

218 * 
	gaddr
 |ğ
‹mp
;

220 
	gb™
 = 
b™
 + 
lše_b™
;

222 -- 
	gsize
;

230 
	gpix–
 = 
s
->
cŞÜ_d•th
 >> 3;

232 
	goff£t
 = 
b™
 >> 3;

234 
	gn
 = 
lše_b™
 >> 3;

237 
	gsize
)

240 
memıy
(
video
 + 
off£t
, &
cŞÜ
, 
pix–
);

242 
	goff£t
 +ğ
n
;

243 -- 
	gsize
;

	@graph/graph_lower/screen_set_x_line.c

30 
	~<¡ršg.h
>

31 
	~<lim™s.h
>

33 
	~<d©a_¡ruùu»s.h
>

35 
	~"../g¿ph_low”.h
"

37 
si_t


38 
	gsü“n_£t_x_lše


39 (
sü“n
 * 
	gs
,

40 
»ùªgË
 * 
	ga
,

41 
cŞÜ
 * 
	gc
,

42 
si_t
 
	gx1
,

43 
si_t
 
	gy1
,

44 
si_t
 
	gx2
,

45 
si_t
 
	gy2
)

47 
ui_t
 
	goff£t
, 
	gcŞÜ
, 
	gsize
, 
	gn
, 
	gb™
, 
	glše_b™
, 
	gpix–
;

48 
si_t
 
	gd–
, 
	gb
;

49 
by‹_t
 * 
	gaddr
, * 
	gvideo
;

50 
by‹_t
 
	g‹mp
;

51 
»ùªgË
 
	g»suÉ_¬—
, 
	gsü“n_¬—
;

53 if(
	gs
->
	gvideo_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_DIRECT
)

55 
video
 = 
s
->
memÜy_addr
;

57 if(
	gs
->
	gvideo_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_BUFFER
)

59 
video
 = 
s
->
bufãr_addr
;

66 
	gsü“n_¬—
.
	gx
 = 0;

67 
	gsü“n_¬—
.
	gy
 = 0;

68 
	gsü“n_¬—
.
	gwidth
 = 
s
->
width
;

69 
	gsü“n_¬—
.
	gheight
 = 
s
->
height
;

72 if(
¬—_š‹r£ùiÚ
(
a
, &
sü“n_¬—
, &
»suÉ_¬—
) == -1)

78 if(
	gx2
 - 
	gx1
 =ğ
y2
 - 
y1
)

81 if(
x2
 < 
x1
)

84 
x1
 = x1 ^ 
x2
;

85 
	gx2
 = 
x2
 ^ 
x1
;

86 
	gx1
 = 
x1
 ^ 
x2
;

89 
	gy1
 = 
y1
 ^ 
y2
;

90 
	gy2
 = 
y2
 ^ 
y1
;

91 
	gy1
 = 
y1
 ^ 
y2
;

96 ((
	gx2
 < 
	g»suÉ_¬—
.
	gx
) ||

97 (
	gx1
 > 
	g»suÉ_¬—
.
	gx
 +„esuÉ_¬—.
	gwidth
 - 1) ||

98 (
	gy2
 < 
	g»suÉ_¬—
.
	gy
) ||

99 (
	gy1
 > 
	g»suÉ_¬—
.
	gy
 +„esuÉ_¬—.
	gheight
 - 1))

107 
	gb
 = 
y1
 - 
x1
;

109 if(
	gx1
 < 
	g»suÉ_¬—
.
	gx
)

111 
	gx1
 = 
»suÉ_¬—
.
x
;

112 
	gy1
 = 
x1
 + 
b
;

114 if(
	gy1
 < 
	g»suÉ_¬—
.
	gy
)

116 
	gy1
 = 
»suÉ_¬—
.
y
;

117 
	gx1
 = 
y1
 - 
b
;

119 if(
	gx2
 > 
	g»suÉ_¬—
.
	gx
 +„esuÉ_¬—.
	gwidth
 - 1)

121 
	gx2
 = 
»suÉ_¬—
.
x
 +„esuÉ_¬—.
width
 - 1;

122 
	gy2
 = 
x2
 + 
b
;

124 if(
	gy2
 > 
	g»suÉ_¬—
.
	gy
 +„esuÉ_¬—.
	gheight
 - 1)

126 
	gy2
 = 
»suÉ_¬—
.
y
 +„esuÉ_¬—.
height
 - 1;

127 
	gx2
 = 
y2
 - 
b
;

135 if(
	gx1
 < 
	gx2
)

138 
	gx1
 = 
x1
 ^ 
x2
;

139 
	gx2
 = 
x2
 ^ 
x1
;

140 
	gx1
 = 
x1
 ^ 
x2
;

143 
	gy1
 = 
y1
 ^ 
y2
;

144 
	gy2
 = 
y2
 ^ 
y1
;

145 
	gy1
 = 
y1
 ^ 
y2
;

150 ((
	gx1
 < 
	g»suÉ_¬—
.
	gx
) ||

151 (
	gx2
 > 
	g»suÉ_¬—
.
	gx
 +„esuÉ_¬—.
	gwidth
 - 1) ||

152 (
	gy2
 < 
	g»suÉ_¬—
.
	gy
) ||

153 (
	gy1
 > 
	g»suÉ_¬—
.
	gy
 +„esuÉ_¬—.
	gheight
 - 1))

161 
	gb
 = 
y1
 + 
x1
;

163 if(
	gx1
 > 
	g»suÉ_¬—
.
	gx
 +„esuÉ_¬—.
	gwidth
 - 1)

165 
	gx1
 = 
»suÉ_¬—
.
x
 +„esuÉ_¬—.
width
 - 1;

166 
	gy1
 = 
b
 - 
x1
;

168 if(
	gy1
 < 
	g»suÉ_¬—
.
	gy
)

170 
	gy1
 = 
»suÉ_¬—
.
y
;

171 
	gx1
 = 
b
 - 
y1
;

173 if(
	gx2
 < 
	g»suÉ_¬—
.
	gx
)

175 
	gx2
 = 
»suÉ_¬—
.
x
;

176 
	gy2
 = 
b
 - 
x2
;

178 if(
	gy2
 > 
	g»suÉ_¬—
.
	gy
 +„esuÉ_¬—.
	gheight
 - 1)

180 
	gy2
 = 
»suÉ_¬—
.
y
 +„esuÉ_¬—.
height
 - 1;

181 
	gx2
 = 
b
 - 
y2
;

186 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_MONO01
)

190 ((
c
->
r
 =ğ
glob®_cŞÜ_lim™
.
r_lim™
) &&

191 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
) &&

192 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
))

194 
cŞÜ
 = 0;

198 ((
	gc
->
	gr
 == 0) &&

199 (
c
->
g
 == 0) &&

200 (
c
->
g
 == 0))

202 
cŞÜ
 = 1;

205 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_MONO10
)

209 ((
c
->
r
 =ğ
glob®_cŞÜ_lim™
.
r_lim™
) &&

210 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
) &&

211 (
c
->
g
 =ğ
glob®_cŞÜ_lim™
.
g_lim™
))

213 
cŞÜ
 = 1;

217 ((
	gc
->
	gr
 == 0) &&

218 (
c
->
g
 == 0) &&

219 (
c
->
g
 == 0))

221 
cŞÜ
 = 0;

225 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_DIRECTCOLOR
)

228 
sü“n_cŞÜ_to_šdex
(&
cŞÜ
, 
c
);

230 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_PSEUDOCOLOR
)

233 
sü“n_cŞÜ_to_šdex
(&
cŞÜ
, 
c
);

235 if(
	gglob®_fix_sü“n_šfo
.
	gvisu®
 =ğ
FB_VISUAL_TRUECOLOR
)

238 
sü“n_cŞÜ_to_v®ue
(&
cŞÜ
, 
c
);

242 
	gb™
 = 
y1
 * 
glob®_fix_sü“n_šfo
.
lše_Ëngth
 * 
CHAR_BIT
 + 
x1
 * 
s
->
cŞÜ_d•th
;

244 
	glše_b™
 = 
glob®_fix_sü“n_šfo
.
lše_Ëngth
 * 
CHAR_BIT
;

246 
	gsize
 = 
y2
 - 
y1
 + 1;

248 if(
	gs
->
	gcŞÜ_d•th
 < 8)

251 if(
	gx2
 - 
	gx1
 =ğ
y2
 - 
y1
)

253 
d–
 = 
s
->
cŞÜ_d•th
;

258 
	gd–
 = 0 - 
s
->
cŞÜ_d•th
;

261 if(
	gs
->
	gcŞÜ_d•th
 == 1)

263 
size
)

265 
off£t
 = 
b™
 & 7;

266 
	gaddr
 = 
video
 + (
b™
 >> 3);

268 
	g‹mp
 = 
cŞÜ
;

270 
	g‹mp
 = (
‹mp
 & 0X1è<< 
off£t
;

272 * 
	gaddr
 &ğ~(0X1 << 
off£t
);

274 * 
	gaddr
 |ğ
‹mp
;

276 
	gb™
 = 
b™
 + 
lše_b™
 + 
d–
;

278 -- 
	gsize
;

281 if(
	gs
->
	gcŞÜ_d•th
 == 2)

283 
size
)

285 
off£t
 = 
b™
 & 7;

286 
	gaddr
 = 
video
 + (
b™
 >> 3);

288 
	g‹mp
 = 
cŞÜ
;

290 
	g‹mp
 = (
‹mp
 & 0X3è<< 
off£t
;

292 * 
	gaddr
 &ğ~(0X3 << 
off£t
);

294 * 
	gaddr
 |ğ
‹mp
;

296 
	gb™
 = 
b™
 + 
lše_b™
 + 
d–
;

298 -- 
	gsize
;

301 if(
	gs
->
	gcŞÜ_d•th
 == 4)

303 
size
)

305 
off£t
 = 
b™
 & 7;

306 
	gaddr
 = 
video
 + (
b™
 >> 3);

308 
	g‹mp
 = 
cŞÜ
;

310 
	g‹mp
 = (
‹mp
 & 0XFè<< 
off£t
;

312 * 
	gaddr
 &ğ~(0XF << 
off£t
);

314 * 
	gaddr
 |ğ
‹mp
;

316 
	gb™
 = 
b™
 + 
lše_b™
 + 
d–
;

318 -- 
	gsize
;

325 
	gpix–
 = 
s
->
cŞÜ_d•th
 >> 3;

327 
	goff£t
 = 
b™
 >> 3;

329 
	gn
 = 
lše_b™
 >> 3;

332 if(
	gx2
 - 
	gx1
 =ğ
y2
 - 
y1
)

334 
d–
 = 
pix–
;

339 
	gd–
 = 0 - 
pix–
;

343 
	gsize
)

346 
memıy
(
video
 + 
off£t
, &
cŞÜ
, 
pix–
);

348 
	goff£t
 +ğ
n
 + 
d–
;

349 -- 
	gsize
;

	@include/application.h

30 #iâdeà
_INCLUDE_APPLICATION_H_


31 
	#_INCLUDE_APPLICATION_H_
 1

	)

33 
	~"../­¶iÿtiÚ/ex‹º®.h
"

	@include/base_type.h

30 #iâdeà
_INCLUDE_BASE_TYPE_H_


31 
	#_INCLUDE_BASE_TYPE_H_
 1

	)

33 
	~"../uts/ba£_ty³/ba£_ty³.h
"

	@include/client_lib.h

30 #iâdeà
_INCLUDE_CLIENT_LIB_H_


31 
	#_INCLUDE_CLIENT_LIB_H_
 1

	)

33 
	~"../ş›Á_lib/ş›Á_lib.h
"

34 
	~"../g¿ph/g¿ph_’um”©Ü.h
"

	@include/color.h

30 #iâdeà
_INCLUDE_COLOR_H_


31 
	#_INCLUDE_COLOR_H_
 1

	)

33 
	~"../uts/cŞÜ/cŞÜ.h
"

	@include/comm.h

30 #iâdeà
_INCLUDE_COMM_H_


31 
	#_INCLUDE_COMM_H_
 1

	)

33 
	~"../comm/ex‹º®.h
"

	@include/compiler.h

1 #iâdeà
COMPILER_H


3 
	#COMPILER_H


	)

5 #ià
defšed
(
__GNUC__
) && (__GNUC__ >= 3)

7 
	#lik–y
(
x
è
	`__butš_ex³ù
(!!(x), 1)

	)

8 
	#uÆik–y
(
x
è
	`__butš_ex³ù
(!!(x), 0)

	)

9 
	#__NORETURN
 
	`__©Œibu‹__
((
__nÜ‘uº__
))

	)

10 
	#__MALLOC
 
	`__©Œibu‹__
((
__m®loc__
))

	)

14 
	#lik–y
(
x
è(x)

	)

15 
	#uÆik–y
(
x
è(x)

	)

16 
	#__NORETURN


	)

17 
	#__MALLOC


	)

21 
	#NOT_USED
(
x
è(()(x))

	)

	@include/config_parser.h

30 #iâdeà
_INCLUDE_EVENT_H_


31 
	#_INCLUDE_EVENT_H_
 1

	)

33 
	~"../uts/cÚfig_·r£r/cÚfig_·r£r.h
"

	@include/data_structures.h

31 #iâdeà
_INCLUDE_DATA_STRUCTURES_H_


32 
	#_INCLUDE_DATA_STRUCTURES_H_
 1

	)

34 
	~"../uts/d©a_¡ruùu»s/ex‹º®.h
"

	@include/event.h

30 #iâdeà
_INCLUDE_EVENT_H_


31 
	#_INCLUDE_EVENT_H_
 1

	)

33 
	~"../ev’t/ev’t.h
"

	@include/geometry.h

31 #iâdeà
_INCLUDE_GEOMETRY_H_


32 
	#_INCLUDE_GEOMETRY_H_
 1

	)

34 
	~"../uts/geom‘ry/geom‘ry.h
"

	@include/graph.h

30 #iâdeà
_INCLUDE_GRAPH_TYPE_H_


31 
	#_INCLUDE_GRAPH_TYPE_H_
 1

	)

33 
	~"../g¿ph/ex‹º®.h
"

	@include/log.h

30 #iâdeà
_INCLUDE_LOG_H_


31 
	#_INCLUDE_LOG_H_
 1

	)

33 
	~"../uts/log/log.h
"

	@include/server_lib.h

30 #iâdeà
_INCLUDE_SERVER_LIB_H_


31 
	#_INCLUDE_SERVER_LIB_H_
 1

	)

33 
	~"../£rv”_lib/£rv”_lib.h
"

	@include/widget.h

30 #iâdeà
_INCLUDE_WIDGET_H_


31 
	#_INCLUDE_WIDGET_H_
 1

	)

33 
	~"../widg‘/ex‹º®.h
"

	@server_lib/server_lib.c

30 
	~"£rv”_lib.h
"

32 
	~<¡ršg.h
>

33 
	~"g¿ph.h
"

34 
	~"log.h
"

35 
	~"comp”.h
"

37 
ev’t_li¡’”
* 
	g£rv”_lib_ev’t_li¡’”_±r
 = 
NULL
;

40 (*
ş›Á_ex™_hªdËr
)(
addr_t
èğ
NULL
;

41 
	$si_t
(*
»gi¡”_­¶iÿtiÚ_hªdËr
)(
addr_t
, 
si_t
, si_t, *èğ
NULL
;

42 
	$si_t
(*
ÿnûl_­¶iÿtiÚ_hªdËr
)(
addr_t
èğ
NULL
;

43 
	$si_t
(*
g¿phics_deviû_š™_hªdËr
)(
addr_t
, 
si_t
èğ
NULL
;

44 
	$si_t
(*
g¿phics_deviû_ex™_hªdËr
)(
addr_t
, 
si_t
èğ
NULL
;

45 
	$si_t
(*
wšdow_mªag”_ex™_hªdËr
)(
addr_t
èğ
NULL
;

46 
	$si_t
(*
desktİ_dœty_hªdËr
)(
addr_t
èğ
NULL
;

47 
	$si_t
(*
upd©e_hªdËr
)(
addr_t
, 
si_t
èğ
NULL
;

48 
	$si_t
(*
aùiv©e_wšdow_hªdËr
)(
addr_t
, 
si_t
èğ
NULL
;

49 
	$si_t
(*
»gi¡”_wšdow_hªdËr
)(
addr_t
, 
si_t
, *, si_t, si_t, si_t, si_t, si_t, si_t, si_tèğ
NULL
;

50 
	$si_t
(*
ÿnûl_wšdow_hªdËr
)(
addr_t
, 
si_t
èğ
NULL
;

51 
	$si_t
(*
move_wšdow_hªdËr
)(
addr_t
, 
si_t
, si_t, si_tèğ
NULL
;

52 
	$si_t
(*
»size_wšdow_hªdËr
)(
addr_t
, 
si_t
, si_t, si_t, si_t, si_tèğ
NULL
;

53 
	$si_t
(*
mšimize_wšdow_hªdËr
)(
addr_t
, 
si_t
èğ
NULL
;

54 
	$si_t
(*
maximize_wšdow_hªdËr
)(
addr_t
, 
si_t
, 
»ùªgË
*èğ
NULL
;

55 
	$si_t
(*
»¡Üe_wšdow_hªdËr
)(
addr_t
, 
si_t
, 
»ùªgË
*èğ
NULL
;

56 
	$si_t
(*
g‘_wšdow_t™Ë
)(
addr_t
, 
si_t
, **èğ
NULL
;

60 
si_t
 
	`_ev’t_li¡’”_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
­p_addr
);

61 
si_t
 
	`_£rv”_lib_hªdËr
(
addr_t
 
body
, si_ˆ
d‘a_ty³
, 
»¥Úd
* 
»¥Úd_±r
,‡ddr_ˆ
­p_addr
);

62 
si_t
 
	`_£rv”_lib_hªdË_»que¡
(
addr_t
 
body
, si_ˆ
d‘a_ty³
, 
»¥Úd
* 
»¥Úd_±r
,‡ddr_ˆ
­p_addr
);

63 
si_t
 
	`_£rv”_lib_hªdË_g¿phics_İs
(
addr_t
 
body
, si_ˆ
d‘a_ty³
, 
»¥Úd
* 
»¥Úd_±r
,‡ddr_ˆ
­p_addr
);

64 
	`_£rv”_lib_ex™_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
­p_addr
);

70 cÚ¡ 
si_t
 
EXIT_NUMBER
 = 255;

72 
	`£rv”_lib_š™
(
ev’t_li¡’”
* 
uµ”_ev’t_li¡’”
, (*
hªdËr
)(
addr_t
))

74 
£rv”_lib_ev’t_li¡’”_±r
 = 
uµ”_ev’t_li¡’”
;

75 
ş›Á_ex™_hªdËr
 = 
hªdËr
;

76 
	}
}

78 
	$£rv”_lib_add_Ãw_ş›Á
(
egui_uds
* 
uds_±r
, 
addr_t
 
­p_addr
)

80 
	`ev’t_li¡’”_add_»ad_ev’t
(
£rv”_lib_ev’t_li¡’”_±r
, 
uds_±r
, 
­p_addr
, 
_ev’t_li¡’”_hªdËr
, 
_£rv”_lib_ex™_hªdËr
);

81 
	}
}

83 
add_»gi¡”_­¶iÿtiÚ_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
, si_t, *))

85 
»gi¡”_­¶iÿtiÚ_hªdËr
 = 
hªdËr
;

86 
	}
}

88 
add_ÿnûl_­¶iÿtiÚ_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
))

90 
ÿnûl_­¶iÿtiÚ_hªdËr
 = 
hªdËr
;

91 
	}
}

93 
add_g¿phics_deviû_š™_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
))

95 
g¿phics_deviû_š™_hªdËr
 = 
hªdËr
;

96 
	}
}

98 
add_g¿phics_deviû_ex™_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
))

100 
g¿phics_deviû_ex™_hªdËr
 = 
hªdËr
;

101 
	}
}

103 
add_wšdow_mªag”_ex™_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
))

105 
wšdow_mªag”_ex™_hªdËr
 = 
hªdËr
;

106 
	}
}

108 
add_desktİ_dœty_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
))

110 
desktİ_dœty_hªdËr
 = 
hªdËr
;

111 
	}
}

113 
add_upd©e_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
))

115 
upd©e_hªdËr
 = 
hªdËr
;

116 
	}
}

118 
add_aùiv©e_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
))

120 
aùiv©e_wšdow_hªdËr
 = 
hªdËr
;

121 
	}
}

123 
add_»gi¡”_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
, *, si_t, si_t, si_t, si_t, si_t, si_t, si_t))

125 
»gi¡”_wšdow_hªdËr
 = 
hªdËr
;

126 
	}
}

128 
add_ÿnûl_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
))

130 
ÿnûl_wšdow_hªdËr
 = 
hªdËr
;

131 
	}
}

133 
add_move_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
, si_t, si_t))

135 
move_wšdow_hªdËr
 = 
hªdËr
;

136 
	}
}

138 
add_»size_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
, si_t, si_t, si_t, si_t))

140 
»size_wšdow_hªdËr
 = 
hªdËr
;

141 
	}
}

143 
add_mšimize_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
))

145 
mšimize_wšdow_hªdËr
 = 
hªdËr
;

146 
	}
}

148 
add_maximize_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
, 
»ùªgË
*))

150 
maximize_wšdow_hªdËr
 = 
hªdËr
;

151 
	}
}

153 
add_»¡Üe_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
, 
»ùªgË
*))

155 
»¡Üe_wšdow_hªdËr
 = 
hªdËr
;

156 
	}
}

158 
add_g‘_wšdow_t™Ë_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
, **))

160 
g‘_wšdow_t™Ë
 = 
hªdËr
;

161 
	}
}

163 
	$cİy_mes§ge
(
mes§ge
* 
ba£_msg
, mes§ge* 
msg_to_be_£Á
)

165 if(
ba£_msg
)

166 
	`memıy
(
msg_to_be_£Á
, 
ba£_msg
, (
mes§ge
));

168 
	`mem£t
(
msg_to_be_£Á
, 0, (
mes§ge
));

169 
	}
}

171 
si_t
 
	$£nd_šput_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, 
si_t
 
wšdow_desü‹r
)

173 
	`mes§ge_£t_wšdow_desütÜ
(
msg
, 
wšdow_desü‹r
);

174  
	`comm_£nd_mes§ge
(
uds_±r
, 
msg
);

175 
	}
}

177 
si_t
 
	$£nd_widg‘_move_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, 
si_t
 
wšdow_desü‹r
, si_ˆ
x_off£t
, si_ˆ
y_off£t
)

179 
mes§ge
 
msg_to_be_£Á
;

180 
pošt
 
p
 = {0};

181 
	`pošt_£t
(&
p
, 
x_off£t
, 
y_off£t
);

182 
	`cİy_mes§ge
(
msg
, &
msg_to_be_£Á
);

183 
	`mes§ge_£t_widg‘_move
(&
msg_to_be_£Á
, 
wšdow_desü‹r
, &
p
);

184  
	`comm_£nd_mes§ge
(
uds_±r
, &
msg_to_be_£Á
);

185 
	}
}

187 
si_t
 
	$£nd_widg‘_»size_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, 
si_t
 
wšdow_desü‹r
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
)

189 
mes§ge
 
msg_to_be_£Á
;

190 
»ùªgË
 
¬—
 = {0};

191 
	`cİy_mes§ge
(
msg
, &
msg_to_be_£Á
);

192 
	`»ùªgË_£t
(&
¬—
, 
x_axis
, 
y_axis
, 
x_size
, 
y_size
);

193 
	`mes§ge_£t_widg‘_»size
(&
msg_to_be_£Á
, 
wšdow_desü‹r
, &
¬—
);

194  
	`comm_£nd_mes§ge
(
uds_±r
, &
msg_to_be_£Á
);

195 
	}
}

197 
si_t
 
	$£nd_wšdow_aùiv©e_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, 
si_t
 
wšdow_desü‹r
)

199 
mes§ge
 
msg_to_be_£Á
;

200 
	`cİy_mes§ge
(
msg
, &
msg_to_be_£Á
);

201 
	`mes§ge_£t_wšdow_aùiv©e
(&
msg_to_be_£Á
, 
wšdow_desü‹r
);

202  
	`comm_£nd_mes§ge
(
uds_±r
, &
msg_to_be_£Á
);

203 
	}
}

205 
si_t
 
	$£nd_wšdow_d—ùiv©e_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, 
si_t
 
wšdow_desü‹r
)

207 
mes§ge
 
msg_to_be_£Á
;

208 
	`cİy_mes§ge
(
msg
, &
msg_to_be_£Á
);

209 
	`mes§ge_£t_wšdow_d—ùiv©e
(&
msg_to_be_£Á
, 
wšdow_desü‹r
);

210  
	`comm_£nd_mes§ge
(
uds_±r
, &
msg_to_be_£Á
);

211 
	}
}

213 
si_t
 
	$£nd_wšdow_mšimize_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, 
si_t
 
wšdow_desü‹r
)

215 
mes§ge
 
msg_to_be_£Á
;

216 
	`cİy_mes§ge
(
msg
, &
msg_to_be_£Á
);

217 
	`mes§ge_£t_wšdow_mšimize
(&
msg_to_be_£Á
, 
wšdow_desü‹r
);

218  
	`comm_£nd_mes§ge
(
uds_±r
, &
msg_to_be_£Á
);

219 
	}
}

221 
si_t
 
	$£nd_wšdow_maximize_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, 
si_t
 
wšdow_desü‹r
)

223 
mes§ge
 
msg_to_be_£Á
;

224 
	`cİy_mes§ge
(
msg
, &
msg_to_be_£Á
);

225 
	`mes§ge_£t_wšdow_maximize
(&
msg_to_be_£Á
, 
wšdow_desü‹r
);

226  
	`comm_£nd_mes§ge
(
uds_±r
, &
msg_to_be_£Á
);

227 
	}
}

229 
si_t
 
	$£nd_wšdow_»¡Üe_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, 
si_t
 
wšdow_desü‹r
)

231 
mes§ge
 
msg_to_be_£Á
;

232 
	`cİy_mes§ge
(
msg
, &
msg_to_be_£Á
);

233 
	`mes§ge_£t_wšdow_»¡Üe
(&
msg_to_be_£Á
, 
wšdow_desü‹r
);

234  
	`comm_£nd_mes§ge
(
uds_±r
, &
msg_to_be_£Á
);

235 
	}
}

237 
si_t
 
	$£nd_wšdow_şo£_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, 
si_t
 
wšdow_desü‹r
)

239 
mes§ge
 
msg_to_be_£Á
;

240 
	`cİy_mes§ge
(
msg
, &
msg_to_be_£Á
);

241 
	`mes§ge_£t_wšdow_şo£
(&
msg_to_be_£Á
, 
wšdow_desü‹r
);

242  
	`comm_£nd_mes§ge
(
uds_±r
, &
msg_to_be_£Á
);

243 
	}
}

245 
si_t
 
	$£nd_wšdow_»gi¡”_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, 
si_t
 
wšdow_desü‹r
)

247 
mes§ge
 
msg_to_be_£Á
;

248 
	`cİy_mes§ge
(
msg
, &
msg_to_be_£Á
);

249 
	`mes§ge_£t_wšdow_»gi¡”
(&
msg_to_be_£Á
, 
wšdow_desü‹r
);

250  
	`comm_£nd_mes§ge
(
uds_±r
, &
msg_to_be_£Á
);

251 
	}
}

253 
si_t
 
	$£nd_wšdow_ÿnûl_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, 
si_t
 
wšdow_desü‹r
)

255 
mes§ge
 
msg_to_be_£Á
;

256 
	`cİy_mes§ge
(
msg
, &
msg_to_be_£Á
);

257 
	`mes§ge_£t_wšdow_ÿnûl
(&
msg_to_be_£Á
, 
wšdow_desü‹r
);

258  
	`comm_£nd_mes§ge
(
uds_±r
, &
msg_to_be_£Á
);

259 
	}
}

261 
si_t
 
	$£nd_­¶iÿtiÚ_qu™_mes§ge
(
egui_uds
* 
uds_±r
)

266 
mes§ge
 
msg_to_be_£Á
;

267 
	`mem£t
(&
msg_to_be_£Á
, 0, (msg_to_be_sent));

268 
	`mes§ge_£t_ty³
(&
msg_to_be_£Á
, 
MESSAGE_TYPE_APPLICATION_QUIT
);

269  
	`comm_£nd_mes§ge
(
uds_±r
, &
msg_to_be_£Á
);

270 
	}
}

272 
si_t
 
	$_ev’t_li¡’”_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
­p_addr
)

274 
si_t
 
»t
 = 
	`comm_»cv_»que¡_ªd_£nd_»¥Úd
(
uds_±r
, 
­p_addr
, 
_£rv”_lib_hªdËr
);

275 if(-1 =ğ
»t
)

277 
	`EGUI_PRINT_ERROR
("failedo„ecv„equest or send„espond");

278  
SELECTER_RETURN_TYPE_CONTINUE
;

280  
»t
;

281 
	}
}

283 
si_t
 
	$_£rv”_lib_hªdËr
(
addr_t
 
body
, 
si_t
 
d‘a_ty³
, 
»¥Úd
* 
»¥Úd_±r
,‡ddr_ˆ
­p_addr
)

285 
si_t
 
»t
 = 
	`_£rv”_lib_hªdË_g¿phics_İs
(
body
, 
d‘a_ty³
, 
»¥Úd_±r
, 
­p_addr
);

286 if(
»t
 == -1)

287 
»t
 = 
	`_£rv”_lib_hªdË_»que¡
(
body
, 
d‘a_ty³
, 
»¥Úd_±r
, 
­p_addr
);

288  
»t
;

289 
	}
}

291 
si_t
 
	$_£rv”_lib_hªdË_»que¡
(
addr_t
 
body
, 
si_t
 
d‘a_ty³
, 
»¥Úd
* 
»¥Úd_±r
,‡ddr_ˆ
­p_addr
)

294 
si_t
 
func_»t
 = 0;

296 
si_t
 
hªdËr_»t
 = 
SELECTER_RETURN_TYPE_CONTINUE
;

297 
d‘a_ty³
)

299 
REQUEST_TYPE_REGISTER_APPLICATION
:

301 
si_t
 
video_acûss_mode
 = 0, 
­¶iÿtiÚ_ty³
 = 0;

302 * 
­p_Çme
 = 
NULL
;

303 
	`»que¡_g‘_»gi¡”_­¶iÿtiÚ
(
body
, &
video_acûss_mode
, &
­¶iÿtiÚ_ty³
, &
­p_Çme
, 
NULL
);

304 
func_»t
 = 
	`»gi¡”_­¶iÿtiÚ_hªdËr
(
­p_addr
, 
video_acûss_mode
, 
­¶iÿtiÚ_ty³
, 
­p_Çme
);

305 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_REGISTER_APPLICATION
, 
func_»t
);

308 
REQUEST_TYPE_CANCEL_APPLICATION
:

309 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_CANCEL_APPLICATION
, 0);

310 
hªdËr_»t
 = 
SELECTER_RETURN_TYPE_REMOVE_HANDLER
;

319 
REQUEST_TYPE_GRAPHICS_DEVICE_INIT
:

321 
si_t
 
gd
 = 
	`»que¡_ÿÎ_by_g¿phics_deviû_š™
(
body
, 
’gše_g¿phics_deviû_š™
);

322 
func_»t
 = 
	`g¿phics_deviû_š™_hªdËr
(
­p_addr
, 
gd
);

323 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_GRAPHICS_DEVICE_INIT
, 
gd
);

326 
REQUEST_TYPE_GRAPHICS_DEVICE_EXIT
:

328 
si_t
 
gd
 = 0;

329 
	`»que¡_g‘_g¿phics_deviû_ex™
(
body
, &
gd
);

330 
func_»t
 = 
	`»que¡_ÿÎ_by_g¿phics_deviû_ex™
(
body
, 
’gše_g¿phics_deviû_ex™
);

331 
func_»t
 = 
	`g¿phics_deviû_ex™_hªdËr
(
­p_addr
, 
gd
);

332 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_GRAPHICS_DEVICE_EXIT
, 
func_»t
);

338 
REQUEST_TYPE_WINDOW_MANAGER_QUIT
:

339 
func_»t
 = 
	`wšdow_mªag”_ex™_hªdËr
(
­p_addr
);

340 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_WINDOW_MANAGER_QUIT
, 
func_»t
);

341 if(0 =ğ
func_»t
)

343 
hªdËr_»t
 = 
SELECTER_RETURN_TYPE_END
;

346 
REQUEST_TYPE_DESKTOP_DIRTY
:

347 
func_»t
 = 
	`desktİ_dœty_hªdËr
(
­p_addr
);

348 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_DESKTOP_DIRTY
, 
func_»t
);

350 
REQUEST_TYPE_UPDATE
:

352 
si_t
 
gd
 = 0;

353 
	`»que¡_g‘_upd©e
(
body
, &
gd
);

354 
func_»t
 = 
	`upd©e_hªdËr
(
­p_addr
, 
gd
);

355 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_UPDATE
, 
func_»t
);

358 
REQUEST_TYPE_ACTIVATE_WINDOW
:

360 
si_t
 
wšdow_desü‹r
 = 0;

361 
	`»que¡_g‘_aùiv©e_wšdow
(
body
, &
wšdow_desü‹r
);

362 
func_»t
 = 
	`aùiv©e_wšdow_hªdËr
(
­p_addr
, 
wšdow_desü‹r
);

363 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_ACTIVATE_WINDOW
, 
func_»t
);

366 
REQUEST_TYPE_REGISTER_WINDOW
:

368 
si_t
 
wšdow_desü‹r
 = 0, 
x_axis
 = 0, 
y_axis
 = 0, 
x_size
 = 0, 
y_size
 = 0, 
maxabË
 = 0, 
mšabË
 = 0, 
mod–
 = 0;

369 * 
t™Ë
 = 
NULL
;

370 
	`»que¡_g‘_»gi¡”_wšdow
(
body
, &
wšdow_desü‹r
, &
t™Ë
, 
NULL
, &
x_axis
, &
y_axis
, &
x_size
, &
y_size
, &
mšabË
, &
maxabË
, &
mod–
);

371 
func_»t
 = 
	`»gi¡”_wšdow_hªdËr
(
­p_addr
, 
wšdow_desü‹r
, 
t™Ë
, 
x_axis
, 
y_axis
, 
x_size
, 
y_size
, 
mšabË
, 
maxabË
, 
mod–
);

372 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_REGISTER_WINDOW
, 
func_»t
);

375 
REQUEST_TYPE_CANCEL_WINDOW
:

377 
si_t
 
wšdow_desü‹r
 = 0;

378 
	`»que¡_g‘_ÿnûl_wšdow
(
body
, &
wšdow_desü‹r
);

379 
func_»t
 = 
	`ÿnûl_wšdow_hªdËr
(
­p_addr
, 
wšdow_desü‹r
);

380 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_CANCEL_WINDOW
, 
func_»t
);

383 
REQUEST_TYPE_MOVE_WINDOW
:

385 
si_t
 
wšdow_desü‹r
 = 0, 
x_axis
 = 0, 
y_axis
 = 0;

386 
	`»que¡_g‘_move_wšdow
(
body
, &
wšdow_desü‹r
, &
x_axis
, &
y_axis
);

387 
func_»t
 = 
	`move_wšdow_hªdËr
(
­p_addr
, 
wšdow_desü‹r
, 
x_axis
, 
y_axis
);

388 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_MOVE_WINDOW
, 
func_»t
);

391 
REQUEST_TYPE_RESIZE_WINDOW
:

393 
si_t
 
wšdow_desü‹r
 = 0, 
x_axis
 = 0, 
y_axis
 = 0, 
x_size
 = 0, 
y_size
 = 0;

394 
	`»que¡_g‘_»size_wšdow
(
body
, &
wšdow_desü‹r
, &
x_axis
, &
y_axis
, &
x_size
, &
y_size
);

395 
func_»t
 = 
	`»size_wšdow_hªdËr
(
­p_addr
, 
wšdow_desü‹r
, 
x_axis
, 
y_axis
, 
x_size
, 
y_size
);

396 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_RESIZE_WINDOW
, 
func_»t
);

399 
REQUEST_TYPE_MINIMIZE_WINDOW
:

401 
si_t
 
wšdow_desü‹r
 = 0;

402 
	`»que¡_g‘_mšimize_wšdow
(
body
, &
wšdow_desü‹r
);

403 
func_»t
 = 
	`mšimize_wšdow_hªdËr
(
­p_addr
, 
wšdow_desü‹r
);

404 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_MINIMIZE_WINDOW
, 
func_»t
);

407 
REQUEST_TYPE_MAXIMIZE_WINDOW
:

409 
si_t
 
wšdow_desü‹r
 = 0;

410 
»ùªgË
 
¬—
;

411 
	`»que¡_g‘_maximize_wšdow
(
body
, &
wšdow_desü‹r
);

412 
func_»t
 = 
	`maximize_wšdow_hªdËr
(
­p_addr
, 
wšdow_desü‹r
, &
¬—
);

413 
	`»¥Úd_£t_»ùªgË
(
»¥Úd_±r
, 
RESPOND_TYPE_MAXIMIZE_WINDOW
, &
¬—
);

416 
REQUEST_TYPE_RESTORE_WINDOW
:

418 
si_t
 
wšdow_desü‹r
 = 0;

419 
»ùªgË
 
¬—
;

420 
	`»que¡_g‘_»¡Üe_wšdow
(
body
, &
wšdow_desü‹r
, &
¬—
.
x
, &¬—.
y
, &¬—.
width
, &¬—.
height
);

421 
func_»t
 = 
	`»¡Üe_wšdow_hªdËr
(
­p_addr
, 
wšdow_desü‹r
, &
¬—
);

422 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_RESTORE_WINDOW
, 
func_»t
);

425 
REQUEST_TYPE_GET_WINDOW_TITLE
:

427 
si_t
 
wšdow_desü‹r
 = 0;

428 * 
t™Ë
 = 
NULL
;

429 
	`»que¡_g‘_wšdow_t™Ë
(
body
, &
wšdow_desü‹r
);

430 
	`g‘_wšdow_t™Ë
(
­p_addr
, 
wšdow_desü‹r
, &
t™Ë
);

431 
	`»¥Úd_£t_va
(
»¥Úd_±r
, 
RESPOND_TYPE_GET_WINDOW_TITLE
, 
t™Ë
, 
	`¡¾’
(title) + 1);

435  
hªdËr_»t
;

436 
	}
}

438 
si_t
 
	$_£rv”_lib_hªdË_g¿phics_İs
(
addr_t
 
body
, 
si_t
 
d‘a_ty³
, 
»¥Úd
* 
»¥Úd_±r
,‡ddr_ˆ
­p_addr
)

441 
si_t
 
func_»t
 = 0;

443 
si_t
 
hªdËr_»t
 = 
SELECTER_RETURN_TYPE_CONTINUE
;

445 
	`NOT_USED
(
­p_addr
);

446 
d‘a_ty³
)

448 
REQUEST_TYPE_CLEAR
:

449 
func_»t
 = 
	`»que¡_ÿÎ_by_ş—r
(
body
, 
’gše_ş—r
);

450 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_CLEAR
, 
func_»t
);

452 
REQUEST_TYPE_CLEAR_WHITE
:

453 
func_»t
 = 
	`»que¡_ÿÎ_by_ş—r_wh™e
(
body
, 
’gše_ş—r_wh™e
);

454 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_CLEAR_WHITE
, 
func_»t
);

456 
REQUEST_TYPE_CLEAR_BLACK
:

457 
func_»t
 = 
	`»que¡_ÿÎ_by_ş—r_bÏck
(
body
, 
’gše_ş—r_bÏck
);

458 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_CLEAR_BLACK
, 
func_»t
);

460 
REQUEST_TYPE_CPY_AREA
:

461 
func_»t
 = 
	`»que¡_ÿÎ_by_ıy_¬—
(
body
, 
’gše_ıy_¬—
);

462 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_CPY_AREA
, 
func_»t
);

464 
REQUEST_TYPE_DRAW_ARROW
:

465 
func_»t
 = 
	`»que¡_ÿÎ_by_d¿w_¬row
(
body
, 
’gše_d¿w_¬row
);

466 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_DRAW_ARROW
, 
func_»t
);

468 
REQUEST_TYPE_DRAW_BITMAP
:

469 
func_»t
 = 
	`»que¡_ÿÎ_by_d¿w_b™m­
(
body
, 
’gše_d¿w_b™m­
);

470 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_DRAW_BITMAP
, 
func_»t
);

472 
REQUEST_TYPE_DRAW_CIRCLE
:

473 
func_»t
 = 
	`»que¡_ÿÎ_by_d¿w_cœşe
(
body
, 
’gše_d¿w_cœşe
);

474 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_DRAW_CIRCLE
, 
func_»t
);

476 
REQUEST_TYPE_DRAW_ELLIPSE
:

477 
func_»t
 = 
	`»que¡_ÿÎ_by_d¿w_–l£
(
body
, 
’gše_d¿w_–l£
);

478 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_DRAW_ELLIPSE
, 
func_»t
);

480 
REQUEST_TYPE_DRAW_IMG
:

481 
func_»t
 = 
	`»que¡_ÿÎ_by_d¿w_img
(
body
, 
’gše_d¿w_img
);

482 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_DRAW_IMG
, 
func_»t
);

484 
REQUEST_TYPE_DRAW_LINE
:

485 
func_»t
 = 
	`»que¡_ÿÎ_by_d¿w_lše
(
body
, 
’gše_d¿w_lše
);

486 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_DRAW_LINE
, 
func_»t
);

488 
REQUEST_TYPE_DRAW_POINT
:

489 
func_»t
 = 
	`»que¡_ÿÎ_by_d¿w_pošt
(
body
, 
’gše_d¿w_pošt
);

490 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_DRAW_POINT
, 
func_»t
);

492 
REQUEST_TYPE_DRAW_POLYGON
:

493 
func_»t
 = 
	`»que¡_ÿÎ_by_d¿w_pŞygÚ
(
body
, 
’gše_d¿w_pŞygÚ
);

494 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_DRAW_POLYGON
, 
func_»t
);

496 
REQUEST_TYPE_DRAW_RECTANGLE
:

497 
func_»t
 = 
	`»que¡_ÿÎ_by_d¿w_»ùªgË
(
body
, 
’gše_d¿w_»ùªgË
);

498 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_DRAW_RECTANGLE
, 
func_»t
);

500 
REQUEST_TYPE_DRAW_X
:

501 
func_»t
 = 
	`»que¡_ÿÎ_by_d¿w_x
(
body
, 
’gše_d¿w_x
);

502 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_DRAW_X
, 
func_»t
);

504 
REQUEST_TYPE_FILL_ARROW
:

505 
func_»t
 = 
	`»que¡_ÿÎ_by_fl_¬row
(
body
, 
’gše_fl_¬row
);

506 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_FILL_ARROW
, 
func_»t
);

508 
REQUEST_TYPE_FILL_CIRCLE
:

509 
func_»t
 = 
	`»que¡_ÿÎ_by_fl_cœşe
(
body
, 
’gše_fl_cœşe
);

510 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_FILL_CIRCLE
, 
func_»t
);

512 
REQUEST_TYPE_FILL_ELLIPSE
:

513 
func_»t
 = 
	`»que¡_ÿÎ_by_fl_–l£
(
body
, 
’gše_fl_–l£
);

514 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_FILL_ELLIPSE
, 
func_»t
);

516 
REQUEST_TYPE_FILL_RECTANGLE
:

517 
func_»t
 = 
	`»que¡_ÿÎ_by_fl_»ùªgË
(
body
, 
’gše_fl_»ùªgË
);

518 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_FILL_RECTANGLE
, 
func_»t
);

520 
REQUEST_TYPE_FILL_X
:

521 
func_»t
 = 
	`»que¡_ÿÎ_by_fl_x
(
body
, 
’gše_fl_x
);

522 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_FILL_X
, 
func_»t
);

524 
REQUEST_TYPE_FILL_POLYGON
:

525 
func_»t
 = 
	`»que¡_ÿÎ_by_fl_pŞygÚ
(
body
, 
’gše_fl_pŞygÚ
);

526 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_FILL_POLYGON
, 
func_»t
);

528 
REQUEST_TYPE_GET_COLOR_LIMIT
:

530 
cŞÜ_lim™
 
func_»t
 = {0};

531 
	`’gše_g‘_cŞÜ_lim™
(&
func_»t
);

532 
	`»¥Úd_£t_cŞÜ_lim™
(
»¥Úd_±r
, 
RESPOND_TYPE_GET_COLOR_LIMIT
, &
func_»t
);

535 
REQUEST_TYPE_GET_SCREEN_WIDTH
:

536 
func_»t
 = 
	`sü“n_g‘_width
();

537 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_GET_SCREEN_WIDTH
, 
func_»t
);

539 
REQUEST_TYPE_GET_SCREEN_HEIGHT
:

540 
func_»t
 = 
	`sü“n_g‘_height
();

541 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_GET_SCREEN_HEIGHT
, 
func_»t
);

543 
REQUEST_TYPE_GET_COLOR
:

545 
cŞÜ
* 
func_»t_±r
 = 
	`»que¡_ÿÎ_by_g‘_cŞÜ
(
body
, 
’gše_g‘_cŞÜ
);

546 
	`»¥Úd_£t_cŞÜ
(
»¥Úd_±r
, 
RESPOND_TYPE_GET_COLOR
, 
func_»t_±r
);

549 
REQUEST_TYPE_GET_AREA
:

551 
»ùªgË
* 
func_»t_±r
 = 
	`»que¡_ÿÎ_by_g‘_¬—
(
body
, 
’gše_g‘_¬—
);

552 
	`»¥Úd_£t_»ùªgË
(
»¥Úd_±r
, 
RESPOND_TYPE_GET_AREA
, 
func_»t_±r
);

555 
REQUEST_TYPE_GET_FONT_WIDTH
:

556 
func_»t
 = 
	`»que¡_ÿÎ_by_g‘_fÚt_width
(
body
, 
’gše_g‘_fÚt_width
);

557 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_GET_FONT_WIDTH
, 
func_»t
);

559 
REQUEST_TYPE_GET_FONT_HEIGHT
:

560 
func_»t
 = 
	`»que¡_ÿÎ_by_g‘_fÚt_height
(
body
, 
’gše_g‘_fÚt_height
);

561 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_GET_FONT_HEIGHT
, 
func_»t
);

563 
REQUEST_TYPE_SET_AREA
:

564 
func_»t
 = 
	`»que¡_ÿÎ_by_£t_¬—
(
body
, 
’gše_£t_¬—
);

565 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_SET_AREA
, 
func_»t
);

567 
REQUEST_TYPE_SET_COLOR
:

568 
func_»t
 = 
	`»que¡_ÿÎ_by_£t_cŞÜ
(
body
, 
’gše_£t_cŞÜ
);

569 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_SET_COLOR
, 
func_»t
);

571 
REQUEST_TYPE_SET_FONT
:

572 
func_»t
 = 
	`»que¡_ÿÎ_by_£t_fÚt
(
body
, 
’gše_£t_fÚt
);

573 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_SET_FONT
, 
func_»t
);

575 
REQUEST_TYPE_SHOW_TEXT
:

576 
func_»t
 = 
	`»que¡_ÿÎ_by_show_‹xt
(
body
, 
’gše_show_‹xt
);

577 
	`»¥Úd_£t_nÜm®
(
»¥Úd_±r
, 
RESPOND_TYPE_SHOW_TEXT
, 
func_»t
);

583 
hªdËr_»t
 = -1;

586  
hªdËr_»t
;

587 
	}
}

589 
	$_£rv”_lib_ex™_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
­p_addr
)

591 
	`NOT_USED
(
uds_±r
);

592 if(
NULL
 !ğ
ş›Á_ex™_hªdËr
)

594 
	`ş›Á_ex™_hªdËr
(
­p_addr
);

596 
	}
}

	@server_lib/server_lib.h

30 #iâdeà
_SERVER_LIB_H_


31 
	#_SERVER_LIB_H_
 1

	)

33 
	~"comm.h
"

44 
£rv”_lib_š™
(
ev’t_li¡’”
* 
uµ”_ev’t_li¡’”
, (*
hªdËr
)(
addr_t
));

53 
	`£rv”_lib_add_Ãw_ş›Á
(
egui_uds
* 
uds_±r
, 
addr_t
 
­p_addr
);

67 
	`add_»gi¡”_­¶iÿtiÚ_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
, si_t, *));

74 
	`add_ÿnûl_­¶iÿtiÚ_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
));

86 
	`add_g¿phics_deviû_š™_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
));

97 
	`add_g¿phics_deviû_ex™_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
));

104 
	`add_wšdow_mªag”_ex™_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
));

111 
	`add_desktİ_dœty_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
));

118 
	`add_upd©e_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
));

125 
	`add_aùiv©e_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
));

132 
	`add_»gi¡”_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
, *, si_t, si_t, si_t, si_t, si_t, si_t, si_t));

139 
	`add_ÿnûl_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
));

146 
	`add_move_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
, si_t, si_t));

153 
	`add_»size_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
, si_t, si_t, si_t, si_t));

160 
	`add_mšimize_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
));

167 
	`add_maximize_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
, 
»ùªgË
*));

174 
	`add_»¡Üe_wšdow_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
, 
»ùªgË
*));

181 
	`add_g‘_wšdow_t™Ë_hªdËr
(
	$si_t
(*
hªdËr
)(
addr_t
, 
si_t
, **));

195 
si_t
 
	`£nd_šput_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, si_ˆ
wšdow_desü‹r
);

208 
si_t
 
	`£nd_widg‘_move_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, si_ˆ
wšdow_desü‹r
, si_ˆ
x_off£t
, si_ˆ
y_off£t
);

223 
si_t
 
	`£nd_widg‘_»size_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, si_ˆ
wšdow_desü‹r
, si_ˆ
x_axis
, si_ˆ
y_axis
, si_ˆ
x_size
, si_ˆ
y_size
);

234 
si_t
 
	`£nd_wšdow_aùiv©e_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, si_ˆ
wšdow_desü‹r
);

245 
si_t
 
	`£nd_wšdow_d—ùiv©e_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, si_ˆ
wšdow_desü‹r
);

256 
si_t
 
	`£nd_wšdow_mšimize_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, si_ˆ
wšdow_desü‹r
);

267 
si_t
 
	`£nd_wšdow_maximize_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, si_ˆ
wšdow_desü‹r
);

278 
si_t
 
	`£nd_wšdow_»¡Üe_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, si_ˆ
wšdow_desü‹r
);

289 
si_t
 
	`£nd_wšdow_şo£_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, si_ˆ
wšdow_desü‹r
);

300 
si_t
 
	`£nd_wšdow_»gi¡”_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, si_ˆ
wšdow_desü‹r
);

311 
si_t
 
	`£nd_wšdow_ÿnûl_mes§ge
(
egui_uds
* 
uds_±r
, 
mes§ge
* 
msg
, si_ˆ
wšdow_desü‹r
);

320 
si_t
 
	`£nd_­¶iÿtiÚ_qu™_mes§ge
(
egui_uds
* 
uds_±r
);

	@utils/base_type/base_type.h

30 #iâdeà
_BASE_TYPE_H_


31 
	#_BASE_TYPE_H_
 1

	)

33 
	~<¡dšt.h
>

38 
	tby‹_t
;

43 
ušt8_t
 
	tui08_t
;

48 
št8_t
 
	tsi08_t
;

53 
ušt16_t
 
	tui16_t
;

58 
št16_t
 
	tsi16_t
;

63 
ušt32_t
 
	tui32_t
;

68 
št32_t
 
	tsi32_t
;

75 
	tui_t
;

82 sigÃd 
	tsi_t
;

87 
	tf32_t
;

92 
	tf64_t
;

97 
	tf_t
;

106 * 
	taddr_t
;

111 cÚ¡ *
	tcÚ¡_addr_t
;

116 
	tboŞ_t
;

	@utils/color/color.c

1 
	~"cŞÜ.h
"

4 
	gg‘_¡d_®pha


5 (
si_t
 
	g®pha
)

7  1-()
	g®pha
/
	gCOLOR_ALPHA_MAX
;

10 
si_t


11 
	gg‘_cus_®pha


12 (
	g®pha
)

14  (
	gsi_t
)((1-
	g®pha
)*
	gCOLOR_ALPHA_MAX
);

17 
cŞÜ
 *

18 
	g®pha_bËnd


19 (
cŞÜ
 *
	ga
,

20 
cŞÜ
 *
	gb
)

22 
cŞÜ
 
	gªs
;

23 
	gß
,

24 
	g¯
,

25 
	gba
;

27 
	ga
->
	gr
 &= (1<<8)-1;

28 
	ga
->
	gg
 &= (1<<8)-1;

29 
	ga
->
	gb
 &= (1<<8)-1;

30 
	ga
->a &= (1<<8)-1;

31 
	gb
->
	gr
 &= (1<<8)-1;

32 
	gb
->
	gg
 &= (1<<8)-1;

33 
	gb
->b &= (1<<8)-1;

34 
	gb
->
	ga
 &= (1<<8)-1;

35 
	g¯
=
g‘_¡d_®pha
(
a
->a);

36 if(
	gb
->
	ga
 <= 0) {

37 
ªs
.
a
=0;

38 
	gªs
.
	gr
=
a
->
r
 * 
¯
 + 
b
->r * (1-aa);

39 
	gªs
.
	gg
=
a
->
g
 * 
¯
 + 
b
->g * (1-aa);

40 
	gªs
.
	gb
=
a
->
b
 * 
¯
 + b->b * (1-aa);

41  &
	gªs
;

44 
	gba
=
g‘_¡d_®pha
(
b
->
a
);

46 
	gß
 = 
¯
 + 
ba
 * (1-aa);

48 
	gªs
.
	gr
 = (
a
->
r
 * 
¯
 + 
b
->¸* 
ba
 * (1-¯)è/ 
ß
;

49 
	gªs
.
	gg
 = (
a
->
g
 * 
¯
 + 
b
->g * 
ba
 * (1-¯)è/ 
ß
;

50 
	gªs
.
	gb
 = (
a
->
b
 * 
¯
 + b->b * 
ba
 * (1-¯)è/ 
ß
;

51 
	gªs
.
	ga
 = 
g‘_cus_®pha
(
ß
);

53  &
	gªs
;

	@utils/color/color.h

29 #iâdeà
_COLOR_H_


30 
	#_COLOR_H_
 1

	)

32 
	~<ba£_ty³.h
>

34 
	#COLOR_ALPHA_MAX
 100

	)

37 
	scŞÜ


40 
si_t
 
	mr
;

43 
si_t
 
	mg
;

46 
si_t
 
	mb
;

55 
si_t
 
	ma
;

59 
	scŞÜ_lim™


62 
si_t
 
	mr_lim™
;

65 
si_t
 
	mg_lim™
;

68 
si_t
 
	mb_lim™
;

71 
si_t
 
	ma_lim™
;

74 
cŞÜ
 *
®pha_bËnd
(color *, color *);

	@utils/config_parser/config_parser.c

1 
	~<¡dio.h
>

2 
	~<¡dlib.h
>

3 
	~<¡ršg.h
>

4 
	~<ùy³.h
>

6 
	~<log.h
>

8 
	~"cÚfig_·r£r.h
"

9 
	~"comp”.h
"

11 
	#TMP_ARRAY_LENTH
 1024

	)

12 
	#DILIMETER
 '='

	)

22 
si_t
 
	$¡¬ts_w™h
(
lše
[], cÚ¡ 
ch
)

24 ià(
NULL
 =ğ
lše
 || 
	`¡¾’
(line) < 1)

29 ià(
ch
 !ğ
lše
[0])

36 
	}
}

45 
si_t
 
	$¡r
(
¡r
[])

47 *
p
 = 
¡r
;

48 *
q
 = 
NULL
;

49 
si_t
 
tmp_Ën
;

50 
si_t
 
Ën
;

52 
tmp_Ën
 = 
	`¡¾’
(
¡r
);

54 if(
p
)

56 
q
 = 
p
 + 
	`¡¾’
(
¡r
) - 1;

58 *
p
 && 
	`is¥aû
(*p))

60 
p
++;

63 
q
 >ğ
p
 && 
	`is¥aû
(*q))

65 *
q
-- = '\0';

69 if(
q
 - 
p
 < 0)

74 
Ën
 = 
q
 - 
p
 + 1;

75 
	`¡ºıy
(
¡r
, 
p
, 
Ën
);

76 if(
Ën
 < 
tmp_Ën
)

78 
¡r
[
Ën
] = '\0';

82 
	}
}

93 
si_t
 
	$ª®yze_lše
(
lše
[], cÚ¡ 
dim‘”
, 
cÚfig_™em
 * 
™em
)

95 *
pos
;

96 
key
[
TMP_ARRAY_LENTH
] = {'\0'};

97 
v®ue
[
TMP_ARRAY_LENTH
] = {'\0'};

99 ià(
NULL
 =ğ
lše
 || 
	`¡¾’
(line) < 1)

104 
pos
 = 
	`¡rchr
(
lše
, 
dim‘”
);

105 ià(
NULL
 =ğ
pos
)

111 
	`¡ºıy
(
key
, 
lše
, 
pos
 -†ine);

112 if(
	`¡r
(
key
) != 0)

116 
™em
->
key
 = (*)
	`m®loc
(
	`¡¾’
(key)+1);

117 
	`mem£t
(
™em
->
key
, 0, 
	`¡¾’
(key)+1);

118 
	`¡rıy
(
™em
->
key
, key);

121 
	`¡ºıy
(
v®ue
, 
pos
+1, 
lše
 + 
	`¡¾’
(line) - 1 -…os);

122 if(
	`¡r
(
v®ue
) != 0)

126 
™em
->
v®ue
 = (*)
	`m®loc
(
	`¡¾’
(value)+1);

127 
	`mem£t
(
™em
->
v®ue
, 0, 
	`¡¾’
(value)+1);

128 
	`¡rıy
(
™em
->
v®ue
, value);

131 
	}
}

134 
si_t
 
	$cÚfig_·r£r_š™
(cÚ¡ * 
·th
, 
cÚfig_·r£r
 * 
·r£r
)

136 
FILE
 *
å
;

137 
cÚfig_™em
 
™em
;

138 
lše
[
TMP_ARRAY_LENTH
] = {'\0'};

140 ià(
NULL
 =ğ
·th
)

142 
	`EGUI_PRINT_ERROR
("invalid config file…ath.");

147 
	`mem£t
(
·r£r
->
cÚfig_fe_·th
, 0, (parser->config_file_path));

150 
	`¡rıy
(
·r£r
->
cÚfig_fe_·th
, 
·th
);

151 
	`veùÜ_š™
(&(
·r£r
->
cÚfig_veùÜ
));

154 ià((
å
 = 
	`fİ’
(
·r£r
->
cÚfig_fe_·th
, "r")è=ğ
NULL
)

156 
	`EGUI_PRINT_SYS_ERROR
("failo open config file fail.");

162 
	`fg‘s
(
lše
, 
TMP_ARRAY_LENTH
, 
å
è!ğ
NULL
)

165 if(
	`¡r
(
lše
) == -1)

171 if(
	`¡¬ts_w™h
(
lše
, '#'))

177 if(
	`ª®yze_lše
(
lše
, 
DILIMETER
, &
™em
) == -1)

179 
	`EGUI_PRINT_ERROR
("çØª®yzlše: %s.", 
lše
);

184 
	`veùÜ_push_back
(&(
·r£r
->
cÚfig_veùÜ
), &
™em
, (item));

187 
	`fşo£
(
å
);

190 
	}
}

199 
si_t
 
	$key_com·»
(* 
d©a0
, * 
d©a1
)

201 
cÚfig_™em
 * 
™em
 = (cÚfig_™em *)
d©a0
;

202 * 
key
 = (*)
d©a1
;

204 if(
	`¡ºcmp
(
key
, 
™em
->key, 
	`¡¾’
(key)) == 0)

210 
	}
}

213 
si_t
 
	$cÚfig_·r£r_g‘_¡r
(
cÚfig_·r£r
 * 
·r£r
, cÚ¡ * 
key
, 
v®ue
[])

215 
si_t
 
šdex
;

216 
cÚfig_™em
 * 
™em
;

218 if(
NULL
 =ğ
key
)

220 
	`EGUI_PRINT_ERROR
("bad keyo map.");

225 
šdex
 = 
	`veùÜ_fšd
(&(
·r£r
->
cÚfig_veùÜ
), (*)
key
, 
key_com·»
);

226 if(
šdex
 < 0)

228 
	`EGUI_PRINT_ERROR
("çØm­ key %s.", 
key
);

233 
™em
 = (
cÚfig_™em
 *)
	`veùÜ_©
(&(
·r£r
->
cÚfig_veùÜ
), 
šdex
);

234 if(
NULL
 =ğ
™em
)

236 
	`EGUI_PRINT_ERROR
("sorry, i donot know why vector_at failed. but it happened :(");

242 
	`¡ºıy
(
v®ue
, 
™em
->v®ue, 
	`¡¾’
(item->value));

245 
	}
}

248 
si_t
 
	$cÚfig_·r£r_g‘_št
(
cÚfig_·r£r
 * 
·r£r
, cÚ¡ * 
key
, 
si_t
 * 
v®ue
)

250 
¡r
[
TMP_ARRAY_LENTH
] = {'\0'};

252 if(
	`cÚfig_·r£r_g‘_¡r
(
·r£r
, 
key
, 
¡r
) != 0)

254 
	`EGUI_PRINT_ERROR
("çØm­ key %s", 
key
);

259 if(
	`ssÿnf
(
¡r
, "%d", (*)
v®ue
) != 1)

261 
	`EGUI_PRINT_SYS_ERROR
("çØŒªsfÜm % štØty³ iÁ.", 
¡r
);

267 
	}
}

271 
si_t
 
	$cÚfig_·r£r_g‘_æßt
(
cÚfig_·r£r
 * 
·r£r
, cÚ¡ * 
key
, * 
v®ue
)

273 
¡r
[
TMP_ARRAY_LENTH
] = {'\0'};

275 if(
	`cÚfig_·r£r_g‘_¡r
(
·r£r
, 
key
, 
¡r
) != 0)

277 
	`EGUI_PRINT_ERROR
("çØm­ key %s.", 
key
);

282 if(
	`ssÿnf
(
¡r
, "%f", 
v®ue
) != 1)

284 
	`EGUI_PRINT_SYS_ERROR
("çØŒªsfÜm % štØty³ iÁ.", 
¡r
);

291 
	}
}

301 
si_t
 
	$™em_§ve
(* 
™em
, * 
å
)

303 
FILE
 * 
p
 = (FILE *)
å
;

304 
cÚfig_™em
 * 
™
 = (cÚfig_™em *)
™em
;

306 
	`årštf
(
p
, "%s=%s\n", 
™
->
key
, it->
v®ue
);

309 
	}
}

318 
si_t
 
	$§ve_cÚfig_to_fe
(
cÚfig_·r£r
 * 
·r£r
)

320 
FILE
 *
å
;

322 if((
å
 = 
	`fİ’
(
·r£r
->
cÚfig_fe_·th
, "w")è=ğ
NULL
)

324 
	`EGUI_PRINT_SYS_ERROR
("çØİ’ cÚfig f%s.", 
·r£r
->
cÚfig_fe_·th
);

329 
	`veùÜ_fÜ_—ch
(&(
·r£r
->
cÚfig_veùÜ
), (*)
å
, 
™em_§ve
);

331 
	`fşo£
(
å
);

334 
	}
}

337 
si_t
 
	$cÚfig_·r£r_£t_¡r
(
cÚfig_·r£r
 * 
·r£r
, cÚ¡ * 
key
, cÚ¡ * 
v®ue
)

339 
si_t
 
šdex
;

341 if(
NULL
 =ğ
key
 || NULL =ğ
v®ue
)

343 
	`EGUI_PRINT_ERROR
("bad key or value…ointer…arameter.");

348 
šdex
 = 
	`veùÜ_fšd
(&(
·r£r
->
cÚfig_veùÜ
), (*)
key
, 
key_com·»
);

351 if(
šdex
 >= 0)

353 
cÚfig_™em
 * 
™em_±r
;

355 
™em_±r
 = (
cÚfig_™em
 *)
	`veùÜ_©
(&(
·r£r
->
cÚfig_veùÜ
), 
šdex
);

358 
	`¡ºıy
(
™em_±r
->
v®ue
, v®ue, 
	`¡¾’
(value));

364 
cÚfig_™em
 
™em
;

366 
™em
.
key
 = (*)
	`m®loc
(
	`¡¾’
(key)+1);

367 
™em
.
v®ue
 = (*)
	`m®loc
(
	`¡¾’
(value)+1);

369 
	`mem£t
(
™em
.
key
, 0, 
	`¡¾’
(key)+1);

370 
	`mem£t
(
™em
.
v®ue
, 0, 
	`¡¾’
(value)+1);

372 
	`¡rıy
(
™em
.
key
, key);

373 
	`¡rıy
(
™em
.
v®ue
, value);

375 
	`veùÜ_push_back
(&(
·r£r
->
cÚfig_veùÜ
), &
™em
, (item));

379 if(
	`§ve_cÚfig_to_fe
(
·r£r
) != 0)

381 
	`EGUI_PRINT_ERROR
("failo save configo file.");

387 
	}
}

396 
si_t
 
	$™em_ex™
(* 
d©a0
, * 
d©a1
)

398 
cÚfig_™em
 *
™em
 = (cÚfig_™em *)
d©a0
;

399 
	`NOT_USED
(
d©a1
);

401 
	`ä“
(
™em
->
key
);

402 
	`ä“
(
™em
->
v®ue
);

405 
	}
}

408 
si_t
 
	$cÚfig_·r£r_ex™
(
cÚfig_·r£r
 * 
·r£r
)

411 
	`veùÜ_fÜ_—ch
(&(
·r£r
->
cÚfig_veùÜ
), 
NULL
, 
™em_ex™
);

413 
	`veùÜ_ex™
(&(
·r£r
->
cÚfig_veùÜ
));

416 
	}
}

418 *
	$g‘_cÚfig_·th
(cÚ¡ *
f’ame
)

420 *
»s
 = 
	`ÿÎoc
(
	`¡¾’
(
	`g‘’v
("HOME"))+1+¡¾’(
CONFIG_DIR
)

421 +
	`¡¾’
(
f’ame
)+1, 1);

422  
	`¡rÿt
(

423 
	`¡rÿt
(

424 
	`¡rÿt
(

425 
	`¡rÿt
(
»s
,

426 
	`g‘’v
("HOME")),

428 
CONFIG_DIR
),

429 
f’ame
);

430 
	}
}

	@utils/config_parser/config_parser.h

11 #iâdeà
_CONFIG_PARSER_H_


12 
	#_CONFIG_PARSER_H_
 1

	)

14 
	~<¡dio.h
>

16 
	~<d©a_¡ruùu»s.h
>

18 
	#FILE_NAME_MAX_LEN
 256

	)

21 
	scÚfig_™em


23 * 
	mkey
;

24 * 
	mv®ue
;

28 
	scÚfig_·r£r


31 
	mcÚfig_fe_·th
[
FILE_NAME_MAX_LEN
];

34 
veùÜ
 
	mcÚfig_veùÜ
;

45 
si_t
 
cÚfig_·r£r_š™
(cÚ¡ * 
cÚfig_fe_·th
, 
cÚfig_·r£r
 * 
·r£r
);

56 
si_t
 
cÚfig_·r£r_g‘_¡r
(
cÚfig_·r£r
 * 
·r£r
, cÚ¡ * 
key
, 
v®ue
[]);

67 
si_t
 
cÚfig_·r£r_g‘_št
(
cÚfig_·r£r
 * 
·r£r
, cÚ¡ * 
key
, si_ˆ* 
v®ue
);

78 
si_t
 
cÚfig_·r£r_g‘_æßt
(
cÚfig_·r£r
 * 
·r£r
, cÚ¡ * 
key
, * 
v®ue
);

89 
si_t
 
cÚfig_·r£r_£t_¡r
(
cÚfig_·r£r
 * 
·r£r
, cÚ¡ * 
key
, cÚ¡ * 
v®ue
);

98 
si_t
 
cÚfig_·r£r_ex™
(
cÚfig_·r£r
 * 
·r£r
);

100 
	#CONFIG_DIR
 ".egui/"

	)

109 *
g‘_cÚfig_·th
(cÚ¡ *
f’ame
);

	@utils/data_structures/cursor.c

2 
	~"cursÜ.h
"

4 
	~<uni¡d.h
>

5 
	~<sys/ty³s.h
>

6 
	~<sys/¡©.h
>

7 
	~<fú.h
>

8 
	~<¡dio.h
>

9 
	~<¡ršg.h
>

10 
	~<Ãtš‘/š.h
>

11 
	~<m©h.h
>

12 
	~<¡dlib.h
>

14 
	~<d©a_¡ruùu»s.h
>

16 
	$»ad_cursÜ_fe_h—d”
(*
·th
, 
cursÜ_fe_h—d”
 *
h—d”
)

18 
fd
 = 
	`İ’
 (
·th
, 
O_RDONLY
);

19 ià(
fd
 == -1)

21 
	`³¼Ü
 ("open");

22 
	`ex™
 (-1);

24 
	`»ad
 (
fd
, 
h—d”
->
cfRe£rve
, 2);

25 
	`»ad
 (
fd
, &
h—d”
->
cfTy³
, 2);

26 
	`»ad
 (
fd
, &
h—d”
->
cfNum
, 2);

28 
	`şo£
 (
fd
);

29 
	}
}

31 
	$´št_cursÜ_fe_h—d”
(
cursÜ_fe_h—d”
 *
h—d”
)

33 
	`´štf
 ("cfRe£rve: %s\n", 
h—d”
->
cfRe£rve
);

34 
	`´štf
 ("cfTy³: %d\n", 
h—d”
->
cfTy³
);

35 
	`´štf
 ("cfNum: %d\n", 
h—d”
->
cfNum
);

36 
	}
}

38 
	$»ad_cursÜ_šfo_h—d”
(*
·th
, 
cursÜ_šfo_h—d”
 *
h—d”
, 
Üd”
)

40 
fd
 = 
	`İ’
 (
·th
, 
O_RDONLY
);

41 ià(
fd
 == -1)

43 
	`³¼Ü
 ("open");

44 
	`ex™
 (-1);

47 
	`l£ek
 (
fd
, 6+16*(
Üd”
-1), 
SEEK_SET
);

48 
	`»ad
 (
fd
, &
h—d”
->
ciWidth
, 1);

49 
	`»ad
 (
fd
, &
h—d”
->
ciHeight
, 1);

50 
	`»ad
 (
fd
, &
h—d”
->
ciCŞÜCouÁ
, 1);

51 
	`»ad
 (
fd
, &
h—d”
->
ciRe£rve1
, 1);

52 
	`»ad
 (
fd
, 
h—d”
->
ciRe£rve2
, 4);

53 
	`»ad
 (
fd
, &
h—d”
->
ciD©aSize
, 4);

54 
	`»ad
 (
fd
, &
h—d”
->
ciD©aOff£t
, 4);

56 
	`şo£
 (
fd
);

57 
	}
}

59 
	$´št_cursÜ_šfo_h—d”
(
cursÜ_šfo_h—d”
 *
h—d”
)

61 
	`´štf
 ("ciWidth: %d\n", 
h—d”
->
ciWidth
);

62 
	`´štf
 ("ciHeight: %d\n", 
h—d”
->
ciHeight
);

63 
	`´štf
 ("ciCŞÜCouÁ: %d\n", 
h—d”
->
ciCŞÜCouÁ
);

64 
	`´štf
 ("ciRe£rve1: %c\n", 
h—d”
->
ciRe£rve1
);

65 
	`´štf
 ("ciRe£rve2: %s\n", 
h—d”
->
ciRe£rve2
);

66 
	`´štf
 ("ciD©aSize: %ld\n", 
h—d”
->
ciD©aSize
);

67 
	`´štf
 ("ciD©aOff£t: %ld\n", 
h—d”
->
ciD©aOff£t
);

68 
	}
}

70 
	$»ad_bmp_šfo_h—d”
(*
·th
, 
bmp_šfo_h—d”
 *
h—d”
, 
Üd”
)

72 
fd
 = 
	`İ’
 (
·th
, 
O_RDONLY
);

73 ià(
fd
 == -1)

75 
	`³¼Ü
 ("open");

76 
	`ex™
 (-1);

79 
cursÜ_šfo_h—d”
 
ciH—d”
;

80 
	`mem£t
 (&
ciH—d”
, 0,  (
cursÜ_šfo_h—d”
));

81 
	`»ad_cursÜ_šfo_h—d”
(
·th
, &
ciH—d”
, 
Üd”
);

83 
	`l£ek
 (
fd
, 
ciH—d”
.
ciD©aOff£t
, 
SEEK_SET
);

84 
	`»ad
 (
fd
, &
h—d”
->
biSize
, 4);

85 
	`»ad
 (
fd
, &
h—d”
->
biWidth
, 4);

86 
	`»ad
 (
fd
, &
h—d”
->
biHeight
, 4);

87 
	`»ad
 (
fd
, &
h—d”
->
biNum
, 2);

88 
	`»ad
 (
fd
, &
h—d”
->
biB™CouÁ
, 2);

89 
	`»ad
 (
fd
, &
h—d”
->
biCom´essTy³
, 4);

90 
	`»ad
 (
fd
, &
h—d”
->
biD©aSize
, 4);

91 
	`»ad
 (
fd
, 
h—d”
->
biRe£rve
, 16);

93 
	`şo£
 (
fd
);

94 
	}
}

96 
	$´št_bmp_šfo_h—d”
(
bmp_šfo_h—d”
 *
h—d”
)

98 
	`´štf
 ("biSize: %ld\n", 
h—d”
->
biSize
);

99 
	`´štf
 ("biWidth: %ld\n", 
h—d”
->
biWidth
);

100 
	`´štf
 ("biHeight: %ld\n", 
h—d”
->
biHeight
);

101 
	`´štf
 ("biNum: %d\n", 
h—d”
->
biNum
);

102 
	`´štf
 ("biB™CouÁ: %d\n", 
h—d”
->
biB™CouÁ
);

103 
	`´štf
 ("biCom´essTy³: %ld\n", 
h—d”
->
biCom´essTy³
);

104 
	`´štf
 ("biD©aSize: %ld\n", 
h—d”
->
biD©aSize
);

105 
	`´štf
 ("biRe£rve: %s\n", 
h—d”
->
biRe£rve
);

106 
	}
}

108 
	$»ad_·Ë‰e
(*
·th
, 
cŞÜ
 *
·Ë
, 
b™s
, 
Üd”
)

110 
cursÜ_šfo_h—d”
 
ciH—d”
;

111 
	`mem£t
 (&
ciH—d”
, 0,  (
cursÜ_šfo_h—d”
));

112 
	`»ad_cursÜ_šfo_h—d”
(
·th
, &
ciH—d”
, 
Üd”
);

114 
fd
 = 
	`İ’
 (
·th
, 
O_RDONLY
);

115 ià(
fd
 == -1)

117 
	`³¼Ü
 ("open");

118 
	`ex™
 (-1);

121 
	`l£ek
 (
fd
, 
ciH—d”
.
ciD©aOff£t
 + 40, 
SEEK_SET
);

123 
i
;

124 
i
 = 0; i < 
b™s
; i++)

126 
	`»ad
 (
fd
, &
·Ë
[
i
].
r
, 1);

127 
	`»ad
 (
fd
, &
·Ë
[
i
].
g
, 1);

128 
	`»ad
 (
fd
, &
·Ë
[
i
].
b
, 1);

129 
	`»ad
 (
fd
, &
·Ë
[
i
].
a
, 1);

132 
	`şo£
 (
fd
);

133 
	}
}

135 
	$´št_·Ë‰e
(
cŞÜ
 *
·Ë
, 
b™s
)

137 
i
;

138 
i
 = 0; i < 
b™s
; i++)

140 
	`´štf
 ("%0x\t%0lx %0lx %0lx %0lx\n", 
i
, 
·Ë
[i].
r
,…®e[i].
g
,…®e[i].
b
,…®e[i].
a
);

142 
	}
}

144 
	$»ad_ªd_xÜ_d©a
(*
·th
, 
cursÜ
* 
cur
)

146 
cur
->
xÜD©a
 = (**è
	`m®loc
 ( (*è* cur->
cfH—d”
.
cfNum
);

147 
cur
->
ªdD©a
 = (**è
	`m®loc
 ( (*è* cur->
cfH—d”
.
cfNum
);

148 
i
;

149 
fd
 = 
	`İ’
 (
·th
, 
O_RDONLY
);

150 ià(
fd
 == -1)

152 
	`³¼Ü
 ("open");

153 
	`ex™
 (-1);

157  
i
=0; i<
cur
->
cfH—d”
.
cfNum
; i++)

159 
xÜSize
 = 0;

160 
ªdSize
 = 0;

162 ià(
cur
->
biH—d”
[
i
].
biB™CouÁ
 == 24 || cur->biHeader[i].biBitCount == 32)

164 
xÜSize
 = 
cur
->
ciH—d”
[
i
].
ciWidth
 * cur->ciH—d”[i].
ciHeight
 * cur->
biH—d”
[i].
biB™CouÁ
 / 8;

166 ià(
cur
->
ciH—d”
[
i
].
ciWidth
 % 32 == 0)

168 
ªdSize
 = 
cur
->
ciH—d”
[
i
].
ciWidth
 * cur->ciH—d”[i].
ciHeight
 / 8;

172 
ªdSize
 = (
cur
->
ciH—d”
[
i
].
ciWidth
 / 32 + 1è* 32 * cur->ciH—d”[i].
ciHeight
 / 8;

177 if(
cur
->
biH—d”
[
i
].
biB™CouÁ
 == 8 ||

178 
cur
->
biH—d”
[
i
].
biB™CouÁ
 == 4 ||

179 
cur
->
biH—d”
[
i
].
biB™CouÁ
 == 1)

181 
xÜSize
 = 
cur
->
ciH—d”
[
i
].
ciWidth
 * cur->ciH—d”[i].ciWidth * cur->
biH—d”
[i].
biB™CouÁ
 / 8;

182 if(
cur
->
biH—d”
[
i
].
biB™CouÁ
 != 1)

183 
xÜSize
 +ğ(1 << 
cur
->
biH—d”
[
i
].
biB™CouÁ
) * 4;

184 if(
cur
->
ciH—d”
[
i
].
ciWidth
 == 16)

185 
ªdSize
 = 64;

186 if(
cur
->
ciH—d”
[
i
].
ciWidth
 == 24)

187 
ªdSize
 = 96;

188 if(
cur
->
ciH—d”
[
i
].
ciWidth
 == 32)

189 
ªdSize
 = 128;

190 if(
cur
->
ciH—d”
[
i
].
ciWidth
 == 48)

191 
ªdSize
 = 384;

194 
cur
->
xÜD©a
[
i
] = (*è
	`m®loc
 ( (è* 
xÜSize
);

195 
	`l£ek
 (
fd
, 
cur
->
ciH—d”
[
i
].
ciD©aOff£t
 + 40, 
SEEK_SET
);

196 
	`»ad
 (
fd
, 
cur
->
xÜD©a
[
i
], 
xÜSize
);

198 
cur
->
ªdD©a
[
i
] = (*è
	`m®loc
 ( (è* 
ªdSize
);

199 
	`»ad
 (
fd
, 
cur
->
ªdD©a
[
i
], 
ªdSize
);

202 
	`şo£
 (
fd
);

203 
	}
}

206 
	$š™_cursÜ
(*
·th
, 
cursÜ
 *
cur
)

208 
	`»ad_cursÜ_fe_h—d”
(
·th
, &
cur
->
cfH—d”
);

210 
cur
->
ciH—d”
 = 
	`ÿÎoc
 (cur->
cfH—d”
.
cfNum
,  (
cursÜ_šfo_h—d”
));

211 
cur
->
biH—d”
 = 
	`ÿÎoc
 (cur->
cfH—d”
.
cfNum
,  (
bmp_šfo_h—d”
));

213 
i
;

214  
i
=0; i<
cur
->
cfH—d”
.
cfNum
; i++)

216 
	`»ad_cursÜ_šfo_h—d”
 (
·th
, &
cur
->
ciH—d”
[
i
], i+1);

217 
	`»ad_bmp_šfo_h—d”
(
·th
, &
cur
->
biH—d”
[
i
], i+1);

218 
	`»ad_ªd_xÜ_d©a
 (
·th
, 
cur
);

220 
	}
}

	@utils/data_structures/cursor.h

1 #iâdeà
SELF_BASETYPE


2 
	#SELF_BASETYPE
 
_


	)

4 
	~<ba£_ty³.h
>

5 
	~"cŞÜ.h
"

6 
	~<¡dlib.h
>

8 
	scursÜ_fe_h—d”


10 
	mcfRe£rve
[2];

11 
	mcfTy³
;

12 
	mcfNum
;

15 
	scursÜ_šfo_h—d”


17 
	mciWidth
;

18 
	mciHeight
;

19 
	mciCŞÜCouÁ
;

20 
	mciRe£rve1
;

21 
	mciRe£rve2
[4];

22 
	mciD©aSize
;

23 
	mciD©aOff£t
;

26 
	sbmp_šfo_h—d”


28 
	mbiSize
;

29 
	mbiWidth
;

30 
	mbiHeight
;

31 
	mbiNum
;

32 
	mbiB™CouÁ
;

33 
	mbiCom´essTy³
;

34 
	mbiD©aSize
;

35 
	mbiRe£rve
[16];

47 
	scursÜ


49 
cursÜ_fe_h—d”
 
	mcfH—d”
;

50 
cursÜ_šfo_h—d”
 *
	mciH—d”
;

51 
bmp_šfo_h—d”
 *
	mbiH—d”
;

52 **
	mªdD©a
;

53 **
	mxÜD©a
;

56 
	scursÜ_pix–


58 
cŞÜ
 
	mcŞÜ
;

59 
	mx
;

60 
	my
;

70 
»ad_cursÜ_fe_h—d”
(*
·th
, 
cursÜ_fe_h—d”
 *
h—d”
);

78 
´št_cursÜ_fe_h—d”
(
cursÜ_fe_h—d”
 *
h—d”
);

87 
»ad_cursÜ_šfo_h—d”
(*
·th
, 
cursÜ_šfo_h—d”
 *
h—d”
, 
Üd”
);

95 
´št_cursÜ_šfo_h—d”
(
cursÜ_šfo_h—d”
 *
h—d”
);

105 
»ad_bmp_šfo_h—d”
(*
·th
, 
bmp_šfo_h—d”
 *
h—d”
, 
Üd”
);

113 
´št_bmp_šfo_h—d”
(
bmp_šfo_h—d”
 *
h—d”
);

124 
»ad_·Ë‰e
(*
·th
, 
cŞÜ
 *
·Ë
, 
b™s
, 
Üd”
);

133 
´št_·Ë‰e
(
cŞÜ
 *
·Ë
, 
b™s
);

142 
»ad_ªdxÜ_d©a
(*
·th
, 
cursÜ
* 
cur
);

151 
š™_cursÜ
(*
·th
, 
cursÜ
 *
cur
);

	@utils/data_structures/demo/object.c

1 
	~<¡dio.h
>

2 
	~<¡dlib.h
>

3 
	~<time.h
>

4 
	~<m®loc.h
>

6 
	~"ba£_ty³.h
"

7 
	~"../objeù.h
"

9 
	snode_d©a_t
 {

10 
	md•th
;

13 
	snode_t
 {

14 
objeù
 
	mobj
;

15 
node_d©a_t
 
	md©a
;

18 
node_t
 *
	$¿ndom_Œ“
(
ui_t
 
couÁ
)

20 
node_t
 *
roÙ
 = 
	`ÿÎoc
(1, (node_t));

21 
node_t
 *
çk”oÙ
 = 
	`ÿÎoc
(1, (node_t));

22 
node_t
 **
nodes
;

23 
ui_t
 
i
;

25 
roÙ
->
obj
.
·»Á
 = &
çk”oÙ
->obj;

26 
çk”oÙ
->
obj
.
·»Á
 = &
roÙ
->obj;

27 
çk”oÙ
->
obj
.
lchd
 = 
	`objeù_Œ“_l_mo¡_node
(&
roÙ
->obj);

28 
çk”oÙ
->
obj
.
rchd
 = 
	`objeù_Œ“_r_mo¡_node
(&
roÙ
->obj);

29 
nodes
 = 
	`ÿÎoc
(
couÁ
, (
node_t
 *));

30 
nodes
[0] = 
roÙ
;

31 
nodes
[0]->
obj
.
id
 = 0;

32 
i
 = 1; i < 
couÁ
; i++) {

33 
node_t
 *
·r
 = 
nodes
[
	`¿nd
(è% 
i
];

34 
nodes
[
i
] = 
	`ÿÎoc
(1, (
node_t
));

35 
nodes
[
i
]->
obj
.
id
 = i;

36 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
·r
), OBJECT_POINTER(
nodes
[
i
]));

38 
	`ä“
(
nodes
);

39  
roÙ
;

40 
	}
}

42 
	$§ve_d•th
(
node_t
 *
Œ“
)

44 
node_t
 *
™
;

45 
™
 = 
	`objeù_Œ“_l_mo¡_node
(
Œ“
->
obj
.
·»Á
); it;

46 
™
 = 
	`objeù_Œ“_™”©Ü_šüem’t
(
Œ“
->
obj
.
·»Á
,

47 
	`OBJECT_POINTER
(
™
))) {

48 
node_t
 *
·r
 =

49 (
node_t
 *)
	`objeù_·»Á
(
	`OBJECT_POINTER
(
™
));

50 ià(
·r
) {

51 
™
->
d©a
.
d•th
 = 
·r
->data.depth + 1;

54 
™
->
d©a
.
d•th
 = 0;

57 
	}
}

59 
	$´št_node
(
node_t
 *
node
)

61 
i
;

62 
i
 = 0; i < 
node
->
d©a
.
d•th
; i++) {

63 
	`´štf
("\t");

65 
	`´štf
("%ld\n", 
node
->
obj
.
id
);

66 
	}
}

68 
	$´št_Œ“
(
node_t
 *
Œ“
)

70 
node_t
 *
™
;

71 
	`§ve_d•th
(
Œ“
);

72 
™
 = 
	`objeù_Œ“_l_mo¡_node
(
Œ“
->
obj
.
·»Á
); it;

73 
™
 = 
	`objeù_Œ“_™”©Ü_šüem’t
(
Œ“
->
obj
.
·»Á
,

74 
	`OBJECT_POINTER
(
™
))) {

75 
	`´št_node
(
™
);

77 
	}
}

79 
	$maš
()

81 
	`¤ªd
(
	`time
(
NULL
));

83 
ui_t
 
couÁ
;

84 
node_t
 *
Œ“
 = 
NULL
;

85 if(
	`sÿnf
("%lu", &
couÁ
)==
EOF
) {

88 
Œ“
 = 
	`¿ndom_Œ“
(
couÁ
);

89 
	`´št_Œ“
(
Œ“
);

90 
	`objeù_Œ“_ä“
(
	`OBJECT_POINTER
(
Œ“
));

93 
	}
}

	@utils/data_structures/external.h

30 #iâdeà
_EXTERNAL_UTILS_H_


31 
	#_EXTERNAL_UTILS_H_
 1

	)

33 
	~"veùÜ.h
"

34 
	~"li¡.h
"

35 
	~"Œ“.h
"

36 
	~"queue.h
"

37 
	~"¡ack.h
"

38 
	~"objeù.h
"

39 
	~"hashm­.h
"

40 
	~"cursÜ.h
"

	@utils/data_structures/hashmap.c

30 
	~<m®loc.h
>

32 
	~<log.h
>

34 
	~"hashm­.h
"

36 
	#HASHMAP_DEFAULT_DATA_SIZE
 4

	)

37 
	#HASHMAP_DEFAULT_PRIME
 313l

	)

38 
	#HASHMAP_DEFAULT_GROW_THRESHOLD
 0.8

	)

39 
	#HASHMAP_DEFAULT_SHRINK_THRESHOLD
 0.2

	)

42 
	shashm­_key


44 cÚ¡ 
cÚ¡_addr_t
 
	mkey
;

45 
ui_t
 
	msize
;

48 
	shashm­_·œ


52 cÚ¡ 
hashm­_key
 
	mkey
;

53 
addr_t
 
	mv®ue
;

63 
	shashm­


65 
ui_t
 
	md©a_size
;

66 
ui_t
 
	md©a_út
;

67 cÚ¡ 
hashm­_·œ
 **
	md©a
;

68 
hash_func_t
 
	mhash_func
;

69 
´obe_func_t
 
	m´obe_func
;

70 
ui_t
 
	m´ime
;

71 
f64_t
 
	mgrow_th»shŞd
;

72 
f64_t
 
	mshršk_th»shŞd
;

75 
si_t


76 
	ghashm­_key_cmp


77 (cÚ¡ 
hashm­_key
 *
	gkey1
,

78 cÚ¡ 
hashm­_key
 *
	gkey2
)

80 if(!
	gkey1
 || !
	gkey2
) {

81  (
	gkey1
?1:0è- (
key2
?1:0);

83 if(
	gkey1
->
	gsize
 !ğ
key2
->
size
)

84  
key1
->
size
 - 
key2
->size;

85  
memcmp
(
key1
->
key
, 
key2
->key, key1->
size
);

94 
ui_t


95 
	ghashm­_deçuÉ_´obe_func


96 (cÚ¡ 
hashm­
 *
	ghashm­
,

97 
ui_t
 
	g¤c
,

98 cÚ¡ 
hashm­_key
 *
	gkey
)

100 
	gšüi
 = 1;

101 if(
	gNULL
 =ğ
hashm­
) {

102 
EGUI_PRINT_ERROR
("Internalƒrror in hashmap_default_probe_func: "

106 
	g¤c
 %ğ
hashm­
->
d©a_size
;

107 
	ghashm­
->
	gd©a
[
¤c
] &&

108 
hashm­_key_cmp
(&
hashm­
->
d©a
[
¤c
]->
key
, key)) {

109 
	g¤c
 = (
¤c
+
šüi
è% 
hashm­
->
d©a_size
;

110 
	gšüi
++;

112  
	g¤c
;

116 
ui_t


117 
	ghashm­_deçuÉ_hash_func


118 (cÚ¡ 
hashm­_key
 *
	gkey
,

119 
ui_t
 
	g´ime
)

121 
ui_t
 
	g»s
;

122 cÚ¡ * 
	g¤c
;

123 
ui_t
 
	gkey_size
;

124 if(
	gNULL
 =ğ
key
) {

127 
	g¤c
 = 
key
->key;

128 
	gkey_size
 = 
key
->
size
;

129 
	g»s
=0; 
	gkey_size
; key_size--) {

130 
	g»s
 = 
»s
*
´ime
 + *
¤c
++;

132  
	g»s
;

135 
hashm­
 *

136 
	ghashm­_š™


139 
hashm­
 *
	gq
 = 
ÿÎoc
(1, (hashmap));

140 
	gq
->
	gd©a_size
 = 
HASHMAP_DEFAULT_DATA_SIZE
;

141 
	gq
->
	gd©a_út
 = 0;

142 
	gq
->
	gd©a
 = 
ÿÎoc
(
q
->
d©a_size
, (
hashm­_·œ
 *));

143 
	gq
->
	ghash_func
 = 
hashm­_deçuÉ_hash_func
;

144 
	gq
->
	g´obe_func
 = 
hashm­_deçuÉ_´obe_func
;

145 
	gq
->
	g´ime
 = 
HASHMAP_DEFAULT_PRIME
;

146 
	gq
->
	ggrow_th»shŞd
 = 
HASHMAP_DEFAULT_GROW_THRESHOLD
;

147 
	gq
->
	gshršk_th»shŞd
 = 
HASHMAP_DEFAULT_SHRINK_THRESHOLD
;

148  
	gq
;

151 
si_t


152 
	ghashm­_ex™


153 (
hashm­
 *
	gq
)

155 
ä“
(
q
->
d©a
);

156 
	gq
->
	gd©a
 = 
NULL
;

157 
	gq
->
	gd©a_size
 = 0;

158 
	gq
->
	gd©a_út
 = 0;

159 
	gq
->
	ghash_func
 = 
NULL
;

160 
	gq
->
	g´obe_func
 = 
NULL
;

161 
	gq
->
	g´ime
 = 0;

162 
	gq
->
	ggrow_th»shŞd
 = 0;

163 
	gq
->
	gshršk_th»shŞd
 = 0;

168 
si_t


169 
	ghashm­_»hash


170 (
hashm­
 *
	gq
,

171 
ui_t
 
	gÃw_size
,

172 cÚ¡ 
hashm­_·œ
 *
	gŞd
[],

173 
ui_t
 
	gŞd_size
)

175 
ui_t
 
	gi
;

176 
	gq
->
	gd©a
 = 
ÿÎoc
(
Ãw_size
, (cÚ¡ 
hashm­_·œ
 *));

177 if(
	gNULL
 =ğ
q
->
d©a
) {

178 
q
->
d©a
 = 
Şd
;

181 
	gq
->
	gd©a_size
 = 
Ãw_size
;

182 
	gq
->
	gd©a_út
 = 0;

183 
	gi
=0; i<
	gŞd_size
; i++) {

184 if(
	gŞd
[
i
]->
	gv®ue
)

185 
hashm­_š£¹
(
q
, 
Şd
[
i
]);

187 
ä“
(
Şd
);

192 
si_t


193 
	ghashm­_grow


194 (
hashm­
 *
	gq
)

196  
hashm­_»hash
(
q
, q->
d©a_size
*2, q->
d©a
, q->data_size);

200 
si_t


201 
	ghashm­_shršk


202 (
hashm­
 *
	gq
)

204 if(
	gq
->
	gd©a_size
<=4) {

207  
hashm­_»hash
(
q
, q->
d©a_size
/2, q->
d©a
, q->data_size);

210 
si_t


211 
	ghashm­_š£¹


212 (
hashm­
 *
	gq
,

213 cÚ¡ 
hashm­_·œ
 *
	gd©a
)

215 
ui_t
 
	ghashv®
;

216 
ui_t
 
	gjudge_pos
;

217 if(
	gNULL
 =ğ
q
 || 
NULL
 =ğ
d©a
) {

220 if(
	gq
->
	gd©a_út
 >ğ(
ui_t
)(
q
->
d©a_size
*q->
grow_th»shŞd
)) {

221 
hashm­_grow
(
q
);

223 
	ghashv®
 = (
q
->
hash_func
)(&
d©a
->
key
, 
	gq
->
	g´ime
);

224 
	gjudge_pos
 = (
q
->
´obe_func
)(q, 
	ghashv®
, &
	gd©a
->
	gkey
);

225 if(
	gq
->
	gd©a
[
judge_pos
]) {

228 
	gq
->
	gd©a
[
judge_pos
] = 
d©a
;

229 
	gq
->
	gd©a_út
++;

234 
hashm­_key
 *

235 
	ghashm­_key_g’”©e


236 (
cÚ¡_addr_t
 
	gkey
,

237 
ui_t
 
	gkey_size
)

239 
hashm­_key
 *
	g»s_±r
 = 
m®loc
((hashmap_key));

240 *(
	gcÚ¡_addr_t
 *)&(
	g»s_±r
->
	gkey
èğ
key
;

241 
	g»s_±r
->
	gsize
 = 
key_size
;

242  
	g»s_±r
;

245 
hashm­_·œ
 *

246 
	ghashm­_·œ_g’”©e


247 (
cÚ¡_addr_t
 
	gkey
,

248 
ui_t
 
	gkey_size
,

249 
addr_t
 
	gv®ue
)

251 
hashm­_·œ
 *
	g»s_±r
 = 
m®loc
((hashmap_pair));

252 
hashm­_key
 *
	gkey_±r
 = (hashm­_key *)&(
»s_±r
->
key
);

253 *(
	gcÚ¡_addr_t
 *)&(
	gkey_±r
->
	gkey
èğ
key
;

254 
	gkey_±r
->
	gsize
 = 
key_size
;

255 
	g»s_±r
->
	gv®ue
 = 
v®ue
;

256  
	g»s_±r
;

259 
addr_t


260 
	ghashm­_fšd


261 (cÚ¡ 
hashm­
 *
	gq
,

262 
hashm­_key
 *
	gkey
,

263 
si_t
 
	gä“_key
)

265 
ui_t
 
	ghashv®
;

266 
ui_t
 
	gjudge_pos
;

267 if(
	gNULL
 =ğ
q
 || 
NULL
 =ğ
key
) {

268  
NULL
;

270 
	ghashv®
 = (
q
->
hash_func
)(
key
, 
	gq
->
	g´ime
);

271 
	gjudge_pos
 = (
q
->
´obe_func
)(q, 
	ghashv®
, 
	gkey
);

272 if(
	gä“_key
) {

273 
ä“
(
key
);

275 if(
	gq
->
	gd©a
[
judge_pos
]) {

276  
	gq
->
	gd©a
[
judge_pos
]->
	gv®ue
;

278  
	gNULL
;

282 
si_t


283 
	ghashm­_”a£


284 (
hashm­
 *
	gq
,

285 
hashm­_key
 *
	gkey
,

286 
si_t
 
	gä“_key
)

288 
ui_t
 
	ghashv®
;

289 
ui_t
 
	gjudge_pos
;

290 if(
	gNULL
 =ğ
q
 || 
NULL
 =ğ
key
) {

293 
	ghashv®
 = (
q
->
hash_func
)(
key
, 
	gq
->
	g´ime
);

294 
	gjudge_pos
 = (
q
->
´obe_func
)(q, 
	ghashv®
, 
	gkey
);

295 if(
	gä“_key
) {

296 
ä“
(
key
);

298 if(
	gq
->
	gd©a
[
judge_pos
]) {

299 
	gq
->
	gd©a_út
--;

300 
	gq
->
	gd©a
[
judge_pos
] = 
NULL
;

301 if(
	gq
->
	gd©a_út
 < q->
d©a_size
*q->
	gshršk_th»shŞd
) {

302 
hashm­_shršk
(
q
);

	@utils/data_structures/hashmap.h

30 #iâdeà
_HASHMAP_H_


31 
	#_HASHMAP_H_
 1

	)

33 
	~<ba£_ty³.h
>

35 
	ghashm­_key
;

36 
	ghashm­_·œ
;

37 
	ghashm­
;

39 
	$ui_t
 (*
	thash_func_t
)(cÚ¡ 
	thashm­_key
 *
	tkey
, 
	tui_t
 
	t´ime
);

40 
	$ui_t
 (*
	t´obe_func_t
)(cÚ¡ 
	thashm­
 *hashm­, 
	tui_t
 
	t¤c
, cÚ¡ 
	thashm­_key
 *
	tkey
);

42 
hashm­
 *
	`hashm­_š™
();

44 
si_t
 
	`hashm­_ex™
(
hashm­
 *);

46 
si_t
 
	`hashm­_š£¹
(
hashm­
 *
q
, cÚ¡ 
hashm­_·œ
 *
d©a
);

48 
hashm­_key
 *

49 
	`hashm­_key_g’”©e
(
cÚ¡_addr_t
 
key
, 
ui_t
 
key_size
);

51 
hashm­_·œ
 *

52 
	`hashm­_·œ_g’”©e
(
cÚ¡_addr_t
 
key
, 
ui_t
 
key_size
, 
addr_t
 
v®ue
);

54 
addr_t
 
	`hashm­_fšd
(cÚ¡ 
hashm­
 *
q
, 
hashm­_key
 *
key
, 
si_t
 
ä“_key
);

56 
si_t
 
	`hashm­_”a£
(
hashm­
 *
q
, 
hashm­_key
 *
key
, si_ˆ
ä“_key
);

	@utils/data_structures/list.c

30 
	~<¡dlib.h
>

31 
	~<¡ršg.h
>

33 
	~"li¡.h
"

35 
si_t


36 
	gli¡_ş—r


37 (
li¡
 * 
	gl
)

39 
li¡_node
 * 
	g±r
 = 
l
->
node
.
Ãxt
, * 
	gtmp
;

42 
	g±r
 !ğ&(
l
->
node
))

44 
tmp
 = 
±r
->
Ãxt
;

45 
ä“
(
±r
->
d©a
);

46 
ä“
(
±r
);

47 
	g±r
 = 
tmp
;

51 
	gl
->
	gnode
.
	gÃxt
 = &(
l
->
node
);

52 
	gl
->
	gnode
.
	g´ev
 = &(
l
->
node
);

53 
	gl
->
	gnode
.
	gd©a
 = 
NULL
;

59 
	gli¡_begš


60 (
li¡
 * 
	gl
)

63  
	gl
->
	gnode
.
	gÃxt
;

67 
	gli¡_’d


68 (
li¡
 * 
	gl
)

71  
	gl
->
	gnode
.
	g´ev
;

75 
	gli¡_äÚt


76 (
li¡
 * 
	gl
)

79  
	gl
->
	gnode
.
	gÃxt
->
	gd©a
;

83 
	gli¡_back


84 (
li¡
 * 
	gl
)

87  
	gl
->
	gnode
.
	g´ev
->
	gd©a
;

90 
ui_t


91 
	gli¡_couÁ


92 (
li¡
 * 
	gl
,

93 
	$si_t
 (* 
comp
)(*))

95 
li¡_node
 * 
±r
 = 
l
->
node
.
Ãxt
;

96 
ui_t
 
n
 = 0;

99 
±r
 !ğ&(
l
->
node
))

102 if(
	`comp
(
±r
->
d©a
))

104 ++ 
n
;

107 
±r
 =…Œ->
Ãxt
;

110  
n
;

111 
	}
}

113 
li¡_node
 *

114 
	gli¡_fšd


115 (
li¡
 * 
	gl
,

116 
	$si_t
 (* 
comp
)(*))

118 
li¡_node
 * 
addr
 = 
l
->
node
.
Ãxt
;

121 
addr
 !ğ&(
l
->
node
))

124 if(
	`comp
(
addr
->
d©a
))

127  
addr
;

130 
addr
 =‡ddr->
Ãxt
;

134  
NULL
;

135 
	}
}

138 
	gli¡_low”_bound


139 (
li¡
 * 
	gl
,

140 * 
	gd©a
,

141 
	$si_t
 (* 
comp
)(*, *))

143 
li¡_node
 * 
addr
 = 
l
->
node
.
Ãxt
;

145 
addr
 !ğ&(
l
->
node
))

149 if(!
	`comp
(
addr
->
d©a
, data))

151  
addr
;

154 
addr
 =‡ddr->
Ãxt
;

157  
NULL
;

158 
	}
}

161 
	gli¡_uµ”_bound


162 (
li¡
 * 
	gl
,

163 * 
	gd©a
,

164 
	$si_t
 (* 
comp
)(*, *))

166 
li¡_node
 * 
addr
 = 
l
->
node
.
Ãxt
;

168 
addr
 !ğ&(
l
->
node
))

172 if(
	`comp
(
d©a
, 
addr
->data))

174  
addr
;

177 
addr
 =‡ddr->
Ãxt
;

180  
NULL
;

181 
	}
}

183 
si_t


184 
	gli¡_š£¹


185 (
li¡
 * 
	gl
,

186 
li¡_node
 * 
	gpos™iÚ
,

187 * 
	gd©a
,

188 
ui_t
 
	gd©asize
)

190 
li¡_node
 * 
	gtmp
;

192 
	gtmp
 = (
li¡_node
 *)
m®loc
((list_node));

194 
	gtmp
->
	g´ev
 = 
pos™iÚ
;

195 
	gtmp
->
	gÃxt
 = 
pos™iÚ
->
Ãxt
;

196 
	gtmp
->
	gd©a
 = 
pos™iÚ
->
d©a
;

197 
	gpos™iÚ
->
	gÃxt
->
	g´ev
 = 
tmp
;

198 
	gpos™iÚ
->
	gÃxt
 = 
tmp
;

201 
	gpos™iÚ
->
	gd©a
 = (*)
m®loc
(
d©asize
);

202 
memıy
(
pos™iÚ
->
d©a
, d©a, 
d©asize
);

205 
	gl
->
	gnode
.
	gd©a
 = (*)((
ui_t
)(
l
->
node
.
d©a
) + 1);

210 
si_t


211 
	gli¡_”a£


212 (
li¡
 * 
	gl
,

213 
li¡_node
 * 
	gpos™iÚ
)

215 
	gpos™iÚ
->
	g´ev
->
	gÃxt
 = 
pos™iÚ
->
Ãxt
;

216 
	gpos™iÚ
->
	gÃxt
->
	g´ev
 = 
pos™iÚ
->
´ev
;

218 
ä“
(
pos™iÚ
->
d©a
);

219 
ä“
(
pos™iÚ
);

222 
	gl
->
	gnode
.
	gd©a
 = (*)((
ui_t
)(
l
->
node
.
d©a
) - 1);

227 
si_t


228 
	gli¡_pİ_äÚt


229 (
li¡
 * 
	gl
)

232 
li¡_node
 * 
	g±r
ğ
l
->
node
.
Ãxt
;

234 if(
	g±r
 !ğ&(
l
->
node
))

236 
±r
->
Ãxt
->
´ev
 =…tr->prev;

237 
	g±r
->
	g´ev
->
	gÃxt
 = 
±r
->
Ãxt
;

238 
ä“
(
±r
->
d©a
);

239 
ä“
(
±r
);

242 
	gl
->
	gnode
.
	gd©a
 = (*)((
ui_t
)(
l
->
node
.
d©a
) - 1);

248 
si_t


249 
	gli¡_pİ_back


250 (
li¡
 * 
	gl
)

253 
li¡_node
 * 
	g±r
 = 
l
->
node
.
´ev
;

255 if(
	g±r
 !ğ&(
l
->
node
))

257 
±r
->
Ãxt
->
´ev
 =…tr->prev;

258 
	g±r
->
	g´ev
->
	gÃxt
 = 
±r
->
Ãxt
;

259 
ä“
(
±r
->
d©a
);

260 
ä“
(
±r
);

263 
	gl
->
	gnode
.
	gd©a
 = (*)((
ui_t
)(
l
->
node
.
d©a
) - 1);

269 
si_t


270 
	gli¡_push_äÚt


271 (
li¡
 * 
	gl
,

272 * 
	gd©a
,

273 
ui_t
 
	gd©asize
)

275 
li¡_node
 * 
	g±r
;

278 
	g±r
 = (
li¡_node
 *)
m®loc
((list_node));

279 
	g±r
->
	gd©a
 = (*)
m®loc
(
d©asize
);

280 
memıy
(
±r
->
d©a
, d©a, 
d©asize
);

283 
	g±r
->
	gÃxt
 = 
l
->
node
.
Ãxt
;

284 
	g±r
->
	g´ev
 = &(
l
->
node
);

286 
	gl
->
	gnode
.
	gÃxt
->
	g´ev
 = 
±r
;

287 
	gl
->
	gnode
.
	gÃxt
 = 
±r
;

290 
	gl
->
	gnode
.
	gd©a
 = (*)((
ui_t
)(
l
->
node
.
d©a
) + 1);

295 
si_t


296 
	gli¡_push_back


297 (
li¡
 * 
	gl
,

298 * 
	gd©a
,

299 
ui_t
 
	gd©asize
)

301 
li¡_node
 * 
	g±r
;

304 
	g±r
 = (
li¡_node
 *)
m®loc
((list_node));

305 
	g±r
->
	gd©a
 = (*)
m®loc
(
d©asize
);

306 
memıy
(
±r
->
d©a
, d©a, 
d©asize
);

309 
	g±r
->
	gÃxt
 = &(
l
->
node
);

310 
	g±r
->
	g´ev
 = 
l
->
node
.
´ev
;

312 
	gl
->
	gnode
.
	g´ev
->
	gÃxt
 = 
±r
;

313 
	gl
->
	gnode
.
	g´ev
 = 
±r
;

316 
	gl
->
	gnode
.
	gd©a
 = (*)((
ui_t
)(
l
->
node
.
d©a
) + 1);

321 
si_t


322 
	gli¡_fÜ_—ch


323 (
li¡
 * 
	gl
,

324 
	$si_t
 (* 
funùiÚ
)(*))

326 
li¡_node
 * 
±r
;

329 
±r
 = 
l
->
node
.
Ãxt
;

331 
±r
 !ğ&(
l
->
node
))

333 
	`funùiÚ
(
±r
->
d©a
);

335 
±r
 =…Œ->
Ãxt
;

339 
	}
}

341 
ui_t


342 
	gli¡_size


343 (
li¡
 * 
	gl
)

345  (
	gui_t
)(
	gl
->
	gnode
.
	gd©a
);

348 
si_t


349 
	gli¡_em±y


350 (
li¡
 * 
	gl
)

352 if(
	gl
->
	gnode
.
	gÃxt
 =ğ&(
l
->
node
))

362 
si_t


363 
	gli¡_š™


364 (
li¡
 * 
	gl
)

366 
mem£t
(
l
, 0, (
li¡
));

368 
	gl
->
	gnode
.
	g´ev
 = &(
l
->
node
);

369 
	gl
->
	gnode
.
	gÃxt
 = &(
l
->
node
);

370 
	gl
->
	gnode
.
	gd©a
 = 
NULL
;

375 
si_t


376 
	gli¡_ex™


377 (
li¡
 * 
	gl
)

379  
li¡_ş—r
(
l
);

382 
addr_t


383 
	gli¡_–em’t_©


384 (
li¡
 *
	gl
, 
ui_t
 
	gidx
)

386 
li¡_node
 *
	gpos
;

387 
ui_t
 
	gcur
 = 0;

388 if(
	gidx
 > 
li¡_size
(
l
)) {

389  
	gNULL
;

391 
li¡_fÜ_—ch_maüo
(
l
, 
pos
) {

392 if(
	gcur
==
idx
) {

393  
pos
->
d©a
;

395 
	gcur
++;

397  
	gNULL
;

	@utils/data_structures/list.h

30 #iâdeà
_LIST_H_


31 
	#_LIST_H_
 1

	)

33 
	~<ba£_ty³.h
>

38 
	sli¡_node


43 
li¡_node
 * 
	m´ev
;

48 
li¡_node
 * 
	mÃxt
;

53 * 
	md©a
;

59 
	sli¡


70 
li¡_node
 
	mnode
;

81 
si_t


82 
li¡_š™
(
li¡
 * 
l
);

92 
si_t


93 
li¡_ex™


94 (
li¡
 * 
l
);

104 
ui_t


105 
li¡_size


106 (
li¡
 * 
l
);

116 
si_t


117 
li¡_em±y


118 (
li¡
 * 
l
);

129 
li¡_begš


130 (
li¡
 * 
l
);

141 
li¡_’d


142 (
li¡
 * 
l
);

153 
li¡_äÚt


154 (
li¡
 * 
l
);

165 
li¡_back


166 (
li¡
 * 
l
);

177 
ui_t


178 
li¡_couÁ


179 (
li¡
 * 
l
,

180 
	$si_t
 (* 
func
)(*));

194 
li¡_node
 *

195 
li¡_fšd


196 (
li¡
 * 
l
,

197 
	$si_t
 (* 
func
)(*));

214 
li¡_low”_bound


215 (
li¡
 * 
l
,

216 * 
d©a
,

217 
	$si_t
 (* 
comp
)(*, *));

234 
li¡_uµ”_bound


235 (
li¡
 * 
l
,

236 * 
d©a
,

237 
	$si_t
 (* 
comp
)(*, *));

249 
si_t


250 
li¡_push_äÚt


251 (
li¡
 * 
l
,

252 * 
d©a
,

253 
ui_t
 
d©asize
);

265 
si_t


266 
li¡_push_back


267 (
li¡
 * 
l
,

268 * 
d©a
,

269 
ui_t
 
d©asize
);

279 
si_t


280 
li¡_pİ_äÚt


281 (
li¡
 * 
l
);

291 
si_t


292 
li¡_pİ_back


293 (
li¡
 * 
l
);

308 
si_t


309 
li¡_š£¹


310 (
li¡
 * 
l
,

311 
li¡_node
 * 
pos™iÚ
,

312 * 
d©a
,

313 
ui_t
 
d©asize
);

326 
si_t


327 
li¡_”a£


328 (
li¡
 * 
l
,

329 
li¡_node
 * 
pos™iÚ
);

339 
si_t


340 
li¡_ş—r


341 (
li¡
 * 
l
);

352 
si_t


353 
li¡_fÜ_—ch


354 (
li¡
 * 
l
,

355 
	$si_t
 (* 
funùiÚ
)(*));

357 
	#li¡_fÜ_—ch_maüo
(
li¡
, 
pos
) \

358 (
pos
)=(
li¡
)->
node
.
Ãxt
; (pos)!=&Öi¡)->node; (pos)=Õos)->Ãxt)

	)

360 
	#li¡_fÜ_—ch_r_maüo
(
li¡
, 
pos
) \

361 (
pos
)=(
li¡
)->
node
.
´ev
; (pos)!=&Öi¡)->node; (pos)=Õos)->´ev)

	)

372 
addr_t


373 
li¡_–em’t_©


374 (
li¡
 *
l
, 
ui_t
 
idx
);

	@utils/data_structures/object.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

32 
	~<¡ršg.h
>

34 
	~<ba£_ty³.h
>

35 
	~<log.h
>

37 
	~"objeù.h
"

39 *
	$objeù_š™
(
si_t
 
id
)

41 
objeù
 * 
addr
;

44 
addr
 = (
objeù
 *)
	`m®loc
((object));

46 if(
addr
 =ğ
NULL
)

48 
	`EGUI_PRINT_SYS_ERROR
("failedo malloc");

53 
addr
->
·»Á
 = 
NULL
;

55 
addr
->
lchd
 = 
NULL
;

57 
addr
->
rchd
 = 
NULL
;

59 
addr
->
Çme
 = "struct object";

61 
addr
->
id
 = id;

64  
addr
;

65 
	}
}

67 
si_t
 
	$objeù_ex™
(
objeù
 * 
obj
)

70 
	`ä“
(
obj
);

73 
	}
}

75 
si_t
 
	$objeù_Œ“_ä“
(
objeù
 * 
roÙ
)

78 if(
roÙ
->
lchd
 !ğ
NULL
)

81 
	`objeù_Œ“_ä“
(
roÙ
->
lchd
);

85 if(
roÙ
->
rchd
 !ğ
NULL
)

88 
	`objeù_Œ“_ä“
(
roÙ
->
rchd
);

92 
	`ä“
(
roÙ
);

95 
	}
}

97 *
	$objeù_Œ“_l_mo¡_node
(
objeù
 * 
node
)

99 
node
->
lchd
 !ğ
NULL
)

101 
node
 =‚ode->
lchd
;

104  
node
;

105 
	}
}

107 *
	$objeù_Œ“_r_mo¡_node
(
objeù
 * 
node
)

109 
node
->
rchd
 !ğ
NULL
)

111 
node
 =‚ode->
rchd
;

114  
node
;

115 
	}
}

117 *
	$objeù_Œ“_™”©Ü_šüem’t
(
objeù
 * 
Œ“
, objeù * 
node
)

120 
objeù
 * 
‹mp
 = 
node
->
·»Á
;

123 if(
node
->
rchd
 !ğ
NULL
)

126 
node
 =‚ode->
rchd
;

130 
node
->
lchd
 !ğ
NULL
)

132 
node
 =‚ode->
lchd
;

139 
node
 =ğ
‹mp
->
rchd
)

142 
node
 = 
‹mp
;

143 
‹mp
 =emp->
·»Á
;

147 if(
node
->
rchd
 !ğ
‹mp
)

149 
node
 = 
‹mp
;

155 if(
Œ“
 =ğ
node
)

157  
NULL
;

161  
node
;

163 
	}
}

165 *
	$objeù_Œ“_™”©Ü_deüem’t
(
objeù
 * 
Œ“
, objeù * 
node
)

168 
objeù
 * 
‹mp
 = 
node
->
·»Á
;

171 if(
node
->
lchd
 !ğ
NULL
)

174 
node
 =‚ode->
lchd
;

178 
node
->
rchd
 !ğ
NULL
)

180 
node
 =‚ode->
rchd
;

187 
node
 =ğ
‹mp
->
lchd
)

190 
node
 = 
‹mp
;

191 
‹mp
 =emp->
·»Á
;

195 if(
node
->
lchd
 !ğ
‹mp
)

197 
node
 = 
‹mp
;

203 if(
Œ“
 =ğ
node
)

205  
NULL
;

209  
node
;

211 
	}
}

220 
si_t
 
	$objeù_©ch_chd
(
objeù
 * 
obj
, objeù * 
chd
)

222 
objeù
 * 
Œ“
;

225 if(
obj
->
rchd
 =ğ
NULL
)

228 
obj
->
rchd
 = 
chd
;

229 
chd
->
·»Á
 = 
obj
;

233 
obj
 = obj->
rchd
;

236 
obj
->
lchd
 !ğ
NULL
)

238 
obj
 = obj->
lchd
;

242 
obj
->
lchd
 = 
chd
;

243 
chd
->
·»Á
 = 
obj
;

248 
Œ“
 = 
	`objeù_g‘_roÙ
(
obj
)->
·»Á
;

253 if(
Œ“
 !ğ
NULL
)

256 
Œ“
->
lchd
 = 
	`objeù_Œ“_l_mo¡_node
Ñ»e->
·»Á
);

258 
Œ“
->
rchd
 = 
	`objeù_Œ“_r_mo¡_node
Ñ»e->
·»Á
);

262 
	}
}

271 
si_t
 
	$objeù_š£¹_chd
(
objeù
* 
·»Á
, objeù* 
chd
)

273 
objeù
* 
Œ“
 = 
NULL
;

275 if(
NULL
 =ğ
·»Á
)

281 if(
·»Á
->
rchd
 !ğ
NULL
)

283 
·»Á
->
rchd
->·»Á = 
chd
;

286 
chd
->
lchd
 = 
·»Á
->
rchd
;

289 
chd
->
·»Á
 =…arent;

290 
·»Á
->
rchd
 = 
chd
;

293 
Œ“
 = 
	`objeù_g‘_roÙ
(
·»Á
)->parent;

298 
Œ“
->
lchd
 = 
	`objeù_Œ“_l_mo¡_node
Ñ»e->
·»Á
);

300 
Œ“
->
rchd
 = 
	`objeù_Œ“_r_mo¡_node
Ñ»e->
·»Á
);

303 
	}
}

314 
si_t
 
	$objeù_»move
(
objeù
 * 
obj
)

316 
objeù
 * 
Œ“
;

319 if(
obj
->
·»Á
 !ğ
NULL
)

323 
Œ“
 = 
	`objeù_g‘_roÙ
(
obj
)->
·»Á
;

326 if(
obj
 =ğobj->
·»Á
->
rchd
)

330 if(
obj
->
lchd
 =ğ
NULL
)

333 
obj
->
·»Á
->
rchd
 = 
NULL
;

340 
obj
->
·»Á
->
rchd
 = obj->
lchd
;

341 
obj
->
lchd
->
·»Á
 = obj->parent;

344 
obj
->
lchd
 = 
NULL
;

349 if(
obj
 =ğobj->
·»Á
->
lchd
)

353 if(
obj
->
lchd
 =ğ
NULL
)

356 
obj
->
·»Á
->
lchd
 = 
NULL
;

363 
obj
->
·»Á
->
lchd
 = obj->lchild;

364 
obj
->
lchd
->
·»Á
 = obj->parent;

367 
obj
->
lchd
 = 
NULL
;

372 
	`objeù_Œ“_ä“
(
obj
);

377 if(
Œ“
 !ğ
NULL
)

380 
Œ“
->
lchd
 = 
	`objeù_Œ“_l_mo¡_node
Ñ»e->
·»Á
);

382 
Œ“
->
rchd
 = 
	`objeù_Œ“_r_mo¡_node
Ñ»e->
·»Á
);

389 
obj
->
lchd
 = 
NULL
;

392 
	`objeù_Œ“_ä“
(
obj
);

396 
	}
}

398 
si_t
 
objeù_d–‘e
(
objeù
* objeù, (*
de¡ruùÜ
)(*))

400 if(
objeù
->
·»Á
->parent == object)

402 
	`objeù_Œ“_fÜ_—ch
(
objeù
, 
de¡ruùÜ
);

407 
objeù
* 
Œ“
 = 
	`objeù_g‘_roÙ
(objeù)->
·»Á
;

410 if(
objeù
 =ğobjeù->
·»Á
->
rchd
)

414 if(
objeù
->
lchd
 =ğ
NULL
)

417 
objeù
->
·»Á
->
rchd
 = 
NULL
;

424 
objeù
->
·»Á
->
rchd
 = objeù->
lchd
;

425 
objeù
->
lchd
->
·»Á
 = object->parent;

428 
objeù
->
lchd
 = 
NULL
;

433 if(
objeù
 =ğobjeù->
·»Á
->
lchd
)

437 if(
objeù
->
lchd
 =ğ
NULL
)

440 
objeù
->
·»Á
->
lchd
 = 
NULL
;

447 
objeù
->
·»Á
->
lchd
 = object->lchild;

448 
objeù
->
lchd
->
·»Á
 = object->parent;

451 
objeù
->
lchd
 = 
NULL
;

455 
	`objeù_Œ“_fÜ_—ch
(
objeù
, 
de¡ruùÜ
);

459 if(
Œ“
 !ğ
NULL
)

462 
Œ“
->
lchd
 = 
	`objeù_Œ“_l_mo¡_node
Ñ»e->
·»Á
);

464 
Œ“
->
rchd
 = 
	`objeù_Œ“_r_mo¡_node
Ñ»e->
·»Á
);

469 
	}
}

472 *
	$objeù_·»Á
(
objeù
 * 
obj
)

474 
objeù
 * 
addr
;

477 if(
obj
->
·»Á
 =ğ
NULL
)

479  
NULL
;

482 
addr
 = 
obj
;

484 
addr
 =ğaddr->
·»Á
->
lchd
)

486 
addr
 =‡ddr->
·»Á
;

491 if(
addr
->
·»Á
->parent ==‡ddr)

493  
NULL
;

497  
addr
->
·»Á
;

499 
	}
}

501 *
	$objeù_fšd_by_id
(
objeù
 * 
roÙ
, 
si_t
 
id
)

503 if(
roÙ
->
id
 == id)

505  
roÙ
;

509  
	`objeù_fšd_by_id
(
roÙ
->
rchd
, 
id
);

510  
	`objeù_fšd_by_id
(
roÙ
->
lchd
, 
id
);

512 
	}
}

524 
si_t
 
objeù_Œ“_d•th_fœ¡_Œav”§l
(
objeù
 * 
roÙ
, (* 
aùiÚ
)(*))

526 
	`aùiÚ
(
roÙ
);

528 if(
roÙ
->
rchd
 !ğ
NULL
)

530 
	`objeù_Œ“_d•th_fœ¡_Œav”§l
(
roÙ
->
rchd
, 
aùiÚ
);

533 if(
roÙ
->
lchd
 !ğ
NULL
)

535 
	`objeù_Œ“_d•th_fœ¡_Œav”§l
(
roÙ
->
lchd
, 
aùiÚ
);

539 
	}
}

541 
si_t
 
objeù_Œ“_fÜ_—ch
(
objeù
 * 
roÙ
, (* 
aùiÚ
)(*))

543 if(!
aùiÚ
) {

547 if(
roÙ
->
rchd
 !ğ
NULL
)

549 
	`objeù_Œ“_fÜ_—ch
(
roÙ
->
rchd
, 
aùiÚ
);

552 if(
roÙ
->
lchd
 !ğ
NULL
)

554 
	`objeù_Œ“_fÜ_—ch
(
roÙ
->
lchd
, 
aùiÚ
);

557 
	`aùiÚ
(
roÙ
);

560 
	}
}

562 
	$objeù_move_fœ¡
(
objeù
* 
obj
)

564 
objeù
 * 
Œ“
 = 
NULL
, * 
·»Á
 = NULL;

567 if(
obj
 =ğobj->
·»Á
->·»Á || obj =ğobj->·»Á->
rchd
)

572 
·»Á
 = 
obj
->parent;

573 
·»Á
 =ğ·»Á->·»Á->
lchd
)

575 
·»Á
 =…arent->parent;

577 
·»Á
 =…arent->parent;

581 if(
obj
->
lchd
 !ğ
NULL
)

583 
obj
->
lchd
->
·»Á
 = obj->parent;

584 
obj
->
·»Á
->
lchd
 = obj->lchild;

590 
obj
->
·»Á
->
lchd
 = 
NULL
;

593 
obj
->
lchd
 = 
·»Á
->
rchd
;

594 
·»Á
->
rchd
->·»Á =
obj
;

596 
obj
->
·»Á
 =…arent;

597 
·»Á
->
rchd
 = 
obj
;

600 
Œ“
 = 
	`objeù_g‘_roÙ
(
·»Á
)->parent;

606 
Œ“
->
lchd
 = 
	`objeù_Œ“_l_mo¡_node
Ñ»e->
·»Á
);

608 
Œ“
->
rchd
 = 
	`objeù_Œ“_r_mo¡_node
Ñ»e->
·»Á
);

609 
	}
}

612 
objeù
* 
	$objeù_g‘_roÙ
(
objeù
* 
obj
)

614 
obj
->
·»Á
 !ğ
NULL
 && obj->parent->parent != obj)

616 
obj
 = obj->
·»Á
;

618  
obj
;

619 
	}
}

	@utils/data_structures/object.h

30 #iâdeà
_OBJECT_H_


31 
	#_OBJECT_H_
 1

	)

33 
	~"ba£_ty³.h
"

57 
	#OBJECT_DEFINITION
 \

61 
objeù
 * 
·»Á
; \

66 
objeù
 * 
lchd
; \

71 
objeù
 * 
rchd
; \

76 * 
Çme
; \

81 
si_t
 
id
;

	)

83 
	sobjeù


85 
	mOBJECT_DEFINITION


91 
	#OBJECT_POINTER
(
addr
è((
objeù
 *)×ddr))

	)

102 
objeù_š™


103 (
si_t
 
id
);

115 
si_t


116 
objeù_ex™


117 (
objeù
 * 
obj
);

129 
si_t


130 
objeù_Œ“_ä“


131 (
objeù
 * 
roÙ
);

142 
objeù_Œ“_l_mo¡_node


143 (
objeù
 * 
node
);

154 
objeù_Œ“_r_mo¡_node


155 (
objeù
 * 
node
);

167 
objeù_Œ“_™”©Ü_šüem’t


168 (
objeù
 * 
Œ“
,

169 
objeù
 * 
node
);

181 
objeù_Œ“_™”©Ü_deüem’t


182 (
objeù
 * 
Œ“
,

183 
objeù
 * 
node
);

190 
si_t
 
objeù_©ch_chd
 (
objeù
 * 
obj
, objeù * 
chd
);

205 
si_t
 
objeù_š£¹_chd
(
objeù
* 
·»Á
, objeù* 
chd
);

221 
si_t
 
objeù_d–‘e
(
objeù
* objeù, (*
de¡ruùÜ
)(*));

232 * 
	`objeù_·»Á
(
objeù
 * 
obj
);

239 
si_t
 
	`objeù_Œ“_fÜ_—ch
(
objeù
 * 
roÙ
, (* 
aùiÚ
)(*));

246 
	`objeù_move_fœ¡
(
objeù
* 
obj
);

255 
objeù
* 
	`objeù_g‘_roÙ
(objeù* 
obj
);

	@utils/data_structures/queue.c

30 
	~"queue.h
"

32 
si_t


33 
	gqueue_š™


34 (
queue
 * 
	gq
)

36 
li¡_š™
(&(
q
->
cÚš”
));

41 
si_t


42 
	gqueue_ex™


43 (
queue
 * 
	gq
)

45 
li¡_ex™
(&(
q
->
cÚš”
));

50 
ui_t


51 
	gqueue_size


52 (
queue
 * 
	gq
)

54  
li¡_size
(&(
q
->
cÚš”
));

57 
si_t


58 
	gqueue_em±y


59 (
queue
 * 
	gq
)

61  
li¡_em±y
(&(
q
->
cÚš”
));

65 
	gqueue_äÚt


66 (
queue
 * 
	gq
)

68  
li¡_äÚt
(&(
q
->
cÚš”
));

72 
	gqueue_back


73 (
queue
 * 
	gq
)

75  
li¡_back
(&(
q
->
cÚš”
));

78 
si_t


79 
	gqueue_push


80 (
queue
 * 
	gq
,

81 * 
	gd©a
,

82 
ui_t
 
	gd©asize
)

84 
li¡_push_back
(&(
q
->
cÚš”
), 
d©a
, 
d©asize
);

89 
si_t


90 
	$queue_pİ
(
queue
 * 
q
)

92 
	`li¡_pİ_äÚt
(&(
q
->
cÚš”
));

95 
	}
}

	@utils/data_structures/queue.h

30 #iâdeà
_QUEUE_H_


31 
	#_QUEUE_H_
 1

	)

33 
	~"li¡.h
"

38 
	squeue


43 
li¡
 
	mcÚš”
;

54 
si_t


55 
queue_š™


56 (
queue
 * 
q
);

66 
si_t


67 
queue_ex™


68 (
queue
 * 
q
);

78 
ui_t


79 
queue_size


80 (
queue
 * 
q
);

90 
si_t


91 
queue_em±y


92 (
queue
 * 
q
);

103 
queue_äÚt


104 (
queue
 * 
q
);

115 
queue_back


116 (
queue
 * 
q
);

128 
si_t


129 
queue_push


130 (
queue
 * 
q
,

131 * 
d©a
,

132 
ui_t
 
d©a_size
);

142 
si_t


143 
queue_pİ


144 (
queue
 * 
q
);

	@utils/data_structures/stack.c

30 
	~"¡ack.h
"

32 
si_t


33 
	g¡ack_š™


34 (
¡ack
 * 
	gs
)

36 
veùÜ_š™
(&(
s
->
cÚš”
));

41 
si_t


42 
	g¡ack_ex™


43 (
¡ack
 * 
	gs
)

45 
veùÜ_ex™
(&(
s
->
cÚš”
));

50 
ui_t


51 
	g¡ack_size


52 (
¡ack
 * 
	gs
)

54  
veùÜ_size
(&(
s
->
cÚš”
));

57 
si_t


58 
	g¡ack_em±y


59 (
¡ack
 * 
	gs
)

61  
veùÜ_em±y
(&(
s
->
cÚš”
));

65 
	g¡ack_tİ


66 (
¡ack
 * 
	gs
)

68  
veùÜ_back
(&(
s
->
cÚš”
));

71 
si_t


72 
	g¡ack_push


73 (
¡ack
 * 
	gs
,

74 * 
	gd©a
,

75 
ui_t
 
	gd©asize
)

77 
veùÜ_push_back
(&(
s
->
cÚš”
), 
d©a
, 
d©asize
);

82 
si_t


83 
	g¡ack_pİ


84 (
¡ack
 * 
	gs
)

86 
veùÜ_pİ_back
(&(
s
->
cÚš”
));

	@utils/data_structures/stack.h

30 #iâdeà
_STACK_H_


31 
	#_STACK_H_
 1

	)

33 
	~"veùÜ.h
"

38 
	s¡ack


43 
veùÜ
 
	mcÚš”
;

54 
si_t


55 
¡ack_š™


56 (
¡ack
 * 
s
);

66 
si_t


67 
¡ack_ex™


68 (
¡ack
 * 
s
);

78 
ui_t


79 
¡ack_size


80 (
¡ack
 * 
s
);

90 
si_t


91 
¡ack_em±y


92 (
¡ack
 * 
s
);

103 
¡ack_tİ


104 (
¡ack
 * 
s
);

116 
si_t


117 
¡ack_push


118 (
¡ack
 * 
s
,

119 * 
d©a
,

120 
ui_t
 
d©asize
);

130 
si_t


131 
¡ack_pİ


132 (
¡ack
 * 
s
);

	@utils/data_structures/tree.c

30 
	~<¡dlib.h
>

31 
	~<¡ršg.h
>

33 
	~"Œ“.h
"

43 
	g__l_mo¡_node__


44 (
Œ“_node
 * 
	gŠ
)

46 
	gŠ
->
	glchd
 !ğ
NULL
)

48 
Š
 =n->
lchd
;

51  
	gŠ
;

62 
	g__r_mo¡_node__


63 (
Œ“_node
 * 
	gŠ
)

65 
	gŠ
->
	grchd
 !ğ
NULL
)

67 
Š
 =n->
rchd
;

70  
	gŠ
;

82 
si_t


83 
	g__n_l_r_Üd”__


84 (
Œ“_node
 * 
	gŠ
,

85 
	$si_t
 (* 
funùiÚ
)(*))

87 if(
Š
 !ğ
NULL
)

89 
	`funùiÚ
(
Š
->
d©a
);

90 
	`__n_l_r_Üd”__
(
Š
->
lchd
, 
funùiÚ
);

91 
	`__n_l_r_Üd”__
(
Š
->
rchd
, 
funùiÚ
);

95 
	}
}

105 
si_t


106 
	g__l_n_r_Üd”__


107 (
Œ“_node
 * 
	gŠ
,

108 
	$si_t
 (* 
funùiÚ
)(*))

110 if(
Š
 !ğ
NULL
)

112 
	`__l_n_r_Üd”__
(
Š
->
lchd
, 
funùiÚ
);

113 
	`funùiÚ
(
Š
->
d©a
);

114 
	`__l_n_r_Üd”__
(
Š
->
rchd
, 
funùiÚ
);

118 
	}
}

128 
si_t


129 
	g__l_r_n_Üd”__


130 (
Œ“_node
 * 
	gŠ
,

131 
	$si_t
 (* 
funùiÚ
)(*))

133 if(
Š
 !ğ
NULL
)

135 
	`__l_r_n_Üd”__
(
Š
->
lchd
, 
funùiÚ
);

136 
	`__l_r_n_Üd”__
(
Š
->
rchd
, 
funùiÚ
);

137 
	`funùiÚ
(
Š
->
d©a
);

141 
	}
}

153 
	g__l_n_r_šüem’t__


154 (
Œ“
 * 
	gt
,

155 
Œ“_node
 * 
	gnode
)

158 
Œ“_node
 * 
	g‹mp
 = 
node
->
·»Á
;

161 if(
	gnode
->
	grchd
 !ğ
NULL
)

164 
node
 =‚ode->
rchd
;

168 
	gnode
->
	glchd
 !ğ
NULL
)

170 
node
 =‚ode->
lchd
;

177 
	gnode
 =ğ
‹mp
->
rchd
)

180 
node
 = 
‹mp
;

181 
	g‹mp
 = 
‹mp
->
·»Á
;

185 if(
	gnode
->
	grchd
 !ğ
‹mp
)

187 
node
 = 
‹mp
;

193 if(&(
	gt
->
	gnode
è=ğ
node
)

195  
NULL
;

199  
	gnode
;

213 
	g__l_n_r_deüem’t__


214 (
Œ“
 * 
	gt
,

215 
Œ“_node
 * 
	gnode
)

218 
Œ“_node
 * 
	g‹mp
 = 
node
->
·»Á
;

221 if(
	gnode
->
	glchd
 !ğ
NULL
)

224 
node
 =‚ode->
lchd
;

228 
	gnode
->
	grchd
 !ğ
NULL
)

230 
node
 =‚ode->
rchd
;

237 
	gnode
 =ğ
‹mp
->
lchd
)

240 
node
 = 
‹mp
;

241 
	g‹mp
 = 
‹mp
->
·»Á
;

245 if(
	gnode
->
	glchd
 !ğ
‹mp
)

247 
node
 = 
‹mp
;

253 if(&(
	gt
->
	gnode
è=ğ
node
)

255  
NULL
;

259  
	gnode
;

272 
si_t


273 
	g__”a£_subŒ“__


274 (
Œ“
 * 
	gt
,

275 
Œ“_node
 * 
	gŠ
)

277 if(
	gŠ
 !ğ
NULL
)

279 
__”a£_subŒ“__
(
t
, 
Š
->
lchd
);

280 
__”a£_subŒ“__
(
t
, 
Š
->
rchd
);

282 
ä“
(
Š
->
d©a
);

283 
ä“
(
Š
);

285 
	gt
->
	gnode
.
	gd©a
 = (*)((
ui_t
)(
t
->
node
.
d©a
) - 1);

299 
si_t


300 
	g__”a£_node_w™h_0_chd__


301 (
Œ“
 * 
	gt
,

302 
Œ“_node
 * 
	gŠ
)

305 if(
	gŠ
 =ğ
t
->
node
.
·»Á
)

307 
t
->
node
.
·»Á
 = 
NULL
;

311 
	gt
->
	gnode
.
	glchd
 = 
NULL
;

315 
	gt
->
	gnode
.
	grchd
 = 
NULL
;

321 if(
	gŠ
->
	g·»Á
->
	glchd
 =ğ
Š
)

324 
Š
->
·»Á
->
lchd
 = 
NULL
;

328 if(
	gt
->
	gnode
.
	glchd
 =ğ
Š
)

330 
t
->
node
.
lchd
 = 
__l_mo¡_node__
Ñ->node.
·»Á
);

340 
	gŠ
->
	g·»Á
->
	grchd
 = 
NULL
;

347 if(
	gt
->
	gnode
.
	grchd
 =ğ
Š
)

349 
t
->
node
.
rchd
 = 
__r_mo¡_node__
Ñ->node.
·»Á
);

355 
ä“
(
Š
->
d©a
);

357 
ä“
(
Š
);

370 
si_t


371 
	g__”a£_node_w™h_l_chd__


372 (
Œ“
 * 
	gt
,

373 
Œ“_node
 * 
	gŠ
)

376 if(
	gŠ
 =ğ
t
->
node
.
·»Á
)

378 
Š
->
lchd
->
·»Á
 = &(
t
->
node
);

380 
	gt
->
	gnode
.
	g·»Á
 = 
Š
->
lchd
;

387 
	gt
->
	gnode
.
	grchd
 = 
__r_mo¡_node__
(
t
->
node
.
·»Á
);

393 
	gŠ
->
	glchd
->
	g·»Á
 = 
Š
->
·»Á
;

396 if(
	gŠ
->
	g·»Á
->
	glchd
 =ğ
Š
)

399 
Š
->
·»Á
->
lchd
 =n->lchild;

411 
	gŠ
->
	g·»Á
->
	grchd
 = 
Š
->
lchd
;

418 if(
	gt
->
	gnode
.
	grchd
 =ğ
Š
)

420 
t
->
node
.
rchd
 = 
__r_mo¡_node__
Ñ->node.
·»Á
);

426 
ä“
(
Š
->
d©a
);

428 
ä“
(
Š
);

441 
si_t


442 
	g__”a£_node_w™h_r_chd__


443 (
Œ“
 * 
	gt
,

444 
Œ“_node
 * 
	gŠ
)

447 if(
	gŠ
 =ğ
t
->
node
.
·»Á
)

449 
Š
->
rchd
->
·»Á
 = &(
t
->
node
);

451 
	gt
->
	gnode
.
	g·»Á
 = 
Š
->
rchd
;

455 
	gt
->
	gnode
.
	glchd
 = 
__l_mo¡_node__
(
t
->
node
.
·»Á
);

464 
	gŠ
->
	grchd
->
	g·»Á
 = 
Š
->
·»Á
;

467 if(
	gŠ
->
	g·»Á
->
	glchd
 =ğ
Š
)

470 
Š
->
·»Á
->
lchd
 =n->
rchd
;

474 if(
	gt
->
	gnode
.
	glchd
 =ğ
Š
)

476 
t
->
node
.
lchd
 = 
__l_mo¡_node__
Ñ->node.
·»Á
);

486 
	gŠ
->
	g·»Á
->
	grchd
 = 
Š
->
rchd
;

497 
ä“
(
Š
->
d©a
);

499 
ä“
(
Š
);

512 
si_t


513 
	g__”a£_node_w™h_2_chd__


514 (
Œ“
 * 
	gt
,

515 
Œ“_node
 * 
	gŠ
)

517 
Œ“_node
 * 
	grsubŒ“_l_mo¡
;

520 
	grsubŒ“_l_mo¡
 = 
__l_mo¡_node__
(
Š
->
rchd
);

523 if(
	gŠ
 =ğ
t
->
node
.
·»Á
)

525 
t
->
node
.
·»Á
 = 
rsubŒ“_l_mo¡
;

531 if(
	gŠ
->
	g·»Á
->
	glchd
 =ğ
Š
)

533 
Š
->
·»Á
->
lchd
 = 
rsubŒ“_l_mo¡
;

538 
	gŠ
->
	g·»Á
->
	grchd
 = 
rsubŒ“_l_mo¡
;

542 
	grsubŒ“_l_mo¡
->
	glchd
 = 
Š
->
lchd
;

543 
	gŠ
->
	glchd
->
	g·»Á
 = 
rsubŒ“_l_mo¡
;

544 if(
	gŠ
->
	grchd
 !ğ
rsubŒ“_l_mo¡
)

546 
rsubŒ“_l_mo¡
->
rchd
 = 
Š
->rchild;

547 
	gŠ
->
	grchd
->
	g·»Á
 = 
rsubŒ“_l_mo¡
;

550 if(
	grsubŒ“_l_mo¡
->
	g·»Á
->
	glchd
 =ğ
rsubŒ“_l_mo¡
)

552 
rsubŒ“_l_mo¡
->
·»Á
->
lchd
 = 
NULL
;

556 
	grsubŒ“_l_mo¡
->
	g·»Á
->
	grchd
 = 
NULL
;

559 
	grsubŒ“_l_mo¡
->
	g·»Á
 = 
Š
->
·»Á
;

576 
ä“
(
Š
->
d©a
);

578 
ä“
(
Š
);

583 
si_t


584 
	gŒ“_š™


585 (
Œ“
 * 
	gt
)

588 
	gt
->
	gnode
.
	g·»Á
 = 
NULL
;

589 
	gt
->
	gnode
.
	glchd
 = 
NULL
;

590 
	gt
->
	gnode
.
	grchd
 = 
NULL
;

591 
	gt
->
	gnode
.
	gd©a
 = (*)((
ui_t
)0);

596 
si_t


597 
	gŒ“_ex™


598 (
Œ“
 * 
	gt
)

600 
Œ“_ş—r
(
t
);

605 
ui_t


606 
	gŒ“_size


607 (
Œ“
 * 
	gt
)

609  (
	gui_t
)(
	gt
->
	gnode
.
	gd©a
);

612 
si_t


613 
	gŒ“_em±y


614 (
Œ“
 * 
	gt
)

616 if(
	gt
->
	gnode
.
	g·»Á
 =ğ
NULL
)

627 
	gŒ“_begš


628 (
Œ“
 * 
	gt
)

631  
	gt
->
	gnode
.
	glchd
;

635 
	gŒ“_’d


636 (
Œ“
 * 
	gt
)

639  
	gt
->
	gnode
.
	grchd
;

643 
	gŒ“_fšd


644 (
Œ“
 * 
	gt
,

645 * 
	gd©a
,

646 
	$si_t
 (* 
comp
)(*, *))

648 
Œ“_node
 * 
·»Á
 = &(
t
->
node
);

649 
Œ“_node
 * 
‹mp
 = 
t
->
node
.
·»Á
;

652 if(
‹mp
 =ğ
NULL
)

654  
NULL
;

657 
‹mp
 !ğ
NULL
)

660 if(!
	`comp
(
‹mp
->
d©a
, data))

662 
·»Á
 = 
‹mp
;

663 
‹mp
 =emp->
lchd
;

667 
‹mp
 =emp->
rchd
;

671  
	`comp
(
d©a
, 
·»Á
->d©aè? 
NULL
 :…arent;

672 
	}
}

675 
	gŒ“_low”_bound


676 (
Œ“
 * 
	gt
,

677 * 
	gd©a
,

678 
	$si_t
 (* 
comp
)(*, *))

680 
Œ“_node
 * 
·»Á
 = &(
t
->
node
);

681 
Œ“_node
 * 
‹mp
 = 
t
->
node
.
·»Á
;

684 if(
‹mp
 =ğ
NULL
)

686  
NULL
;

689 
‹mp
 !ğ
NULL
)

692 if(!
	`comp
(
‹mp
->
d©a
, data))

694 
·»Á
 = 
‹mp
;

695 
‹mp
 =emp->
lchd
;

699 
‹mp
 =emp->
rchd
;

703  
·»Á
;

704 
	}
}

707 
	gŒ“_uµ”_bound


708 (
Œ“
 * 
	gt
,

709 * 
	gd©a
,

710 
	$si_t
 (* 
comp
)(*, *))

712 
Œ“_node
 * 
·»Á
 = &(
t
->
node
);

713 
Œ“_node
 * 
‹mp
 = 
t
->
node
.
·»Á
;

716 if(
‹mp
 =ğ
NULL
)

718  
NULL
;

721 
‹mp
 !ğ
NULL
)

724 if(
	`comp
(
d©a
, 
‹mp
->data))

726 
·»Á
 = 
‹mp
;

727 
‹mp
 =emp->
lchd
;

731 
‹mp
 =emp->
rchd
;

735  
·»Á
;

736 
	}
}

746 
si_t


747 
	gŒ“_š£¹


748 (
Œ“
 * 
	gt
,

749 
	$si_t
 (* 
comp
)(*, *),

750 * 
d©a
,

751 
ui_t
 
d©asize
)

753 
Œ“_node
 * 
‹mp
 = 
t
->
node
.
·»Á
;

754 
Œ“_node
 * 
·»Á
 = 
NULL
;

757 
t
->
node
.
d©a
 = (*)((
ui_t
)(t->node.data) + 1);

760 if(
‹mp
 =ğ
NULL
)

763 
t
->
node
.
·»Á
 = (
Œ“_node
 *)
	`m®loc
((tree_node));

764 
t
->
node
.
lchd
 =->node.
·»Á
;

765 
t
->
node
.
rchd
 =->node.
·»Á
;

768 
t
->
node
.
·»Á
->parent = &(t->node);

769 
t
->
node
.
·»Á
->
lchd
 = 
NULL
;

770 
t
->
node
.
·»Á
->
rchd
 = 
NULL
;

773 
t
->
node
.
·»Á
->
d©a
 = (*)
	`m®loc
(
d©asize
);

774 
	`memıy
(
t
->
node
.
·»Á
->
d©a
, d©a, 
d©asize
);

780 
‹mp
 !ğ
NULL
)

782 
·»Á
 = 
‹mp
;

785 if(
	`comp
(
d©a
, 
‹mp
->data))

788 
‹mp
 =emp->
lchd
;

795 
‹mp
 =emp->
rchd
;

800 if(
	`comp
(
d©a
, 
·»Á
->data))

803 
·»Á
->
lchd
 = (
Œ“_node
 *)
	`m®loc
((tree_node));

806 
·»Á
->
lchd
->
rchd
 = 
NULL
;

807 
·»Á
->
lchd
->lchd = 
NULL
;

808 
·»Á
->
lchd
->parent =…arent;

811 
·»Á
->
lchd
->
d©a
 = (*)
	`m®loc
(
d©asize
);

812 
	`memmove
(
·»Á
->
lchd
->
d©a
, d©a, 
d©asize
);

816 ifĞ
t
->
node
.
lchd
 =ğ
·»Á
)

818 
t
->
node
.
lchd
 = 
	`__l_mo¡_node__
Ñ->node.
·»Á
);

828 
·»Á
->
rchd
 = (
Œ“_node
 *)
	`m®loc
((tree_node));

831 
·»Á
->
rchd
->rchd = 
NULL
;

832 
·»Á
->
rchd
->
lchd
 = 
NULL
;

833 
·»Á
->
rchd
->parent =…arent;

836 
·»Á
->
rchd
->
d©a
 = (*)
	`m®loc
(
d©asize
);

837 
	`memmove
(
·»Á
->
rchd
->
d©a
, d©a, 
d©asize
);

844 if(
t
->
node
.
rchd
 =ğ
·»Á
)

846 
t
->
node
.
rchd
 = 
	`__r_mo¡_node__
Ñ->node.
·»Á
);

851 
	}
}

853 
si_t


854 
	gŒ“_”a£


855 (
Œ“
 * 
	gt
,

856 
Œ“_node
 * 
	gpos™iÚ
)

859 
	gt
->
	gnode
.
	gd©a
 = (*)((
ui_t
)(
t
->
node
.
d©a
) - 1);

862 if(
	gpos™iÚ
->
	glchd
 =ğ
NULL
 && 
pos™iÚ
->
rchd
 == NULL)

864 
__”a£_node_w™h_0_chd__
(
t
, 
pos™iÚ
);

867 if(
	gpos™iÚ
->
	glchd
 =ğ
NULL
)

869 
__”a£_node_w™h_r_chd__
(
t
, 
pos™iÚ
);

872 if(
	gpos™iÚ
->
	grchd
 =ğ
NULL
)

874 
__”a£_node_w™h_l_chd__
(
t
, 
pos™iÚ
);

879 
__”a£_node_w™h_2_chd__
(
t
, 
pos™iÚ
);

885 
si_t


886 
	gŒ“_”a£_l_subŒ“


887 (
Œ“
 * 
	gt
,

888 
Œ“_node
 * 
	gpos™iÚ
)

890 if(
	gpos™iÚ
 !ğ
NULL
)

892 
__”a£_subŒ“__
(
t
, 
pos™iÚ
->
lchd
);

894 
	gpos™iÚ
->
	glchd
 = 
NULL
;

898 
	gt
->
	gnode
.
	glchd
 = 
__l_mo¡_node__
(
t
->
node
.
·»Á
);

904 
si_t


905 
	gŒ“_”a£_r_subŒ“


906 (
Œ“
 * 
	gt
,

907 
Œ“_node
 * 
	gpos™iÚ
)

909 if(
	gpos™iÚ
 !ğ
NULL
)

911 
__”a£_subŒ“__
(
t
, 
pos™iÚ
->
rchd
);

913 
	gpos™iÚ
->
	grchd
 = 
NULL
;

917 
	gt
->
	gnode
.
	grchd
 = 
__r_mo¡_node__
(
t
->
node
.
·»Á
);

923 
si_t


924 
	gŒ“_ş—r


925 (
Œ“
 * 
	gt
)

928 if(
	gt
->
	gnode
.
	g·»Á
 !ğ
NULL
)

930 
Œ“_”a£_l_subŒ“
(
t
,->
node
.
·»Á
);

931 
Œ“_”a£_r_subŒ“
(
t
,->
node
.
·»Á
);

933 
ä“
(
t
->
node
.
·»Á
->
d©a
);

934 
ä“
(
t
->
node
.
·»Á
);

936 
	gt
->
	gnode
.
	glchd
 = 
NULL
;

937 
	gt
->
	gnode
.
	grchd
 = 
NULL
;

938 
	gt
->
	gnode
.
	g·»Á
 = 
NULL
;

940 
	gt
->
	gnode
.
	gd©a
 = (*)((
ui_t
)(
t
->
node
.
d©a
) - 1);

946 
si_t


947 
	gŒ“_fÜ_—ch


948 (
Œ“
 * 
	gt
,

949 
	$si_t
 (* 
funùiÚ
)(*))

951 
Œ“_node
 * 
‹mp
;

955 
‹mp
 = 
t
->
node
.
lchd
;

956 
‹mp
 !ğ
NULL
)

958 
	`funùiÚ
(
‹mp
->
d©a
);

959 
‹mp
 = 
	`__l_n_r_šüem’t__
(
t
,emp);

963 
	}
}

	@utils/data_structures/tree.h

30 #iâdeà
_TREE_H_


31 
	#_TREE_H_
 1

	)

33 
	~<ba£_ty³.h
>

38 
	sŒ“_node


43 
Œ“_node
 * 
	m·»Á
;

47 
Œ“_node
 * 
	mlchd
;

51 
Œ“_node
 * 
	mrchd
;

55 * 
	md©a
;

61 
	sŒ“


72 
Œ“_node
 
	mnode
;

83 
si_t


84 
Œ“_š™


85 (
Œ“
 * 
t
);

95 
si_t


96 
Œ“_ex™


97 (
Œ“
 * 
t
);

107 
ui_t


108 
Œ“_size


109 (
Œ“
 * 
t
);

119 
si_t


120 
Œ“_em±y


121 (
Œ“
 * 
t
);

134 
Œ“_begš


135 (
Œ“
 * 
t
);

148 
Œ“_’d


149 (
Œ“
 * 
t
);

161 
ui_t


162 
Œ“_couÁ


163 (
Œ“
 * 
t
,

164 * 
d©a
,

165 
	$si_t
 (* 
comp
)(*, *));

180 
Œ“_fšd


181 (
Œ“
 * 
t
,

182 * 
d©a
,

183 
	$si_t
 (* 
comp
)(*, *));

199 
Œ“_low”_bound


200 (
Œ“
 * 
t
,

201 * 
d©a
,

202 
	$si_t
 (* 
comp
)(*, *));

218 
Œ“_uµ”_bound


219 (
Œ“
 * 
t
,

220 * 
d©a
,

221 
	$si_t
 (* 
comp
)(*, *));

236 
si_t


237 
Œ“_š£¹


238 (
Œ“
 * 
t
,

239 
	$si_t
 (* 
comp
)(*, *),

240 * 
d©a
,

241 
ui_t
 
d©asize
);

252 
si_t


253 
Œ“_”a£


254 (
Œ“
 * 
t
,

255 
Œ“_node
 * 
pos™iÚ
);

266 
si_t


267 
Œ“_”a£_l_subŒ“


268 (
Œ“
 * 
t
,

269 
Œ“_node
 * 
pos™iÚ
);

280 
si_t


281 
Œ“_”a£_r_subŒ“


282 (
Œ“
 * 
t
,

283 
Œ“_node
 * 
pos™iÚ
);

293 
si_t


294 
Œ“_ş—r


295 (
Œ“
 * 
t
);

306 
si_t


307 
Œ“_fÜ_—ch


308 (
Œ“
 * 
t
,

309 
	$si_t
 (* 
funùiÚ
)(*));

	@utils/data_structures/vector.c

30 
	~<¡dlib.h
>

31 
	~<¡ršg.h
>

33 
	~"veùÜ.h
"

35 
	#_VECTOR_DEFAULT_CAPACITY_
 8

	)

37 
ui_t


38 
	gveùÜ_size


39 (
veùÜ
 * 
	gv
)

41  
	gv
->
	gcu¼
 - v->
	gh—d
;

44 
si_t


45 
	gveùÜ_em±y


46 (
veùÜ
 * 
	gv
)

48  
	gv
->
	gcu¼
 =ğ
v
->
h—d
;

52 
	gveùÜ_begš


53 (
veùÜ
 * 
	gv
)

55  
	gv
->
	gh—d
;

59 
	gveùÜ_’d


60 (
veùÜ
 * 
	gv
)

62  
	gv
->
	gcu¼
 - 1;

66 
	gveùÜ_äÚt


67 (
veùÜ
 * 
	gv
)

69  
	gv
->
	gh—d
->
	gd©a
;

73 
	gveùÜ_back


74 (
veùÜ
 * 
	gv
)

76  (
	gv
->
	gcu¼
 - 1)->
	gd©a
;

80 
	gveùÜ_©


81 (
veùÜ
 * 
	gv
, 
si_t
 
	gi
)

83  (
	gv
->
	gh—d
 + 
	gi
)->
	gd©a
;

86 
si_t


87 
	gveùÜ_move_äÚt


88 (
veùÜ
 * 
	gv
,

89 
si_t
 
	gi
)

91 
veùÜ_node
 
	g‹mp
;

94 
	gmemıy


95 (&
	g‹mp
,

96 
	gv
->
	gh—d
 + 
	gi
,

97 (
	gveùÜ_node
));

100 
	gmemmove


101 (
	gv
->
	gh—d
 + 1,

102 
	gv
->
	gh—d
,

103 
i
 * (
	gveùÜ_node
));

106 
	gmemıy


107 (
	gv
->
	gh—d
,

108 &
	g‹mp
,

109 (
	gveùÜ_node
));

114 
si_t


115 
	gveùÜ_move_back


116 (
veùÜ
 * 
	gv
,

117 
si_t
 
	gi
)

119 
veùÜ_node
 
	g‹mp
;

122 
	gmemıy


123 (&
	g‹mp
,

124 
	gv
->
	gh—d
 + 
	gi
,

125 (
	gveùÜ_node
));

128 
	gmemıy


129 (
	gv
->
	gh—d
 + 
	gi
,

130 
	gv
->
	gh—d
 + 
	gi
 + 1,

131 (
	gv
->
	gcu¼
 - v->
	gh—d
 - 
	gi
 - 1è* (
	gveùÜ_node
));

134 
	gmemıy


135 (
	gv
->
	gcu¼
 - 1,

136 &
	g‹mp
,

137 (
	gveùÜ_node
));

142 
ui_t


143 
	gveùÜ_couÁ


144 (
veùÜ
 * 
	gv
,

145 
	$si_t
 (* 
comp
)(*))

147 
veùÜ_node
 * 
addr
 = 
v
->
h—d
;

148 
ui_t
 
n
 = 0;

150 
addr
 < 
v
->
cu¼
)

152 if(
	`comp
(
addr
->
d©a
))

154 ++ 
n
;

157 ++ 
addr
;

160  
n
;

161 
	}
}

163 
si_t


164 
	gveùÜ_fšd


165 (
veùÜ
 * 
	gv
,

166 * 
	gd©a
,

167 
	$si_t
 (* 
comp
)(*, *))

169 
veùÜ_node
 * 
addr
 = 
v
->
h—d
;

171 
addr
 < 
v
->
cu¼
)

173 if(
	`comp
(
addr
->
d©a
, data))

175  
addr
 - 
v
->
h—d
;

178 ++ 
addr
;

182 
	}
}

184 
si_t


185 
	gveùÜ_low”_bound


186 (
veùÜ
 * 
	gv
,

187 * 
	gd©a
,

188 
	$si_t
 (* 
comp
)(*, *))

190 
veùÜ_node
 * 
addr
 = 
v
->
h—d
;

192 
addr
 < 
v
->
cu¼
)

195 if(!
	`comp
(
addr
->
d©a
, data))

197  
addr
 - 
v
->
h—d
;

200 ++ 
addr
;

204 
	}
}

206 
si_t


207 
	gveùÜ_uµ”_bound


208 (
veùÜ
 * 
	gv
,

209 * 
	gd©a
,

210 
	$si_t
 (* 
comp
)(*, *))

212 
veùÜ_node
 * 
addr
 = 
v
->
h—d
;

214 
addr
 < 
v
->
cu¼
)

217 if(
	`comp
(
d©a
, 
addr
->data))

219  
addr
 - 
v
->
h—d
;

222 ++ 
addr
;

226 
	}
}

228 
si_t


229 
	gveùÜ_push_back


230 (
veùÜ
 * 
	gv
,

231 * 
	gd©a
,

232 
ui_t
 
	gd©asize
)

234 
veùÜ_node
 * 
	gaddr
 = 
NULL
;

235 
ui_t
 
	g‹mp
 = 0;

238 
	g‹mp
 = 
v
->
cu¼
 - v->
h—d
;

241 if(
	gv
->
	gcu¼
 =ğ
v
->

)

243 
addr
 = (
veùÜ_node
 *)
ÿÎoc
((veùÜ_node), (
‹mp
 + 1) << 1);

244 
memıy
(
addr
, 
v
->
h—d
, (
veùÜ_node
è* 
‹mp
);

245 
ä“
(
v
->
h—d
);

247 
	gv
->
	gh—d
 = 
addr
;

248 
	gv
->
	gcu¼
 = 
addr
 + 
‹mp
;

249 
	gv
->
	g
 = 
addr
 + (
‹mp
 << 1) + 1;

253 
	gv
->
	gcu¼
->
	gd©a
 = 
m®loc
(
d©asize
);

254 
memıy
(
v
->
cu¼
->
d©a
, d©a, 
d©asize
);

257 ++ 
	gv
->
	gcu¼
;

262 
si_t


263 
	gveùÜ_pİ_back


264 (
veùÜ
 * 
	gv
)

266 -- 
	gv
->
	gcu¼
;

268 
ä“
(
v
->
cu¼
->
d©a
);

273 
si_t


274 
	gveùÜ_š£¹


275 (
veùÜ
 * 
	gv
,

276 
ui_t
 
	gi
,

277 * 
	gd©a
,

278 
ui_t
 
	gd©asize
)

280 
veùÜ_node
 * 
	gaddr
 = 
NULL
;

281 
ui_t
 
	g‹mp
 = 0;

284 
	g‹mp
 = 
v
->
cu¼
 - v->
h—d
;

287 if(
	gv
->
	gcu¼
 =ğ
v
->

)

289 
addr
 = (
veùÜ_node
 *)
ÿÎoc
((veùÜ_node), (
‹mp
 + 1) << 1);

290 
memıy
(
addr
, 
v
->
h—d
, (
veùÜ_node
è* 
‹mp
);

291 
ä“
(
v
->
h—d
);

293 
	gv
->
	gh—d
 = 
addr
;

294 
	gv
->
	gcu¼
 = 
addr
 + 
‹mp
;

295 
	gv
->
	g
 = 
addr
 + (
‹mp
 << 1) + 1;

298 
	gmemmove


299 (
	gv
->
	gh—d
 + 
	gi
 + 1,

300 
	gv
->
	gh—d
 + 
	gi
,

301 (
	gveùÜ_node
è* (
	gv
->
	gcu¼
 - v->
	gh—d
 - 
	gi
));

304 (
	gv
->
	gh—d
 + 
	gi
)->
	gd©a
 = (*)
m®loc
(
d©asize
);

305 
memıy
((
v
->
h—d
 + 
i
)->
d©a
, d©a, 
d©asize
);

308 ++ 
	gv
->
	gcu¼
;

313 
si_t


314 
	gveùÜ_”a£


315 (
veùÜ
 * 
	gv
,

316 
ui_t
 
	gi
)

318 
ä“
((
v
->
h—d
 + 
i
)->
d©a
);

320 
	gmemmove


321 (
	gv
->
	gh—d
 + 
	gi
,

322 
	gv
->
	gh—d
 + 
	gi
 + 1,

323 (
	gveùÜ_node
è* (
	gv
->
	gcu¼
 - v->
	gh—d
 - 
	gi
 - 1));

325 -- 
	gv
->
	gcu¼
;

330 
si_t


331 
	gveùÜ_fÜ_—ch


332 (
veùÜ
 * 
	gv
,

333 * 
	gd©a
,

334 
	$si_t
 (* 
funùiÚ
)(*, *))

336 
veùÜ_node
 * 
±r
 = 
v
->
h—d
;

338 
±r
 !ğ
v
->
cu¼
)

340 
	`funùiÚ
(
±r
->
d©a
, data);

341 ++ 
±r
;

345 
	}
}

348 
si_t


349 
	gveùÜ_sÜt


350 (
veùÜ
 * 
	gv
,

351 
	$si_t
 (* 
comp
)(*, *))

353 
si_t
 
i
;

354 
ui_t
 ** 
tmp
;

355 
veùÜ_node
 * 
±r
;

357 if(
v
->
cu¼
 !ğv->
h—d
)

359 
tmp
 = (
ui_t
 **)
	`ÿÎoc
((*), 
v
->
cu¼
 - v->
h—d
);

361 
i
 = 0, 
±r
 = 
v
->
h—d
;…Œ !ğv->
cu¼
; ++ i)

363 
tmp
[
i
] = (
ui_t
 *)
±r
->
d©a
;

364 ++ 
±r
;

367 
	`qsÜt
(
tmp
, 
v
->
cu¼
 - v->
h—d
, (*), 
comp
);

369 
i
 = 0, 
±r
 = 
v
->
h—d
;…Œ !ğv->
cu¼
; ++ i)

371 
±r
->
d©a
 = 
tmp
[
i
];

372 ++ 
±r
;

375 
	`ä“
(
tmp
);

379 
	}
}

382 
si_t


383 
	gveùÜ_ş—r


384 (
veùÜ
 * 
	gv
)

386 if(
	gv
->
	gcu¼
 !ğ
v
->
h—d
)

388 
v
->
cu¼
 !ğv->
h—d
)

390 -- 
v
->
cu¼
;

392 
ä“
(
v
->
cu¼
->
d©a
);

399 
si_t


400 
	gveùÜ_š™


401 (
veùÜ
 * 
	gv
)

403 
	gv
->
	gh—d
 = (
veùÜ_node
 *)
ÿÎoc
((veùÜ_node), 
_VECTOR_DEFAULT_CAPACITY_
);

404 
	gv
->
	g
 = 
v
->
h—d
 + 
_VECTOR_DEFAULT_CAPACITY_
 - 1;

405 
	gv
->
	gcu¼
 = 
v
->
h—d
;

410 
si_t


411 
	gveùÜ_ex™


412 (
veùÜ
 * 
	gv
)

414 
	gv
->
	gcu¼
 > v->
	gh—d
)

416 -- 
	gv
->
	gcu¼
;

417 
ä“
(
v
->
cu¼
->
d©a
);

420 
ä“
(
v
->
h—d
);

422 
	gv
->
	gh—d
 = 
NULL
;

423 
	gv
->
	gcu¼
 = 
NULL
;

424 
	gv
->
	g
 = 
NULL
;

	@utils/data_structures/vector.h

1 #iâdeà
_VECTOR_H_


2 
	#_VECTOR_H_
 1

	)

4 
	~"ba£_ty³.h
"

9 
	sveùÜ_node


14 * 
	md©a
;

20 
	sveùÜ


25 
veùÜ_node
 * 
	mh—d
;

29 
veùÜ_node
 * 
	mcu¼
;

33 
veùÜ_node
 * 
	m
;

44 
si_t


45 
veùÜ_š™


46 (
veùÜ
 * 
v
);

56 
si_t


57 
veùÜ_ex™


58 (
veùÜ
 * 
v
);

68 
ui_t


69 
veùÜ_size


70 (
veùÜ
 * 
v
);

80 
si_t


81 
veùÜ_em±y


82 (
veùÜ
 * 
v
);

93 
veùÜ_begš


94 (
veùÜ
 * 
v
);

105 
veùÜ_’d


106 (
veùÜ
 * 
v
);

117 
veùÜ_äÚt


118 (
veùÜ
 * 
v
);

129 
veùÜ_back


130 (
veùÜ
 * 
v
);

142 
veùÜ_©


143 (
veùÜ
 * 
v
,

144 
si_t
 
i
);

155 
si_t


156 
veùÜ_move_äÚt


157 (
veùÜ
 * 
v
,

158 
si_t
 
i
);

170 
si_t


171 
veùÜ_move_back


172 (
veùÜ
 * 
v
,

173 
si_t
 
i
);

184 
ui_t


185 
veùÜ_couÁ


186 (
veùÜ
 * 
v
,

187 
	$si_t
 (* 
func
)(*));

201 
si_t


202 
veùÜ_fšd


203 (
veùÜ
 * 
v
,

204 * 
d©a
,

205 
	$si_t
 (* 
comp
)(*, *));

220 
si_t


221 
veùÜ_low”_bound


222 (
veùÜ
 * 
v
,

223 * 
d©a
,

224 
	$si_t
 (* 
comp
)(*, *));

239 
si_t


240 
veùÜ_uµ”_bound


241 (
veùÜ
 * 
v
,

242 * 
d©a
,

243 
	$si_t
 (* 
comp
)(*, *));

255 
si_t


256 
veùÜ_push_back


257 (
veùÜ
 * 
v
,

258 * 
d©a
,

259 
ui_t
 
d©asize
);

269 
si_t


270 
veùÜ_pİ_back


271 (
veùÜ
 * 
v
);

284 
si_t


285 
veùÜ_š£¹


286 (
veùÜ
 * 
v
,

287 
ui_t
 
i
,

288 * 
d©a
,

289 
ui_t
 
d©asize
);

300 
si_t


301 
veùÜ_”a£


302 (
veùÜ
 * 
v
,

303 
ui_t
 
i
);

313 
si_t


314 
veùÜ_ş—r


315 (
veùÜ
 * 
v
);

327 
si_t


328 
veùÜ_fÜ_—ch


329 (
veùÜ
 * 
v
,

330 * 
d©a
,

331 
	$si_t
 (* 
funùiÚ
)(*, *));

342 
si_t


343 
veùÜ_sÜt


344 (
veùÜ
 * 
v
,

345 
	$si_t
 (* 
comp
)(*, *));

	@utils/geometry/geometry.c

30 
	~"geom‘ry.h
"

31 
	~<¡dlib.h
>

33 
	$pošt_£t
(
pošt
* 
p
, 
si_t
 
x
, si_ˆ
y
)

35 
p
->
x
 = x;

36 
p
->
y
 = y;

37 
	}
}

39 
	$»ùªgË_£t
(
»ùªgË
* 
r
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
)

41 
r
->
x
 = x;

42 
r
->
y
 = y;

43 
r
->
width
 = width;

44 
r
->
height
 = height;

45 
	}
}

47 
	$»ùªgË_move
(
»ùªgË
* 
r
, 
si_t
 
x_off£t
, si_ˆ
y_off£t
)

49 
r
->
x
 +ğ
x_off£t
;

50 
r
->
y
 +ğ
y_off£t
;

51 
	}
}

53 
si_t


54 
	g¬—_uniÚ


55 (
»ùªgË
 * 
	gp
,

56 
»ùªgË
 * 
	gq
,

57 
»ùªgË
 * 
	g»suÉ
)

59 
si_t
 
	gpb
, 
	g´
, 
	gqb
, 
	gqr
;

61 if(
	gp
->
	gwidth
 =ğ0 || 
p
->
height
 == 0)

63 
»suÉ
->
x
 = 
q
->x;

64 
	g»suÉ
->
	gy
 = 
q
->
y
;

65 
	g»suÉ
->
	gwidth
 = 
q
->
width
;

66 
	g»suÉ
->
	gheight
 = 
q
->
height
;

71 if(
	gq
->
	gwidth
 =ğ0 || 
q
->
height
 == 0)

73 
»suÉ
->
x
 = 
p
->x;

74 
	g»suÉ
->
	gy
 = 
p
->
y
;

75 
	g»suÉ
->
	gwidth
 = 
p
->
width
;

76 
	g»suÉ
->
	gheight
 = 
p
->
height
;

83 
	gpb
 = 
p
->
y
 +…->
height
 - 1;

85 
	g´
 = 
p
->
x
 +…->
width
 - 1;

87 
	gqb
 = 
q
->
y
 + q->
height
 - 1;

89 
	gqr
 = 
q
->
x
 + q->
width
 - 1;

91 
	g»suÉ
->
	gx
 = 
p
->
x
 < 
q
->x ?…->x : q->x;

92 
	g»suÉ
->
	gy
 = 
p
->
y
 < 
q
->y ?…->y : q->y;

93 
	g»suÉ
->
	gwidth
 = 
´
 < 
qr
 ? q¸- 
»suÉ
->
x
 + 1 :…r -„esult->x + 1;

94 
	g»suÉ
->
	gheight
 = 
pb
 < 
qb
 ? qb - 
»suÉ
->
y
 + 1 :…b -„esult->y + 1;

99 
si_t


100 
	g¬—_š‹r£ùiÚ_Şd


101 (
»ùªgË
 * 
	g·»Á
,

102 
»ùªgË
 * 
	gchd
,

103 
»ùªgË
 * 
	g»suÉ
)

105 
si_t
 
	gcx
, 
	gcy
, 
	gcw
, 
	gch
, 
	gpw
, 
	gph
;

107 
	gcx
 = 
chd
->
x
;

108 
	gcy
 = 
chd
->
y
;

109 
	gcw
 = 
chd
->
width
;

110 
	gch
 = 
chd
->
height
;

112 
	gpw
 = 
·»Á
->
width
;

113 
	gph
 = 
·»Á
->
height
;

116 if(
	gcx
 > 
	gpw
 || 
	gcy
 > 
	gph
)

118 
	g»suÉ
->
	gx
 = 0;

119 
	g»suÉ
->
	gy
 = 0;

120 
	g»suÉ
->
	gwidth
 = 0;

121 
	g»suÉ
->
	gheight
 = 0;

128 
	g»suÉ
->
	gx
 = 
cx
;

129 
	g»suÉ
->
	gy
 = 
cy
;

130 
	g»suÉ
->
	gwidth
 = 
cw
;

131 
	g»suÉ
->
	gheight
 = 
cy
;

133 if(
	gcw
 + 
	gcx
 > 
	gpw
)

135 
	g»suÉ
->
	gwidth
 = 
pw
 - 
cx
;

137 if(
	gch
 + 
	gcy
 > 
	gph
)

139 
	g»suÉ
->
	gheight
 = 
ph
 - 
cy
;

146 
si_t


147 
	g¬—_š‹r£ùiÚ


148 (
»ùªgË
 * 
	gp
,

149 
»ùªgË
 * 
	gq
,

150 
»ùªgË
 * 
	g»suÉ
)

152 
si_t
 
	gpb
, 
	g´
, 
	gqb
, 
	gqr
;

155 
	gpb
 = 
p
->
y
 +…->
height
 - 1;

157 
	g´
 = 
p
->
x
 +…->
width
 - 1;

159 
	gqb
 = 
q
->
y
 + q->
height
 - 1;

161 
	gqr
 = 
q
->
x
 + q->
width
 - 1;

165 ((
	gp
->
	gx
 > 
	gqr
) ||

166 (
	gp
->
	gy
 > 
	gqb
) ||

167 (
	gpb
 < 
	gq
->
	gy
) ||

168 (
	g´
 < 
	gq
->
	gx
))

170 
	g»suÉ
->
	gx
 = 0;

171 
	g»suÉ
->
	gy
 = 0;

172 
	g»suÉ
->
	gwidth
 = 0;

173 
	g»suÉ
->
	gheight
 = 0;

180 
	g»suÉ
->
	gx
 = 
p
->
x
 < 
q
->x ? q->x :…->x;

181 
	g»suÉ
->
	gy
 = 
p
->
y
 < 
q
->y ? q->y :…->y;

182 
	g»suÉ
->
	gwidth
 = 
´
 < 
qr
 ?…¸- 
»suÉ
->
x
 + 1 : qr -„esult->x + 1;

183 
	g»suÉ
->
	gheight
 = 
pb
 < 
qb
 ?…b - 
»suÉ
->
y
 + 1 : qb -„esult->y + 1;

189 
si_t


190 
	g¬—_difã»nû


191 (
»ùªgË
 * 
	gp
,

192 
»ùªgË
 * 
	gq
,

193 
»ùªgË
 * 
	g»suÉ
)

195 
»ùªgË
 
	g‹mp
;

198 if(
¬—_š‹r£ùiÚ
(
p
, 
q
, &
‹mp
) == -1)

200 
»suÉ
[0].
x
 = 0;

201 
	g»suÉ
[0].
	gy
 = 0;

202 
	g»suÉ
[0].
	gwidth
 = 0;

203 
	g»suÉ
[0].
	gheight
 = 0;

205 
	g»suÉ
[1].
	gx
 = 0;

206 
	g»suÉ
[1].
	gy
 = 0;

207 
	g»suÉ
[1].
	gwidth
 = 0;

208 
	g»suÉ
[1].
	gheight
 = 0;

210 
	g»suÉ
[2].
	gx
 = 0;

211 
	g»suÉ
[2].
	gy
 = 0;

212 
	g»suÉ
[2].
	gwidth
 = 0;

213 
	g»suÉ
[2].
	gheight
 = 0;

215 
	g»suÉ
[3].
	gx
 = 0;

216 
	g»suÉ
[3].
	gy
 = 0;

217 
	g»suÉ
[3].
	gwidth
 = 0;

218 
	g»suÉ
[3].
	gheight
 = 0;

225 
	g»suÉ
[0].
	gx
 = 
p
->
x
;

226 
	g»suÉ
[0].
	gy
 = 
p
->
y
;

227 
	g»suÉ
[0].
	gwidth
 = 
p
->
width
;

228 
	g»suÉ
[0].
	gheight
 = 
p
->
height
 - 
‹mp
.height;

230 
	g»suÉ
[1].
	gx
 = 
p
->
x
;

231 
	g»suÉ
[1].
	gy
 = 
‹mp
.
y
;

232 
	g»suÉ
[1].
	gwidth
 = 
p
->
width
 - 
‹mp
.width;

233 
	g»suÉ
[1].
	gheight
 = 
‹mp
.
height
;

235 
	g»suÉ
[2].
	gx
 = 
‹mp
.
x
 +emp.
width
;

236 
	g»suÉ
[2].
	gy
 = 
‹mp
.
y
;

237 
	g»suÉ
[2].
	gwidth
 = 
p
->
width
 - 
‹mp
.
x
 -emp.width +…->x;

238 
	g»suÉ
[2].
	gheight
 = 
‹mp
.
height
;

240 
	g»suÉ
[3].
	gx
 = 
p
->
x
;

241 
	g»suÉ
[3].
	gy
 = 
‹mp
.
y
 +emp.
height
;

242 
	g»suÉ
[3].
	gwidth
 = 
p
->
width
;

243 
	g»suÉ
[3].
	gheight
 = 
p
->
height
 - 
‹mp
.
y
 -emp.height +…->y;

249 
si_t
 
	$is_pošt_š_¬—
(
pošt
* 
p
, 
»ùªgË
* 
r
)

251 if(
p
->
x
 >ğ
r
->x &&…->
y
 >ğr->y &&…->x <ğr->x +„->
width
 - 1 &&…->y <ğr->y +„->
height
 - 1)

255 
	}
}

257 
	$’su»_pošt_š_¬—
(
pošt
* 
p
, 
»ùªgË
* 
r
)

259 if(
p
->
x
 <ğ
r
->x)

260 
p
->
x
 = 
r
->x;

261 if(
p
->
x
 >ğ
r
->x +„->
width
 - 1)

262 
p
->
x
 = 
r
->x +„->
width
 - 1;

263 if(
p
->
y
 <ğ
r
->y)

264 
p
->
y
 = 
r
->y;

265 if(
p
->
y
 >ğ
r
->y +„->
height
 -1)

266 
p
->
y
 = 
r
->y +„->
height
 -1;

267 
	}
}

271 
	sb»£nham_™”©Ü
 {

272 
si_t
 
a
, 
b
, 
d–
, 
x
, 
y
, 
dx
, 
dy
, 
¡•x
, 
¡•y
, 
i
;

273 
pošt
 
»t
;

276 
b»£nham_™”©Ü
 *

277 
	$b»£nham_š™
(
si_t
 
x1
, si_ˆ
y1
, si_ˆ
x2
, si_ˆ
y2
)

279 
b»£nham_™”©Ü
 *
™
 =

280 
	`ÿÎoc
(1, (
b»£nham_™”©Ü
));

282 
™
->
dx
 = 
	`Ïbs
(
x1
 - 
x2
);

283 
™
->
dy
 = 
	`Ïbs
(
y1
 - 
y2
);

285 if(
x2
 > 
x1
) {

286 
™
->
¡•x
 = 1;

288 
™
->
¡•x
 = -1;

291 if(
y2
 > 
y1
) {

292 
™
->
¡•y
 = 1;

294 
™
->
¡•y
 = -1;

297 
™
->
x
 = 
x1
;

298 
™
->
y
 = 
y1
;

301 if(
™
->
dx
 > it->
dy
) {

302 
™
->
a
 = it->
dy
 << 1;

303 
™
->
b
 = (™->
dy
 - it->
dx
) << 1;

304 
™
->
d–
 = (™->
dy
 << 1è- it->
dx
;

305 
™
->
i
 = 0;

307 
™
->
a
 = it->
dx
 << 1;

308 
™
->
b
 = (™->
dx
 - it->
dy
) << 1;

309 
™
->
d–
 = (™->
dx
 << 1è- it->
dy
;

310 
™
->
i
 = 0;

312  
™
;

313 
	}
}

315 
pošt
 *
	$b»£nham_Ãxt
(
b»£nham_™”©Ü
 *
™
)

318 if(
™
->
dx
 > it->
dy
) {

319 if(
™
->
i
 <ğ™->
dx
) {

320 
™
->
»t
.
x
 = it->x;

321 
™
->
»t
.
y
 = it->y;

323 
™
->
x
 +ğ™->
¡•x
;

324 if(
™
->
d–
 < 0) {

325 
™
->
d–
 +ğ™->
a
;

327 
™
->
d–
 +ğ™->
b
;

328 
™
->
y
 +ğ™->
¡•y
;

331 
™
->
i
 ++;

332  &
™
->
»t
;

335 if(
™
->
i
 <ğ™->
dy
) {

336 
™
->
»t
.
x
 = it->x;

337 
™
->
»t
.
y
 = it->y;

339 
™
->
y
 +ğ™->
¡•y
;

340 if(
™
->
d–
 < 0) {

341 
™
->
d–
 +ğ™->
a
;

343 
™
->
d–
 +ğ™->
b
;

344 
™
->
x
 +ğ™->
¡•x
;

347 
™
->
i
 ++;

348  &
™
->
»t
;

351 
	`ä“
(
™
);

352  
NULL
;

353 
	}
}

	@utils/geometry/geometry.h

30 #iâdeà
_GEOMETRY_H_


31 
	#_GEOMETRY_H_
 1

	)

33 
	~<ba£_ty³.h
>

38 
	spošt


41 
si_t
 
	mx
;

44 
si_t
 
	my
;

55 
pošt_£t
(
pošt
* 
p
, 
si_t
 
x
, si_ˆ
y
);

60 
	slše


63 
si_t
 
	mx_1
;

66 
si_t
 
	my_1
;

69 
si_t
 
	mx_2
;

72 
si_t
 
	my_2
;

79 
	s»ùªgË


82 
si_t
 
	mx
;

85 
si_t
 
	my
;

88 
si_t
 
	mwidth
;

91 
si_t
 
	mheight
;

105 
»ùªgË_£t
(
»ùªgË
* 
r
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
);

114 
»ùªgË_move
(
»ùªgË
* 
r
, 
si_t
 
x_off£t
, si_ˆ
y_off£t
);

125 
si_t
 
¬—_uniÚ
 (
»ùªgË
 * 
p
, »ùªgË * 
q
, »ùªgË * 
»suÉ
);

136 
si_t
 
¬—_š‹r£ùiÚ
 (
»ùªgË
 * 
p
, »ùªgË * 
q
, »ùªgË * 
»suÉ
);

147 
si_t
 
¬—_difã»nû
 (
»ùªgË
 * 
p
, »ùªgË * 
q
, »ùªgË * 
»suÉ
);

157 
si_t
 
is_pošt_š_¬—
(
pošt
* 
p
, 
»ùªgË
* 
r
);

165 
’su»_pošt_š_¬—
(
pošt
* 
p
, 
»ùªgË
* 
r
);

169 
	gb»£nham_™”©Ü
;

179 
b»£nham_™”©Ü
 *

180 
b»£nham_š™
(
si_t
 
x1
, si_ˆ
y1
, si_ˆ
x2
, si_ˆ
y2
);

189 
pošt
 *
b»£nham_Ãxt
(
b»£nham_™”©Ü
 *
™
);

199 
	#b»£nham_fÜ_—ch
(
pos
,
™
,
x1
,
y1
,
x2
,
y2
) \

200 
™
 = 
	`b»£nham_š™
((
x1
),(
y1
),(
x2
),(
y2
)); \

201 ((
pos
)=
	`b»£nham_Ãxt
(
™
)); )

	)

	@utils/log/log.h

30 #iâdeà
__LOG_H__


31 
	#__LOG_H__
 1

	)

33 
	~<¡dio.h
>

34 
	~<”ºo.h
>

35 
	~<¡ršg.h
>

37 #ià
__STRICT_ANSI__
==0 && 
__GNUC__


39 
	#EGUI_PRINT_SYS_ERROR
(
¬gs
...) \

41 
	`årštf
(
¡d”r
, "ERROR:[%s:%d]\t", 
__FILE__
,
__LINE__
); \

42 
	`årštf
(
¡d”r
, ##
¬gs
); \

43 
	`årštf
(
¡d”r
, ": %s\n", 
	`¡»¼Ü
(
”ºo
)); \

44 }0)

	)

45 
	#EGUI_PRINT_ERROR
(
¬gs
...) \

47 
	`årštf
(
¡d”r
, "ERROR:[%s:%d]\t", 
__FILE__
, 
__LINE__
); \

48 
	`årštf
(
¡d”r
, ##
¬gs
); \

49 
	`årštf
(
¡d”r
, "\n"); \

50 } 0)

	)

51 
	#EGUI_PRINT_INFO
(
¬gs
...) \

53 
	`årštf
(
¡d”r
, "INFO:[%s:%d]\t", 
__FILE__
, 
__LINE__
); \

54 
	`årštf
(
¡d”r
, ##
¬gs
); \

55 
	`årštf
(
¡d”r
, "\n"); \

56 } 0)

	)

60 
	#EGUI_PRINT_SYS_ERROR
(...) \

62 
	`årštf
(
¡d”r
, "ERROR:[%s:%d]\t", 
__FILE__
,
__LINE__
); \

63 
	`årštf
(
¡d”r
, 
__VA_ARGS__
); \

64 
	`årštf
(
¡d”r
, ": %s\n", 
	`¡»¼Ü
(
”ºo
)); \

65 }0)

	)

66 
	#EGUI_PRINT_ERROR
(...) \

68 
	`årštf
(
¡d”r
, "ERROR:[%s:%d]\t", 
__FILE__
, 
__LINE__
); \

69 
	`årštf
(
¡d”r
, 
__VA_ARGS__
); \

70 
	`årštf
(
¡d”r
, "\n"); \

71 } 0)

	)

72 
	#EGUI_PRINT_INFO
(...) \

74 
	`årštf
(
¡d”r
, "INFO:[%s:%d]\t", 
__FILE__
, 
__LINE__
); \

75 
	`årštf
(
¡d”r
, 
__VA_ARGS__
); \

76 
	`årštf
(
¡d”r
, "\n"); \

77 } 0)

	)

	@widget/button/button.c

30 
	#_POSIX_C_SOURCE
 200809L

	)

32 
	~<¡dio.h
>

33 
	~<¡dlib.h
>

34 
	~<¡ršg.h
>

36 
	~<ba£_ty³.h
>

37 
	~<cÚfig_·r£r.h
>

38 
	~<log.h
>

39 
	~<comm.h
>

40 
	~<ş›Á_lib.h
>

41 
	~"comp”.h
"

42 
	~"­¶iÿtiÚ.h
"

44 
	~"bu‰Ú.h
"

46 
	#TMP_ARRAY_SIZE
 256

	)

49 
bu‰Ú_¡yË
 
	gbu‰Ú_deçuÉ_¡yË
 =

71 
CURSOR_SHAPE_X
,

87 
FONT_MATRIX_08
,

99 
si_t
 
	$bu‰Ú_š™_w™h_deçuÉ_¡yË
(
bu‰Ú
 * 
b
)

101 
tmp_¡r
[
TMP_ARRAY_SIZE
] = {'\0'};

102 
si_t
 
tmp_št
;

103 
widg‘_¡yË_’Œy
 
exŒa
[] = {

104 {.
key
="fÚt", .
ty³
=
WIDGET_STYLE_TYPE_STR
, .
v®
=
tmp_¡r
},

106 *
cÚfig_·th
 = 
	`g‘_cÚfig_·th
("button.cfg");

109 
si_t
 
»s
 = 
	`widg‘_š™_w™h_deçuÉ_¡yË
(
cÚfig_·th
,

110 
	`WIDGET_POINTER
(
b
), &
bu‰Ú_deçuÉ_¡yË
.
commÚ
,

111 
exŒa
, (extra)/(extra[0]));

112 
	`ä“
(
cÚfig_·th
);

114 if((
tmp_št
 = 
	`g‘_fÚt_’um_äom_¡r
(
tmp_¡r
)) >= 0) {

115 
bu‰Ú_deçuÉ_¡yË
.
fÚt
 = 
tmp_št
;

118 
b
->
fÚt
 = 
bu‰Ú_deçuÉ_¡yË
.font;

120  
»s
;

121 
	}
}

123 
si_t
 
	$bu‰Ú_deçuÉ_widg‘_show
(
bu‰Ú
 * 
b
, 
mes§ge
 * 
msg
)

125 
»ùªgË
 
¬—
;

126 
	`NOT_USED
(
msg
);

128 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
b
), &
¬—
);

131 
	`£t_¬—
(
b
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

134 
	`upd©e
(
b
->
gd
);

137 
	}
}

139 
	$_·št_bu‰Ú
(
bu‰Ú
* 
b
, 
si_t
 
is_´es£d
, 
»ùªgË
* 
¬—
, 
x
, 
y
)

142 
	`£t_¬—
(
b
->
gd
, 
¬—
->
x
,‡»a->
y
,‡»a->
width
,‡»a->
height
);

145 
	`£t_cŞÜ
(
b
->
gd
, b->
back_cŞÜ
.
r
, b->back_cŞÜ.
g
, b->back_cŞÜ.b, b->back_cŞÜ.
a
);

147 
	`fl_»ùªgË
(
b
->
gd
, 
¬—
->
x
,‡»a->
y
,‡»a->
width
,‡»a->
height
);

149 if(
is_´es£d
)

152 
	`£t_cŞÜ
(
b
->
gd
, b->
fÜe_cŞÜ
.
r
, b->fÜe_cŞÜ.
g
, b->fÜe_cŞÜ.b, b->fÜe_cŞÜ.
a
);

156 
	`d¿w_lše
(
b
->
gd
, 
x
 + b->
¬—
.
width
 - 1, 
y
, x + b->¬—.width - 1, y + b->¬—.
height
 - 1);

157 
	`d¿w_lše
(
b
->
gd
, 
x
, 
y
 + b->
¬—
.
height
 - 1, x + b->¬—.
width
 - 1, y + b->area.height - 1);

160 
	`£t_cŞÜ
(
b
->
gd
, b->
fÜe_cŞÜ
.
r
, b->fÜe_cŞÜ.
g
, b->fÜe_cŞÜ.b, b->fÜe_cŞÜ.
a
);

162 
	`£t_fÚt
(
b
->
gd
, b->
fÚt
);

163 
	`show_‹xt
(
b
->
gd
, 
x
 + b->
bÜd”_size
, 
y
 + b->bÜd”_size, b->
‹xt
, 
	`¡¾’
(b->text));

165 if(
is_´es£d
)

168 
	`£t_cŞÜ
(
b
->
gd
, b->
back_cŞÜ
.
r
, b->back_cŞÜ.
g
, b->back_cŞÜ.b, b->back_cŞÜ.
a
);

172 
	`d¿w_lše
(
b
->
gd
, 
x
, 
y
, x + b->
¬—
.
width
 - 1, y);

173 
	`d¿w_lše
(
b
->
gd
, 
x
, 
y
, x, y + b->
¬—
.
height
 - 1);

174 
	}
}

176 
si_t
 
	$bu‰Ú_deçuÉ_widg‘_»·št
(
bu‰Ú
 * 
b
, 
mes§ge
 * 
msg
)

178 
	`widg‘_deçuÉ_ÿÎback
(
b
,
msg
);

179 
»ùªgË
 
¬—
;

180 
si_t
 
x
, 
y
;

181 
	`NOT_USED
(
msg
);

184 
	`widg‘_absŞu‹_coÜdš©e
(
	`WIDGET_POINTER
(
b
), &
x
, &
y
);

188 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
b
), &
¬—
);

190 
	`_·št_bu‰Ú
(
b
, 0, &
¬—
, 
x
, 
y
);

193 
	}
}

195 
si_t
 
	$bu‰Ú_deçuÉ_mou£_´ess
(
bu‰Ú
 * 
b
, 
mes§ge
 * 
msg
)

197 
»ùªgË
 
¬—
;

198 
si_t
 
x
, 
y
;

199 
	`NOT_USED
(
msg
);

202 
	`widg‘_absŞu‹_coÜdš©e
(
	`WIDGET_POINTER
(
b
), &
x
, &
y
);

206 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
b
), &
¬—
);

208 
	`_·št_bu‰Ú
(
b
, 1, &
¬—
, 
x
, 
y
);

211 
	}
}

213 
si_t
 
	$bu‰Ú_deçuÉ_mou£_»Ëa£
(
bu‰Ú
 * 
b
, 
mes§ge
 * 
msg
)

215 
»ùªgË
 
¬—
;

216 
si_t
 
x
, 
y
;

217 
	`NOT_USED
(
msg
);

220 
	`widg‘_absŞu‹_coÜdš©e
(
	`WIDGET_POINTER
(
b
), &
x
, &
y
);

224 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
b
), &
¬—
);

226 
	`_·št_bu‰Ú
(
b
, 0, &
¬—
, 
x
, 
y
);

229 
	}
}

231 
si_t
 
	$bu‰Ú_deçuÉ_ÿÎback
(
addr_t
 
£lf
,‡ddr_ˆ
msg
)

233 
bu‰Ú
 * 
b
 = 
£lf
;

234 
mes§ge
 * 
m
 = 
msg
;

235 
	`widg‘_deçuÉ_ÿÎback
(
b
, 
m
);

236 
m
->
ba£
.
ty³
)

238 
MESSAGE_TYPE_WIDGET_REPAINT
:

239 
	`bu‰Ú_deçuÉ_widg‘_»·št
(
b
, 
m
);

240 
	`bu‰Ú_deçuÉ_widg‘_show
(
b
, 
m
);

243 
MESSAGE_TYPE_WIDGET_SHOW
:

244 
	`bu‰Ú_deçuÉ_widg‘_show
(
b
, 
m
);

247 
MESSAGE_TYPE_MOUSE_PRESS
:

248 
	`bu‰Ú_deçuÉ_mou£_´ess
(
b
, 
m
);

249 
	`bu‰Ú_deçuÉ_widg‘_show
(
b
, 
m
);

252 
MESSAGE_TYPE_MOUSE_RELEASE
:

253 
	`bu‰Ú_deçuÉ_mou£_»Ëa£
(
b
, 
m
);

254 
	`bu‰Ú_deçuÉ_widg‘_show
(
b
, 
m
);

262 
	}
}

264 
	$bu‰Ú_»·št
(
bu‰Ú
* 
b
)

266 
	`widg‘_»·št
(
	`WIDGET_POINTER
(
b
));

267 
	}
}

269 
	$bu‰Ú_show
(
bu‰Ú
* 
b
)

271 
	`widg‘_show
(
	`WIDGET_POINTER
(
b
));

272 
	}
}

274 
bu‰Ú
* 
	$bu‰Ú_š™
(cÚ¡ * 
‹xt
)

276 
bu‰Ú
 * 
addr
;

279 
addr
 = (
bu‰Ú
 *)
	`m®loc
((button));

281 if(
addr
 =ğ
NULL
)

283 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

284  
NULL
;

287 if(!(
addr
=
	`widg‘_š™_commÚ
(
	`WIDGET_POINTER
(addr), 0))) {

288  
NULL
;

291 
addr
->
Çme
 = "struct button";

294 
	`bu‰Ú_š™_w™h_deçuÉ_¡yË
(
addr
);

297 
addr
->
ÿÎback
 = 
bu‰Ú_deçuÉ_ÿÎback
;

298 
addr
->
‹xt
 = 
	`¡rdup
(text);

300 
addr
->
cu¡om_d©a
 = 
NULL
;

302  
addr
;

303 
	}
}

310 
si_t
 
	$bu‰Ú_ex™
(
bu‰Ú
 * 
b
)

312 
	`ä“
(
b
->
‹xt
);

313  
	`widg‘_ex™
(
	`WIDGET_POINTER
(
b
));

314 
	}
}

316 
	$bu‰Ú_£t_bounds
(
bu‰Ú
 * 
b
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
)

318 
	`widg‘_£t_bounds
(
	`WIDGET_POINTER
(
b
), 
x
, 
y
, 
width
, 
height
);

319 
	}
}

321 
	$bu‰Ú_£t_bounds_auto
(
bu‰Ú
 *
b
)

323 
	`bu‰Ú_£t_bounds
(
b
,

325 
b
->
bÜd”_size
*2 +

326 
	`g‘_fÚt_width
(
b
->
gd
)*
	`¡¾’
(b->
‹xt
),

327 
b
->
bÜd”_size
*2 +

328 
	`g‘_fÚt_height
(
b
->
gd
));

329 
	}
}

331 
	$bu‰Ú_£t_cŞÜ
(
bu‰Ú
* 
b
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
)

333 
	`widg‘_£t_cŞÜ
(
	`WIDGET_POINTER
(
b
), 
fcŞÜ
, 
bcŞÜ
);

334 
	}
}

336 
	$bu‰Ú_£t_fÚt
(
bu‰Ú
* 
b
, 
si_t
 
fÚt
)

338 
b
->
fÚt
 = font;

339 
	}
}

	@widget/button/button.h

30 #iâdeà
_BUTTON_H_


31 
	#_BUTTON_H_
 1

	)

33 
	~<ba£_ty³.h
>

34 
	~<comm.h
>

36 
	~"../widg‘/widg‘.h
"

41 
	#BUTTON_DEFINITION
 \

45 
WIDGET_DEFINITION
 \

50 * 
‹xt
; \

55 
si_t
 
fÚt
; \

60 
addr_t
 
cu¡om_d©a
;

	)

62 
	sbu‰Ú


64 
	mBUTTON_DEFINITION


68 
	sbu‰Ú_¡yË


70 
widg‘_¡yË
 
	mcommÚ
;

72 
si_t
 
	mfÚt
;

78 
	#BUTTON_POINTER
(
addr
è((
bu‰Ú
 *)×ddr))

	)

89 
si_t
 
bu‰Ú_deçuÉ_ÿÎback
(
addr_t
 
£lf
,‡ddr_ˆ
msg
);

94 
bu‰Ú_»·št
(
bu‰Ú
* 
b
);

99 
bu‰Ú_show
(
bu‰Ú
* 
b
);

110 
bu‰Ú
* 
bu‰Ú_š™
(cÚ¡ * 
‹xt
);

121 
si_t
 
bu‰Ú_ex™
(
bu‰Ú
 * 
b
);

133 
bu‰Ú_£t_bounds
(
bu‰Ú
 * 
widg‘
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
);

140 
bu‰Ú_£t_bounds_auto
(
bu‰Ú
 *
b
);

150 
bu‰Ú_£t_cŞÜ
(
bu‰Ú
* 
b
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
);

158 
bu‰Ú_£t_fÚt
(
bu‰Ú
* 
b
, 
si_t
 
fÚt
);

	@widget/checkbox/checkbox.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

32 
	~<¡ršg.h
>

34 
	~<ba£_ty³.h
>

35 
	~<cÚfig_·r£r.h
>

36 
	~<log.h
>

37 
	~<comm.h
>

38 
	~<ş›Á_lib.h
>

39 
	~<g¿ph.h
>

40 
	~"comp”.h
"

41 
	~"­¶iÿtiÚ.h
"

43 
	~"checkbox.h
"

45 
	#TMP_ARRAY_SIZE
 256

	)

48 
checkbox_¡yË
 
	gcheckbox_deçuÉ_¡yË
 =

70 
CURSOR_SHAPE_X
,

94 
si_t
 
	$checkbox_š™_w™h_deçuÉ_¡yË
(
checkbox
 * 
b
)

96 *
cÚfig_·th
 = 
	`g‘_cÚfig_·th
("checkbox.cfg");

97 
si_t
 
»s
;

98 
»s
 = 
	`widg‘_š™_w™h_deçuÉ_¡yË
(
cÚfig_·th
,

99 
	`WIDGET_POINTER
(
b
), &
checkbox_deçuÉ_¡yË
.
commÚ
, 
NULL
, 0);

100 
	`ä“
(
cÚfig_·th
);

101  
»s
;

102 
	}
}

104 
si_t
 
	$checkbox_deçuÉ_widg‘_show
(
checkbox
 * 
b
, 
mes§ge
 * 
msg
)

106 
»ùªgË
 
¬—
;

107 
	`NOT_USED
(
msg
);

109 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
b
), &
¬—
);

112 
	`£t_¬—
(
b
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

115 
	`upd©e
(
b
->
gd
);

118 
	}
}

120 
	$_·št_checkbox
(
checkbox
* 
c
, 
si_t
 
is_checked
, 
»ùªgË
* 
¬—
, 
x
, 
y
)

123 
	`£t_cŞÜ
(
c
->
gd
, c->
back_cŞÜ
.
r
, c->back_cŞÜ.
g
, c->back_cŞÜ.
b
, c->back_cŞÜ.
a
);

125 
	`fl_»ùªgË
(
c
->
gd
, 
¬—
->
x
,‡»a->
y
,‡»a->
width
,‡»a->
height
);

128 
	`£t_cŞÜ
(
c
->
gd
, c->
fÜe_cŞÜ
.
r
, c->fÜe_cŞÜ.
g
, c->fÜe_cŞÜ.
b
, c->fÜe_cŞÜ.
a
);

130 
	`d¿w_lše
(
c
->
gd
, 
x
 + c->
¬—
.
width
 - 1, 
y
, x + c->¬—.width - 1, y + c->¬—.
height
 - 1);

131 
	`d¿w_lše
(
c
->
gd
, 
x
, 
y
 + c->
¬—
.
height
 - 1, x + c->¬—.
width
 - 1, y + c->area.height - 1);

133 
	`d¿w_lše
(
c
->
gd
, 
x
, 
y
, x + c->
¬—
.
width
 - 1, y);

134 
	`d¿w_lše
(
c
->
gd
, 
x
, 
y
, x, y + c->
¬—
.
height
 - 1);

136 if(
is_checked
) {

137 
	`d¿w_lše
(
c
->
gd
, 
x
, 
y
, x+c->
¬—
.
width
-1, y+c->¬—.
height
-1);

138 
	`d¿w_lše
(
c
->
gd
, 
x
, 
y
+c->
¬—
.
height
-1, x+c->¬—.
width
-1, y);

140 
	}
}

142 
si_t
 
	$checkbox_deçuÉ_widg‘_»·št
(
checkbox
 *
c
, 
mes§ge
 *
msg
)

144 
»ùªgË
 
¬—
;

145 
si_t
 
x
, 
y
;

146 
	`NOT_USED
(
msg
);

149 
	`widg‘_absŞu‹_coÜdš©e
(
	`WIDGET_POINTER
(
c
), &
x
, &
y
);

152 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
c
), &
¬—
);

154 
	`£t_¬—
(
c
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

156 
	`_·št_checkbox
(
c
, c->
checked
, &
¬—
, 
x
, 
y
);

158 
	}
}

160 
si_t
 
	$checkbox_deçuÉ_ÿÎback
(
addr_t
 
£lf
,‡ddr_ˆ
msg
)

162 
checkbox
 * 
b
 = 
£lf
;

163 
mes§ge
 * 
m
 = 
msg
;

164 
	`widg‘_deçuÉ_ÿÎback
(
b
, 
m
);

165 
m
->
ba£
.
ty³
)

167 
MESSAGE_TYPE_WIDGET_REPAINT
:

168 
	`checkbox_deçuÉ_widg‘_»·št
(
b
, 
m
);

169 
	`checkbox_deçuÉ_widg‘_show
(
b
, 
m
);

171 
MESSAGE_TYPE_WIDGET_SHOW
:

172 
	`checkbox_deçuÉ_widg‘_show
(
b
, 
m
);

174 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

175 
	`checkbox_toggË
(
b
);

176 
	`checkbox_deçuÉ_widg‘_»·št
(
b
, 
m
);

177 
	`checkbox_deçuÉ_widg‘_show
(
b
, 
m
);

178 if(
b
->
şick_ÿÎback
) {

179 
b
->
	`şick_ÿÎback
(b->
u£r_d©a
);

186 
	}
}

188 
	$checkbox_»·št
(
checkbox
* 
c
)

190 
	`widg‘_»·št
(
	`WIDGET_POINTER
(
c
));

191 
	}
}

193 
	$checkbox_show
(
checkbox
* 
c
)

195 
	`widg‘_show
(
	`WIDGET_POINTER
(
c
));

196 
	}
}

198 
checkbox
* 
	$checkbox_š™
(
checked
)

200 
checkbox
 * 
addr
;

203 
addr
 = (
checkbox
 *)
	`m®loc
((checkbox));

204 if(
addr
 =ğ
NULL
) {

205 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

206  
NULL
;

209 if(!(
addr
=
	`widg‘_š™_commÚ
(
	`WIDGET_POINTER
(addr), 0))) {

210  
NULL
;

213 
addr
->
Çme
 = "struct checkbox";

216 
	`checkbox_š™_w™h_deçuÉ_¡yË
(
addr
);

219 
addr
->
ÿÎback
 = 
checkbox_deçuÉ_ÿÎback
;

220 
addr
->
checked
 = checked;

221 
addr
->
şick_ÿÎback
 = 
NULL
;

222 
addr
->
u£r_d©a
 = 
NULL
;

224  
addr
;

225 
	}
}

232 
si_t
 
	$checkbox_ex™
(
checkbox
 * 
c
)

234  
	`widg‘_ex™
(
	`WIDGET_POINTER
(
c
));

235 
	}
}

237 
	$checkbox_£t_bounds
(
checkbox
 *
c
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
)

239 
	`widg‘_£t_bounds
(
	`WIDGET_POINTER
(
c
), 
x
, 
y
, 
width
, 
height
);

240 
	}
}

242 
	$checkbox_£t_cŞÜ
(
checkbox
 *
c
, 
cŞÜ
 *
fcŞÜ
, cŞÜ *
bcŞÜ
)

244 
	`widg‘_£t_cŞÜ
(
	`WIDGET_POINTER
(
c
), 
fcŞÜ
, 
bcŞÜ
);

245 
	}
}

247 
	$checkbox_toggË
(
checkbox
* 
c
)

249 if(
c
->
checked
)

250 
c
->
checked
 = 0;

252 
c
->
checked
 = 1;

253 
	}
}

	@widget/checkbox/checkbox.h

30 #iâdeà
_CHECKBOX_H_


31 
	#_CHECKBOX_H_
 1

	)

33 
	~<ba£_ty³.h
>

34 
	~<comm.h
>

36 
	~"../widg‘/widg‘.h
"

38 (*
	tcheckbox_ÿÎback_t
)(
	taddr_t
 
	tu¤
);

40 
	scheckbox


42 
WIDGET_DEFINITION


43 
checked
;

44 
checkbox_ÿÎback_t
 
şick_ÿÎback
;

45 
addr_t
 
u£r_d©a
;

49 
	scheckbox_¡yË


51 
widg‘_¡yË
 
commÚ
;

57 
	#CHECKBOX_POINTER
(
addr
è((
checkbox
 *)×ddr))

	)

68 
si_t
 
	`checkbox_deçuÉ_ÿÎback
(
addr_t
 
£lf
,‡ddr_ˆ
msg
);

73 
	`checkbox_»·št
(
checkbox
* 
c
);

78 
	`checkbox_show
(
checkbox
* 
c
);

89 
checkbox
* 
	`checkbox_š™
(
checked
);

101 
si_t
 
	`checkbox_ex™
(
checkbox
 * 
c
);

113 
	`checkbox_£t_bounds
(
checkbox
 * 
c
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
);

123 
	`checkbox_£t_cŞÜ
(
checkbox
 * 
c
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
);

130 
	`checkbox_toggË
(
checkbox
 *
c
);

	@widget/dialog/dialog.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

33 
	~<ba£_ty³.h
>

34 
	~<cÚfig_·r£r.h
>

35 
	~<log.h
>

36 
	~<comm.h
>

37 
	~<ş›Á_lib.h
>

38 
	~"comp”.h
"

40 
	~"dŸlog.h
"

41 
	~"../wšdow/·št_wšdow_decÜ©iÚ.h
"

43 
	#TMP_ARRAY_SIZE
 256

	)

46 
dŸlog_¡yË
 
	gdŸlog_deçuÉ_¡yË
 =

69 
CURSOR_SHAPE_X
,

103 
si_t
 
	$dŸlog_š™_w™h_deçuÉ_¡yË
(
dŸlog
 * 
d
)

105 
widg‘_¡yË_’Œy
 
exŒa
[] = {

106 {.
key
="maximize_’abË", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

107 .
v®
=&(
dŸlog_deçuÉ_¡yË
.
maximize_’abË
)},

108 {.
key
="mšimize_’abË", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

109 .
v®
=&(
dŸlog_deçuÉ_¡yË
.
mšimize_’abË
)},

110 {.
key
="is_fuÎ_sü“n", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

111 .
v®
=&(
dŸlog_deçuÉ_¡yË
.
is_fuÎ_sü“n
)},

113 {.
key
="äame_size", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

114 .
v®
=&(
dŸlog_deçuÉ_¡yË
.
äame_size
)},

115 {.
key
="t™Ë_b¬_size", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

116 .
v®
=&(
dŸlog_deçuÉ_¡yË
.
t™Ë_b¬_size
)},

118 *
cÚfig_·th
 = 
	`g‘_cÚfig_·th
("dialog.cfg");

120 
si_t
 
»s
 = 
	`widg‘_š™_w™h_deçuÉ_¡yË
(
cÚfig_·th
,

121 
	`WIDGET_POINTER
(
d
), &
dŸlog_deçuÉ_¡yË
.
commÚ
,

122 
exŒa
, (extra)/(extra[0]));

123 
	`ä“
(
cÚfig_·th
);

125 
d
->
maximize_’abË
 = 
dŸlog_deçuÉ_¡yË
.maximize_enable;

126 
d
->
mšimize_’abË
 = 
dŸlog_deçuÉ_¡yË
.minimize_enable;

127 
d
->
is_fuÎ_sü“n
 = 
dŸlog_deçuÉ_¡yË
.is_full_screen;

133  
»s
;

134 
	}
}

136 
si_t


137 
	gdŸlog_deçuÉ_widg‘_show


138 (
dŸlog
 * 
	gd
,

139 
mes§ge
 * 
	gmsg
)

141 
NOT_USED
(
msg
);

143 
	g£t_¬—


144 (
	gd
->
	ggd
,

145 
	gd
->
	g¬—
.
	gx
 - 
	gdŸlog_deçuÉ_¡yË
.
	gäame_size
,

146 
	gd
->
	g¬—
.
	gy
 - 
	gdŸlog_deçuÉ_¡yË
.
	gäame_size
 - dŸlog_deçuÉ_¡yË.
	gt™Ë_b¬_size
,

147 
	gd
->
	g¬—
.
	gwidth
 + 
	gdŸlog_deçuÉ_¡yË
.
	gäame_size
 + dialog_default_style.frame_size,

148 
	gd
->
	g¬—
.
	gheight
 + 
	gdŸlog_deçuÉ_¡yË
.
	gäame_size
 + dŸlog_deçuÉ_¡yË.äame_siz+ dŸlog_deçuÉ_¡yË.
	gt™Ë_b¬_size
);

150 
upd©e
(
d
->
gd
);

155 
si_t


156 
	gdŸlog_deçuÉ_widg‘_»·št


157 (
dŸlog
 * 
	gd
,

158 
mes§ge
 * 
	gmsg
)

160 
»ùªgË
 
	g»®_¬—
;

162 
¬—_š‹r£ùiÚ
(&(
d
->
¬—
), &(
msg
->
widg‘_»·št
.¬—), &
»®_¬—
);

165 
	g£t_¬—


166 (
	gd
->
	ggd
,

167 
	g»®_¬—
.
	gx
,

168 
	g»®_¬—
.
	gy
,

169 
	g»®_¬—
.
	gwidth
,

170 
	g»®_¬—
.
	gheight
);

173 
	g£t_cŞÜ


174 (
	gd
->
	ggd
,

175 
	gd
->
	gback_cŞÜ
.
	gr
,

176 
	gd
->
	gback_cŞÜ
.
	gg
,

177 
	gd
->
	gback_cŞÜ
.
	gb
,

178 
	gd
->
	gback_cŞÜ
.
	ga
);

180 
	gfl_»ùªgË


181 (
	gd
->
	ggd
,

182 
	g»®_¬—
.
	gx
,

183 
	g»®_¬—
.
	gy
,

184 
	g»®_¬—
.
	gwidth
,

185 
	g»®_¬—
.
	gheight
);

188 
·št_wšdow_decÜ©iÚ
(
WINDOW_POINTER
(
d
));

193 
si_t


194 
	gdŸlog_deçuÉ_widg‘_move


195 (
dŸlog
 * 
	gd
,

196 
mes§ge
 * 
	gmsg
)

199 
	gd
->
	g¬—
.
	gx
 = 
msg
->
widg‘_move
.
pos™iÚ
.
x
;

200 
	gd
->
	g¬—
.
	gy
 = 
msg
->
widg‘_move
.
pos™iÚ
.
y
;

202 
	gmove_wšdow


203 (
	gd
->
	gdesütÜ
,

204 
	gd
->
	g¬—
.
	gx
,

205 
	gd
->
	g¬—
.
	gy
);

210 
si_t


211 
	gdŸlog_deçuÉ_widg‘_»size


212 (
dŸlog
 * 
	gd
,

213 
mes§ge
 * 
	gmsg
)

216 
	gd
->
	g¬—
.
	gx
 = 
msg
->
widg‘_»size
.
¬—
.
x
;

217 
	gd
->
	g¬—
.
	gy
 = 
msg
->
widg‘_»size
.
¬—
.
y
;

218 
	gd
->
	g¬—
.
	gwidth
 = 
msg
->
widg‘_»size
.
¬—
.
width
;

219 
	gd
->
	g¬—
.
	gheight
 = 
msg
->
widg‘_»size
.
¬—
.
height
;

221 
	g»size_wšdow


222 (
	gd
->
	gdesütÜ
,

223 
	gd
->
	g¬—
.
	gx
,

224 
	gd
->
	g¬—
.
	gy
,

225 
	gd
->
	g¬—
.
	gwidth
,

226 
	gd
->
	g¬—
.
	gheight
);

231 
si_t


232 
	gdŸlog_deçuÉ_wšdow_şo£


233 (
dŸlog
 * 
	gd
,

234 
mes§ge
 * 
	gmsg
)

236 if(
	gglob®_­¶iÿtiÚ
.
	gmaš_wšdow
 =ğ
WINDOW_POINTER
(
d
))

238 
­¶iÿtiÚ_d–_wšdow
(
WINDOW_POINTER
(
d
));

242 
ÿnûl_wšdow
(
WINDOW_POINTER
(
d
));

243 
­¶iÿtiÚ_d–_wšdow
(
WINDOW_POINTER
(
d
));

249 
si_t


250 
	gdŸlog_deçuÉ_ÿÎback


251 (* 
	gd
,

252 * 
	gm
)

254 
dŸlog
 * 
	g£lf
 = 
d
;

255 
mes§ge
 * 
	gmsg
 = 
m
;

256 
widg‘_deçuÉ_ÿÎback
(
d
,
m
);

257 
	gmsg
->
	gba£
.
	gty³
)

259 
	gMESSAGE_TYPE_WIDGET_SHOW
:

263 
dŸlog_deçuÉ_widg‘_show
(
£lf
, 
msg
);

266 
	gMESSAGE_TYPE_WIDGET_REPAINT
:

270 
dŸlog_deçuÉ_widg‘_»·št
(
£lf
, 
msg
);

271 
dŸlog_deçuÉ_widg‘_show
(
£lf
, 
msg
);

274 
	gMESSAGE_TYPE_WIDGET_MOVE
:

278 
dŸlog_deçuÉ_widg‘_move
(
£lf
, 
msg
);

281 
	gMESSAGE_TYPE_WIDGET_RESIZE
:

285 
dŸlog_deçuÉ_widg‘_»size
(
£lf
, 
msg
);

288 
	gMESSAGE_TYPE_WINDOW_ACTIVATE
:

294 
	gMESSAGE_TYPE_WINDOW_DEACTIVATE
:

307 
si_t


308 
	gdŸlog_»·št


309 (
dŸlog
 * 
	gw
)

311 
mes§ge
 
	gmsg
;

313 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gx
 = 
w
->
¬—
.
x
;

314 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gy
 = 
w
->
¬—
.
y
;

315 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gwidth
 = 
w
->
¬—
.
width
;

316 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gheight
 = 
w
->
¬—
.
height
;

318 
dŸlog_deçuÉ_widg‘_»·št
(
w
, &
msg
);

323 
si_t


324 
	gdŸlog_show


325 (
dŸlog
 * 
	gw
)

327 
mes§ge
 
	gmsg
;

329 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gx
 = 
w
->
¬—
.
x
 - 
dŸlog_deçuÉ_¡yË
.
äame_size
;

330 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gy
 = 
w
->
¬—
.
y
 - 
dŸlog_deçuÉ_¡yË
.
äame_size
 - dŸlog_deçuÉ_¡yË.
t™Ë_b¬_size
;

331 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gwidth
 = 
w
->
¬—
.
width
 + 
dŸlog_deçuÉ_¡yË
.
äame_size
 + dialog_default_style.frame_size;

332 
	gmsg
.
	gwidg‘_»·št
.
	g¬—
.
	gheight
 = 
w
->
¬—
.
height
 + 
dŸlog_deçuÉ_¡yË
.
äame_size
 + dŸlog_deçuÉ_¡yË.äame_siz+ dŸlog_deçuÉ_¡yË.
t™Ë_b¬_size
;

334 
dŸlog_deçuÉ_widg‘_show
(
w
, &
msg
);

339 * 
	$dŸlog_š™
(
si_t
 
id
)

341 
dŸlog
 * 
addr
;

343 
addr
 = (
dŸlog
 *)
	`m®loc
((dialog));

345 if(
addr
 =ğ
NULL
)

347 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

348  
addr
;

351 if(!(
addr
=
	`widg‘_š™_commÚ
(
	`WIDGET_POINTER
×ddr), 
id
))) {

352  
NULL
;

355 
addr
->
Çme
 = "struct dialog";

356 
addr
->
is_wšdow
 = 1;

359 
addr
->
mod®
 = 0;

361 
addr
->
t™Ë
 = 
NULL
;

364 
addr
->
desütÜ
 = 0;

367 
	`dŸlog_š™_w™h_deçuÉ_¡yË
(
addr
);

370 
addr
->
ÿÎback
 = 
dŸlog_deçuÉ_ÿÎback
;

372  
addr
;

373 
	}
}

375 
si_t


376 
	gdŸlog_ex™


377 (
dŸlog
 * 
	gd
)

379  
widg‘_ex™
(
WIDGET_POINTER
(
d
));

	@widget/dialog/dialog.h

30 #iâdeà
_DIALOG_H_


31 
	#_DIALOG_H_
 1

	)

33 
	~<ba£_ty³.h
>

34 
	~<comm.h
>

36 
	~"../wšdow/wšdow.h
"

56 
	#DIALOG_DEFINITION
 \

58 
WINDOW_DEFINITION
 \

61 
si_t
 
un¥ec
;

	)

63 
	sdŸlog


65 
	mDIALOG_DEFINITION


69 
	sdŸlog_¡yË


71 
widg‘_¡yË
 
	mcommÚ
;

74 
si_t
 
	mmaximize_’abË
;

75 
si_t
 
	mmšimize_’abË
;

76 
si_t
 
	mis_fuÎ_sü“n
;

79 
si_t
 
	mäame_size
;

81 
si_t
 
	mt™Ë_b¬_size
;

88 
	#DIALOG_POINTER
(
addr
è((
dŸlog
 *)×ddr))

	)

91 
si_t


92 
dŸlog_·št


93 (
dŸlog
 * 
d
);

96 
si_t


97 
dŸlog_show


98 (
dŸlog
 * 
d
);

101 
si_t


102 
dŸlog_deçuÉ_widg‘_»·št_funùiÚ


103 (* 
£lf
,

104 * 
msg
);

107 
si_t


108 
dŸlog_deçuÉ_ÿÎback


109 (* 
£lf
,

110 * 
msg
);

114 
dŸlog_š™


115 (
si_t
 
id
);

118 
si_t


119 
dŸlog_ex™


120 (
dŸlog
 * 
d
);

	@widget/external.h

34 #iâdeà
_WBL_EXTERNAL_H_


35 
	#_WBL_EXTERNAL_H_
 1

	)

37 
	~"tim”/tim”.h
"

38 
	~"bu‰Ú/bu‰Ú.h
"

39 
	~"icÚ/icÚ.h
"

40 
	~"Ïb–/Ïb–.h
"

41 
	~"·Ãl/·Ãl.h
"

42 
	~"süŞl_b¬/süŞl_b¬.h
"

43 
	~"‹xt_lše/‹xt_lše.h
"

44 
	~"widg‘/widg‘.h
"

45 
	~"wšdow/wšdow.h
"

46 
	~"dŸlog/dŸlog.h
"

47 
	~"image_v›w/image_v›w.h
"

48 
	~"checkbox/checkbox.h
"

49 
	~"¿diobu‰Ú/¿diobu‰Ú.h
"

50 
	~"¥šbox/¥šbox.h
"

51 
	~"æowbox/æowbox.h
"

52 
	~"b/b.h
"

53 
	~"b/b_·ge.h
"

54 
	~"b/b_h—d”.h
"

58 
	~"dŸlog/dŸlog.h
"

	@widget/flowbox/flowbox.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

32 
	~<¡ršg.h
>

34 
	~<ba£_ty³.h
>

35 
	~<log.h
>

37 
	~"æowbox.h
"

39 
si_t
 
	$æowbox_deçuÉ_ÿÎback
(
addr_t
 
£lf
,‡ddr_ˆ
msg
)

41 
widg‘
 * 
w
 = 
£lf
;

42 
mes§ge
 * 
m
 = 
msg
;

43 
	`widg‘_deçuÉ_ÿÎback
(
w
, 
m
);

45 
	}
}

47 
si_t
 
	$æowbox_subwidg‘_adju¡_bounds
(

48 
æowbox
 *
f
,

49 
widg‘
 *
w


52 if(
w
->
¬—
.
width
 > 
f
->area.width) {

58 if(
f
->
u£d_width
 + 
w
->
¬—
.
width
 + f->
£am
 > f->area.width) {

59 if(
f
->
u£d_height
) {

60 
f
->
u£d_height
 +ğf->
£am
;

62 
f
->
u£d_height
 +ğf->
max_height_of_row
;

63 
f
->
max_height_of_row
 = 0;

64 
f
->
u£d_width
 = 0;

68 if(0 =ğ
f
->
u£d_width
) {

69 
	`widg‘_£t_bounds
(
w
, 0, 
f
->
u£d_height
 + f->
£am
, -1, -1);

71 
	`widg‘_£t_bounds
(
w
,

72 
f
->
u£d_width
 + f->
£am
, f->
u£d_height
 + f->seam,

76 if(
f
->
u£d_width
) {

77 
f
->
u£d_width
 +ğf->
£am
;

79 
f
->
u£d_width
 +ğ
w
->
¬—
.
width
;

81 if(
f
->
max_height_of_row
 < 
w
->
¬—
.
height
) {

82 
f
->
max_height_of_row
 = 
w
->
¬—
.
height
;

86 
	}
}

88 
æowbox
* 
	$æowbox_š™
(
si_t
 
id
)

90 
æowbox
 * 
addr
;

93 
addr
 = 
	`ÿÎoc
(1, (
æowbox
));

95 if(
addr
 =ğ
NULL
) {

96 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

97  
NULL
;

100 if(
NULL
 =ğ(
addr
 = 
	`widg‘_š™_commÚ
(
	`WIDGET_POINTER
×ddr), 
id
))) {

101  
NULL
;

104 
addr
->
Çme
 = "struct flowbox";

105 
addr
->
back_cŞÜ
.
a
 = 100;

106 
addr
->
fÜe_cŞÜ
.
a
 = 100;

108 
addr
->
£am
 = 0;

109 
addr
->
u£d_width
 =‡ddr->
u£d_height
 = 0;

110 
addr
->
max_height_of_row
 = 0;

112 
	`li¡_š™
(&
addr
->
subwidg‘s
);

114  
addr
;

115 
	}
}

122 
si_t
 
	$æowbox_ex™
(
æowbox
 * 
b
)

124 
	`li¡_ex™
(&
b
->
subwidg‘s
);

125  
	`widg‘_ex™
(
	`WIDGET_POINTER
(
b
));

126 
	}
}

128 
	$æowbox_£t_bounds
(
æowbox
 * 
b
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
)

130 
	`widg‘_£t_bounds
(
	`WIDGET_POINTER
(
b
), 
x
, 
y
, 
width
, 
height
);

131 
	}
}

133 
si_t
 
	$æowbox_add_widg‘
(
æowbox
 *
f
, 
widg‘
 *
w
)

135 if(
	`æowbox_subwidg‘_adju¡_bounds
(
f
, 
w
) == -1) {

138 if(
	`li¡_push_back
(&
f
->
subwidg‘s
, &
w
, (w)) == -1) {

142 
	}
}

144 
si_t
 
	$æowbox_»Üd”_widg‘s
(
æowbox
 *
f
)

146 
li¡_node
 *
pos
;

147 
f
->
u£d_width
 = f->
u£d_height
 = 0;

148 
f
->
max_height_of_row
 = 0;

149 
	`li¡_fÜ_—ch_maüo
(&
f
->
subwidg‘s
, 
pos
) {

150 if(-1 =ğ
	`æowbox_subwidg‘_adju¡_bounds
(
f
,

151 *(
widg‘
 **)
pos
->
d©a
)) {

156 
	}
}

158 
si_t
 
	$æowbox_g‘_aùu®_height
(
æowbox
 *
f
)

160  
f
->
u£d_height
 + f->
max_height_of_row
 +

161 (
f
->
u£d_height
 ? f->
£am
 : 0);

162 
	}
}

	@widget/flowbox/flowbox.h

30 #iâdeà
_FLOWBOX_H_


31 
	#_FLOWBOX_H_
 1

	)

33 
	~<ba£_ty³.h
>

34 
	~<comm.h
>

36 
	~"../widg‘/widg‘.h
"

38 
	sæowbox


40 
WIDGET_DEFINITION


41 
si_t
 
	mu£d_width
;

42 
si_t
 
	mu£d_height
;

43 
si_t
 
	mmax_height_of_row
;

44 
si_t
 
	m£am
;

45 
li¡
 
	msubwidg‘s
;

51 
	#FLOWBOX_POINTER
(
addr
è((
æowbox
 *)×ddr))

	)

62 
æowbox
* 
æowbox_š™
(
si_t
 
id
);

73 
si_t
 
æowbox_ex™
(
æowbox
 * 
b
);

75 
si_t
 
æowbox_deçuÉ_ÿÎback
(
addr_t
 
£lf
,addr_ˆ
msg
);

77 
æowbox_£t_bounds
(
æowbox
 * 
b
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
);

79 
si_t
 
æowbox_add_widg‘
(
æowbox
 *
f
, 
widg‘
 *
w
);

81 
si_t
 
æowbox_»Üd”_widg‘s
(
æowbox
 *
f
);

83 
si_t
 
æowbox_g‘_aùu®_height
(
æowbox
 *
f
);

	@widget/icon/icon.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

32 
	~<¡ršg.h
>

33 
	~<fú.h
>

34 
	~<uni¡d.h
>

36 
	~<ba£_ty³.h
>

37 
	~<cÚfig_·r£r.h
>

38 
	~<log.h
>

39 
	~<comm.h
>

40 
	~<ş›Á_lib.h
>

41 
	~<g¿ph.h
>

42 
	~"comp”.h
"

43 
	~"­¶iÿtiÚ.h
"

45 
	~"icÚ.h
"

49 *
	$icÚ_š™
(
si_t
 
id
)

51 
icÚ
 * 
addr
;

54 
addr
 = (
icÚ
 *)
	`m®loc
((icon));

56 if(
addr
 =ğ
NULL
)

58 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

59  
NULL
;

62 if(!(
addr
=
	`widg‘_š™_commÚ
(
	`WIDGET_POINTER
×ddr), 
id
))) {

63  
NULL
;

65 
addr
->
Çme
 = "struct icon";

67 
addr
->
img_f›ld
.
x
 = 0;

68 
addr
->
img_f›ld
.
y
 = 0;

69 
addr
->
img_f›ld
.
width
 = 0;

70 
addr
->
img_f›ld
.
height
 = 0;

72 
addr
->
‹xt_f›ld
.
x
 = 0;

73 
addr
->
‹xt_f›ld
.
y
 = 0;

74 
addr
->
‹xt_f›ld
.
width
 = 0;

75 
addr
->
‹xt_f›ld
.
height
 = 0;

77 
addr
->
is_‹xt_visŸbË
 = 0;

78 
	`mem£t
(
addr
->
img_·th
 , 0 ,()*255);

79 
	`mem£t
(
addr
->
‹xt
 , 0, ()*255);

81 
addr
->
ÿÎback
 = 
icÚ_deçuÉ_ÿÎback
;

83  
addr
;

84 
	}
}

90 
si_t
 
	$icÚ_upd©e_®l_¬—s
 ( 
icÚ
 * 
ic
 )

92 
»ùªgË
 
¬—
;

94 
si_t
 
ch¬_tÙ®_num
 ;

95 
si_t
 
fÚt_height
;

96 
si_t
 
fÚt_width
;

97 
si_t
 
‹xt_lše_num
;

98 
si_t
 
maxËn
;

100 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
ic
), &
¬—
);

103 if(
	`icÚ_g‘_is_‹xt_visŸbË
(
ic
) == 1)

106 
ch¬_tÙ®_num
 = 
	`¡¾’
Ğ
ic
->
‹xt
 );

107 
fÚt_height
 = 
	`g‘_fÚt_height
Ğ
ic
->
gd
 ) ;

108 
fÚt_width
 = 
	`g‘_fÚt_width
Ğ
ic
->
gd
 ) ;

109 
maxËn
 = 
¬—
.
width
 * 2 / 
fÚt_width
;

111 
‹xt_lše_num
 = 
ch¬_tÙ®_num
 / 
maxËn
 + 1;

112 ifĞ
fÚt_height
 > 
ic
->
¬—
.
height
 || 
fÚt_width
 >ic->¬—.
width
)

114 
	`EGUI_PRINT_ERROR
("font for desktop icon isoo†arge");

119 
ic
->
‹xt_f›ld
.
x
 = 
¬—
.x ;

120 
ic
->
‹xt_f›ld
.
y
 = 
¬—
.y +‡»a.
height
 - ( 
‹xt_lše_num
 * 
fÚt_height
 );

121 
ic
->
‹xt_f›ld
.
width
 = 
¬—
.width;

122 
ic
->
‹xt_f›ld
.
height
 = 
‹xt_lše_num
 * 
fÚt_height
 ;

124 
ic
->
img_f›ld
.
x
 = 
¬—
.x +‡»a.
width
/4 ;

125 
ic
->
img_f›ld
.
y
 = 
¬—
.y ;

126 
ic
->
img_f›ld
.
width
 = 
¬—
.width/2 ;

127 
ic
->
img_f›ld
.
height
 = 
¬—
.heighˆ- ic->
‹xt_f›ld
.height;

132 
ic
->
img_f›ld
.
x
 = 
¬—
.x ;

133 
ic
->
img_f›ld
.
y
 = 
¬—
.y ;

134 
ic
->
img_f›ld
.
width
 = 
¬—
.width ;

135 
ic
->
img_f›ld
.
height
 = 
¬—
.height ;

138 
	}
}

145 
si_t
 
	$fe_exi¡
(* 
fe_·th
)

147 
si_t
 
fd
;

149 ifĞĞ
fe_·th
 !ğ
NULL
 ) && ( 
fd
 = 
	`İ’
(fe_·th , 
O_RDONLY
) )== -1 )

158 
	}
}

162 
si_t
 
	$icÚ_d¿w_img
(
icÚ
 *
ic
)

164 
	`£t_¬—
(
ic
->
gd
, ic->
img_f›ld
.
x
 , ic->img_f›ld.
y
, ic->img_f›ld.
width
 , ic->img_f›ld.
height
 );

166 
	`fl_»ùªgË
(
ic
->
gd
, ic->
img_f›ld
.
x
 , ic->img_f›ld.
y
, ic->img_f›ld.
width
 , ic->img_f›ld.
height
 );

168 
	`£t_cŞÜ
(
ic
->
gd
, ic->
back_cŞÜ
.
r
, ic->back_cŞÜ.
g
, ic->back_cŞÜ.
b
, ic->back_cŞÜ.
a
);

170 if(
	`fe_exi¡
(
ic
->
img_·th
))

172 
	`d¿w_img
(
ic
->
gd
, ic->
img_·th
, 
ALIGN_HORIZONTAL_TYPE_CENTER
 | 
ALIGN_VERTICAL_TYPE_CENTER
 );

176 
	}
}

178 
si_t
 
	$icÚ_show_‹xt
(
icÚ
 * 
ic
)

182 
si_t
 
ch¬_tÙ®_num
 ;

183 
si_t
 
fÚt_width
;

184 
si_t
 
fÚt_height
;

185 
si_t
 
maxËn
;

186 
si_t
 
‹xt_lše_num
;

187 
si_t
 
Ï¡_lše_‹xt_num
;

189 
si_t
 
i
 = 0;

192 
ch¬_tÙ®_num
 = 
	`¡¾’
Ğ
ic
->
‹xt
 );

194 
fÚt_width
 = 
	`g‘_fÚt_width
Ğ
ic
->
gd
 ) ;

196 
fÚt_height
 = 
	`g‘_fÚt_height
Ğ
ic
->
gd
 ) ;

198 
maxËn
 = (
ic
->
¬—
.
width
 * 2 )/ 
fÚt_width
;

200 
Ï¡_lše_‹xt_num
 = 
ch¬_tÙ®_num
 % 
maxËn
 ;

202 
‹xt_lše_num
 = 
ch¬_tÙ®_num
 / 
maxËn
 + 1;

204 
	`£t_cŞÜ
(
ic
->
gd
, ic->
fÜe_cŞÜ
.
r
, ic->fÜe_cŞÜ.
g
, ic->fÜe_cŞÜ.
b
, ic->fÜe_cŞÜ.
a
);

207 
	`£t_¬—
(
ic
->
gd
, ic->
‹xt_f›ld
.
x
 , ic->‹xt_f›ld.
y
 , ic->‹xt_f›ld.
width
 , ic->‹xt_f›ld.
height
);

213  
i
 = 0; i < 
‹xt_lše_num
 -1; i++ )

215 
	`show_‹xt
(
ic
->
gd
, ic->
‹xt_f›ld
.
x
, ic->‹xt_f›ld.
y
 + 
i
 * 
fÚt_height
 , ic->
‹xt
 + i*
maxËn
 ,maxlen);

218 
	`show_‹xt
Ğ
ic
->
gd
,

219 
ic
->
‹xt_f›ld
.
x
 + ( ic->‹xt_f›ld.
width
 - 
Ï¡_lše_‹xt_num
 * 
fÚt_width
 ) / 2,

220 
ic
->
‹xt_f›ld
.
y
 + 
i
 * 
fÚt_height
 ,

221 
ic
->
‹xt
 + 
i
 * 
maxËn
 ,

222 
Ï¡_lše_‹xt_num


226 
	}
}

229 
si_t


230 
	gicÚ_ex™


231 (
icÚ
 * 
	gi
)

233  
widg‘_ex™
(
WIDGET_POINTER
(
i
));

235 
	$icÚ_£t_img_·th
(
icÚ
 *
ic
, * 
img_·th
)

237 
	`¡rıy
(
ic
->
img_·th
,img_path);

239 
	}
}

240 * 
	$icÚ_g‘_img_·th
(
icÚ
 *
ic
)

242  
ic
->
img_·th
;

243 
	}
}

244 
	$icÚ_£t_‹xt
(
icÚ
 *
ic
, * 
‹xt
)

246 
	`¡rıy
(
ic
->
‹xt
,ext);

248 
	}
}

249 * 
	$icÚ_g‘_‹xt
(
icÚ
 *
ic
)

251  
ic
->
‹xt
;

252 
	}
}

254 
	$icÚ_£t_ty³
(
icÚ
 *
ic
, 
si_t
 
ty³
)

256 
ic
->
ty³
 =ype;

258 
	}
}

260 
si_t
 
	$icÚ_g‘_ty³
(
icÚ
 *
ic
)

262  
ic
->
ty³
;

263 
	}
}

264 
	$icÚ_£t_is_‹xt_visŸbË
(
icÚ
 *
ic
, 
si_t
 
visŸbË_mod–
)

266 
ic
->
is_‹xt_visŸbË
 = 
visŸbË_mod–
;

268 
	}
}

269 
si_t
 
	$icÚ_g‘_is_‹xt_visŸbË
(
icÚ
 *
ic
)

271  
ic
->
is_‹xt_visŸbË
;

272 
	}
}

275 
si_t
 
	$icÚ_deçuÉ_ÿÎback
(* 
£lf
 , * 
msg
 )

278 
icÚ
* 
ic
 = 
£lf
;

279 
mes§ge
 * 
m
 = 
msg
;

281 
	`widg‘_deçuÉ_ÿÎback
(
ic
, 
m
);

283 
m
->
ba£
.
ty³
)

285 
MESSAGE_TYPE_WIDGET_REPAINT
:

286 
	`icÚ_deçuÉ_widg‘_»·št
(
ic
, 
m
);

287 
	`icÚ_deçuÉ_widg‘_show
(
ic
, 
m
);

290 
MESSAGE_TYPE_WIDGET_SHOW
:

291 
	`icÚ_deçuÉ_widg‘_show
(
ic
, 
m
);

294 
MESSAGE_TYPE_MOUSE_PRESS
:

295 
	`icÚ_deçuÉ_mou£_´ess
(
ic
, 
m
);

296 
	`icÚ_deçuÉ_widg‘_show
(
ic
, 
m
);

299 
MESSAGE_TYPE_MOUSE_RELEASE
:

300 
	`icÚ_deçuÉ_mou£_»Ëa£
(
ic
, 
m
);

301 
	`icÚ_deçuÉ_widg‘_show
(
ic
, 
m
);

309 
	}
}

313 
si_t
 
	$icÚ_»·št
(
icÚ
 * 
ic
)

315 
mes§ge
 
msg
;

317 
msg
.
widg‘_»·št
.
¬—
.
x
 = 
ic
->area.x;

318 
msg
.
widg‘_»·št
.
¬—
.
y
 = 
ic
->area.y;

319 
msg
.
widg‘_»·št
.
¬—
.
width
 = 
ic
->area.width;

320 
msg
.
widg‘_»·št
.
¬—
.
height
 = 
ic
->area.height;

322 
	`icÚ_deçuÉ_widg‘_»·št
(
ic
, &
msg
);

326 
	}
}

329 
si_t
 
	$icÚ_deçuÉ_widg‘_»·št
(
icÚ
* 
ic
 , 
mes§ge
 * 
msg
)

331 
	`NOT_USED
(
msg
);

332 
	`icÚ_upd©e_®l_¬—s
Ğ
ic
 );

334 
	`icÚ_d¿w_img
Ğ
ic
 );

336 if(
	`icÚ_g‘_is_‹xt_visŸbË
(
ic
) == 1)

338 
	`icÚ_show_‹xt
(
ic
);

343 
	}
}

346 
si_t
 
	$icÚ_show
(
icÚ
 * 
ic
)

348 
mes§ge
 
msg
;

350 
msg
.
widg‘_»·št
.
¬—
.
x
 = 
ic
->area.x;

351 
msg
.
widg‘_»·št
.
¬—
.
y
 = 
ic
->area.y;

352 
msg
.
widg‘_»·št
.
¬—
.
width
 = 
ic
->area.width;

353 
msg
.
widg‘_»·št
.
¬—
.
height
 = 
ic
->area.height;

355 
	`icÚ_deçuÉ_widg‘_show
(
ic
, &
msg
);

359 
	}
}

361 
si_t
 
	$icÚ_deçuÉ_widg‘_show
(
icÚ
* 
ic
 , 
mes§ge
 * 
msg
)

363 
»ùªgË
 
¬—
;

364 
	`NOT_USED
(
msg
);

366 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
ic
), &
¬—
);

367 
	`£t_¬—
Ğ
ic
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
 );

368 
	`upd©e
Ğ
ic
->
gd
 );

371 
	}
}

378 
si_t
 
	$icÚ_deçuÉ_mou£_´ess
(
icÚ
* 
ic
 , 
mes§ge
 * 
msg
)

380 
»ùªgË
 
¬—
;

381 
	`NOT_USED
(
msg
);

383 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
ic
), &
¬—
);

386 
	`£t_¬—
(
ic
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

389 
	`£t_cŞÜ
(
ic
->
gd
, 0, 0, 0, 0);

391 
	`d¿w_lše
Ğ
ic
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.x +‡»a.
width
 - 1,‡rea.y );

394 
	`d¿w_lše
Ğ
ic
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.x,‡»a.y +‡»a.
height
 - 1);

397 
	`d¿w_lše
(
ic
->
gd
, 
¬—
.
x
 +‡»a.
width
 - 1,‡»a.
y
,‡»a.x +‡»a.width - 1,‡»a.y +‡»a.
height
 - 1);

400 
	`d¿w_lše
(
ic
->
gd
, 
¬—
.
x
,‡»a.
y
 +‡»a.
height
 - 1,‡»a.x +‡»a.
width
 - 1,‡rea.y +‡rea.height - 1);

404 
	}
}

411 
si_t
 
	$icÚ_deçuÉ_mou£_»Ëa£
(
icÚ
* 
ic
 , 
mes§ge
 * 
msg
)

413 
»ùªgË
 
¬—
;

414 
	`NOT_USED
(
msg
);

416 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
ic
), &
¬—
);

419 
	`£t_¬—
(
ic
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

423 
	`£t_cŞÜ
(
ic
->
gd
, 255, 255, 255, 0);

425 
	`d¿w_lše
Ğ
ic
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.x +‡»a.
width
 - 1,‡rea.y );

428 
	`d¿w_lše
Ğ
ic
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.x,‡»a.y +‡»a.
height
 - 1);

431 
	`d¿w_lše
(
ic
->
gd
, 
¬—
.
x
 +‡»a.
width
 - 1,‡»a.
y
,‡»a.x +‡»a.width - 1,‡»a.y +‡»a.
height
 - 1);

434 
	`d¿w_lše
(
ic
->
gd
, 
¬—
.
x
,‡»a.
y
 +‡»a.
height
 - 1,‡»a.x +‡»a.
width
 - 1,‡rea.y +‡rea.height - 1);

438 
	}
}

440 
	$icÚ_£t_bounds
(
icÚ
* icÚ, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
)

442 
icÚ
->
¬—
.
x
 = x;

443 
icÚ
->
¬—
.
y
 = y;

444 
icÚ
->
¬—
.
width
 = width;

445 
icÚ
->
¬—
.
height
 = height;

447 
	}
}

	@widget/icon/icon.h

30 #iâdeà
_ICON_H_


31 
	#_ICON_H_
 1

	)

33 
	~<ba£_ty³.h
>

34 
	~<comm.h
>

36 
	~"../widg‘/widg‘.h
"

41 
	#ICON_DEFINITION
 \

45 
WIDGET_DEFINITION


	)

62 
	sicÚ


64 
ICON_DEFINITION


65 
	mimg_·th
[255];

66 
	m‹xt
[255];

68 
si_t
 
	mty³
;

69 
si_t
 
	mis_‹xt_visŸbË
;

71 
»ùªgË
 
	m‹xt_f›ld
;

72 
»ùªgË
 
	mimg_f›ld
;

79 
	#ICON_POINTER
(
addr
è((
icÚ
 *)×ddr))

	)

82 
icÚ_£t_img_·th
(
icÚ
 *
ic
, * 
img_·th
);

83 * 
icÚ_g‘_img_·th
(
icÚ
 *
ic
);

85 
icÚ_£t_‹xt
(
icÚ
 *
ic
, * 
‹xt
);

86 * 
icÚ_g‘_‹xt
(
icÚ
 *
ic
);

90 
icÚ_£t_ty³
(
icÚ
 *
ic
, 
si_t
 
ty³
);

91 
si_t
 
icÚ_g‘_ty³
(
icÚ
 *
ic
);

93 
icÚ_£t_is_‹xt_visŸbË
(
icÚ
 *
ic
, 
si_t
 
visŸbË_mod–
);

94 
si_t
 
icÚ_g‘_is_‹xt_visŸbË
(
icÚ
 *
ic
);

98 
si_t
 
icÚ_deçuÉ_ÿÎback
(* 
£lf
 , * 
msg
 );

109 * 
icÚ_š™
(
si_t
 
id
);

121 
si_t
 
icÚ_ex™
 (
icÚ
 * 
ic
);

130 
icÚ_£t_bounds
(
icÚ
 *
ic
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
);

132 
si_t
 
icÚ_»·št
(
icÚ
 * 
i
);

133 
si_t
 
icÚ_deçuÉ_widg‘_»·št
(
icÚ
* 
ic
 , 
mes§ge
 * 
msg
);

136 
si_t
 
icÚ_show_‹xt
(
icÚ
 * 
i
);

138 
si_t
 
icÚ_show
(
icÚ
 * 
i
);

139 
si_t
 
icÚ_deçuÉ_widg‘_show
(
icÚ
* 
ic
 , 
mes§ge
 * 
msg
);

143 
si_t
 
icÚ_deçuÉ_mou£_´ess
(
icÚ
* 
ic
 , 
mes§ge
 * 
msg
);

147 
si_t
 
icÚ_deçuÉ_mou£_»Ëa£
(
icÚ
* 
ic
 , 
mes§ge
 * 
msg
);

	@widget/image_view/image_view.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

32 
	~<¡ršg.h
>

34 
	~<ba£_ty³.h
>

35 
	~<cÚfig_·r£r.h
>

36 
	~<log.h
>

37 
	~<comm.h
>

38 
	~<ş›Á_lib.h
>

39 
	~<g¿ph.h
>

40 
	~"comp”.h
"

41 
	~"­¶iÿtiÚ.h
"

43 
	~"image_v›w.h
"

45 
	#TMP_ARRAY_SIZE
 256

	)

48 
image_v›w_¡yË
 
	gimage_v›w_deçuÉ_¡yË
 =

70 
CURSOR_SHAPE_X
,

93 
si_t
 
	$image_v›w_š™_w™h_deçuÉ_¡yË
(
image_v›w
 * 
iv
)

95 *
cÚfig_·th
 = 
	`g‘_cÚfig_·th
("image_view.cfg");

97 
si_t
 
»s
 = 
	`widg‘_š™_w™h_deçuÉ_¡yË
(
cÚfig_·th
,

98 
	`WIDGET_POINTER
(
iv
), &
image_v›w_deçuÉ_¡yË
.
commÚ
,

99 
NULL
, 0);

100 
	`ä“
(
cÚfig_·th
);

102  
»s
;

103 
	}
}

105 
si_t
 
	$image_v›w_deçuÉ_widg‘_show
(
image_v›w
 * 
i
, 
mes§ge
 * 
msg
)

107 
»ùªgË
 
¬—
;

108 
	`NOT_USED
(
msg
);

110 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
i
), &
¬—
);

113 
	`£t_¬—
(
i
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

116 
	`upd©e
(
i
->
gd
);

119 
	}
}

121 
si_t
 
	$image_v›w_deçuÉ_widg‘_»·št
(
image_v›w
 * 
i
, 
mes§ge
 * 
msg
)

123 
»ùªgË
 
¬—
;

124 
si_t
 
x
, 
y
;

125 
	`NOT_USED
(
msg
);

128 
	`widg‘_absŞu‹_coÜdš©e
(
	`WIDGET_POINTER
(
i
), &
x
, &
y
);

132 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
i
), &
¬—
);

135 
	`£t_¬—
(
i
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

137 
	`£t_cŞÜ
(
i
->
gd
, i->
back_cŞÜ
.
r
, i->back_cŞÜ.
g
, i->back_cŞÜ.
b
, i->back_cŞÜ.
a
);

140 
	`fl_»ùªgË
(
i
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

142 
	`d¿w_img
(
i
->
gd
, i->
·th
, i->
®ign
);

145 
	}
}

147 
si_t
 
	$image_v›w_deçuÉ_ÿÎback
(
addr_t
 
£lf
,‡ddr_ˆ
msg
)

149 
image_v›w
 * 
i
 = 
£lf
;

150 
mes§ge
 * 
m
 = 
msg
;

152 
	`widg‘_deçuÉ_ÿÎback
(
i
, 
m
);

154 
m
->
ba£
.
ty³
)

156 
MESSAGE_TYPE_WIDGET_REPAINT
:

157 
	`image_v›w_deçuÉ_widg‘_»·št
(
i
, 
m
);

158 
	`image_v›w_deçuÉ_widg‘_show
(
i
, 
m
);

161 
MESSAGE_TYPE_WIDGET_SHOW
:

162 
	`image_v›w_deçuÉ_widg‘_show
(
i
, 
m
);

170 
	}
}

172 
image_v›w
* 
	$image_v›w_š™
(* 
·th
)

174 
image_v›w
 * 
addr
;

177 
addr
 = (
image_v›w
 *)
	`m®loc
((image_view));

179 if(
addr
 =ğ
NULL
)

181 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

182  
NULL
;

185 if(!(
addr
=
	`widg‘_š™_commÚ
(
	`WIDGET_POINTER
(addr), 0))) {

186  
NULL
;

189 
addr
->
Çme
 = "struct image_view";

192 
	`image_v›w_š™_w™h_deçuÉ_¡yË
(
addr
);

194 
addr
->
·th
 =…ath;

196 
addr
->
®ign
 = 
ALIGN_HORIZONTAL_TYPE_CENTER
 | 
ALIGN_VERTICAL_TYPE_CENTER
;

198 
addr
->
ÿÎback
 = 
image_v›w_deçuÉ_ÿÎback
;

200  
addr
;

201 
	}
}

208 
si_t
 
	$image_v›w_ex™
(
image_v›w
 * 
i
)

210  
	`widg‘_ex™
(
	`WIDGET_POINTER
(
i
));

211 
	}
}

213 
	$image_v›w_£t_bounds
(
image_v›w
* 
i
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
)

215 
	`widg‘_£t_bounds
(
	`WIDGET_POINTER
(
i
), 
x
, 
y
, 
width
, 
height
);

216 
	}
}

218 
	$image_v›w_£t_cŞÜ
(
image_v›w
* 
i
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
)

220 
	`widg‘_£t_cŞÜ
(
	`WIDGET_POINTER
(
i
), 
fcŞÜ
, 
bcŞÜ
);

221 
	}
}

	@widget/image_view/image_view.h

30 #iâdeà
_IMAGE_VIEW_H_


31 
	#_IMAGE_VIEW_H_
 1

	)

33 
	~<ba£_ty³.h
>

34 
	~<comm.h
>

36 
	~"../widg‘/widg‘.h
"

41 
	#IMAGE_VIEW_DEFINITION
 \

45 
WIDGET_DEFINITION
 \

50 * 
·th
; \

55 
®ign
;

	)

57 
	simage_v›w


59 
	mIMAGE_VIEW_DEFINITION


63 
	simage_v›w_¡yË


65 
widg‘_¡yË
 
	mcommÚ
;

71 
	#IMAGE_VIEW_POINTER
(
addr
è((
image_v›w
*)×ddr))

	)

82 
si_t
 
image_v›w_deçuÉ_ÿÎback
(
addr_t
 
£lf
,‡ddr_ˆ
msg
);

91 
image_v›w
* 
image_v›w_š™
(* 
·th
);

100 
si_t
 
image_v›w_ex™
(
image_v›w
 * 
i
);

112 
image_v›w_£t_bounds
(
image_v›w
* 
i
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
);

122 
image_v›w_£t_cŞÜ
(
image_v›w
* 
i
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
);

	@widget/label/label.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

32 
	~<¡ršg.h
>

34 
	~<ba£_ty³.h
>

35 
	~<cÚfig_·r£r.h
>

36 
	~<log.h
>

37 
	~<comm.h
>

38 
	~<ş›Á_lib.h
>

39 
	~"comp”.h
"

40 
	~"­¶iÿtiÚ.h
"

42 
	~"Ïb–.h
"

44 
	#TMP_ARRAY_SIZE
 256

	)

47 
Ïb–_¡yË
 
	gÏb–_deçuÉ_¡yË
 =

69 
CURSOR_SHAPE_X
,

86 
FONT_MATRIX_08
,

97 
si_t
 
	$Ïb–_š™_w™h_deçuÉ_¡yË
(
Ïb–
 * 
l
)

99 
tmp_¡r
[
TMP_ARRAY_SIZE
] = {'\0'};

100 
si_t
 
tmp_št
;

101 
widg‘_¡yË_’Œy
 
exŒa
[] = {

102 {.
key
="fÚt", .
ty³
=
WIDGET_STYLE_TYPE_STR
, .
v®
=
tmp_¡r
},

104 *
cÚfig_·th
 = 
	`g‘_cÚfig_·th
("label.cfg");

106 
si_t
 
»s
 = 
	`widg‘_š™_w™h_deçuÉ_¡yË
(
cÚfig_·th
,

107 
	`WIDGET_POINTER
(
l
), &
Ïb–_deçuÉ_¡yË
.
commÚ
,

108 
exŒa
, (extra)/(extra[0]));

109 
	`ä“
(
cÚfig_·th
);

111 if((
tmp_št
 = 
	`g‘_fÚt_’um_äom_¡r
(
tmp_¡r
)) >= 0) {

112 
Ïb–_deçuÉ_¡yË
.
fÚt
 = 
tmp_št
;

115 
l
->
fÚt
 = 
Ïb–_deçuÉ_¡yË
.font;

117  
»s
;

118 
	}
}

120 
si_t
 
	$Ïb–_deçuÉ_widg‘_show
(
Ïb–
 * 
l
, 
mes§ge
 * 
msg
)

122 
»ùªgË
 
Ïb–_absŞu‹_¬—
;

123 
	`NOT_USED
(
msg
);

125 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
l
), &
Ïb–_absŞu‹_¬—
);

128 
	`£t_¬—
(
l
->
gd
, 
Ïb–_absŞu‹_¬—
.
x
,†ab–_absŞu‹_¬—.
y
,†ab–_absŞu‹_¬—.
width
,†ab–_absŞu‹_¬—.
height
);

131 
	`upd©e
(
l
->
gd
);

134 
	}
}

136 
si_t
 
	$Ïb–_deçuÉ_widg‘_»·št
(
Ïb–
 * 
l
, 
mes§ge
 * 
msg
)

138 
»ùªgË
 
¬—
;

139 
si_t
 
x
, 
y
;

140 
	`NOT_USED
(
msg
);

143 
	`widg‘_absŞu‹_coÜdš©e
(
	`WIDGET_POINTER
(
l
), &
x
, &
y
);

146 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
l
), &
¬—
);

148 
	`£t_¬—
(
l
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

150 
	`£t_cŞÜ
(
l
->
gd
,†->
back_cŞÜ
.
r
,†->back_cŞÜ.
g
,†->back_cŞÜ.
b
,†->back_cŞÜ.
a
);

153 
	`fl_»ùªgË
(
l
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

155 
	`£t_cŞÜ
(
l
->
gd
,†->
fÜe_cŞÜ
.
r
,†->fÜe_cŞÜ.
g
,†->fÜe_cŞÜ.
b
,†->fÜe_cŞÜ.
a
);

157 
	`show_‹xt
(
l
->
gd
, 
x
 +†->
bÜd”_size
, 
y
 +†->bÜd”_size,†->
‹xt
, 
	`¡¾’
(l->text));

160 
	}
}

162 
si_t
 
	$Ïb–_deçuÉ_ÿÎback
(
addr_t
 
£lf
,‡ddr_ˆ
msg
)

164 
Ïb–
 * 
l
 = 
£lf
;

165 
mes§ge
 * 
m
 = 
msg
;

167 
	`widg‘_deçuÉ_ÿÎback
(
l
, 
m
);

169 
m
->
ba£
.
ty³
)

171 
MESSAGE_TYPE_WIDGET_REPAINT
:

172 
	`Ïb–_deçuÉ_widg‘_»·št
(
l
, 
m
);

173 
	`Ïb–_deçuÉ_widg‘_show
(
l
, 
m
);

176 
MESSAGE_TYPE_WIDGET_SHOW
:

177 
	`Ïb–_deçuÉ_widg‘_show
(
l
, 
m
);

185 
	}
}

187 
	$Ïb–_»·št
(
Ïb–
* 
l
)

189 
	`widg‘_»·št
(
	`WIDGET_POINTER
(
l
));

190 
	}
}

192 
	$Ïb–_show
(
Ïb–
* 
l
)

194 
	`widg‘_show
(
	`WIDGET_POINTER
(
l
));

195 
	}
}

197 
Ïb–
* 
	$Ïb–_š™
(* 
‹xt
)

199 
Ïb–
 * 
addr
;

202 
addr
 = (
Ïb–
 *)
	`m®loc
((label));

204 if(
addr
 =ğ
NULL
)

206 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

207  
NULL
;

210 if(!(
addr
=
	`widg‘_š™_commÚ
(
	`WIDGET_POINTER
(addr), 0))) {

211  
NULL
;

214 
addr
->
Çme
 = "struct†abel";

217 
	`Ïb–_š™_w™h_deçuÉ_¡yË
(
addr
);

220 
addr
->
ÿÎback
 = 
Ïb–_deçuÉ_ÿÎback
;

221 
addr
->
‹xt
 =ext;

223  
addr
;

224 
	}
}

226 
si_t
 
	$Ïb–_ex™
(
Ïb–
 * 
l
)

228  
	`widg‘_ex™
(
	`WIDGET_POINTER
(
l
));

229 
	}
}

231 
	$Ïb–_£t_bounds
(
Ïb–
 * 
l
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
)

233 
	`widg‘_£t_bounds
(
	`WIDGET_POINTER
(
l
), 
x
, 
y
, 
width
, 
height
);

234 
	}
}

236 
	$Ïb–_£t_cŞÜ
(
Ïb–
* 
l
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
)

238 
	`widg‘_£t_cŞÜ
(
	`WIDGET_POINTER
(
l
), 
fcŞÜ
, 
bcŞÜ
);

239 
	}
}

241 
	$Ïb–_£t_fÚt
(
Ïb–
* 
l
, 
si_t
 
fÚt
)

243 
l
->
fÚt
 = font;

244 
	`£t_fÚt
(
l
->
gd
,†->
fÚt
);

245 
	}
}

	@widget/label/label.h

30 #iâdeà
_LABEL_H_


31 
	#_LABEL_H_
 1

	)

33 
	~<ba£_ty³.h
>

34 
	~<comm.h
>

36 
	~"../widg‘/widg‘.h
"

41 
	#LABEL_DEFINITION
 \

45 
WIDGET_DEFINITION
 \

50 * 
‹xt
; \

55 
si_t
 
fÚt
;

	)

57 
	sÏb–


59 
	mLABEL_DEFINITION


63 
	sÏb–_¡yË


65 
widg‘_¡yË
 
	mcommÚ
;

68 
si_t
 
	mfÚt
;

74 
	#LABEL_POINTER
(
addr
è((
Ïb–
 *)×ddr))

	)

85 
si_t
 
Ïb–_deçuÉ_ÿÎback
(
addr_t
 
£lf
,‡ddr_ˆ
msg
);

90 
Ïb–_»·št
(
Ïb–
* 
l
);

95 
Ïb–_show
(
Ïb–
* 
l
);

104 
Ïb–
* 
Ïb–_š™
(* 
‹xt
);

113 
si_t
 
Ïb–_ex™
(
Ïb–
 * 
l
);

124 
Ïb–_£t_bounds
(
Ïb–
*†ab–, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
);

134 
Ïb–_£t_cŞÜ
(
Ïb–
* 
l
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
);

142 
Ïb–_£t_fÚt
(
Ïb–
* 
l
, 
si_t
 
fÚt
);

	@widget/panel/panel.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

32 
	~<¡ršg.h
>

34 
	~<ba£_ty³.h
>

35 
	~<cÚfig_·r£r.h
>

36 
	~<log.h
>

37 
	~<comm.h
>

38 
	~<ş›Á_lib.h
>

39 
	~<g¿ph.h
>

40 
	~"comp”.h
"

41 
	~"­¶iÿtiÚ.h
"

43 
	~"·Ãl.h
"

45 
	#TMP_ARRAY_SIZE
 256

	)

48 
·Ãl_¡yË
 
	g·Ãl_deçuÉ_¡yË
 =

70 
CURSOR_SHAPE_X
,

94 
si_t
 
	$·Ãl_š™_w™h_deçuÉ_¡yË
(
·Ãl
 * 
p
)

96 *
cÚfig_·th
 = 
	`g‘_cÚfig_·th
("panel.cfg");

98 
si_t
 
»s
 = 
	`widg‘_š™_w™h_deçuÉ_¡yË
(
cÚfig_·th
,

99 
	`WIDGET_POINTER
(
p
), &
·Ãl_deçuÉ_¡yË
.
commÚ
,

100 
NULL
, 0);

101 
	`ä“
(
cÚfig_·th
);

103  
»s
;

104 
	}
}

105 * 
	$·Ãl_š™
(
si_t
 
id
)

107 
·Ãl
 * 
addr
;

110 
addr
 = (
·Ãl
 *)
	`m®loc
((panel));

112 if(
addr
 =ğ
NULL
)

114 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

115  
NULL
;

117 if(!(
addr
=
	`·Ãl_š™_d©a
×ddr, 
id
))) {

118  
NULL
;

121  
addr
;

122 
	}
}

124 * 
	$·Ãl_š™_d©a
(
·Ãl
 *
addr
, 
si_t
 
id
)

126 if(!(
addr
=
	`widg‘_š™_commÚ
(
	`WIDGET_POINTER
×ddr), 
id
))) {

127  
NULL
;

130 
addr
->
Çme
 = "struct…anel";

133 
	`·Ãl_š™_w™h_deçuÉ_¡yË
(
addr
);

136 
addr
->
ÿÎback
 = 
·Ãl_deçuÉ_ÿÎback
 ;

138  
addr
;

139 
	}
}

141 
si_t
 
	$·Ãl_ex™
(
·Ãl
 * 
i
)

147  
	`widg‘_ex™
(
	`WIDGET_POINTER
(
i
));

148 
	}
}

150 
si_t
 
	$pošt_š_¬—
(
pošt
*…ošt, 
»ùªgË
* 
¬—
)

152 if(
pošt
->
x
 >ğ
¬—
->x &&

153 
pošt
->
y
 >ğ
¬—
->y &&

154 
pošt
->
x
 <ğ
¬—
->x +‡»a->
width
 - 1 &&

155 
pošt
->
y
 <ğ
¬—
->y +‡»a->
height
 -1)

159 
	}
}

182 
si_t
 
	$·Ãl_deçuÉ_ÿÎback
(* 
£lf
 , * 
msg
 )

185 
·Ãl
* 
²l
 = 
£lf
;

186 
mes§ge
 * 
m
 = (mes§g*)
msg
;

188 
	`widg‘_deçuÉ_ÿÎback
(
²l
, 
m
);

190 
m
->
ba£
.
ty³
)

192 
MESSAGE_TYPE_WIDGET_REPAINT
:

193 
	`·Ãl_deçuÉ_widg‘_»·št
(
²l
, 
m
);

194 
	`·Ãl_deçuÉ_widg‘_show
(
²l
, 
m
);

197 
MESSAGE_TYPE_WIDGET_SHOW
:

198 
	`·Ãl_deçuÉ_widg‘_show
(
²l
, 
m
);

201 
MESSAGE_TYPE_MOUSE_PRESS
:

202 
	`·Ãl_deçuÉ_mou£_´ess
(
²l
, 
m
);

203 
	`·Ãl_deçuÉ_widg‘_show
(
²l
, 
m
);

206 
MESSAGE_TYPE_MOUSE_RELEASE
:

207 
	`·Ãl_deçuÉ_mou£_»Ëa£
(
²l
, 
m
);

208 
	`·Ãl_deçuÉ_widg‘_show
(
²l
, 
m
);

216 
	}
}

220 
si_t
 
	$·Ãl_»·št
(
·Ãl
 * 
²l
)

222 
mes§ge
 
msg
;

224 
msg
.
ba£
.
ty³
 = 
MESSAGE_TYPE_WIDGET_REPAINT
;

225 
msg
.
widg‘_»·št
.
¬—
.
x
 = 
²l
->area.x;

226 
msg
.
widg‘_»·št
.
¬—
.
y
 = 
²l
->area.y;

227 
msg
.
widg‘_»·št
.
¬—
.
width
 = 
²l
->area.width;

228 
msg
.
widg‘_»·št
.
¬—
.
height
 = 
²l
->area.height;

230 
	`·Ãl_deçuÉ_widg‘_»·št
(
²l
, &
msg
);

234 
	}
}

236 
si_t
 
	$·Ãl_»·št_w™h_chd»n
(
·Ãl
 *
²l
)

238 
mes§ge
 
msg
;

240 
msg
.
ba£
.
ty³
 = 
MESSAGE_TYPE_WIDGET_REPAINT
;

241 
msg
.
widg‘_»·št
.
¬—
.
x
 = 
²l
->area.x;

242 
msg
.
widg‘_»·št
.
¬—
.
y
 = 
²l
->area.y;

243 
msg
.
widg‘_»·št
.
¬—
.
width
 = 
²l
->area.width;

244 
msg
.
widg‘_»·št
.
¬—
.
height
 = 
²l
->area.height;

246 
	`·Ãl_deçuÉ_widg‘_»·št
(
²l
, &
msg
);

247 
	`·Ãl_deçuÉ_widg‘_»·št_chd»n
(
²l
, &
msg
);

250 
	}
}

259 
si_t
 
	$·Ãl_deçuÉ_widg‘_»·št
(
·Ãl
* 
²l
 , 
mes§ge
 * 
msg
)

261 
»ùªgË
 
¬—
;

262 
	`NOT_USED
(
msg
);

265 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
Ğ
	`WIDGET_POINTER
Ğ
²l
 ), &
¬—
 );

267 
	`£t_¬—
(
²l
->
gd
,
¬—
.
x
,¬—.
y
,¬—.
width
,¬—.
height
);

269 
	`£t_cŞÜ
(
²l
->
gd
,…Æ->
back_cŞÜ
.
r
,…Æ->back_cŞÜ.
g
,…Æ->back_cŞÜ.
b
,…Æ->back_cŞÜ.
a
);

271 
	`fl_»ùªgË
(
²l
->
gd
, 
¬—
.
x
 ,‡»a.
y
,‡»a.
width
,‡»a.
height
);

274 
	}
}

276 
si_t
 
	$·Ãl_deçuÉ_widg‘_»·št_chd»n
(
·Ãl
 *
²l
, 
mes§ge
 *
msg
)

278 
objeù
 *
Œ“
, *
node
;

280 
Œ“
 = 
	`OBJECT_POINTER
(
²l
);

281 
node
 = 
Œ“
->
rchd
;

282 
node
 !ğ
NULL
)

284 
	`WIDGET_POINTER
(
node
)->
	`ÿÎback
Òode, 
msg
);

285 
node
 = 
	`objeù_Œ“_™”©Ü_deüem’t
(
Œ“
,node);

288 
	}
}

291 
si_t
 
	$·Ãl_show
(
·Ãl
 * 
²l
)

293 
mes§ge
 
msg
;

295 
msg
.
ba£
.
ty³
 = 
MESSAGE_TYPE_WIDGET_SHOW
;

296 
msg
.
widg‘_»·št
.
¬—
.
x
 = 
²l
->area.x;

297 
msg
.
widg‘_»·št
.
¬—
.
y
 = 
²l
->area.y;

298 
msg
.
widg‘_»·št
.
¬—
.
width
 = 
²l
->area.width;

299 
msg
.
widg‘_»·št
.
¬—
.
height
 = 
²l
->area.height;

301 
	`·Ãl_deçuÉ_widg‘_show
(
²l
, &
msg
);

305 
	}
}

307 
si_t
 
	$·Ãl_deçuÉ_widg‘_show
(
·Ãl
* 
²l
 , 
mes§ge
 * 
msg
)

309 
»ùªgË
 
¬—
;

310 
objeù
 *
Œ“
, *
node
;

311 
widg‘
 * 
wgt
;

314 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
²l
), &
¬—
);

315 
	`£t_¬—
Ğ
²l
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
 );

316 
	`upd©e
Ğ
²l
->
gd
 );

320 
msg
->
ba£
.
ty³
 = 
MESSAGE_TYPE_WIDGET_SHOW
;

323 
Œ“
 = 
	`OBJECT_POINTER
(
²l
);

324 
node
 = 
Œ“
->
rchd
;

325 
node
 !ğ
NULL
)

328 
wgt
 = (
widg‘
*)
node
;

329 
wgt
->
	`ÿÎback
(wgt, 
msg
);

330 
node
 = 
	`objeù_Œ“_™”©Ü_deüem’t
(
Œ“
,node);

334 
	}
}

336 
si_t
 
	$·Ãl_deçuÉ_mou£_´ess
(
·Ãl
* 
²l
 , 
mes§ge
 * 
msg
)

338 
si_t
 
æag
 = 0;

339 
widg‘
 * 
wgt
;

341 
»ùªgË
 
¬—
;

343 
objeù
 * 
Œ“
, *
node
;

345 
Œ“
 = 
	`OBJECT_POINTER
(
²l
);

346 
node
 = 
Œ“
->
rchd
;

347 
node
 !ğ
NULL
)

349 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
node
), &
¬—
);

350 if(
	`pošt_š_¬—
(&(
msg
->
mou£
.
cursÜ_pos™iÚ
), &
¬—
))

352 
wgt
 = (
widg‘
*)
node
;

353 
wgt
->
	`ÿÎback
(wgt, 
msg
);

354 
æag
 = 1;

357 
node
 = 
	`objeù_Œ“_™”©Ü_deüem’t
(
Œ“
,node);

360 if(
æag
 == 0)

368 
	}
}

379 
si_t
 
	$·Ãl_deçuÉ_mou£_»Ëa£
(
·Ãl
* 
²l
 , 
mes§ge
 * 
msg
)

382 
si_t
 
æag
 = 0;

383 
widg‘
 * 
wgt
;

385 
»ùªgË
 
¬—
;

387 
objeù
 * 
Œ“
, *
node
 ;

389 
Œ“
 = 
	`OBJECT_POINTER
(
²l
);

390 
node
 = 
Œ“
->
rchd
;

391 
node
 !ğ
NULL
)

393 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
node
), &
¬—
);

394 if(
	`pošt_š_¬—
(&(
msg
->
mou£
.
cursÜ_pos™iÚ
), &
¬—
))

396 
wgt
 = (
widg‘
*)
node
;

397 
wgt
->
	`ÿÎback
(wgt, 
msg
);

398 
æag
 = 1;

401 
node
 = 
	`objeù_Œ“_™”©Ü_deüem’t
(
Œ“
,node);

404 if(
æag
 == 0)

412 
	}
}

415 
	$·Ãl_£t_bounds
(
·Ãl
*…ª–, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
)

417 
	`widg‘_£t_bounds
(
	`WIDGET_POINTER
(
·Ãl
), 
x
, 
y
, 
width
, 
height
);

418 
	}
}

420 
	$·Ãl_£t_cŞÜ
(
·Ãl
 *
p
, 
cŞÜ
 *
fÜe
, cŞÜ *
back
)

422 
	`widg‘_£t_cŞÜ
(
	`WIDGET_POINTER
(
p
), 
fÜe
, 
back
);

423 
	}
}

	@widget/panel/panel.h

30 #iâdeà
_PANEL_H_


31 
	#_PANEL_H_
 1

	)

33 
	~<ba£_ty³.h
>

34 
	~<comm.h
>

36 
	~"../widg‘/widg‘.h
"

41 
	#PANEL_DEFINITION
 \

45 
WIDGET_DEFINITION


	)

47 
	s·Ãl


49 
	mPANEL_DEFINITION


56 
	s·Ãl_¡yË


58 
widg‘_¡yË
 
	mcommÚ
;

64 
	#PANEL_POINTER
(
addr
è((
·Ãl
 *)×ddr))

	)

66 
si_t
 
·Ãl_deçuÉ_ÿÎback
(* 
£lf
 , * 
msg
 );

77 * 
·Ãl_š™
(
si_t
 
id
);

87 * 
·Ãl_š™_d©a
(
·Ãl
 *
addr
, 
si_t
 
id
);

98 
si_t
 
·Ãl_ex™
 (
·Ãl
 * 
ic
);

109 
si_t
 
·Ãl_»·št
(
·Ãl
 * 
i
);

110 
si_t
 
·Ãl_»·št_w™h_chd»n
(
·Ãl
 *panel);

111 
si_t
 
·Ãl_deçuÉ_widg‘_»·št
(
·Ãl
* 
ic
 , 
mes§ge
 * 
msg
);

112 
si_t
 
·Ãl_deçuÉ_widg‘_»·št_chd»n
(
·Ãl
 *·Ãl, 
mes§ge
 *
msg
);

115 
si_t
 
·Ãl_show
(
·Ãl
 * 
i
);

116 
si_t
 
·Ãl_deçuÉ_widg‘_show
(
·Ãl
* 
ic
 , 
mes§ge
 * 
msg
);

120 
si_t
 
·Ãl_deçuÉ_mou£_´ess
(
·Ãl
* 
ic
 , 
mes§ge
 * 
msg
);

124 
si_t
 
·Ãl_deçuÉ_mou£_»Ëa£
(
·Ãl
* 
ic
 , 
mes§ge
 * 
msg
);

126 
·Ãl_£t_bounds
(
·Ãl
*…ª–, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
);

128 
·Ãl_£t_cŞÜ
(
·Ãl
 *
p
, 
cŞÜ
 *
fÜe
, cŞÜ *
back
);

	@widget/radiobutton/radiobutton.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

32 
	~<¡ršg.h
>

34 
	~<ba£_ty³.h
>

35 
	~<cÚfig_·r£r.h
>

36 
	~<log.h
>

37 
	~<comm.h
>

38 
	~<ş›Á_lib.h
>

39 
	~<g¿ph.h
>

40 
	~<d©a_¡ruùu»s.h
>

41 
	~"comp”.h
"

42 
	~"­¶iÿtiÚ.h
"

44 
	~"¿diobu‰Ú.h
"

46 
	#TMP_ARRAY_SIZE
 256

	)

51 
hashm­
 *
	ghm_groups
 = 
NULL
;

53 
si_t
 
	$mš
(
si_t
 
x
, si_ˆ
y
)

55  
x
<
y
?x:y;

56 
	}
}

59 
¿diobu‰Ú_¡yË
 
	g¿diobu‰Ú_deçuÉ_¡yË
 =

81 
CURSOR_SHAPE_X
,

105 
si_t
 
	$¿diobu‰Ú_š™_w™h_deçuÉ_¡yË
(
¿diobu‰Ú
 * 
b
)

107 *
cÚfig_·th
 = 
	`g‘_cÚfig_·th
("radiobutton.cfg");

109 
si_t
 
»s
 = 
	`widg‘_š™_w™h_deçuÉ_¡yË
(
cÚfig_·th
,

110 
	`WIDGET_POINTER
(
b
), &
¿diobu‰Ú_deçuÉ_¡yË
.
commÚ
,

111 
NULL
, 0);

112 
	`ä“
(
cÚfig_·th
);

114  
»s
;

115 
	}
}

117 
si_t
 
	$¿diobu‰Ú_deçuÉ_widg‘_show
(
¿diobu‰Ú
 * 
b
, 
mes§ge
 * 
msg
)

119 
»ùªgË
 
¬—
;

120 
	`NOT_USED
(
msg
);

122 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
b
), &
¬—
);

125 
	`£t_¬—
(
b
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

128 
	`upd©e
(
b
->
gd
);

131 
	}
}

133 
	$_·št_¿diobu‰Ú
(
¿diobu‰Ú
* 
c
, 
si_t
 
is_£Ëùed
, 
»ùªgË
* 
¬—
, 
x
, 
y
)

135 
widg‘
 *
p
 =

136 
	`WIDGET_POINTER
(
	`objeù_·»Á
(
	`OBJECT_POINTER
(
c
)));

138 
	`£t_cŞÜ
(
p
->
gd
,…->
back_cŞÜ
.
r
,…->back_cŞÜ.
g
,…->back_cŞÜ.
b
,…->back_cŞÜ.
a
);

139 
	`fl_»ùªgË
(
c
->
gd
, 
¬—
->
x
,‡»a->
y
,‡»a->
width
,‡»a->
height
);

141 
	`£t_cŞÜ
(
c
->
gd
, c->
back_cŞÜ
.
r
, c->back_cŞÜ.
g
, c->back_cŞÜ.
b
, c->back_cŞÜ.
a
);

142 
	`fl_cœşe
(
c
->
gd
,

143 
x
 + 
c
->
¬—
.
width
/2,

144 
y
 + 
c
->
¬—
.
height
/2,

145 
	`mš
(
c
->
¬—
.
width
, c->¬—.
height
)/2);

148 
	`£t_cŞÜ
(
c
->
gd
, c->
fÜe_cŞÜ
.
r
, c->fÜe_cŞÜ.
g
, c->fÜe_cŞÜ.
b
, c->fÜe_cŞÜ.
a
);

149 
	`d¿w_cœşe
(
c
->
gd
,

150 
x
 + 
c
->
¬—
.
width
/2,

151 
y
 + 
c
->
¬—
.
height
/2,

152 
	`mš
(
c
->
¬—
.
width
, c->¬—.
height
)/2);

154 if(
is_£Ëùed
) {

155 
	`fl_cœşe
(
c
->
gd
,

156 
x
 + 
c
->
¬—
.
width
/2,

157 
y
 + 
c
->
¬—
.
height
/2,

158 
	`mš
(
c
->
¬—
.
width
, c->¬—.
height
)/4);

160 
	}
}

162 
si_t
 
	$¿diobu‰Ú_deçuÉ_widg‘_»·št
(
¿diobu‰Ú
 *
c
, 
mes§ge
 *
msg
)

164 
»ùªgË
 
¬—
;

165 
si_t
 
x
, 
y
;

166 
	`NOT_USED
(
msg
);

169 
	`widg‘_absŞu‹_coÜdš©e
(
	`WIDGET_POINTER
(
c
), &
x
, &
y
);

172 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
c
), &
¬—
);

174 
	`£t_¬—
(
c
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

176 
	`_·št_¿diobu‰Ú
(
c
, c->
£Ëùed
, &
¬—
, 
x
, 
y
);

178 
	}
}

180 
si_t
 
	$¿diobu‰Ú_deçuÉ_ÿÎback
(
addr_t
 
£lf
,‡ddr_ˆ
msg
)

182 
¿diobu‰Ú
 * 
b
 = 
£lf
;

183 
mes§ge
 * 
m
 = 
msg
;

185 
	`widg‘_deçuÉ_ÿÎback
(
b
, 
m
);

187 
m
->
ba£
.
ty³
)

189 
MESSAGE_TYPE_WIDGET_REPAINT
:

190 
	`¿diobu‰Ú_deçuÉ_widg‘_»·št
(
b
, 
m
);

191 
	`¿diobu‰Ú_deçuÉ_widg‘_show
(
b
, 
m
);

193 
MESSAGE_TYPE_WIDGET_SHOW
:

194 
	`¿diobu‰Ú_deçuÉ_widg‘_show
(
b
, 
m
);

196 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

197 
	`¿diobu‰Ú_£Ëù
(
b
, 
m
);

198 if(
b
->
şick_ÿÎback
) {

199 
b
->
	`şick_ÿÎback
(b->
group_Çme
, b->
u£r_d©a
);

206 
	}
}

208 
	$¿diobu‰Ú_»·št
(
¿diobu‰Ú
* 
c
)

210 
	`widg‘_»·št
(
	`WIDGET_POINTER
(
c
));

211 
	}
}

213 
	$¿diobu‰Ú_show
(
¿diobu‰Ú
* 
c
)

215 
	`widg‘_show
(
	`WIDGET_POINTER
(
c
));

216 
	}
}

218 
si_t
 
	$¿diobu‰Ú_hashm­_š£¹
(cÚ¡ 
¿diobu‰Ú
 *
r
)

220 
li¡
 *
»s
 = 
NULL
;

221 
»tv®
 = 0;

222 if((
»s
=
	`hashm­_fšd
(
hm_groups
,

223 
	`hashm­_key_g’”©e
(

224 
r
->
group_Çme
,

225 
	`¡¾’
(
r
->
group_Çme
)),

227 
»tv®
 = 
	`li¡_push_back
(
»s
, &
r
, (
¿diobu‰Ú
 *));

230 
»s
 = 
	`ÿÎoc
(1, (
li¡
));

231 if(!
»s
 || 
	`li¡_š™
(res)) {

234 if(-1 =ğ
	`li¡_push_back
(
»s
, &
r
, (
¿diobu‰Ú
 *))) {

237 
»tv®
 =

238 
	`hashm­_š£¹
(
hm_groups
,

239 
	`hashm­_·œ_g’”©e
(

240 
r
->
group_Çme
,

241 
	`¡¾’
(
r
->
group_Çme
),

242 
»s
));

244  
»tv®
;

245 
	}
}

247 
cÚ¡_addr_t
 
	g¿diobu‰Ú_li¡_m©ch_·‰”n
 = 
NULL
;

248 
size_t
 
	g¿diobu‰Ú_li¡_m©ch_·‰”n_size
 = 0;

250 
si_t
 
	$¿diobu‰Ú_li¡_m©ch
(
addr_t
 
d©a
)

252 if(!
¿diobu‰Ú_li¡_m©ch_·‰”n
 && !
d©a
) {

255 if(!
¿diobu‰Ú_li¡_m©ch_·‰”n
 || !
d©a
) {

256 
¿diobu‰Ú_li¡_m©ch_·‰”n
 = 
NULL
;

259 if(!
	`memcmp
(
d©a
, 
¿diobu‰Ú_li¡_m©ch_·‰”n
,

260 
¿diobu‰Ú_li¡_m©ch_·‰”n_size
)) {

261 
¿diobu‰Ú_li¡_m©ch_·‰”n
 = 
NULL
;

264 
¿diobu‰Ú_li¡_m©ch_·‰”n
 = 
NULL
;

267 
	}
}

269 
si_t
 
	$¿diobu‰Ú_li¡_fšd_focus
(
addr_t
 
d©a
)

271 if(!
d©a
)  0;

272  (*(
¿diobu‰Ú
 **)
d©a
)->
£Ëùed
;

273 
	}
}

275 
	$¿diobu‰Ú_hashm­_”a£
(cÚ¡ 
¿diobu‰Ú
 *
r
)

277 
li¡
 *
»s
 = 
NULL
;

278 
hashm­_key
 *
key
 =

279 
	`hashm­_key_g’”©e
(
r
->
group_Çme
, 
	`¡¾’
(r->group_name));

280 if((
»s
=
	`hashm­_fšd
(
hm_groups
, 
key
, 0))) {

281 
li¡_node
 *
posi
;

282 
¿diobu‰Ú_li¡_m©ch_·‰”n
 = 
r
;

283 
¿diobu‰Ú_li¡_m©ch_·‰”n_size
 =

284 (cÚ¡ 
¿diobu‰Ú
 *);

285 
posi
 = 
	`li¡_fšd
(
»s
, 
¿diobu‰Ú_li¡_m©ch
);

286 if(
posi
)

287 
	`li¡_”a£
(
»s
, 
posi
);

288 if(
	`li¡_size
(
»s
)<=0) {

289 
	`hashm­_”a£
(
hm_groups
, 
key
, 0);

292 
	`ä“
(
key
);

293 
	}
}

295 
¿diobu‰Ú
* 
	$¿diobu‰Ú_š™
(cÚ¡ *
group_Çme
, 
£Ëùed
)

297 
¿diobu‰Ú
 * 
addr
;

300 
addr
 = (
¿diobu‰Ú
 *)
	`m®loc
((radiobutton));

301 if(
addr
 =ğ
NULL
) {

302 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

303  
NULL
;

306 if(!(
addr
=
	`widg‘_š™_commÚ
(
	`WIDGET_POINTER
(addr), 0))) {

307  
NULL
;

310 if(!
hm_groups
) {

311 
hm_groups
 = 
	`hashm­_š™
();

314 
addr
->
Çme
 = "struct„adiobutton";

317 
	`¿diobu‰Ú_š™_w™h_deçuÉ_¡yË
(
addr
);

319 
addr
->
ÿÎback
 = 
¿diobu‰Ú_deçuÉ_ÿÎback
;

320 
addr
->
group_Çme
 = group_name;

321 
addr
->
şick_ÿÎback
 = 
NULL
;

322 
addr
->
u£r_d©a
 = 
NULL
;

324 if(-1 =ğ
	`¿diobu‰Ú_hashm­_š£¹
(
addr
)) {

325 
	`¿diobu‰Ú_ex™
(
addr
);

326  
NULL
;

329 if(
£Ëùed
) {

330 
addr
->
£Ëùed
 = 1;

332 
addr
->
£Ëùed
 = 0;

335  
addr
;

336 
	}
}

343 
si_t
 
	$¿diobu‰Ú_ex™
(
¿diobu‰Ú
 * 
c
)

345 
	`¿diobu‰Ú_hashm­_”a£
(
c
);

346  
	`widg‘_ex™
(
	`WIDGET_POINTER
(
c
));

347 
	}
}

349 
	$¿diobu‰Ú_£t_bounds
(
¿diobu‰Ú
 *
c
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
)

351 
	`widg‘_£t_bounds
(
	`WIDGET_POINTER
(
c
), 
x
, 
y
, 
width
, 
height
);

352 
	}
}

354 
	$¿diobu‰Ú_£t_cŞÜ
(
¿diobu‰Ú
 *
c
, 
cŞÜ
 *
fcŞÜ
, cŞÜ *
bcŞÜ
)

356 
	`widg‘_£t_cŞÜ
(
	`WIDGET_POINTER
(
c
), 
fcŞÜ
, 
bcŞÜ
);

357 
	}
}

359 
	$¿diobu‰Ú_fÜû_¡©e
(
¿diobu‰Ú
 *
c
, 
si_t
 
£Ëùed
)

361 
c
->
£Ëùed
 = selected;

362 
	}
}

364 
	$¿diobu‰Ú_£Ëù
(
¿diobu‰Ú
* 
c
, 
mes§ge
 *
m
)

366 
hashm­_key
 *
key
 =

367 
	`hashm­_key_g’”©e
(
c
->
group_Çme
, 
	`¡¾’
(c->group_name));

368 
li¡
 *
»s
 = 
NULL
;

369 if((
»s
=
	`hashm­_fšd
(
hm_groups
, 
key
, 0))) {

370 
li¡_node
 *
d©a
;

371 
d©a
 = 
	`li¡_fšd
(
»s
, 
¿diobu‰Ú_li¡_fšd_focus
);

372 if(
d©a
) {

373 
¿diobu‰Ú
 *
focus
;

374 
focus
 = *(
¿diobu‰Ú
 **)
d©a
->data;

375 
	`¿diobu‰Ú_fÜû_¡©e
(
focus
, 0);

376 
	`¿diobu‰Ú_deçuÉ_widg‘_»·št
(
focus
, 
m
);

377 
	`¿diobu‰Ú_deçuÉ_widg‘_show
(
focus
, 
m
);

379 
	`¿diobu‰Ú_fÜû_¡©e
(
c
, 1);

380 
	`¿diobu‰Ú_deçuÉ_widg‘_»·št
(
c
, 
m
);

381 
	`¿diobu‰Ú_deçuÉ_widg‘_show
(
c
, 
m
);

383 
	`ä“
(
key
);

384 
	}
}

	@widget/radiobutton/radiobutton.h

30 #iâdeà
_RADIOBUTTON_H_


31 
	#_RADIOBUTTON_H_
 1

	)

33 
	~<ba£_ty³.h
>

34 
	~<comm.h
>

36 
	~"../widg‘/widg‘.h
"

38 (*
	t¿diobu‰Ú_ÿÎback_t
)(cÚ¡ *
	tgroup_Çme
, 
	taddr_t
 
	tu¤
);

40 
	s¿diobu‰Ú


42 
WIDGET_DEFINITION


43 
si_t
 
£Ëùed
;

44 cÚ¡ *
group_Çme
;

45 
¿diobu‰Ú_ÿÎback_t
 
şick_ÿÎback
;

46 
addr_t
 
u£r_d©a
;

50 
	s¿diobu‰Ú_¡yË


52 
widg‘_¡yË
 
commÚ
;

58 
	#RADIOBUTTON_POINTER
(
addr
è((
¿diobu‰Ú
 *)×ddr))

	)

69 
si_t
 
	`¿diobu‰Ú_deçuÉ_ÿÎback
(
addr_t
 
£lf
,‡ddr_ˆ
msg
);

74 
	`¿diobu‰Ú_»·št
(
¿diobu‰Ú
* 
c
);

79 
	`¿diobu‰Ú_show
(
¿diobu‰Ú
* 
c
);

90 
¿diobu‰Ú
* 
	`¿diobu‰Ú_š™
(cÚ¡ *
group_Çme
, 
£Ëùed
);

102 
si_t
 
	`¿diobu‰Ú_ex™
(
¿diobu‰Ú
 * 
c
);

114 
	`¿diobu‰Ú_£t_bounds
(
¿diobu‰Ú
 * 
c
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
);

124 
	`¿diobu‰Ú_£t_cŞÜ
(
¿diobu‰Ú
 * 
c
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
);

132 
	`¿diobu‰Ú_£Ëù
(
¿diobu‰Ú
 *
c
, 
mes§ge
 *
m
);

	@widget/scroll_bar/scroll_bar.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

33 
	~"ba£_ty³.h
"

34 
	~"cÚfig_·r£r.h
"

35 
	~"log.h
"

36 
	~"ş›Á_lib.h
"

37 
	~"comp”.h
"

38 
	~"­¶iÿtiÚ.h
"

40 
	~"süŞl_b¬.h
"

42 
	#TMP_ARRAY_SIZE
 256

	)

45 
süŞl_b¬_¡yË
 
	gsüŞl_b¬_deçuÉ_¡yË
 =

66 
CURSOR_SHAPE_X
,

102 
si_t
 
	$süŞl_b¬_š™_w™h_deçuÉ_¡yË
(
süŞl_b¬
 * 
sb
)

104 
widg‘_¡yË_’Œy
 
exŒa
[] = {

105 {.
key
="ou‰”äame_cŞÜ_r", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

106 .
v®
=&(
süŞl_b¬_deçuÉ_¡yË
.
ou‰”äame_cŞÜ_r
)},

107 {.
key
="ou‰”äame_cŞÜ_g", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

108 .
v®
=&(
süŞl_b¬_deçuÉ_¡yË
.
ou‰”äame_cŞÜ_g
)},

109 {.
key
="ou‰”äame_cŞÜ_b", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

110 .
v®
=&(
süŞl_b¬_deçuÉ_¡yË
.
ou‰”äame_cŞÜ_b
)},

111 {.
key
="ou‰”äame_cŞÜ_a", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

112 .
v®
=&(
süŞl_b¬_deçuÉ_¡yË
.
ou‰”äame_cŞÜ_a
)},

114 {.
key
="šÃräame_cŞÜ_r", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

115 .
v®
=&(
süŞl_b¬_deçuÉ_¡yË
.
šÃräame_cŞÜ_r
)},

116 {.
key
="šÃräame_cŞÜ_g", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

117 .
v®
=&(
süŞl_b¬_deçuÉ_¡yË
.
šÃräame_cŞÜ_g
)},

118 {.
key
="šÃräame_cŞÜ_b", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

119 .
v®
=&(
süŞl_b¬_deçuÉ_¡yË
.
šÃräame_cŞÜ_b
)},

120 {.
key
="šÃräame_cŞÜ_a", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

121 .
v®
=&(
süŞl_b¬_deçuÉ_¡yË
.
šÃräame_cŞÜ_a
)},

123 *
cÚfig_·th
 = 
	`g‘_cÚfig_·th
("scroll_bar.cfg");

124 
si_t
 
»s
;

126 
»s
 = 
	`widg‘_š™_w™h_deçuÉ_¡yË
(
cÚfig_·th
,

127 
	`WIDGET_POINTER
(
sb
), &
süŞl_b¬_deçuÉ_¡yË
.
commÚ
,

128 
exŒa
, (extra)/(extra[0]));

129 
	`ä“
(
cÚfig_·th
);

131 
sb
->
ou‰”äame_cŞÜ
.
r
 = 
süŞl_b¬_deçuÉ_¡yË
.
ou‰”äame_cŞÜ_r
;

132 
sb
->
ou‰”äame_cŞÜ
.
g
 = 
süŞl_b¬_deçuÉ_¡yË
.
ou‰”äame_cŞÜ_g
;

133 
sb
->
ou‰”äame_cŞÜ
.
b
 = 
süŞl_b¬_deçuÉ_¡yË
.
ou‰”äame_cŞÜ_b
;

134 
sb
->
ou‰”äame_cŞÜ
.
a
 = 
süŞl_b¬_deçuÉ_¡yË
.
ou‰”äame_cŞÜ_a
;

136 
sb
->
šÃräame_cŞÜ
.
r
 = 
süŞl_b¬_deçuÉ_¡yË
.
šÃräame_cŞÜ_r
;

137 
sb
->
šÃräame_cŞÜ
.
g
 = 
süŞl_b¬_deçuÉ_¡yË
.
šÃräame_cŞÜ_g
;

138 
sb
->
šÃräame_cŞÜ
.
b
 = 
süŞl_b¬_deçuÉ_¡yË
.
šÃräame_cŞÜ_b
;

139 
sb
->
šÃräame_cŞÜ
.
a
 = 
süŞl_b¬_deçuÉ_¡yË
.
šÃräame_cŞÜ_a
;

141  
»s
;

142 
	}
}

144 
si_t
 
	$süŞl_b¬_deçuÉ_widg‘_show
(
süŞl_b¬
* 
s
, 
mes§ge
* 
msg
)

146 
»ùªgË
 
¬—
;

147 
	`NOT_USED
(
msg
);

149 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
s
), &
¬—
);

152 
	`£t_¬—
(
s
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

155 
	`upd©e
(
s
->
gd
);

158 
	}
}

160 
si_t
 
	$süŞl_b¬_deçuÉ_widg‘_»·št
(
süŞl_b¬
* 
s
, 
mes§ge
* 
msg
)

162 
»ùªgË
 
¬—
;

163 
»ùªgË
 
–ev©Ü_¬—
;

164 
si_t
 
x
, 
y
;

165 
	`NOT_USED
(
msg
);

168 
	`widg‘_absŞu‹_coÜdš©e
(
	`WIDGET_POINTER
(
s
), &
x
, &
y
);

172 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
s
), &
¬—
);

174 
	`£t_¬—
(
s
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

182 
	`£t_cŞÜ
(
s
->
gd
, s->
back_cŞÜ
.
r
, s->back_cŞÜ.
g
, s->back_cŞÜ.
b
, s->back_cŞÜ.
a
);

183 
	`fl_»ùªgË
(
s
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

187 
	`£t_cŞÜ
(
s
->
gd
, s->
ou‰”äame_cŞÜ
.
r
, s->ou‰”äame_cŞÜ.
g
, s->ou‰”äame_cŞÜ.
b
, s->ou‰”äame_cŞÜ.
a
);

188 
	`d¿w_»ùªgË
(
s
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

191 
	`süŞl_b¬_£t_v›w
(
s
, s->
tÙ®_Ën
, s->
cur_off£t
);

192 if(
s
->
–ev©Ü_height
 == 0)

196 
	`£t_cŞÜ
(
s
->
gd
, s->
ou‰”äame_cŞÜ
.
r
, s->ou‰”äame_cŞÜ.
g
, s->ou‰”äame_cŞÜ.
b
, s->ou‰”äame_cŞÜ.
a
);

198 if(
s
->
is_v”tiÿl
)

200 
	`d¿w_»ùªgË
(
s
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡rea.width);

201 
	`d¿w_»ùªgË
(
s
->
gd
, 
¬—
.
x
,‡»a.
y
 +‡»a.
height
 -‡»a.
width
,‡rea.width,‡rea.width);

205 
	`d¿w_»ùªgË
(
s
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
height
,‡rea.height);

206 
	`d¿w_»ùªgË
(
s
->
gd
, 
¬—
.
x
 +‡»a.
width
 -‡»a.
height
,‡»a.
y
,‡rea.height,‡rea.height);

209 
	`£t_cŞÜ
(
s
->
gd
, s->
fÜe_cŞÜ
.
r
, s->fÜe_cŞÜ.
g
, s->fÜe_cŞÜ.
b
, s->fÜe_cŞÜ.
a
);

210 if(
s
->
is_v”tiÿl
)

212 
	`fl_¬row
(
s
->
gd
, 
¬—
.
x
 + (¬—.
width
 >> 1),‡»a.
y
 +‡rea.width - (area.width >> 2),‡rea.width >> 2, 1);

213 
	`fl_¬row
(
s
->
gd
, 
¬—
.
x
 + (¬—.
width
 >> 1),‡»a.
y
 +‡»a.
height
 - (area.width - (area.width >> 2)),‡rea.width >> 2, 2);

217 
	`fl_¬row
(
s
->
gd
, 
¬—
.
x
 +‡»a.
height
 - (¬—.heighˆ>> 2),‡»a.
y
 + (area.height >> 1),‡rea.height >> 2, 3);

218 
	`fl_¬row
(
s
->
gd
, 
¬—
.
x
 +‡»a.
width
 - (¬—.
height
 - (¬—.heighˆ>> 2)),‡»a.
y
 + (area.height >> 1),‡rea.height >> 2, 4);

222 if(
s
->
is_v”tiÿl
)

224 
	`»ùªgË_£t
(&
–ev©Ü_¬—
, 
¬—
.
x
,‡»a.
y
 + 
s
->¬—.
width
 + s->
–ev©Ü_off£t
,‡»a.width, s->
–ev©Ü_height
);

228 
	`»ùªgË_£t
(&
–ev©Ü_¬—
, 
¬—
.
x
 + 
s
->¬—.
height
 + s->
–ev©Ü_off£t
,‡»a.
y
, s->
–ev©Ü_height
,‡rea.height);

233 
	`£t_cŞÜ
(
s
->
gd
, s->
fÜe_cŞÜ
.
r
, s->fÜe_cŞÜ.
g
, s->fÜe_cŞÜ.
b
, s->fÜe_cŞÜ.
a
);

234 
	`fl_»ùªgË
(
s
->
gd
, 
–ev©Ü_¬—
.
x
,ƒËv©Ü_¬—.
y
,ƒËv©Ü_¬—.
width
,ƒËv©Ü_¬—.
height
);

236 
	`£t_cŞÜ
(
s
->
gd
, s->
šÃräame_cŞÜ
.
r
, s->šÃräame_cŞÜ.
g
, s->šÃräame_cŞÜ.
b
, s->šÃräame_cŞÜ.
a
);

237 
	`d¿w_»ùªgË
(
s
->
gd
, 
–ev©Ü_¬—
.
x
,ƒËv©Ü_¬—.
y
,ƒËv©Ü_¬—.
width
,ƒËv©Ü_¬—.
height
);

240 
	}
}

246 
si_t
 
	gev’t_to_be_di¥©ched
;

247 
si_t
 
	$do_hªdË_ev’t
(* 
subsüibe_šfo
)

249 
widg‘_subsüibe_šfo
* 
si
 = (widg‘_subsüibe_šfo*)
subsüibe_šfo
;

250 if(
si
->
ev’t
 =ğ
SCROLL_BAR_EVENT_ALL
 || si->ev’ˆ=ğ
ev’t_to_be_di¥©ched
)

251 
si
->
	`hªdËr
(si->
subsüib”
, si->
publish”
, 
ev’t_to_be_di¥©ched
);

253 
	}
}

256 
si_t
 
	$süŞl_b¬_deçuÉ_mou£_´ess
(
süŞl_b¬
* 
s
, 
mes§ge
* 
msg
)

258 
»ùªgË
 
¬—
;

259 
si_t
 
süŞl_b¬_Ëngth
 = 
s
->
is_v”tiÿl
 ? s->
¬—
.
height
 : s->¬—.
width
;

260 
si_t
 
¬row_Ëngth
 = 
s
->
is_v”tiÿl
 ? s->
¬—
.
width
 : s->¬—.
height
;

261 
si_t
 
Ãw_off£t
;

263 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
s
), &
¬—
);

264 if(
s
->
is_v”tiÿl
)

265 
s
->
şick_pos
 = 
msg
->
mou£
.
cursÜ_pos™iÚ
.
y
 - 
¬—
.y;

267 
s
->
şick_pos
 = 
msg
->
mou£
.
cursÜ_pos™iÚ
.
x
 - 
¬—
.x;

273 if(
s
->
şick_pos
 < 
¬row_Ëngth
)

275 
Ãw_off£t
 = 
s
->
cur_off£t
 - s->
lše_height
;

276 if(
Ãw_off£t
 < 0)

277 
ev’t_to_be_di¥©ched
 = 
SCROLL_BAR_EVENT_CHANGE
;

279 
ev’t_to_be_di¥©ched
 = 
SCROLL_BAR_EVENT_LINE_UP
;

284 if(
s
->
şick_pos
 < s->
–ev©Ü_off£t
 + 
¬row_Ëngth
)

286 
Ãw_off£t
 = 
s
->
cur_off£t
 - 
süŞl_b¬_Ëngth
;

287 if(
Ãw_off£t
 < 0)

288 
ev’t_to_be_di¥©ched
 = 
SCROLL_BAR_EVENT_CHANGE
;

290 
ev’t_to_be_di¥©ched
 = 
SCROLL_BAR_EVENT_PAGE_UP
;

295 if(
s
->
şick_pos
 < s->
–ev©Ü_off£t
 + 
¬row_Ëngth
 + s->
–ev©Ü_height
)

302 if(
s
->
şick_pos
 < 
süŞl_b¬_Ëngth
 - 
¬row_Ëngth
)

304 
Ãw_off£t
 = 
s
->
cur_off£t
 + 
süŞl_b¬_Ëngth
;

305 if(
Ãw_off£t
 > 
s
->
tÙ®_Ën
 - 
süŞl_b¬_Ëngth
)

306 
ev’t_to_be_di¥©ched
 = 
SCROLL_BAR_EVENT_CHANGE
;

308 
ev’t_to_be_di¥©ched
 = 
SCROLL_BAR_EVENT_PAGE_DOWN
;

315 
Ãw_off£t
 = 
s
->
cur_off£t
 + s->
lše_height
;

316 if(
Ãw_off£t
 > 
s
->
tÙ®_Ën
 - 
süŞl_b¬_Ëngth
)

317 
ev’t_to_be_di¥©ched
 = 
SCROLL_BAR_EVENT_CHANGE
;

319 
ev’t_to_be_di¥©ched
 = 
SCROLL_BAR_EVENT_LINE_DOWN
;

321 
s
->
şick_pos
 = -1;

322 
	`süŞl_b¬_upd©e_off£t
(
s
, 
Ãw_off£t
);

327 
	`li¡_fÜ_—ch
(&
s
->
subsüibe_šfo_li¡
, 
do_hªdË_ev’t
);

330 
	}
}

332 
si_t
 
	$süŞl_b¬_deçuÉ_mou£_»Ëa£
(
süŞl_b¬
* 
s
, 
mes§ge
* 
msg
)

334 
»ùªgË
 
¬—
;

335 
si_t
 
di¡ªû
;

336 
si_t
 
»®_di¡ªû
;

338 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
s
), &
¬—
);

344 if(
s
->
şick_pos
 == -1)

349 if(
s
->
is_v”tiÿl
)

350 
di¡ªû
 = 
msg
->
mou£
.
cursÜ_pos™iÚ
.
y
 - 
¬—
.y - 
s
->
şick_pos
 ;

352 
di¡ªû
 = 
msg
->
mou£
.
cursÜ_pos™iÚ
.
x
 - 
¬—
.x - 
s
->
şick_pos
 ;

353 
s
->
şick_pos
 = -1;

355 
ev’t_to_be_di¥©ched
 = 
SCROLL_BAR_EVENT_CHANGE
;

359 if(
s
->
is_v”tiÿl
)

360 
»®_di¡ªû
 = 
di¡ªû
 * 
s
->
tÙ®_Ën
 / 
¬—
.
height
;

362 
»®_di¡ªû
 = 
di¡ªû
 * 
s
->
tÙ®_Ën
 / 
¬—
.
width
;

363 
	`süŞl_b¬_upd©e_off£t
(
s
, 
»®_di¡ªû
 + s->
cur_off£t
);

368 
	`li¡_fÜ_—ch
(&
s
->
subsüibe_šfo_li¡
, 
do_hªdË_ev’t
);

371 
	}
}

373 
si_t
 
	$süŞl_b¬_deçuÉ_ÿÎback
(* 
s
, * 
m
)

375 
süŞl_b¬
* 
£lf
 = 
s
;

376 
mes§ge
* 
msg
 = 
m
;

377 
	`widg‘_deçuÉ_ÿÎback
(
£lf
, 
msg
);

379 
msg
->
ba£
.
ty³
)

381 
MESSAGE_TYPE_WIDGET_SHOW
:

382 
	`süŞl_b¬_deçuÉ_widg‘_show
(
£lf
, 
msg
);

385 
MESSAGE_TYPE_WIDGET_REPAINT
:

386 
	`süŞl_b¬_deçuÉ_widg‘_»·št
(
£lf
, 
msg
);

387 
	`süŞl_b¬_deçuÉ_widg‘_show
(
£lf
, 
msg
);

390 
MESSAGE_TYPE_MOUSE_PRESS
:

391 
	`süŞl_b¬_deçuÉ_mou£_´ess
(
£lf
, 
msg
);

392 
	`süŞl_b¬_deçuÉ_widg‘_»·št
(
£lf
, 
msg
);

393 
	`süŞl_b¬_deçuÉ_widg‘_show
(
£lf
, 
msg
);

396 
MESSAGE_TYPE_MOUSE_RELEASE
:

397 
	`süŞl_b¬_deçuÉ_mou£_»Ëa£
(
£lf
, 
msg
);

398 
	`süŞl_b¬_deçuÉ_widg‘_»·št
(
£lf
, 
msg
);

399 
	`süŞl_b¬_deçuÉ_widg‘_show
(
£lf
, 
msg
);

407 
	}
}

409 
	$süŞl_b¬_»·št
(
süŞl_b¬
* 
s
)

411 
	`widg‘_»·št
(
	`WIDGET_POINTER
(
s
));

412 
	}
}

414 
	$süŞl_b¬_show
(
süŞl_b¬
* 
s
)

416 
	`widg‘_show
(
	`WIDGET_POINTER
(
s
));

417 
	}
}

419 
süŞl_b¬
* 
	$süŞl_b¬_š™
(
si_t
 
is_v”tiÿl
, si_ˆ
tÙ®_Ën
, si_ˆ
lše_height
)

421 
süŞl_b¬
* 
addr
;

424 if((
addr
 = (
süŞl_b¬
*)
	`m®loc
((süŞl_b¬))è=ğ
NULL
)

426 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

427  
NULL
;

430 if(!(
addr
=
	`widg‘_š™_commÚ
(
	`WIDGET_POINTER
(addr), 0))) {

431  
NULL
;

434 
addr
->
Çme
 = "struct scroll_bar";

437 
addr
->
visibË
 = 0;

440 
addr
->
keybd_focus
 = 1;

443 
	`süŞl_b¬_š™_w™h_deçuÉ_¡yË
(
addr
);

446 
addr
->
ÿÎback
 = 
süŞl_b¬_deçuÉ_ÿÎback
;

451 
addr
->
is_v”tiÿl
 = is_vertical;

456 
addr
->
–ev©Ü_off£t
 = 0;

457 
addr
->
–ev©Ü_height
 = 0;

459 
addr
->
şick_pos
 = -1;

460 
addr
->
cur_off£t
 = 0;

462 
	`li¡_š™
(&
addr
->
subsüibe_šfo_li¡
);

464 
addr
->
tÙ®_Ën
 =otal_len;

465 
addr
->
lše_height
 =†ine_height;

467  
addr
;

468 
	}
}

470 
si_t
 
	$süŞl_b¬_ex™
(
süŞl_b¬
* 
s
)

472 
	`li¡_ex™
(&
s
->
subsüibe_šfo_li¡
);

473  
	`widg‘_ex™
(
	`WIDGET_POINTER
(
s
));

474 
	}
}

476 
	$süŞl_b¬_»gi¡”_move_hªdËr
(
süŞl_b¬
* 
s
, 
widg‘
* 
w
, 
si_t
 
ev’t
, 
widg‘_ev’t_hªdËr
 
hªdËr
)

478 
widg‘_subsüibe_šfo
 
si
;

479 
si
.
subsüib”
 = 
w
;

480 
si
.
publish”
 = 
	`WIDGET_POINTER
(
s
);

481 
si
.
ev’t
 =ƒvent;

482 
si
.
hªdËr
 = handler;

483 
	`li¡_push_back
(&
s
->
subsüibe_šfo_li¡
, &
si
, (
widg‘_subsüibe_šfo
));

484 
	}
}

486 
	$süŞl_b¬_£t_hÜizÚ®
(
süŞl_b¬
* 
s
)

488 
s
->
is_v”tiÿl
 = 0;

489 
	}
}

491 
	$süŞl_b¬_£t_v”tiÿl
(
süŞl_b¬
* 
s
)

493 
s
->
is_v”tiÿl
 = 1;

494 
	}
}

496 
	$süŞl_b¬_£t_lše_height
(
süŞl_b¬
* 
s
, 
si_t
 
lše_height
)

498 
s
->
lše_height
 =†ine_height;

499 
	}
}

501 
	$süŞl_b¬_£t_v›w
(
süŞl_b¬
* 
s
, 
si_t
 
tÙ®_Ën
, si_ˆ
cu¼’t_off£t
)

503 
s
->
tÙ®_Ën
 =otal_len;

504 if(
s
->
is_v”tiÿl
 && s->
tÙ®_Ën
 < s->
¬—
.
height
)

505 
s
->
tÙ®_Ën
 = s->
¬—
.
height
;

506 if(!
s
->
is_v”tiÿl
 && s->
tÙ®_Ën
 < s->
¬—
.
width
)

507 
s
->
tÙ®_Ën
 = s->
¬—
.
width
;

508 
	`süŞl_b¬_upd©e_off£t
(
s
, 
cu¼’t_off£t
);

509 
	}
}

511 
	$süŞl_b¬_upd©e_off£t
(
süŞl_b¬
* 
s
, 
si_t
 
Ãw_off£t
)

513 
si_t
 
süŞl_b¬_Ëngth
 = 
s
->
is_v”tiÿl
 ? s->
¬—
.
height
 : s->¬—.
width
;

514 
si_t
 
¬row_Ëngth
 = 
s
->
is_v”tiÿl
 ? s->
¬—
.
width
 : s->¬—.
height
;

516 if(
Ãw_off£t
 < 0)

518 
s
->
cur_off£t
 = 0;

520 if(
Ãw_off£t
 > 
s
->
tÙ®_Ën
 - 
süŞl_b¬_Ëngth
)

522 
s
->
cur_off£t
 = s->
tÙ®_Ën
 - 
süŞl_b¬_Ëngth
;

526 
s
->
cur_off£t
 = 
Ãw_off£t
;

536 
s
->
–ev©Ü_height
 = 
süŞl_b¬_Ëngth
 * (süŞl_b¬_Ëngth - 2 * 
¬row_Ëngth
è/ s->
tÙ®_Ën
;

541 
s
->
–ev©Ü_off£t
 = (
süŞl_b¬_Ëngth
 - 2 * 
¬row_Ëngth
è* s->
cur_off£t
 / s->
tÙ®_Ën
;

542 
	}
}

544 
	$süŞl_b¬_£t_bounds
(
süŞl_b¬
* 
s
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
)

546 
	`widg‘_£t_bounds
(
	`WIDGET_POINTER
(
s
), 
x
, 
y
, 
width
, 
height
);

547 
	}
}

549 
	$süŞl_b¬_£t_cŞÜs
(
süŞl_b¬
* 
s
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
, cŞÜ* 
ocŞÜ
, cŞÜ* 
icŞÜ
)

551 
	`widg‘_£t_cŞÜ
(
	`WIDGET_POINTER
(
s
), 
fcŞÜ
, 
bcŞÜ
);

552 
s
->
šÃräame_cŞÜ
 = (
NULL
 =ğ
icŞÜ
 ? s->innerframe_color : *icolor);

553 
s
->
ou‰”äame_cŞÜ
 = (
NULL
 =ğ
ocŞÜ
 ? s->outterframe_color : *ocolor);

554 
	}
}

	@widget/scroll_bar/scroll_bar.h

30 #iâdeà
_SCROLL_BAR_H_


31 
	#_SCROLL_BAR_H_
 1

	)

33 
	~"ba£_ty³.h
"

34 
	~"comm.h
"

36 
	~"../widg‘/widg‘.h
"

41 
	#SCROLL_BAR_DEFINITION
 \

45 
WIDGET_DEFINITION
 \

50 
si_t
 
is_v”tiÿl
; \

55 
si_t
 
tÙ®_Ën
; \

61 
si_t
 
lše_height
; \

66 
si_t
 
–ev©Ü_off£t
; \

71 
si_t
 
–ev©Ü_height
; \

77 
si_t
 
cur_off£t
; \

82 
si_t
 
şick_pos
; \

87 
cŞÜ
 
ou‰”äame_cŞÜ
; \

92 
cŞÜ
 
šÃräame_cŞÜ
; \

97 
li¡
 
subsüibe_šfo_li¡
;

	)

100 
	ssüŞl_b¬


102 
	mSCROLL_BAR_DEFINITION


106 
	ssüŞl_b¬_¡yË


108 
widg‘_¡yË
 
	mcommÚ
;

111 
si_t
 
	mou‰”äame_cŞÜ_r
;

112 
si_t
 
	mou‰”äame_cŞÜ_g
;

113 
si_t
 
	mou‰”äame_cŞÜ_b
;

114 
si_t
 
	mou‰”äame_cŞÜ_a
;

117 
si_t
 
	mšÃräame_cŞÜ_r
;

118 
si_t
 
	mšÃräame_cŞÜ_g
;

119 
si_t
 
	mšÃräame_cŞÜ_b
;

120 
si_t
 
	mšÃräame_cŞÜ_a
;

126 
	#SCROLL_BAR_POINTER
(
addr
è((
süŞl_b¬
*)×ddr))

	)

128 
	eSCROLL_BAR_EVENT


133 
	mSCROLL_BAR_EVENT_LINE_UP
 = 0,

137 
	mSCROLL_BAR_EVENT_LINE_DOWN
,

141 
	mSCROLL_BAR_EVENT_PAGE_UP
,

145 
	mSCROLL_BAR_EVENT_PAGE_DOWN
,

149 
	mSCROLL_BAR_EVENT_CHANGE
,

153 
	mSCROLL_BAR_EVENT_ALL
,

155 
	mSCROLL_BAR_EVENT_MAX


167 
si_t
 
süŞl_b¬_deçuÉ_ÿÎback
(
addr_t
 
s
,‡ddr_ˆ
m
);

172 
süŞl_b¬_»·št
(
süŞl_b¬
* 
s
);

177 
süŞl_b¬_show
(
süŞl_b¬
* 
s
);

188 
süŞl_b¬
* 
süŞl_b¬_š™
(
si_t
 
is_v”tiÿl
, si_ˆ
tÙ®_Ën
, si_ˆ
lše_height
);

197 
si_t
 
süŞl_b¬_ex™
(
süŞl_b¬
* 
s
);

203 
süŞl_b¬_£t_hÜizÚ®
(
süŞl_b¬
* 
s
);

208 
süŞl_b¬_£t_v”tiÿl
(
süŞl_b¬
* 
s
);

217 
süŞl_b¬_£t_lše_height
(
süŞl_b¬
* 
s
, 
si_t
 
lše_height
);

225 
süŞl_b¬_£t_v›w
(
süŞl_b¬
* 
s
, 
si_t
 
tÙ®_Ën
, si_ˆ
cu¼’t_off£t
);

232 
süŞl_b¬_upd©e_off£t
(
süŞl_b¬
* 
s
, 
si_t
 
off£t
);

241 
süŞl_b¬_»gi¡”_move_hªdËr
(
süŞl_b¬
* 
s
, 
widg‘
* 
w
, 
si_t
 
ev’t
, 
widg‘_ev’t_hªdËr
 
hªdËr
);

253 
süŞl_b¬_£t_bounds
(
süŞl_b¬
* 
s
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
);

265 
süŞl_b¬_£t_cŞÜs
(
süŞl_b¬
* 
s
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
, cŞÜ* 
ocŞÜ
, cŞÜ* 
icŞÜ
);

	@widget/spinbox/spinbox.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

32 
	~<¡ršg.h
>

34 
	~<ba£_ty³.h
>

35 
	~<cÚfig_·r£r.h
>

36 
	~<log.h
>

37 
	~<comm.h
>

38 
	~<ş›Á_lib.h
>

39 
	~<g¿ph.h
>

40 
	~"comp”.h
"

42 
	~"¥šbox.h
"

43 
	~"../bu‰Ú/bu‰Ú.h
"

44 
	~"../‹xt_lše/‹xt_lše.h
"

46 
	#TMP_ARRAY_SIZE
 256

	)

48 
si_t
 
do_hªdË_ev’t
(*
subsüibe_šfo
);

51 
¥šbox_¡yË
 
	g¥šbox_deçuÉ_¡yË
 =

73 
CURSOR_SHAPE_X
,

97 
si_t
 
	$¥šbox_š™_w™h_deçuÉ_¡yË
(
¥šbox
 * 
b
)

99 *
cÚfig_·th
 = 
	`g‘_cÚfig_·th
("spinbox.cfg");

101 
si_t
 
»s
 = 
	`widg‘_š™_w™h_deçuÉ_¡yË
(
cÚfig_·th
,

102 
	`WIDGET_POINTER
(
b
), &
¥šbox_deçuÉ_¡yË
.
commÚ
,

103 
NULL
, 0);

104 
	`ä“
(
cÚfig_·th
);

106  
»s
;

107 
	}
}

109 
si_t
 
	$¥šbox_deçuÉ_widg‘_show
(
¥šbox
 * 
b
, 
mes§ge
 * 
msg
)

111 
	`NOT_USED
(
msg
);

112 
	`‹xt_lše_show
(
b
->
‹xt_numb”
);

113 
	`bu‰Ú_show
(
b
->
bu‰Ú_up
);

114 
	`bu‰Ú_show
(
b
->
bu‰Ú_down
);

116 
	}
}

118 
si_t
 
	$¥šbox_deçuÉ_widg‘_»·št
(
¥šbox
 * 
b
, 
mes§ge
 * 
msg
)

120 
	`NOT_USED
(
msg
);

121 
	`‹xt_lše_»·št
(
b
->
‹xt_numb”
);

122 
	`bu‰Ú_»·št
(
b
->
bu‰Ú_up
);

123 
	`bu‰Ú_»·št
(
b
->
bu‰Ú_down
);

125 
	}
}

127 
si_t
 
	$¥šbox_v®ue_chªge
(
¥šbox
 *
s
, 
si_t
 
d–
)

129 if(!
s
) {

132 if(
s
->
mšv®
<=s->
maxv®
 &&

133 (
s
->
v®ue
+
d–
 < s->
mšv®
 || s->v®ue+d– > s->
maxv®
)) {

136 
s
->
v®ue
 +ğ
d–
;

137 if(
d–
) {

138 
	`li¡_fÜ_—ch
(&
s
->
subsüibe_šfo_li¡
, 
do_hªdË_ev’t
);

140 if(
	`©oi
(
	`‹xt_lše_g‘_buf
(
s
->
‹xt_numb”
)è!ğs->
v®ue
) {

141 
	`¥rštf
(
	`‹xt_lše_g‘_buf
(
s
->
‹xt_numb”
), "%ld", s->
v®ue
);

142 if(
s
->
‹xt_numb”
->
ruËr_cur
 >

143 
s
->
‹xt_numb”
->
buf
 + 
	`¡¾’
(s->text_number->buf)) {

144 
s
->
‹xt_numb”
->
ruËr_cur
 =

145 
s
->
‹xt_numb”
->
buf
 + 
	`¡¾’
(s->text_number->buf);

147 
	`‹xt_lše_»·št
(
s
->
‹xt_numb”
);

148 
	`‹xt_lše_show
(
s
->
‹xt_numb”
);

151 
	}
}

153 
	$¥šbox_‹xt_ev’t_hªdËr
(
widg‘
 *
subsüib”
, widg‘ *
publish”
, 
si_t
 
ev’t
)

155 
¥šbox
 *
£lf
 = 
	`SPINBOX_POINTER
(
subsüib”
);

156 
‹xt_lše
 *
‹xt
 = 
	`TEXT_LINE_POINTER
(
publish”
);

157 
ev’t
) {

158 
si_t
 
Ãw_v®ue
;

159 
TEXT_LINE_EVENT_CURRENT_CHANGE
:

160 
Ãw_v®ue
 = 
	`©oi
(
	`‹xt_lše_g‘_buf
(
‹xt
));

161 if(!
	`¥šbox_v®ue_chªge
(
£lf
, 
Ãw_v®ue
-£lf->
v®ue
)) {

163 if(
£lf
->
mšv®
 <ğ£lf->
maxv®
) {

164 if(
Ãw_v®ue
 < 
£lf
->
mšv®
) {

165 
	`¥šbox_v®ue_chªge
(
£lf
, s–f->
mšv®
-£lf->
v®ue
);

167 
	`¥šbox_v®ue_chªge
(
£lf
, s–f->
maxv®
-£lf->
v®ue
);

175 
	}
}

177 
si_t
 
	$¥šbox_bu‰Ú_ÿÎback
(
addr_t
 
£lf
,‡ddr_ˆ
msg
)

179 
bu‰Ú
 *
b
 = 
£lf
;

180 
mes§ge
 *
m
 = 
msg
;

181 
si_t
 
d–
 = 0;

182 if(!
	`¡rcmp
(
b
->
‹xt
, "v")) {

183 
d–
 = -1;

184 } if(!
	`¡rcmp
(
b
->
‹xt
, "^")) {

185 
d–
 = 1;

187 
m
->
ba£
.
ty³
) {

188 
MESSAGE_TYPE_MOUSE_SINGLE_CLICK
:

189 
	`¥šbox_v®ue_chªge
(
	`SPINBOX_POINTER
(
b
->
cu¡om_d©a
), 
d–
);

192  
	`bu‰Ú_deçuÉ_ÿÎback
(
£lf
, 
msg
);

195 
	}
}

197 
si_t
 
	$¥šbox_deçuÉ_ÿÎback
(
addr_t
 
£lf
,‡ddr_ˆ
msg
)

199 
¥šbox
 * 
b
 = 
£lf
;

200 
mes§ge
 * 
m
 = 
msg
;

202 
	`widg‘_deçuÉ_ÿÎback
(
b
, 
m
);

204 
m
->
ba£
.
ty³
)

206 
MESSAGE_TYPE_WIDGET_REPAINT
:

207 
	`¥šbox_deçuÉ_widg‘_»·št
(
b
, 
m
);

208 
	`¥šbox_deçuÉ_widg‘_show
(
b
, 
m
);

211 
MESSAGE_TYPE_WIDGET_SHOW
:

212 
	`¥šbox_deçuÉ_widg‘_show
(
b
, 
m
);

220 
	}
}

222 
	$¥šbox_»·št
(
¥šbox
* 
b
)

224 
	`widg‘_»·št
(
	`WIDGET_POINTER
(
b
));

225 
	}
}

227 
	$¥šbox_show
(
¥šbox
* 
b
)

229 
	`widg‘_show
(
	`WIDGET_POINTER
(
b
));

230 
	}
}

232 
¥šbox
* 
	$¥šbox_š™
(
si_t
 
mšv®
, si_ˆ
maxv®
, si_ˆ
š™v®
)

234 
¥šbox
 * 
addr
;

237 
addr
 = (
¥šbox
 *)
	`m®loc
((spinbox));

239 if(
addr
 =ğ
NULL
)

241 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

243  
NULL
;

246 if(
NULL
 =ğ(
addr
 = 
	`widg‘_š™_commÚ
(
	`WIDGET_POINTER
(addr), 0))) {

247  
NULL
;

250 
addr
->
Çme
 = "struct spinbox";

253 
	`¥šbox_š™_w™h_deçuÉ_¡yË
(
addr
);

256 
addr
->
ÿÎback
 = 
¥šbox_deçuÉ_ÿÎback
;

258 
addr
->
maxv®
 = maxval;

259 
addr
->
mšv®
 = minval;

260 
addr
->
v®ue
 = 
š™v®
;

263 
addr
->
‹xt_numb”
 = 
	`‹xt_lše_š™
(25, 0);

264 
	`‹xt_lše_£t_bounds
(
addr
->
‹xt_numb”
,

266 
addr
->
¬—
.
width
-addr->¬—.
height
,‡ddr->area.height);

267 
addr
->
bu‰Ú_up
 = 
	`bu‰Ú_š™
("^");

268 
addr
->
bu‰Ú_up
->
cu¡om_d©a
 =‡ddr;

269 
addr
->
bu‰Ú_up
->
ÿÎback
 = 
¥šbox_bu‰Ú_ÿÎback
;

270 
	`bu‰Ú_£t_bounds
(
addr
->
bu‰Ú_up
,

271 
addr
->
¬—
.
width
-addr->¬—.
height
+1, 0,

272 
addr
->
¬—
.
height
,‡ddr->area.height/2);

273 
addr
->
bu‰Ú_down
 = 
	`bu‰Ú_š™
("v");

274 
addr
->
bu‰Ú_down
->
cu¡om_d©a
 =‡ddr;

275 
addr
->
bu‰Ú_down
->
ÿÎback
 = 
¥šbox_bu‰Ú_ÿÎback
;

276 
	`bu‰Ú_£t_bounds
(
addr
->
bu‰Ú_down
,

277 
addr
->
¬—
.
width
-addr->¬—.
height
+1,‡ddr->area.height/2+1,

278 
addr
->
¬—
.
height
,‡ddr->area.height/2);

280 
	`‹xt_lše_ş—r_keybd_ty³
(
addr
->
‹xt_numb”
);

281 
	`‹xt_lše_£t_keybd_ty³
(
addr
->
‹xt_numb”
, 
TEXT_LINE_KEYBOARD_TYPE_NUMBER
);

282 
	`¥rštf
(
	`‹xt_lše_g‘_buf
(
addr
->
‹xt_numb”
),

283 "%ld", 
addr
->
v®ue
);

284 
	`‹xt_lše_»gi¡”_move_hªdËr
(
addr
->
‹xt_numb”
, 
	`WIDGET_POINTER
(addr),

285 
TEXT_LINE_EVENT_CURRENT_CHANGE
, 
¥šbox_‹xt_ev’t_hªdËr
);

287 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
addr
), OBJECT_POINTER×ddr->
‹xt_numb”
));

288 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
addr
), OBJECT_POINTER×ddr->
bu‰Ú_up
));

289 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
addr
), OBJECT_POINTER×ddr->
bu‰Ú_down
));

291 
	`li¡_š™
(&
addr
->
subsüibe_šfo_li¡
);

293  
addr
;

294 
	}
}

301 
si_t
 
	$¥šbox_ex™
(
¥šbox
 * 
b
)

303 
	`li¡_ex™
(&
b
->
subsüibe_šfo_li¡
);

305 
	`‹xt_lše_ex™
(
b
->
‹xt_numb”
);

306 
	`bu‰Ú_ex™
(
b
->
bu‰Ú_up
);

307 
	`bu‰Ú_ex™
(
b
->
bu‰Ú_down
);

309  
	`widg‘_ex™
(
	`WIDGET_POINTER
(
b
));

310 
	}
}

312 
	$¥šbox_£t_bounds
(
¥šbox
 * 
b
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
)

314 
	`widg‘_£t_bounds
(
	`WIDGET_POINTER
(
b
), 
x
, 
y
, 
width
, 
height
);

315 
	`‹xt_lše_£t_bounds
(
b
->
‹xt_numb”
,

317 
b
->
¬—
.
width
-b->¬—.
height
, b->area.height);

318 
	`bu‰Ú_£t_bounds
(
b
->
bu‰Ú_up
,

319 
b
->
¬—
.
width
-b->¬—.
height
+1, 0,

320 
b
->
¬—
.
height
, b->area.height/2);

321 
	`bu‰Ú_£t_bounds
(
b
->
bu‰Ú_down
,

322 
b
->
¬—
.
width
-b->¬—.
height
+1, b->area.height/2+1,

323 
b
->
¬—
.
height
, b->area.height/2);

324 
	}
}

326 
	$¥šbox_£t_cŞÜ
(
¥šbox
* 
b
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
)

328 
	`widg‘_£t_cŞÜ
(
	`WIDGET_POINTER
(
b
), 
fcŞÜ
, 
bcŞÜ
);

329 
	}
}

331 
	$¥šbox_£t_fÚt
(
¥šbox
* 
b
, 
si_t
 
fÚt
)

333 
	`‹xt_lše_£t_fÚt
(
b
->
‹xt_numb”
, 
fÚt
);

334 
	}
}

339 
si_t
 
	gev’t_to_be_di¥©ched
;

340 
si_t
 
	$do_hªdË_ev’t
(*
subsüibe_šfo
)

342 
widg‘_subsüibe_šfo
 *
si
 = 
subsüibe_šfo
;

343 if(
si
->
ev’t
 =ğ
SPINBOX_EVENT_ALL
 ||

344 
si
->
ev’t
 =ğ
ev’t_to_be_di¥©ched
) {

345 
si
->
	`hªdËr
(si->
subsüib”
, si->
publish”
, 
ev’t_to_be_di¥©ched
);

348 
	}
}

350 
	$¥šbox_»gi¡”_move_hªdËr
(
¥šbox
 *
pub
, 
widg‘
 *
sub
, 
si_t
 
ev’t
, 
widg‘_ev’t_hªdËr
 
hªdËr
)

352 
widg‘_subsüibe_šfo
 
si
;

353 
si
.
subsüib”
 = 
sub
;

354 
si
.
publish”
 = 
	`WIDGET_POINTER
(
pub
);

355 
si
.
ev’t
 =ƒvent;

356 
si
.
hªdËr
 = handler;

357 
	`li¡_push_back
(&
pub
->
subsüibe_šfo_li¡
, &
si
, (si));

358 
	}
}

	@widget/spinbox/spinbox.h

30 #iâdeà
_SPINBOX_H_


31 
	#_SPINBOX_H_
 1

	)

33 
	~<ba£_ty³.h
>

34 
	~<comm.h
>

36 
	~"../widg‘/widg‘.h
"

41 
	#SPINBOX_DEFINITION
 \

45 
WIDGET_DEFINITION
 \

50 
si_t
 
maxv®
, 
mšv®
, 
v®ue
; \

55 
‹xt_lše
 *
‹xt_numb”
; \

60 
bu‰Ú
 *
bu‰Ú_up
; \

65 
bu‰Ú
 *
bu‰Ú_down
; \

70 
li¡
 
subsüibe_šfo_li¡
;

	)

72 
	s¥šbox


74 
	mSPINBOX_DEFINITION


77 
	e¥šbox_ev’t_ty³


79 
	mSPINBOX_CURRENT_CHANGE
,

80 
	mSPINBOX_EVENT_ALL


84 
	s¥šbox_¡yË


86 
widg‘_¡yË
 
	mcommÚ
;

92 
	#SPINBOX_POINTER
(
addr
è((
¥šbox
 *)×ddr))

	)

103 
si_t
 
¥šbox_deçuÉ_ÿÎback
(
addr_t
 
£lf
,‡ddr_ˆ
msg
);

108 
¥šbox_»·št
(
¥šbox
* 
b
);

113 
¥šbox_show
(
¥šbox
* 
b
);

124 
¥šbox
* 
¥šbox_š™
(
si_t
 
mšv®
, si_ˆ
maxv®
, si_ˆ
š™v®
);

135 
si_t
 
¥šbox_ex™
(
¥šbox
 * 
b
);

147 
¥šbox_£t_bounds
(
¥šbox
 * 
widg‘
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
);

157 
¥šbox_£t_cŞÜ
(
¥šbox
* 
b
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
);

165 
¥šbox_£t_fÚt
(
¥šbox
* 
b
, 
si_t
 
fÚt
);

177 
¥šbox_»gi¡”_move_hªdËr
(
¥šbox
 *
pub
, 
widg‘
 *
sub
, 
si_t
 
ev’t
, 
widg‘_ev’t_hªdËr
 
hªdËr
);

	@widget/tab/tab.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

32 
	~<¡ršg.h
>

34 
	~<cÚfig_·r£r.h
>

35 
	~<ba£_ty³.h
>

36 
	~<log.h
>

38 
	~"b.h
"

39 
	~"b_h—d”.h
"

40 
	~"b_·ge.h
"

43 
b_¡yË
 
	gb_deçuÉ_¡yË
 =

65 
CURSOR_SHAPE_X
,

89 
si_t
 
	$b_š™_w™h_deçuÉ_¡yË
(
b
 * 
b
)

91 *
cÚfig_·th
 = 
	`g‘_cÚfig_·th
("tab.cfg");

93 
si_t
 
»s
 = 
	`widg‘_š™_w™h_deçuÉ_¡yË
(
cÚfig_·th
,

94 
	`WIDGET_POINTER
(
b
), &
b_deçuÉ_¡yË
.
commÚ
,

95 
NULL
, 0);

96 
	`ä“
(
cÚfig_·th
);

98  
»s
;

99 
	}
}

101 
b
* 
	$b_š™
()

103 
b
 * 
addr
;

106 
addr
 = (
b
 *)
	`m®loc
((tab));

108 if(
addr
 =ğ
NULL
) {

109 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

110  
NULL
;

113 if(
NULL
 =ğ(
addr
 = 
	`widg‘_š™_commÚ
(
	`WIDGET_POINTER
(addr), 0))) {

114  
NULL
;

117 
addr
->
Çme
 = "structab";

120 
	`b_š™_w™h_deçuÉ_¡yË
(
addr
);

122 
addr
->
bÜd”_size
 = 0;

124 
addr
->
h—d”
 = 
	`b_h—d”_š™
();

125 
addr
->
h—d”
->
·»Á_b
 =‡ddr;

126 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
addr
),

127 
	`OBJECT_POINTER
(
addr
->
h—d”
));

129  
addr
;

130 
	}
}

137 
si_t
 
	$b_ex™
(
b
 * 
b
)

139 
	`b_h—d”_ex™
(
b
->
h—d”
);

140  
	`widg‘_ex™
(
	`WIDGET_POINTER
(
b
));

141 
	}
}

143 
	$b_£t_bounds
(
b
 * 
b
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
)

145 
	`widg‘_£t_bounds
(
	`WIDGET_POINTER
(
b
), 
x
, 
y
, 
width
, 
height
);

146 
	}
}

149 
	$b_£t_cŞÜ
(
b
* 
b
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
)

151 
li¡_node
 *
pos
;

152 
	`li¡_fÜ_—ch_maüo
(&
b
->
h—d”
->
un™s
, 
pos
) {

153 
	`·Ãl_£t_cŞÜ
(

154 
	`PANEL_POINTER
(((
b_h—d”_un™
*)
pos
->
d©a
)->
·ge
),

155 
fcŞÜ
, 
bcŞÜ
);

157 
	}
}

159 
	$b_£t_fÚt
(
b
* 
b
, 
si_t
 
fÚt
)

161 
	`b_h—d”_£t_fÚt
(
b
->
h—d”
, 
fÚt
);

162 
	}
}

164 
	$b_add_·ge
(
b
 *
t
, 
b_·ge
 *

)

166 
	`b_h—d”_add_·ge
(
t
->
h—d”
, 

);

167 
	}
}

169 
si_t
 
	$b_£t_focus
(
b
 *
t
, 
b_·ge
 *
Ãw_focus
)

171 
li¡_node
 *
pos
;

172 
	`li¡_fÜ_—ch_maüo
(&
t
->
h—d”
->
un™s
, 
pos
) {

173 if(((
b_h—d”_un™
*)
pos
->
d©a
)->
·ge
 =ğ
Ãw_focus
) {

174 
	`b_h—d”_£t_focus
(
t
->
h—d”
, 
pos
->
d©a
);

179 
	}
}

181 
si_t
 
	$b_deçuÉ_ÿÎback
(* 
t
, *
m
)

183 
b
* 
£lf
 = 
t
;

184 
mes§ge
* 
msg
 = 
m
;

186 
	`widg‘_deçuÉ_ÿÎback
(
£lf
, 
msg
);

188 
	}
}

	@widget/tab/tab.h

30 #iâdeà
_TAB_H_


31 
	#_TAB_H_
 1

	)

33 
	~<ba£_ty³.h
>

34 
	~<d©a_¡ruùu»s.h
>

36 
	~"../widg‘/widg‘.h
"

38 
	~"b_·ge.h
"

39 
	~"../·Ãl/·Ãl.h
"

44 
	sb


46 
WIDGET_DEFINITION


47 
b_·ge
 *
	mfocus
;

48 
b_h—d”
 *
	mh—d”
;

52 
	sb_¡yË


54 
widg‘_¡yË
 
	mcommÚ
;

60 
	#TAB_POINTER
(
addr
è((
b
 *)×ddr))

	)

69 
b
* 
b_š™
();

80 
si_t
 
b_ex™
(
b
 * 
b
);

92 
b_£t_bounds
(
b
 * 
widg‘
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
);

102 
b_£t_cŞÜ
(
b
* 
b
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
);

110 
b_£t_fÚt
(
b
* 
b
, 
si_t
 
fÚt
);

112 
b_add_·ge
(
b
 *
t
, 
b_·ge
 *

);

114 
si_t
 
b_£t_focus
(
b
 *
t
, 
b_·ge
 *
Ãw_focus
);

116 
si_t
 
b_deçuÉ_ÿÎback
(* 
t
, *
m
);

	@widget/tab/tab_header.c

1 
	~"comm.h
"

2 
	~"ba£_ty³.h
"

3 
	~"ş›Á_lib.h
"

4 
	~"log.h
"

5 
	~"­¶iÿtiÚ.h
"

7 
	~"b.h
"

8 
	~"b_h—d”.h
"

9 
	~"../Ïb–/Ïb–.h
"

11 
	#TAB_HEADER_UNIT_INTERVAL
 13

	)

12 
	#TAB_HEADER_LEFT_PADDING
 2

	)

13 
	#TAB_HEADER_TOP_PADDING
 2

	)

15 
si_t
 
	$b_h—d”_deçuÉ_ÿÎback
(
addr_t
 
s
,‡ddr_ˆ
m
)

17 
b_h—d”
 *
£lf
 = 
s
;

18 
mes§ge
 *
msg
 = 
m
;

19 
msg
->
ba£
.
ty³
) {

20 
MESSAGE_TYPE_MOUSE_PRESS
:

21 
	`b_h—d”_£t_focus
(

22 
£lf
,

23 
	`b_h—d”_fšd_un™
(

24 
£lf
,

25 &
msg
->
ba£
.
cursÜ_pos™iÚ
));

27 
MESSAGE_TYPE_WIDGET_REPAINT
:

28 
	`b_h—d”_»·št
(
£lf
);

30 
MESSAGE_TYPE_WIDGET_SHOW
:

31 
	`b_h—d”_show
(
£lf
);

37 
	}
}

39 
	$b_h—d”_»·št_un™
(

40 
b_h—d”
 *
£lf
,

41 cÚ¡ 
b_h—d”_un™
 *
un™
,

42 cÚ¡ 
pošt
 *
p
,

43 cÚ¡ 
cŞÜ
 *
c
)

45 
pošt
 
²ts
[]={

47 .
x
ğ
un™
->
Ëá_bÜd”
 + 
p
->x

48 -
TAB_HEADER_LEFT_PADDING
-
TAB_HEADER_UNIT_INTERVAL
,

49 .
y
ğ
p
->y + 
£lf
->
¬—
.
height
 - 1

52 .
x
ğ
un™
->
Ëá_bÜd”
 + 
p
->x

53 -
TAB_HEADER_LEFT_PADDING
,

54 .
y
ğ
p
->y

57 .
x
ğ
un™
->
Ëá_bÜd”
 + 
p
->x + un™->
width
-1

58 +
TAB_HEADER_LEFT_PADDING
,

59 .
y
ğ
p
->y

62 .
x
ğ
un™
->
Ëá_bÜd”
 + 
p
->x + un™->
width
-1

63 +
TAB_HEADER_LEFT_PADDING
+
TAB_HEADER_UNIT_INTERVAL
,

64 .
y
ğ
p
->y + 
£lf
->
¬—
.
height
 - 1

67 
i
;

68 if(!
c
) {

69 
c
 = &
	`WIDGET_POINTER
(
un™
->
·ge
)->
back_cŞÜ
;

71 
	`£t_cŞÜ
(
£lf
->
gd
, 
c
->
r
, c->
g
, c->
b
, c->
a
);

72 
	`fl_pŞygÚ
(
£lf
->
gd
, 
²ts
, 4);

73 
	`£t_cŞÜ
(
£lf
->
gd
, 0, 0, 0, 0);

74 
i
=0; i<3; i++) {

75 
	`d¿w_lše
(
£lf
->
gd
, 
²ts
[
i
].
x
,…Ás[i].
y
,…nts[i+1].x,…nts[i+1].y);

77 
	`show_‹xt
(
£lf
->
gd
,

78 
p
->
x
 + 
un™
->
Ëá_bÜd”
,

79 
p
->
y
 + 
TAB_HEADER_TOP_PADDING
,

80 
un™
->
·ge
->
·ge_h—d
,

81 
	`¡¾’
(
un™
->
·ge
->
·ge_h—d
));

82 
	}
}

84 
	$b_h—d”_pošt_š_un™
(cÚ¡ 
b_h—d”
 *
£lf
,

85 cÚ¡ 
pošt
 *
p
,

86 cÚ¡ 
b_h—d”_un™
 *
u
)

88 if(
p
->
y
<0 ||…->y>=
£lf
->
¬—
.
height
 ||

89 
p
->
x
<(
si_t
)
u
->
Ëá_bÜd”


90 -
TAB_HEADER_LEFT_PADDING
-
TAB_HEADER_UNIT_INTERVAL
 ||

91 
p
->
x
>=(
si_t
)
u
->
Ëá_bÜd”
+(si_t)u->
width
-1

92 +
TAB_HEADER_LEFT_PADDING
+
TAB_HEADER_UNIT_INTERVAL
) {

95 if(
p
->
x
>=(
si_t
)
u
->
Ëá_bÜd”
-
TAB_HEADER_LEFT_PADDING
 &&

96 
p
->
x
<(
si_t
)
u
->
Ëá_bÜd”
+(si_t)u->
width


97 +
TAB_HEADER_LEFT_PADDING
) {

100 if(
p
->
x
<(
si_t
)
u
->
Ëá_bÜd”
-
TAB_HEADER_LEFT_PADDING
) {

101 
si_t
 
tx
 = 
p
->
x
 - (
u
->
Ëá_bÜd”


102 -
TAB_HEADER_LEFT_PADDING
-
TAB_HEADER_UNIT_INTERVAL
);

107  
TAB_HEADER_UNIT_INTERVAL
*(
p
->
y
+1) >=

108 
£lf
->
¬—
.
height
*(
TAB_HEADER_UNIT_INTERVAL
-
tx
);

110 
si_t
 
tx
 = 
p
->
x
 -

111 (
u
->
Ëá_bÜd”
+u->
width
-1+
TAB_HEADER_LEFT_PADDING
);

116  
TAB_HEADER_UNIT_INTERVAL
*(
p
->
y
+1) >=

117 
£lf
->
¬—
.
height
*(
tx
+1);

119 
	}
}

121 
	$objeù_discÚÃù
(
objeù
 *
o
)

123 if(
NULL
==
o
 || NULL==o->
·»Á
) {

126 if(
o
->
·»Á
->
lchd
 == o) {

127 
o
->
·»Á
->
lchd
 = 
NULL
;

128 } if(
o
->
·»Á
->
rchd
 == o) {

129 
o
->
·»Á
->
rchd
 = 
NULL
;

131 
o
->
·»Á
 = 
NULL
;

132 
	}
}

136 
b_h—d”
 *
	$b_h—d”_š™
()

138 
b_h—d”
 *
addr
;

139 
addr
 = 
	`ÿÎoc
(1, (
b_h—d”
));

140 if(
NULL
 =ğ
addr
) {

141 
	`EGUI_PRINT_SYS_ERROR
("failedo malloc");

142  
NULL
;

144 if(!(
addr
=
	`widg‘_š™_commÚ
(
	`WIDGET_POINTER
(addr), 0))) {

145  
NULL
;

147 
addr
->
¬—
.
width
 = 
TAB_HEADER_UNIT_INTERVAL
 + 
TAB_HEADER_LEFT_PADDING
;

149 
addr
->
Çme
 = "structab_header";

150 
addr
->
ÿÎback
 = 
b_h—d”_deçuÉ_ÿÎback
;

151 
	`li¡_š™
(&
addr
->
un™s
);

152 
addr
->
§m¶e
 = 
	`Ïb–_š™
("sample_for_tab_header");

154 
addr
->
¬—
.
height
 = 
	`g‘_fÚt_height
×ddr->
§m¶e
->
gd
) +

155 2*
TAB_HEADER_TOP_PADDING
 + 1;

157  
addr
;

158 
	}
}

160 
si_t
 
	$b_h—d”_ex™
(
b_h—d”
 *
t
)

162 
	`Ïb–_ex™
(
t
->
§m¶e
);

163 
	`li¡_ex™
(&
t
->
un™s
);

164  
	`widg‘_ex™
(
	`WIDGET_POINTER
(
t
));

165 
	}
}

167 
	$b_h—d”_add_·ge
(

168 
b_h—d”
 *
£lf
,

169 
b_·ge
 *
·ge_±r
)

171 
b_h—d”_un™
 
tmp
 = {

172 .
·ge
 = 
·ge_±r
,

173 .
width
 = 
	`g‘_fÚt_width
(
£lf
->
§m¶e
->
gd
)*

174 
	`¡¾’
(
·ge_±r
->
·ge_h—d
),

175 .
Ëá_bÜd”
 = 
£lf
->
¬—
.
width


177 
	`li¡_push_back
(&
£lf
->
un™s
, &
tmp
, (
b_h—d”_un™
));

178 
£lf
->
¬—
.
width
 +ğ
tmp
.width +

179 
TAB_HEADER_UNIT_INTERVAL
 + 
TAB_HEADER_LEFT_PADDING
;

180 if(
	`li¡_size
(&
£lf
->
un™s
)==1) {

181 
	`b_h—d”_£t_focus
(
£lf
, 
	`li¡_back
(&£lf->
un™s
));

183 
	}
}

185 
	$b_h—d”_»·št
(
b_h—d”
 *
£lf
)

187 
li¡_node
 *
pos
;

188 
»ùªgË
 
abs_¬—
;

189 
pošt
 
abs_coÜ
;

191 
	`widg‘_absŞu‹_coÜdš©e
(
	`WIDGET_POINTER
(
£lf
),

192 &
abs_coÜ
.
x
, &abs_coÜ.
y
);

193 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
£lf
), &
abs_¬—
);

194 
	`£t_¬—
(
£lf
->
gd
, 
abs_¬—
.
x
,‡bs_¬—.
y
,

195 
abs_¬—
.
width
,‡bs_¬—.
height
);

197 
	`li¡_fÜ_—ch_r_maüo
(&
£lf
->
un™s
, 
pos
) {

198 
cŞÜ
 
c
;

199 
b_h—d”_un™
 *
i
 = 
pos
->
d©a
;

200 if(
i
 =ğ
£lf
->
focus
) {

203 
c
 = 
	`WIDGET_POINTER
(
i
->
·ge
)->
back_cŞÜ
;

204 
c
.
r
 *= 0.5;

205 
c
.
g
 *= 0.5;

206 
c
.
b
 *= 0.5;

207 
	`b_h—d”_»·št_un™
(
£lf
, 
i
, &
abs_coÜ
, &
c
);

209 if(
£lf
->
focus
) {

210 
	`b_h—d”_»·št_un™
(
£lf
, s–f->
focus
, &
abs_coÜ
, 
NULL
);

212 
	}
}

214 
	$b_h—d”_show
(
b_h—d”
 *
£lf
)

216 
»ùªgË
 
¬—
;

217 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
£lf
), &
¬—
);

218 
	`£t_¬—
(
£lf
->
gd
, 
¬—
.
x
,‡»a.
y
,‡»a.
width
,‡»a.
height
);

219 
	`upd©e
(
£lf
->
gd
);

220 
	}
}

222 
b_h—d”_un™
 *
	$b_h—d”_fšd_un™
(

223 cÚ¡ 
b_h—d”
 *
£lf
,

224 cÚ¡ 
pošt
 *
ı
)

226 
li¡_node
 *
pos
;

227 
pošt
 
cursÜ_pos
 = *
ı
;

228 
pošt
 
abs_coÜ
;

229 
	`widg‘_absŞu‹_coÜdš©e
(
	`WIDGET_POINTER
(
£lf
),

230 &
abs_coÜ
.
x
, &abs_coÜ.
y
);

231 
cursÜ_pos
.
x
 -ğ
abs_coÜ
.x;

232 
cursÜ_pos
.
y
 -ğ
abs_coÜ
.y;

233 if(
£lf
->
focus
 &&

234 
	`b_h—d”_pošt_š_un™
(
£lf
, &
cursÜ_pos
, s–f->
focus
)) {

235  
£lf
->
focus
;

237 
	`li¡_fÜ_—ch_maüo
(&
£lf
->
un™s
, 
pos
) {

238 if(
pos
->
d©a
 =ğ
£lf
->
focus
) {

241 if(
	`b_h—d”_pošt_š_un™
(
£lf
, &
cursÜ_pos
, 
pos
->
d©a
)) {

242  
pos
->
d©a
;

245  
NULL
;

246 
	}
}

248 
	$b_h—d”_£t_focus
(

249 
b_h—d”
 *
£lf
,

250 
b_h—d”_un™
 *
Ãw_focus
)

252 if(!
Ãw_focus
) {

255 
£lf
->
focus
 = 
Ãw_focus
;

256 if(
£lf
->
·»Á_b
) {

257 
	`objeù_discÚÃù
(
	`OBJECT_POINTER
(
£lf
->
·»Á_b
->
focus
));

258 
£lf
->
·»Á_b
->
focus
 = 
Ãw_focus
->
·ge
;

259 
	`·Ãl_£t_bounds
(
	`PANEL_POINTER
(
Ãw_focus
->
·ge
),

260 0, 
£lf
->
¬—
.
height
, -1, -1);

261 
	`objeù_©ch_chd
(
	`OBJECT_POINTER
(
£lf
->
·»Á_b
),

262 
	`OBJECT_POINTER
(
Ãw_focus
->
·ge
));

263 
	`·Ãl_»·št_w™h_chd»n
(
	`PANEL_POINTER
(
Ãw_focus
->
·ge
));

264 
	`·Ãl_show
(
	`PANEL_POINTER
(
Ãw_focus
->
·ge
));

266 
	}
}

268 
	$b_h—d”_£t_fÚt
(

269 
b_h—d”
 *
£lf
,

270 
si_t
 
fÚt
)

272 
	`Ïb–_£t_fÚt
(
£lf
->
§m¶e
, 
fÚt
);

273 
	}
}

	@widget/tab/tab_header.h

1 #iâdeà
TAB_HEADER_H


3 
	#TAB_HEADER_H


	)

5 
	~"../widg‘/widg‘.h
"

6 
	~"b_·ge.h
"

8 
	sb_h—d”_un™
 {

9 
b_·ge
 *
	m·ge
;

10 
ui_t
 
	mwidth
;

11 
ui_t
 
	mËá_bÜd”
;

15 
	sb_h—d”
 {

16 
WIDGET_DEFINITION


17 
li¡
 
	mun™s
;

18 
Ïb–
 *
	m§m¶e
;

20 
b_h—d”_un™
 *
	mfocus
;

21 
b
 *
	m·»Á_b
;

24 
b_h—d”
 *
b_h—d”_š™
();

26 
si_t
 
b_h—d”_ex™
(
b_h—d”
 *
t
);

28 
b_h—d”_add_·ge
(

29 
b_h—d”
 *
£lf
,

30 
b_·ge
 *
·ge_±r
);

32 
b_h—d”_»·št
(
b_h—d”
 *
£lf
);

34 
b_h—d”_show
(
b_h—d”
 *
£lf
);

36 
b_h—d”_un™
 *
b_h—d”_fšd_un™
(

37 cÚ¡ 
b_h—d”
 *
£lf
,

38 cÚ¡ 
pošt
 *
cursÜ_pos
);

40 
b_h—d”_£t_focus
(

41 
b_h—d”
 *
£lf
,

42 
b_h—d”_un™
 *
Ãw_focus
);

44 
b_h—d”_£t_fÚt
(

45 
b_h—d”
 *
£lf
,

46 
si_t
 
fÚt
);

	@widget/tab/tab_page.c

1 
	#_POSIX_C_SOURCE
 200809L

	)

3 
	~<¡dlib.h
>

4 
	~<¡ršg.h
>

6 
	~<log.h
>

8 
	~"b_·ge.h
"

10 
b_·ge
 *
	$b_·ge_š™
(cÚ¡ *
t™Ë
)

12 
b_·ge
 *
addr
 = 
	`ÿÎoc
(1, (tab_page));

13 if(!
addr
) {

14 
	`EGUI_PRINT_SYS_ERROR
("malloc failed");

15  
NULL
;

17 if(!(
addr
=
	`b_·ge_š™_d©a
×ddr, 
t™Ë
))) {

18  
NULL
;

20  
addr
;

21 
	}
}

23 
b_·ge
 *
	$b_·ge_š™_d©a
(

24 
b_·ge
 *
addr
,

25 cÚ¡ *
t™Ë
)

27 if(
	`·Ãl_š™_d©a
(
	`PANEL_POINTER
(
addr
), 0) != PANEL_POINTER(addr)) {

28  
NULL
;

30 
addr
->
·ge_h—d
 = 
	`¡rdup
(
t™Ë
);

31  
addr
;

32 
	}
}

34 
si_t
 
	$b_·ge_ex™
(
b_·ge
 *
b
)

36 
	`ä“
(
b
->
·ge_h—d
);

37  
	`·Ãl_ex™
(
	`PANEL_POINTER
(
b
));

38 
	}
}

40 
	$b_·ge_£t_cŞÜ
(
b_·ge
 *
p
, 
cŞÜ
 *
fÜe
, cŞÜ *
back
)

42 
	`·Ãl_£t_cŞÜ
(
	`PANEL_POINTER
(
p
), 
fÜe
, 
back
);

43 
	}
}

	@widget/tab/tab_page.h

30 #iâdeà
_TAB_PAGE_H_


31 
	#_TAB_PAGE_H_
 1

	)

33 
	~<ba£_ty³.h
>

35 
	~"../widg‘/widg‘.h
"

36 
	~"../bu‰Ú/bu‰Ú.h
"

37 
	~"../·Ãl/·Ãl.h
"

38 
	~"b.h
"

43 
	sb_·ge


45 
PANEL_DEFINITION


46 *
	m·ge_h—d
;

47 
b
 *
	mb–Úg
;

53 
	#TAB_PAGE_POINTER
(
addr
è((
b_·ge
 *)×ddr))

	)

64 
b_·ge
* 
b_·ge_š™
(cÚ¡ *
t™Ë
);

65 
b_·ge
* 
b_·ge_š™_d©a
(b_·g*
addr
, cÚ¡ *
t™Ë
);

76 
si_t
 
b_·ge_ex™
(
b_·ge
 * 
b
);

86 
b_·ge_£t_cŞÜ
(
b_·ge
 *
p
, 
cŞÜ
 *
fÜe
, cŞÜ *
back
);

	@widget/text_line/text_line.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

32 
	~<¡ršg.h
>

34 
	~"‹xt_lše.h
"

35 
	~"ba£_ty³.h
"

36 
	~"cÚfig_·r£r.h
"

37 
	~"log.h
"

38 
	~"comm.h
"

39 
	~"ş›Á_lib.h
"

40 
	~"comp”.h
"

41 
	~"­¶iÿtiÚ.h
"

43 
	#TMP_ARRAY_SIZE
 256

	)

44 
	#MAXBUF
 80

	)

47 
‹xt_lše_¡yË
 
	g‹xt_lše_deçuÉ_¡yË
 =

69 
CURSOR_SHAPE_X
,

92 
FONT_MATRIX_08
,

102 
si_t
 
	$‹xt_lše_š™_w™h_deçuÉ_¡yË
(
‹xt_lše
 * 

)

104 
tmp_¡r
[
TMP_ARRAY_SIZE
] = {'\0'};

105 
si_t
 
tmp_št
 = -1;

106 *
cÚfig_·th
 = 
	`g‘_cÚfig_·th
("text_line.cfg");

107 
widg‘_¡yË_’Œy
 
exŒa
[] = {

108 {.
key
="äame_cŞÜ_r", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

109 .
v®
=&(
‹xt_lše_deçuÉ_¡yË
.
äame_cŞÜ_r
)},

110 {.
key
="äame_cŞÜ_g", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

111 .
v®
=&(
‹xt_lše_deçuÉ_¡yË
.
äame_cŞÜ_g
)},

112 {.
key
="äame_cŞÜ_b", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

113 .
v®
=&(
‹xt_lše_deçuÉ_¡yË
.
äame_cŞÜ_b
)},

114 {.
key
="äame_cŞÜ_a", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

115 .
v®
=&(
‹xt_lše_deçuÉ_¡yË
.
äame_cŞÜ_a
)},

116 {.
key
="fÚt", .
ty³
=
WIDGET_STYLE_TYPE_STR
,

117 .
v®
=&(
‹xt_lše_deçuÉ_¡yË
.
fÚt
)},

120 
si_t
 
»s
 = 
	`widg‘_š™_w™h_deçuÉ_¡yË
(
cÚfig_·th
,

121 
	`WIDGET_POINTER
(

), &
‹xt_lše_deçuÉ_¡yË
.
commÚ
,

122 
exŒa
, (extra)/(extra[0]));

123 
	`ä“
(
cÚfig_·th
);

125 if((
tmp_št
 = 
	`g‘_fÚt_’um_äom_¡r
(
tmp_¡r
)) >= 0) {

126 
‹xt_lše_deçuÉ_¡yË
.
fÚt
 = 
tmp_št
;

129 

->
äame_cŞÜ
.
r
 = 
‹xt_lše_deçuÉ_¡yË
.
äame_cŞÜ_r
;

130 

->
äame_cŞÜ
.
g
 = 
‹xt_lše_deçuÉ_¡yË
.
äame_cŞÜ_g
;

131 

->
äame_cŞÜ
.
b
 = 
‹xt_lše_deçuÉ_¡yË
.
äame_cŞÜ_b
;

132 

->
äame_cŞÜ
.
a
 = 
‹xt_lše_deçuÉ_¡yË
.
äame_cŞÜ_a
;

134 

->
fÚt
 = 
‹xt_lše_deçuÉ_¡yË
.font;

136  
»s
;

137 
	}
}

140 
keybd_code_to_ch¬_numb”
(
si_t
 
code
);

141 
keybd_code_to_ch¬_Ë‰”
(
si_t
 
code
);

142 
si_t
 
‹xt_lše_hªdË_¥ecŸl_key
(
‹xt_lše
* 
t
, si_ˆ
code
);

143 * 
g‘_Ãxt_lše_¡¬t
(* 
this_lše_¡¬t_šdex
, 
ui_t
 
maxlše
, 
si_t
 
is_’‹r_’abË
, si_ˆ
is_lšew¿p
);

144 * 
g‘_´ev_lše_¡¬t
(* 
this_lše_¡¬t_šdex
, 
ui_t
 
maxlše
, 
si_t
 
is_’‹r_’abË
, si_ˆ
is_lšew¿p
);

145 
si_t
 
lšes_b‘w“n
(* 
p
, * 
q
, 
ui_t
 
maxlše
, si_ˆ
is_’‹r_’abË
, si_ˆ
is_lšew¿p
);

146 
si_t
 
‹xt_lše_deçuÉ_show_‹xt
(
‹xt_lše
* 
t
, si_ˆ
x
, si_ˆ
y
);

147 
si_t
 
‹xt_lše_d¿w_äame
(si_ˆ
gd
, si_ˆ
x
, si_ˆ
y
, 
ui_t
 
width
, ui_ˆ
height
, si_ˆ
m¬gš
);

149 
si_t
 
	$‹xt_lše_deçuÉ_widg‘_show
(
‹xt_lše
* 
t
, 
mes§ge
* 
msg
)

151 
»ùªgË
 
¬—
;

152 
	`NOT_USED
(
msg
);

154 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
t
), &
¬—
);

157 
£t_¬—


158 (
t
->
gd
,

159 
¬—
.
x
,

160 
¬—
.
y
,

161 
¬—
.
width
,

162 
¬—
.
height
);

165 
	`upd©e
(
t
->
gd
);

168 
	}
}

170 
	$keybd_code_to_ch¬_numb”
(
si_t
 
code
)

172 
code
)

174 
INPUT_CODE_KEYBD_1
:

176 
INPUT_CODE_KEYBD_2
:

178 
INPUT_CODE_KEYBD_3
:

180 
INPUT_CODE_KEYBD_4
:

182 
INPUT_CODE_KEYBD_5
:

184 
INPUT_CODE_KEYBD_6
:

186 
INPUT_CODE_KEYBD_7
:

188 
INPUT_CODE_KEYBD_8
:

190 
INPUT_CODE_KEYBD_9
:

192 
INPUT_CODE_KEYBD_0
:

194 
INPUT_CODE_KEYBD_KP_7
:

196 
INPUT_CODE_KEYBD_KP_8
:

198 
INPUT_CODE_KEYBD_KP_9
:

200 
INPUT_CODE_KEYBD_KP_SUB
:

201 
INPUT_CODE_KEYBD_SUB
:

203 
INPUT_CODE_KEYBD_KP_4
:

205 
INPUT_CODE_KEYBD_KP_5
:

207 
INPUT_CODE_KEYBD_KP_6
:

209 
INPUT_CODE_KEYBD_KP_ADD
:

211 
INPUT_CODE_KEYBD_KP_1
:

213 
INPUT_CODE_KEYBD_KP_2
:

215 
INPUT_CODE_KEYBD_KP_3
:

217 
INPUT_CODE_KEYBD_KP_0
:

219 
INPUT_CODE_KEYBD_KP_DOT
:

221 
INPUT_CODE_KEYBD_KP_SLASH
:

223 
INPUT_CODE_KEYBD_SPACE
:

229 
	}
}

232 
	$keybd_code_to_ch¬_Ë‰”
(
si_t
 
code
)

234 
code
)

236 
INPUT_CODE_KEYBD_Q
:

238 
INPUT_CODE_KEYBD_W
:

240 
INPUT_CODE_KEYBD_E
:

242 
INPUT_CODE_KEYBD_R
:

244 
INPUT_CODE_KEYBD_T
:

246 
INPUT_CODE_KEYBD_Y
:

248 
INPUT_CODE_KEYBD_U
:

250 
INPUT_CODE_KEYBD_I
:

252 
INPUT_CODE_KEYBD_O
:

254 
INPUT_CODE_KEYBD_P
:

256 
INPUT_CODE_KEYBD_A
:

258 
INPUT_CODE_KEYBD_S
:

260 
INPUT_CODE_KEYBD_D
:

262 
INPUT_CODE_KEYBD_F
:

264 
INPUT_CODE_KEYBD_G
:

266 
INPUT_CODE_KEYBD_H
:

268 
INPUT_CODE_KEYBD_J
:

270 
INPUT_CODE_KEYBD_K
:

272 
INPUT_CODE_KEYBD_L
:

274 
INPUT_CODE_KEYBD_Z
:

276 
INPUT_CODE_KEYBD_X
:

278 
INPUT_CODE_KEYBD_C
:

280 
INPUT_CODE_KEYBD_V
:

282 
INPUT_CODE_KEYBD_B
:

284 
INPUT_CODE_KEYBD_N
:

286 
INPUT_CODE_KEYBD_M
:

288 
INPUT_CODE_KEYBD_SPACE
:

294 
	}
}

299 
si_t
 
ev’t_to_be_di¥©ched
;

300 
si_t
 
	$do_hªdË_ev’t
(* 
subsüibe_šfo
)

302 
widg‘_subsüibe_šfo
* 
si
 = (widg‘_subsüibe_šfo*)
subsüibe_šfo
;

303 if(
si
->
ev’t
 =ğ
TEXT_LINE_EVENT_ALL
 || si->ev’ˆ=ğ
ev’t_to_be_di¥©ched
)

304 
si
->
	`hªdËr
(si->
subsüib”
, si->
publish”
, 
ev’t_to_be_di¥©ched
);

306 
	}
}

311 
si_t
 
	$‹xt_lše_hªdË_¥ecŸl_key
(
‹xt_lše
* 
t
, 
si_t
 
code
)

313 
si_t
 
buæ’
 = 
	`¡¾’
(
t
->
buf
);

314 
code
)

319 
INPUT_CODE_KEYBD_BACKSPACE
:

323 if(
t
->
ruËr_cur
 =ğt->
buf
)

329 * 
cur
 = -- 
t
->
ruËr_cur
 - 1;

334 ++ 
cur
 !ğ
t
->
buf
 + 
buæ’
)

336 *
cur
 = *(cur + 1);

338 *
cur
 = '\0';

343 
ev’t_to_be_di¥©ched
 = 
TEXT_LINE_EVENT_CURRENT_CHANGE
;

344 
	`li¡_fÜ_—ch
(&
t
->
subsüibe_šfo_li¡
, 
do_hªdË_ev’t
);

351 
INPUT_CODE_KEYBD_ENTER
:

355 if(!
t
->
is_’‹r_’abË
)

359 * 
cur
 = 
t
->
buf
 + 
buæ’
;

363 if(
buæ’
 + 1 > 
t
->
buf_size
 - 1)

366 if(
t
->
buf
 + 
buæ’
 >->
ruËr_cur
)

371 -- 
cur
 !ğ
t
->
ruËr_cur
)

373 *(
cur
 + 1) = *cur;

375 *(
t
->
ruËr_cur
) = '\n';

376 ++ 
t
->
ruËr_cur
;

383 *(
t
->
ruËr_cur
) = '\n';

384 ++ 
t
->
ruËr_cur
;

385 *(
t
->
ruËr_cur
) = '\0';

391 
ev’t_to_be_di¥©ched
 = 
TEXT_LINE_EVENT_CURRENT_CHANGE
;

392 
	`li¡_fÜ_—ch
(&
t
->
subsüibe_šfo_li¡
, 
do_hªdË_ev’t
);

399 
INPUT_CODE_KEYBD_LEFT
:

403 if(
t
->
ruËr_cur
 =ğt->
buf
)

407 -- 
t
->
ruËr_cur
;

412 
ev’t_to_be_di¥©ched
 = 
TEXT_LINE_EVENT_CURRENT_CHANGE
;

413 
	`li¡_fÜ_—ch
(&
t
->
subsüibe_šfo_li¡
, 
do_hªdË_ev’t
);

420 
INPUT_CODE_KEYBD_RIGHT
:

424 if(
t
->
ruËr_cur
 =ğt->
buf
 + 
buæ’
)

428 ++ 
t
->
ruËr_cur
;

433 
ev’t_to_be_di¥©ched
 = 
TEXT_LINE_EVENT_CURRENT_CHANGE
;

434 
	`li¡_fÜ_—ch
(&
t
->
subsüibe_šfo_li¡
, 
do_hªdË_ev’t
);

441 
INPUT_CODE_KEYBD_UP
:

446 if(!
t
->
is_lšew¿p
 && !t->
is_’‹r_’abË
)

452 * 
´ev_lše_¡¬t
 = 
	`g‘_´ev_lše_¡¬t
(
t
->
ruËr_lše_¡¬t
,->
ch¬s_³r_lše
,->
is_’‹r_’abË
,->
is_lšew¿p
);

453 
	`fæush
(
¡dout
);

454 if(
´ev_lše_¡¬t
 =ğ
NULL
)

468 if(
´ev_lše_¡¬t
 + (
t
->
ruËr_cur
 -->
ruËr_lše_¡¬t
) >->ruler_line_start - 1)

470 
t
->
ruËr_cur
 =->
ruËr_lše_¡¬t
 - 1;

474 
t
->
ruËr_cur
 = 
´ev_lše_¡¬t
 + (t->ruËr_cu¸-->
ruËr_lše_¡¬t
);

480 
ev’t_to_be_di¥©ched
 = 
TEXT_LINE_EVENT_CURRENT_CHANGE
;

481 
	`li¡_fÜ_—ch
(&
t
->
subsüibe_šfo_li¡
, 
do_hªdË_ev’t
);

489 
INPUT_CODE_KEYBD_DOWN
:

494 if(!
t
->
is_lšew¿p
 && !t->
is_’‹r_’abË
)

500 * 
Ãxt_lše_¡¬t
 = 
	`g‘_Ãxt_lše_¡¬t
(
t
->
ruËr_lše_¡¬t
,->
ch¬s_³r_lše
,->
is_’‹r_’abË
,->
is_lšew¿p
);

501 * 
Ãxt_Ãxt_lše_¡¬t
;

502 if(
Ãxt_lše_¡¬t
 =ğ
NULL
)

506 
Ãxt_Ãxt_lše_¡¬t
 = 
	`g‘_Ãxt_lše_¡¬t
(
Ãxt_lše_¡¬t
, 
t
->
ch¬s_³r_lše
,->
is_’‹r_’abË
,->
is_lšew¿p
);

516 if(
Ãxt_Ãxt_lše_¡¬t
 =ğ
NULL
 && 
Ãxt_lše_¡¬t
 + (
t
->
ruËr_cur
 -->
ruËr_lše_¡¬t
è>->
buf
 + 
buæ’
 - 1)

517 
t
->
ruËr_cur
 =->
buf
 + 
buæ’
;

529 if(
Ãxt_Ãxt_lše_¡¬t
 !ğ
NULL
 && 
Ãxt_lše_¡¬t
 + (
t
->
ruËr_cur
 -->
ruËr_lše_¡¬t
) >‚ext_next_line_start)

530 
t
->
ruËr_cur
 = 
Ãxt_Ãxt_lše_¡¬t
 - 1;

532 
t
->
ruËr_cur
 = 
Ãxt_lše_¡¬t
 + (t->ruËr_cu¸-->
ruËr_lše_¡¬t
);

537 
ev’t_to_be_di¥©ched
 = 
TEXT_LINE_EVENT_CURRENT_CHANGE
;

538 
	`li¡_fÜ_—ch
(&
t
->
subsüibe_šfo_li¡
, 
do_hªdË_ev’t
);

546 
	}
}

552 * 
	$g‘_Ãxt_lše_¡¬t
(* 
this_lše_¡¬t
, 
ui_t
 
maxlše
, 
si_t
 
is_’‹r_’abË
, si_ˆ
is_lšew¿p
)

554 if(!
is_’‹r_’abË
)

556 if(
	`¡¾’
(
this_lše_¡¬t
è< 
maxlše
)

557  
NULL
;

558  
this_lše_¡¬t
 + 
maxlše
;

560 if(
is_lšew¿p
)

562 * 
Ãxt
 = 
this_lše_¡¬t
;

563 
si_t
 
i
 = 0;

564 if(*
Ãxt
 == '\n')

565  
Ãxt
 + 1;

566 *(++ 
Ãxt
) != '\n')

568 if(
Ãxt
 + 1 =ğ
this_lše_¡¬t
 + 
maxlše
)

570 if(*
Ãxt
 == '\0')

571  
NULL
;

572 ++ 
i
;

574  
Ãxt
 + 1;

578 * 
this_£Á’û_¡¬t
 = 
this_lše_¡¬t
;

579 * 
Ãxt_£Á’û_¡¬t
 = 
this_lše_¡¬t
;

583 *(--
this_£Á’û_¡¬t
) != '\n')

584 if(*
this_£Á’û_¡¬t
 == '\0')

585  
NULL
;

586 ++ 
this_£Á’û_¡¬t
;

591 *(++ 
Ãxt_£Á’û_¡¬t
) != '\n')

592 if(*
Ãxt_£Á’û_¡¬t
 == '\0')

593  
NULL
;

594 -- 
Ãxt_£Á’û_¡¬t
;

596  
Ãxt_£Á’û_¡¬t
 + (
this_£Á’û_¡¬t
 - 
this_lše_¡¬t
);

598 
	}
}

604 * 
	$g‘_´ev_lše_¡¬t
(* 
this_lše_¡¬t
, 
ui_t
 
maxlše
, 
si_t
 
is_’‹r_’abË
, si_ˆ
is_lšew¿p
)

606 if(!
is_’‹r_’abË
)

608 * 
cur
 = 
this_lše_¡¬t
;

609 *(-- 
cur
) != '\0')

610 if(
this_lše_¡¬t
 =ğ
cur
 + 
maxlše
)

611  
cur
;

612  
NULL
;

614 if(
is_lšew¿p
)

616 * 
´ev
 = 
this_lše_¡¬t
;

617 * 
Ï¡
;

619 if(*(
´ev
 - 1) == '\0')

620  
NULL
;

622 if(*(
´ev
 - 1) == '\n')

623 -- 
´ev
;

624 
Ï¡
 = 
´ev
;

625 *(-- 
´ev
) != '\n')

627 if(*
´ev
 == '\0')

628  
´ev
 + 1;

629 if(
Ï¡
 =ğ
´ev
 + 
maxlše
)

630  
´ev
;

632  
´ev
 + 1;

636 * 
this_£Á’û_¡¬t
 = 
this_lše_¡¬t
;

637 * 
´ev_£Á’û_¡¬t
;

641 *(--
this_£Á’û_¡¬t
) != '\n')

642 if(*
this_£Á’û_¡¬t
 == '\0')

644 ++ 
this_£Á’û_¡¬t
;

649 
´ev_£Á’û_¡¬t
 = 
this_£Á’û_¡¬t
 - 1;

650 *(-- 
´ev_£Á’û_¡¬t
) != '\n')

651 if(*
´ev_£Á’û_¡¬t
 == '\0')

652  
NULL
;

653 ++ 
´ev_£Á’û_¡¬t
;

655  
´ev_£Á’û_¡¬t
 + (
this_£Á’û_¡¬t
 - 
this_lše_¡¬t
);

657  
NULL
;

658 
	}
}

664 
si_t
 
	$lšes_b‘w“n
(* 
p
, * 
q
, 
ui_t
 
maxlše
, 
si_t
 
is_’‹r_’abË
, si_ˆ
is_lšew¿p
)

666 if(
q
 - 
p
 < 0)

672 if(!
is_’‹r_’abË
)

673  (
q
 - 
p
è/ 
maxlše
;

678 if(!
is_lšew¿p
)

680 
si_t
 
lše
 = 0;

681 * 
Ãxt
;

682 (
Ãxt
 = 
	`¡r¡r
Òext, "\n")è!ğ
NULL
)

684 if(
Ãxt
 > 
q
)

685  
lše
;

686 ++ 
lše
;

688  
lše
;

692 * 
cur
 = 
p
;

693 * 
¡¬t
 = 
cur
;

694 
si_t
 
lše
 = 0;

695 if(
cur
 =ğ
q
)

697 ++ 
cur
 !ğ
q
)

699 if(*
cur
 =ğ'\n' || cu¸=ğ
¡¬t
 + 
maxlše
)

701 
lše
 ++;

702 
¡¬t
 = 
cur
;

705  
lše
;

708 
	}
}

710 
si_t
 
	$‹xt_lše_deçuÉ_show_‹xt
(
‹xt_lše
* 
t
, 
si_t
 
x
, si_ˆ
y
)

712 
si_t
 
fÚtx
=0, 
fÚty
=0, 
¡¬tx
=0, 
¡¬ty
=0, 
ruËrx
=0, 
ruËry1
=0, 
ruËry2
=0, 
max_lše
=0;

721 
max_lše
 = 
	`‹xt_lše_g‘_max_lše_shown
(
t
);

722 
fÚty
 = 
	`g‘_fÚt_height
(
t
->
gd
);

723 
fÚtx
 = 
	`g‘_fÚt_width
(
t
->
gd
);

724 
¡¬tx
 = 
x
 + 6;

725 
¡¬ty
 = 
y
 + 6 + (
t
->
¬—
.
height
 - 12 - 
fÚty
 * 
max_lše
) / 2;

730 if(
	`¡¾’
(
t
->
buf
) != 0)

732 * 
¡rshow
;

733 * 
¡¬t
;

734 
si_t
 
i
 = 0;

735 
si_t
 
lšes
;

741 
lšes
 = 
	`lšes_b‘w“n
(
t
->
show_¡¬t
,->
ruËr_cur
,->
ch¬s_³r_lše
,->
is_’‹r_’abË
,->
is_lšew¿p
);

742 if(
lšes
 == -1)

744 
¡¬t
 = 
	`g‘_´ev_lše_¡¬t
(
t
->
show_¡¬t
,->
ch¬s_³r_lše
,->
is_’‹r_’abË
,->
is_lšew¿p
);

745 if(!
¡¬t
)

747 
t
->
show_¡¬t
 = 
¡¬t
;

748 
lšes
 = 0;

753 
ev’t_to_be_di¥©ched
 = 
TEXT_LINE_EVENT_PAGE_UP
;

754 
	`li¡_fÜ_—ch
(&
t
->
subsüibe_šfo_li¡
, 
do_hªdË_ev’t
);

756 if(
lšes
 =ğ
max_lše
)

758 
¡¬t
 = 
	`g‘_Ãxt_lše_¡¬t
(
t
->
show_¡¬t
,->
ch¬s_³r_lše
,->
is_’‹r_’abË
,->
is_lšew¿p
);

759 if(!
¡¬t
)

761 
t
->
show_¡¬t
 = 
¡¬t
;

762 
lšes
 = 
max_lše
 - 1;

767 
ev’t_to_be_di¥©ched
 = 
TEXT_LINE_EVENT_PAGE_DOWN
;

768 
	`li¡_fÜ_—ch
(&
t
->
subsüibe_šfo_li¡
, 
do_hªdË_ev’t
);

774 
¡rshow
 = 
t
->
show_¡¬t
;

775 
i
 !ğ
max_lše
 && 
¡rshow
 !ğ
NULL
)

777 * 
Ãxt
 = 
	`g‘_Ãxt_lše_¡¬t
(
¡rshow
, 
t
->
ch¬s_³r_lše
,->
is_’‹r_’abË
,->
is_lšew¿p
);

778 
si_t
 
showËn
;

779 if(
Ãxt
 =ğ
NULL
)

781 
showËn
 = 
	`¡¾’
(
¡rshow
);

785 
showËn
 = 
Ãxt
 - 
¡rshow
;

791 if(
i
 =ğ
lšes
)

793 
t
->
ruËr_lše_¡¬t
 = 
¡rshow
;

794 
ruËrx
 = 
¡¬tx
 + (
t
->
ruËr_cur
 - 
¡rshow
è* 
fÚtx
;

795 
ruËry1
 = 
¡¬ty
;

796 
ruËry2
 = 
¡¬ty
 + 
fÚty
;

802 
	`£t_cŞÜ
(
t
->
gd
,

803 
t
->
fÜe_cŞÜ
.
r
,

804 
t
->
fÜe_cŞÜ
.
g
,

805 
t
->
fÜe_cŞÜ
.
b
,

806 
t
->
fÜe_cŞÜ
.
a
);

807 if(
	`‹xt_lše_is_keybd_ty³_·sswÜd
(
t
))

809 
tmp¡r
[
MAXBUF
];

810 
si_t
 
Ëá
 = 
showËn
;

812 
Ëá
 > 
MAXBUF
)

814 
	`mem£t
(
tmp¡r
, '*', 
MAXBUF
);

815 
	`show_‹xt
(
t
->
gd
, 
¡¬tx
, 
¡¬ty
, 
tmp¡r
, 
MAXBUF
);

817 
Ëá
 -ğ
MAXBUF
;

818 
¡¬tx
 +ğ
MAXBUF
 * 
fÚtx
;

821 
	`mem£t
(
tmp¡r
, '*', 
Ëá
 - 1);

822 if(
t
->
keybd_focus
)

823 
tmp¡r
[
Ëá
 - 1] = 
¡rshow
[
showËn
 - 1];

825 
tmp¡r
[
Ëá
 - 1] = '*';

826 
	`show_‹xt
(
t
->
gd
, 
¡¬tx
, 
¡¬ty
, 
tmp¡r
, 
Ëá
);

833 if(
showËn
 > 0 && 
¡rshow
[showlen - 1] == '\n')

834 
	`show_‹xt
(
t
->
gd
, 
¡¬tx
, 
¡¬ty
, 
¡rshow
, 
showËn
 - 1);

836 
	`show_‹xt
(
t
->
gd
, 
¡¬tx
, 
¡¬ty
, 
¡rshow
, 
showËn
);

839 ++ 
i
;

840 
¡rshow
 = 
Ãxt
;

841 
¡¬ty
 +ğ
fÚty
;

847 if(
t
->
¶aûhŞd”
 !ğ
NULL
 && !t->
keybd_focus
)

850 
	`£t_cŞÜ
(
t
->
gd
,->
äame_cŞÜ
.
r
,->äame_cŞÜ.
g
,->äame_cŞÜ.
b
,->äame_cŞÜ.
a
);

851 
	`show_‹xt
(
t
->
gd
, 
¡¬tx
, 
¡¬ty
,->
¶aûhŞd”
, 
	`¡¾’
(t->placeholder) + 1);

859 
ruËrx
 = 
¡¬tx
;

860 
ruËry1
 = 
¡¬ty
;

861 
ruËry2
 = 
¡¬ty
 + 
fÚty
;

867 if(
t
->
keybd_focus
)

869 
	`£t_cŞÜ
(
t
->
gd
,->
fÜe_cŞÜ
.
r
,->fÜe_cŞÜ.
g
,->fÜe_cŞÜ.
b
,->fÜe_cŞÜ.
a
);

870 
	`d¿w_lše
(
t
->
gd
, 
ruËrx
, 
ruËry1
,„uËrx, 
ruËry2
);

874 
	}
}

876 
si_t
 
	$‹xt_lše_d¿w_äame
(
si_t
 
gd
, si_ˆ
x
, si_ˆ
y
, 
ui_t
 
width
, ui_ˆ
height
, si_ˆ
m¬gš
)

878 
si_t
 
n
, 
m
;

882 
	`d¿w_lše
(
gd
,

883 
x
 + 
m¬gš
,

884 
y
,

885 
x
 + 
width
 - 
m¬gš
 - 1,

886 
y
);

890 
	`d¿w_lše
(
gd
,

891 
x
 + 
m¬gš
,

892 
y
 + 
height
 - 1,

893 
x
 + 
width
 - 
m¬gš
 - 1,

894 
y
 + 
height
 - 1);

898 
	`d¿w_lše
(
gd
,

899 
x
,

900 
y
 + 
m¬gš
,

901 
x
,

902 
y
 + 
height
 - 
m¬gš
 - 1);

906 
	`d¿w_lše
(
gd
,

907 
x
 + 
width
 - 1,

908 
y
 + 
m¬gš
,

909 
x
 + 
width
 - 1,

910 
y
 + 
height
 - 
m¬gš
 - 1);

912 
n
 = 
m¬gš
;

913 -- 
n
)

915 
m
 = 
m¬gš
 - 
n
;

916 
	`d¿w_pošt
(
gd
, 
x
 + 
n
, 
y
 + 
m
);

917 
	`d¿w_pošt
(
gd
, 
x
 + 
width
 - 
n
 - 1, 
y
 + 
m
);

918 
	`d¿w_pošt
(
gd
, 
x
 + 
n
, 
y
 + 
height
 - 1 - 
m
);

919 
	`d¿w_pošt
(
gd
, 
x
 + 
width
 - 1 - 
n
, 
y
 + 
height
 - 1 - 
m
);

923 
	}
}

925 
si_t
 
	$‹xt_lše_deçuÉ_widg‘_»·št
(
‹xt_lše
* 
t
, 
mes§ge
* 
msg
)

927 
»ùªgË
 
¬—
;

928 
si_t
 
x
, 
y
;

929 
	`NOT_USED
(
msg
);

932 
	`widg‘_absŞu‹_coÜdš©e
(
	`WIDGET_POINTER
(
t
), &
x
, &
y
);

936 
	`­¶iÿtiÚ_widg‘_absŞu‹_¬—
(
	`WIDGET_POINTER
(
t
), &
¬—
);

938 
£t_¬—


939 (
t
->
gd
,

940 
¬—
.
x
,

941 
¬—
.
y
,

942 
¬—
.
width
,

943 
¬—
.
height
);

948 
	`£t_cŞÜ
(
t
->
gd
,

949 
t
->
back_cŞÜ
.
r
,

950 
t
->
back_cŞÜ
.
g
,

951 
t
->
back_cŞÜ
.
b
,

952 
t
->
back_cŞÜ
.
a
);

953 
	`fl_»ùªgË
(
t
->
gd
,

954 
¬—
.
x
 + 4,

955 
¬—
.
y
 + 4,

956 
¬—
.
width
 - 8,

957 
¬—
.
height
 - 8);

962 if(
t
->
keybd_focus
)

965 
£t_cŞÜ


966 (
t
->
gd
,

967 
t
->
äame_cŞÜ
.
r
,

968 
t
->
äame_cŞÜ
.
g
,

969 
t
->
äame_cŞÜ
.
b
,

970 
t
->
äame_cŞÜ
.
a
);

971 
‹xt_lše_d¿w_äame


972 (
t
->
gd
,

973 
¬—
.
x
,

974 
¬—
.
y
,

975 
¬—
.
width
,

976 
¬—
.
height
,

978 
‹xt_lše_d¿w_äame


979 (
t
->
gd
,

980 
¬—
.
x
 + 1,

981 
¬—
.
y
 + 1,

982 
¬—
.
width
 - 2,

983 
¬—
.
height
 - 2,

989 
£t_cŞÜ


990 (
t
->
gd
,

991 
t
->
äame_cŞÜ
.
r
,

992 
t
->
äame_cŞÜ
.
g
,

993 
t
->
äame_cŞÜ
.
b
,

994 
t
->
äame_cŞÜ
.
a
);

995 
‹xt_lše_d¿w_äame


996 (
t
->
gd
,

997 
¬—
.
x
,

998 
¬—
.
y
,

999 
¬—
.
width
,

1000 
¬—
.
height
,

1002 
‹xt_lše_d¿w_äame


1003 (
t
->
gd
,

1004 
¬—
.
x
 + 1,

1005 
¬—
.
y
 + 1,

1006 
¬—
.
width
 - 2,

1007 
¬—
.
height
 - 2,

1014 
£t_cŞÜ


1015 (
t
->
gd
,

1016 
t
->
äame_cŞÜ
.
r
,

1017 
t
->
äame_cŞÜ
.
g
,

1018 
t
->
äame_cŞÜ
.
b
,

1019 
t
->
äame_cŞÜ
.
a
);

1020 
‹xt_lše_d¿w_äame


1021 (
t
->
gd
,

1022 
¬—
.
x
 + 2,

1023 
¬—
.
y
 + 2,

1024 
¬—
.
width
 - 4,

1025 
¬—
.
height
 - 4,

1027 
‹xt_lše_d¿w_äame


1028 (
t
->
gd
,

1029 
¬—
.
x
 + 3,

1030 
¬—
.
y
 + 3,

1031 
¬—
.
width
 - 6,

1032 
¬—
.
height
 - 6,

1034 
‹xt_lše_d¿w_äame


1035 (
t
->
gd
,

1036 
¬—
.
x
 + 4,

1037 
¬—
.
y
 + 4,

1038 
¬—
.
width
 - 8,

1039 
¬—
.
height
 - 8,

1042 
£t_¬—


1043 (
t
->
gd
,

1044 
¬—
.
x
 + 6,

1045 
¬—
.
y
 + 6,

1046 
¬—
.
width
 - 12,

1047 
¬—
.
height
 - 12);

1053 
	`‹xt_lše_deçuÉ_show_‹xt
(
t
, 
¬—
.
x
,‡»a.
y
);

1056 
	}
}

1062 
si_t
 
	$‹xt_lše_deçuÉ_keybd_´ess
(
‹xt_lše
* 
t
, 
mes§ge
* 
msg
)

1064 
si_t
 
buæ’
;

1065 
šput_ch¬
=0;

1066 
si_t
 
»tv®
;

1071 if(!
t
->
keybd_focus
)

1076 
buæ’
 = 
	`¡¾’
(
t
->
buf
);

1078 if((
»tv®
 = 
	`‹xt_lše_hªdË_¥ecŸl_key
(
t
, 
msg
->
keybd
.
code
)) != 1)

1079  
»tv®
;

1084 if(!
šput_ch¬
 && 
	`‹xt_lše_is_keybd_ty³_numb”
(
t
))

1086 
šput_ch¬
 = 
	`keybd_code_to_ch¬_numb”
(
msg
->
keybd
.
code
);

1088 if(!
šput_ch¬
 && 
	`‹xt_lše_is_keybd_ty³_Ë‰”
(
t
))

1090 
šput_ch¬
 = 
	`keybd_code_to_ch¬_Ë‰”
(
msg
->
keybd
.
code
);

1092 if(
šput_ch¬
 == 0)

1101 if(
buæ’
 + 1 > 
t
->
buf_size
 - 1)

1109 if(
t
->
buf
 + 
buæ’
 >->
ruËr_cur
)

1111 * 
cur
 = 
t
->
buf
 + 
buæ’
;

1115 -- 
cur
 !ğ
t
->
ruËr_cur
 - 1)

1117 *(
cur
 + 1) = *cur;

1119 *(
t
->
ruËr_cur
èğ
šput_ch¬
;

1120 ++ 
t
->
ruËr_cur
;

1127 *(
t
->
ruËr_cur
èğ
šput_ch¬
;

1128 ++ 
t
->
ruËr_cur
;

1129 *
t
->
ruËr_cur
 = '\0';

1135 
ev’t_to_be_di¥©ched
 = 
TEXT_LINE_EVENT_CURRENT_CHANGE
;

1136 
	`li¡_fÜ_—ch
(&
t
->
subsüibe_šfo_li¡
, 
do_hªdË_ev’t
);

1139 
	}
}

1142 
si_t
 
	$‹xt_lše_deçuÉ_mou£_´ess
(
‹xt_lše
* 
t
, 
mes§ge
* 
msg
)

1147 
	`NOT_USED
(
t
);

1148 
	`NOT_USED
(
msg
);

1150 
	}
}

1152 
si_t
 
	$‹xt_lše_deçuÉ_mou£_»Ëa£
(
‹xt_lše
* 
t
, 
mes§ge
* 
msg
)

1157 
	`NOT_USED
(
t
);

1158 
	`NOT_USED
(
msg
);

1160 
	}
}

1162 
si_t
 
	$‹xt_lše_deçuÉ_keybd_Ëave
(
‹xt_lše
* 
t
, 
mes§ge
* 
msg
)

1167 
	`NOT_USED
(
t
);

1168 
	`NOT_USED
(
msg
);

1170 
	}
}

1172 
si_t
 
	$‹xt_lše_deçuÉ_ÿÎback
(* 
t
, * 
m
)

1174 
mes§ge
* 
msg
 = (mes§ge*)
m
;

1175 
‹xt_lše
* 

 = (‹xt_lše*)
t
;

1176 
	`widg‘_deçuÉ_ÿÎback
(

, 
msg
);

1177 
msg
->
ba£
.
ty³
)

1179 
MESSAGE_TYPE_WIDGET_REPAINT
:

1180 
	`‹xt_lše_deçuÉ_widg‘_»·št
(

, 
msg
);

1181 
	`‹xt_lše_deçuÉ_widg‘_show
(

, 
msg
);

1184 
MESSAGE_TYPE_WIDGET_SHOW
:

1185 
	`‹xt_lše_deçuÉ_widg‘_show
(

, 
msg
);

1188 
MESSAGE_TYPE_MOUSE_PRESS
:

1189 
	`‹xt_lše_deçuÉ_mou£_´ess
(

, 
msg
);

1190 
	`‹xt_lše_deçuÉ_widg‘_»·št
(

, 
msg
);

1191 
	`‹xt_lše_deçuÉ_widg‘_show
(

, 
msg
);

1194 
MESSAGE_TYPE_MOUSE_RELEASE
:

1195 
	`‹xt_lše_deçuÉ_mou£_»Ëa£
(

, 
msg
);

1196 
	`‹xt_lše_deçuÉ_widg‘_»·št
(

, 
msg
);

1197 
	`‹xt_lše_deçuÉ_widg‘_show
(

, 
msg
);

1200 
MESSAGE_TYPE_KEYBD_PRESS
:

1201 
	`‹xt_lše_deçuÉ_keybd_´ess
(

, 
msg
);

1202 
	`‹xt_lše_deçuÉ_widg‘_»·št
(

, 
msg
);

1203 
	`‹xt_lše_deçuÉ_widg‘_show
(

, 
msg
);

1206 
MESSAGE_TYPE_KEYBD_LEAVE
:

1207 
	`‹xt_lše_deçuÉ_keybd_Ëave
(

, 
msg
);

1208 
	`‹xt_lše_deçuÉ_widg‘_»·št
(

, 
msg
);

1209 
	`‹xt_lše_deçuÉ_widg‘_show
(

, 
msg
);

1215 
	}
}

1217 
	$‹xt_lše_»·št
(
‹xt_lše
* 
t
)

1219 
	`widg‘_»·št
(
	`WIDGET_POINTER
(
t
));

1220 
	}
}

1222 
	$‹xt_lše_show
(
‹xt_lše
* 
t
)

1224 
	`widg‘_show
(
	`WIDGET_POINTER
(
t
));

1225 
	}
}

1227 
‹xt_lše
* 
	$‹xt_lše_š™
(
si_t
 
bufsize
, si_ˆ
cur_lše
)

1229 
‹xt_lše
* 
addr
;

1232 if((
addr
 = (
‹xt_lše
*)
	`m®loc
((‹xt_lše))è=ğ
NULL
)

1234 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

1235  
NULL
;

1238 if(!(
addr
=
	`widg‘_š™_commÚ
(
	`WIDGET_POINTER
(addr), 0))) {

1239  
NULL
;

1242 
addr
->
Çme
 = "structext_line";

1245 
addr
->
šput_’abË
 = 1;

1248 
	`‹xt_lše_š™_w™h_deçuÉ_¡yË
(
addr
);

1251 
addr
->
ÿÎback
 = 
‹xt_lše_deçuÉ_ÿÎback
;

1259 
addr
->
buf
 = 
NULL
;

1260 
addr
->
buf_size
 = 0;

1265 
addr
->
keybd_ty³
 = 
TEXT_LINE_KEYBOARD_TYPE_NUMBER
 | 
TEXT_LINE_KEYBOARD_TYPE_LETTER
;

1270 
addr
->
ruËr_cur
 = 
NULL
;

1271 
addr
->
ruËr_lše_¡¬t
 = 
NULL
;

1272 
addr
->
show_¡¬t
 = 
NULL
;

1277 
addr
->
is_lšew¿p
 = 0;

1278 
addr
->
is_’‹r_’abË
 = 0;

1280 
addr
->
¶aûhŞd”
 = 
NULL
;

1285 
	`li¡_š™
(&
addr
->
subsüibe_šfo_li¡
);

1287 
	`‹xt_lše_£t_bufsize
(
addr
, 
bufsize
);

1289 
	`‹xt_lše_upd©e_ruËr_lše
(
addr
, 
cur_lše
);

1291  
addr
;

1292 
	}
}

1294 
si_t
 
	$‹xt_lše_ex™
(
‹xt_lše
* 
t
)

1296 if(
t
->
buf
 !ğ
NULL
)

1297 
	`ä“
(
t
->
buf
);

1299 if(
t
->
¶aûhŞd”
 !ğ
NULL
)

1300 
	`ä“
(
t
->
¶aûhŞd”
);

1302  
	`widg‘_ex™
(
	`WIDGET_POINTER
(
t
));

1303 
	}
}

1305 
si_t
 
	$‹xt_lše_£t_bufsize
(
‹xt_lše
* 
t
, 
si_t
 
size
)

1307 if(
t
->
buf
 !ğ
NULL
)

1308 
	`ä“
(
t
->
buf
);

1314 if((
t
->
buf
 = (*)
	`m®loc
(
size
 + 1)è=ğ
NULL
)

1316 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

1320 * (
t
->
buf
) = '\0';

1321 
t
->
buf_size
 = 
size
;

1323 
t
->
ruËr_cur
 =->
ruËr_lše_¡¬t
 =->
show_¡¬t
 =->
buf
;

1326 
	}
}

1328 
	$‹xt_lše_£t_w¿p
(
‹xt_lše
* 
t
)

1330 
t
->
is_lšew¿p
 = 1;

1331 
	}
}

1333 
	$‹xt_lše_£t_now¿p
(
‹xt_lše
* 
t
)

1335 
t
->
is_lšew¿p
 = 0;

1336 
	}
}

1338 
	$‹xt_lše_£t_’‹r_’abË
(
‹xt_lše
* 
t
)

1340 
t
->
is_’‹r_’abË
 = 1;

1341 
	}
}

1343 
	$‹xt_lše_£t_’‹r_di§bË
(
‹xt_lše
* 
t
)

1345 
t
->
is_’‹r_’abË
 = 0;

1346 
	}
}

1348 
	$‹xt_lše_£t_muÉšes
(
‹xt_lše
* 
t
)

1350 
t
->
is_lšew¿p
 = 1;

1351 
t
->
is_’‹r_’abË
 = 1;

1352 
	}
}

1354 
si_t
 
	$‹xt_lše_£t_¶aûhŞd”
(
‹xt_lše
* 
t
, * 
¡r
)

1356 if(
t
->
¶aûhŞd”
 !ğ
NULL
)

1357 
	`ä“
(
t
->
¶aûhŞd”
);

1360 if((
t
->
¶aûhŞd”
 = (*)
	`m®loc
(
	`¡¾’
(
¡r
è+ 1)è=ğ
NULL
)

1362 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

1365 
	`memıy
(
t
->
¶aûhŞd”
, 
¡r
, 
	`¡¾’
(str) + 1);

1368 
	}
}

1370 * 
	$‹xt_lše_g‘_buf
(
‹xt_lše
* 
t
)

1372  
t
->
buf
;

1373 
	}
}

1375 
	$‹xt_lše_£t_keybd_ty³
(
‹xt_lše
* 
t
, 
si_t
 
ty³
)

1377 
t
->
keybd_ty³
 |ğ
ty³
;

1378 
	}
}

1380 
	$‹xt_lše_ÿnûl_keybd_ty³
(
‹xt_lše
* 
t
, 
si_t
 
ty³
)

1382 
t
->
keybd_ty³
 &ğ~
ty³
;

1383 
	}
}

1385 
	$‹xt_lše_ş—r_keybd_ty³
(
‹xt_lše
* 
t
)

1387 
t
->
keybd_ty³
 = 0;

1388 
	}
}

1390 
si_t
 
	$‹xt_lše_is_keybd_ty³_numb”
(
‹xt_lše
* 
t
)

1392  
t
->
keybd_ty³
 & 
TEXT_LINE_KEYBOARD_TYPE_NUMBER
;

1393 
	}
}

1395 
si_t
 
	$‹xt_lše_is_keybd_ty³_Ë‰”
(
‹xt_lše
* 
t
)

1397  
t
->
keybd_ty³
 & 
TEXT_LINE_KEYBOARD_TYPE_LETTER
;

1398 
	}
}

1400 
si_t
 
	$‹xt_lše_is_keybd_ty³_·sswÜd
(
‹xt_lše
* 
t
)

1402  
t
->
keybd_ty³
 & 
TEXT_LINE_KEYBOARD_TYPE_PASSWORD
;

1403 
	}
}

1405 
	$‹xt_lše_»gi¡”_move_hªdËr
(
‹xt_lše
* 
t
, 
widg‘
* 
w
, 
si_t
 
ev’t
, 
widg‘_ev’t_hªdËr
 
hªdËr
)

1407 
widg‘_subsüibe_šfo
 
si
;

1408 
si
.
subsüib”
 = 
w
;

1409 
si
.
publish”
 = 
	`WIDGET_POINTER
(
t
);

1410 
si
.
ev’t
 =ƒvent;

1411 
si
.
hªdËr
 = handler;

1412 
	`li¡_push_back
(&
t
->
subsüibe_šfo_li¡
, &
si
, (
widg‘_subsüibe_šfo
));

1413 
	}
}

1418 
si_t
 
	$‹xt_lše_upd©e_ruËr
(
‹xt_lše
* 
t
, * 
Ãw_ruËr
)

1420 * 
¡¬t
;

1421 * 
Ãxt_¡¬t
;

1422 if(
t
->
buf
 + 
	`¡¾’
Ñ->bufè<ğ
Ãw_ruËr
)

1425 
¡¬t
 = 
t
->
buf
;

1426 (
Ãxt_¡¬t
 = 
	`g‘_Ãxt_lše_¡¬t
(
¡¬t
, 
t
->
ch¬s_³r_lše
,->
is_’‹r_’abË
,->
is_lšew¿p
)è!ğ
NULL
)

1428 if(
Ãxt_¡¬t
 > 
Ãw_ruËr
)

1430 
t
->
ruËr_cur
 = 
Ãxt_¡¬t
;

1431 
t
->
show_¡¬t
 = 
¡¬t
;

1434 
¡¬t
 = 
Ãxt_¡¬t
;

1438 
	}
}

1443 
si_t
 
	$‹xt_lše_upd©e_ruËr_lše
(
‹xt_lše
* 
t
, 
si_t
 
lše
)

1445 
si_t
 
i
 = 0;

1446 * 
¡¬t
;

1451 
¡¬t
 = 
t
->
buf
;

1452 
i
 !ğ
lše
)

1454 if((
¡¬t
 = 
	`g‘_Ãxt_lše_¡¬t
(¡¬t, 
t
->
ch¬s_³r_lše
,->
is_’‹r_’abË
,->
is_lšew¿p
)è=ğ
NULL
)

1456 ++ 
i
;

1462 
t
->
show_¡¬t
 = 
¡¬t
;

1463 
t
->
ruËr_cur
 = 
¡¬t
;

1466 
	}
}

1468 
si_t
 
	$‹xt_lše_g‘_lše_cur
(
‹xt_lše
* 
t
)

1470 
si_t
 
fÚtx
 = 
	`g‘_fÚt_width
(
t
->
gd
);

1471 
t
->
ch¬s_³r_lše
 = (t->
¬—
.
width
 - 12è/ 
fÚtx
;

1472  
	`lšes_b‘w“n
(
t
->
buf
,->
ruËr_cur
,->
ch¬s_³r_lše
,->
is_’‹r_’abË
,->
is_lšew¿p
);

1473 
	}
}

1475 
si_t
 
	$‹xt_lše_g‘_lše_tÙ®
(
‹xt_lše
* 
t
)

1477 
si_t
 
fÚtx
 = 
	`g‘_fÚt_width
(
t
->
gd
);

1478 
t
->
ch¬s_³r_lše
 = (t->
¬—
.
width
 - 12è/ 
fÚtx
;

1479  
	`lšes_b‘w“n
(
t
->
buf
,->buà+ 
	`¡¾’
Ñ->buf),->
ch¬s_³r_lše
,->
is_’‹r_’abË
,->
is_lšew¿p
);

1480 
	}
}

1482 
si_t
 
	$‹xt_lše_g‘_max_lše_shown
(
‹xt_lše
* 
t
)

1484 
si_t
 
fÚtx
, 
fÚty
, 
max_lše
;

1493 ++ 
t
->
fÚt
;

1495 -- 
t
->
fÚt
;

1496 
	`£t_fÚt
(
t
->
gd
,->
fÚt
);

1497 
fÚtx
 = 
	`g‘_fÚt_width
(
t
->
gd
);

1498 
fÚty
 = 
	`g‘_fÚt_height
(
t
->
gd
);

1499 }
fÚty
 > (
t
->
¬—
.
height
 - 12è|| 
fÚtx
 >->¬—.
width
 - 12);

1500 
max_lše
 = (
t
->
¬—
.
height
 - 12è/ 
fÚty
;

1501 
t
->
ch¬s_³r_lše
 = (t->
¬—
.
width
 - 12è/ 
fÚtx
;

1503  
max_lše
;

1504 
	}
}

1506 
	$‹xt_lše_£t_bounds
(
‹xt_lše
* 
t
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
)

1508 
	`widg‘_£t_bounds
(
	`WIDGET_POINTER
(
t
), 
x
, 
y
, 
width
, 
height
);

1509 
	}
}

1511 
	$‹xt_lše_£t_cŞÜ
(
‹xt_lše
* 
t
, 
cŞÜ
* 
fÜe_cŞÜ
, cŞÜ* 
back_cŞÜ
, cŞÜ* 
äame_cŞÜ
)

1513 
	`widg‘_£t_cŞÜ
(
	`WIDGET_POINTER
(
t
), 
fÜe_cŞÜ
, 
back_cŞÜ
);

1514 
t
->
äame_cŞÜ
 = (
NULL
 == frame_color ?->frame_color : *frame_color);

1515 
	}
}

1517 
	$‹xt_lše_£t_fÚt
(
‹xt_lše
* 
t
, 
si_t
 
fÚt
)

1519 
t
->
fÚt
 = font;

1520 
	}
}

	@widget/text_line/text_line.h

30 #iâdeà
_TEXT_LINE_H_


31 
	#_TEXT_LINE_H_
 1

	)

33 
	~<ba£_ty³.h
>

34 
	~<comm.h
>

36 
	~"../widg‘/widg‘.h
"

41 
	#TEXT_LINE_DEFINITION
 \

45 
WIDGET_DEFINITION
 \

50 * 
buf
; \

55 
si_t
 
buf_size
; \

60 
si_t
 
keybd_ty³
; \

65 * 
ruËr_cur
; \

70 * 
show_¡¬t
; \

75 * 
ruËr_lše_¡¬t
; \

80 
ui_t
 
ch¬s_³r_lše
; \

85 
cŞÜ
 
äame_cŞÜ
; \

90 
si_t
 
fÚt
; \

95 * 
¶aûhŞd”
; \

100 
si_t
 
is_lšew¿p
; \

105 
si_t
 
is_’‹r_’abË
; \

110 
si_t
 
süŞl_off
; \

114 
li¡
 
subsüibe_šfo_li¡
;

	)

117 
	s‹xt_lše


119 
	mTEXT_LINE_DEFINITION


123 
	s‹xt_lše_¡yË


125 
widg‘_¡yË
 
	mcommÚ
;

128 
si_t
 
	mäame_cŞÜ_r
;

129 
si_t
 
	mäame_cŞÜ_g
;

130 
si_t
 
	mäame_cŞÜ_b
;

131 
si_t
 
	mäame_cŞÜ_a
;

134 
si_t
 
	mfÚt
;

137 
	eTEXT_LINE_KEYBOARD_TYPE


139 
	mTEXT_LINE_KEYBOARD_TYPE_NUMBER
 = 1,

140 
	mTEXT_LINE_KEYBOARD_TYPE_LETTER
 = 2,

141 
	mTEXT_LINE_KEYBOARD_TYPE_PASSWORD
 = 4

144 
	eTEXT_LINE_EVENT


149 
	mTEXT_LINE_EVENT_PAGE_UP
,

153 
	mTEXT_LINE_EVENT_PAGE_DOWN
,

157 
	mTEXT_LINE_EVENT_PAGE_CHANGE
,

161 
	mTEXT_LINE_EVENT_CURRENT_CHANGE
,

165 
	mTEXT_LINE_EVENT_ALL
,

167 
	mTEXT_LINE_EVENT_MAX


174 
	#TEXT_LINE_POINTER
(
addr
è((
‹xt_lše
*)×ddr))

	)

185 
si_t
 
‹xt_lše_deçuÉ_ÿÎback
(
addr_t
 
t
,‡ddr_ˆ
m
);

190 
‹xt_lše_»·št
(
‹xt_lše
* 
t
);

195 
‹xt_lše_show
(
‹xt_lše
* 
t
);

202 
‹xt_lše
* 
‹xt_lše_š™
(
si_t
 
bufsize
, si_ˆ
cur_lše
);

211 
si_t
 
‹xt_lše_ex™
(
‹xt_lše
* 
t
);

220 
si_t
 
‹xt_lše_£t_bufsize
(
‹xt_lše
* 
t
, si_ˆ
size
);

225 
‹xt_lše_£t_w¿p
(
‹xt_lše
* 
t
);

229 
‹xt_lše_£t_now¿p
(
‹xt_lše
* 
t
);

234 
‹xt_lše_£t_’‹r_’abË
(
‹xt_lše
* 
t
);

238 
‹xt_lše_£t_’‹r_di§bË
(
‹xt_lše
* 
t
);

243 
‹xt_lše_£t_muÉšes
(
‹xt_lše
* 
t
);

248 
si_t
 
‹xt_lše_£t_¶aûhŞd”
(
‹xt_lše
* 
t
, * 
¶aûhŞd”
);

253 * 
‹xt_lše_g‘_buf
(
‹xt_lše
* 
t
);

260 
‹xt_lše_£t_keybd_ty³
(
‹xt_lše
* 
t
, 
si_t
 
ty³
);

267 
‹xt_lše_ÿnûl_keybd_ty³
(
‹xt_lše
* 
t
, 
si_t
 
ty³
);

272 
‹xt_lše_ş—r_keybd_ty³
(
‹xt_lše
* 
t
);

277 
si_t
 
‹xt_lše_is_keybd_ty³_numb”
(
‹xt_lše
* 
t
);

282 
si_t
 
‹xt_lše_is_keybd_ty³_Ë‰”
(
‹xt_lše
* 
t
);

287 
si_t
 
‹xt_lše_is_keybd_ty³_·sswÜd
(
‹xt_lše
* 
t
);

292 
‹xt_lše_»gi¡”_move_hªdËr
(
‹xt_lše
* 
s
, 
widg‘
* 
w
, 
si_t
 
ev’t
, 
widg‘_ev’t_hªdËr
 
hªdËr
);

297 
si_t
 
‹xt_lše_upd©e_ruËr
(
‹xt_lše
* 
t
, * 
Ãw_ruËr
);

302 
si_t
 
‹xt_lše_upd©e_ruËr_lše
(
‹xt_lše
* 
t
, si_ˆ
lše
);

307 
si_t
 
‹xt_lše_g‘_lše_cur
(
‹xt_lše
* 
t
);

312 
si_t
 
‹xt_lše_g‘_lše_tÙ®
(
‹xt_lše
* 
t
);

317 
si_t
 
‹xt_lše_g‘_max_lše_shown
(
‹xt_lše
* 
t
);

329 
‹xt_lše_£t_bounds
(
‹xt_lše
*ext_lše, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
);

335 
‹xt_lše_£t_cŞÜ
(
‹xt_lše
* 
t
, 
cŞÜ
* 
fÜe_cŞÜ
, cŞÜ* 
back_cŞÜ
, cŞÜ* 
äame_cŞÜ
);

340 
‹xt_lše_£t_fÚt
(
‹xt_lše
* 
t
, 
si_t
 
fÚt
);

	@widget/timer/timer.c

31 
	#_POSIX_C_SOURCE
 199309L

	)

33 
	~"tim”.h
"

35 
	~<¡dlib.h
>

36 
	~<uni¡d.h
>

37 
	~<time.h
>

38 
	~<sigÇl.h
>

39 
	~<sys/ty³s.h
>

41 
	~<log.h
>

43 
	stim”_š‹º®_d©a_t
 {

44 
tim”_t
 
	mtim”
;

45 
™im”¥ec
 
	m™s
;

48 
do_hªdË_ev’t
(
sigv®
 
subsüibe_šfo
);

50 
tim”
* 
	$tim”_š™
(
si_t
 
id
)

52 
tim”
 * 
addr
;

55 
addr
 = 
	`ÿÎoc
(1, (
tim”
));

57 if(
addr
 =ğ
NULL
) {

58 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

59  
NULL
;

62 
addr
->
·»Á
 = 
NULL
;

63 
addr
->
lchd
 = 
NULL
;

64 
addr
->
rchd
 = 
NULL
;

65 
addr
->
Çme
 = "structimer";

66 
addr
->
id
 = id;

67 
addr
->
šput_’abË
 = 0;

68 
addr
->
upd©e_’abË
 = 0;

69 
addr
->
visibË
 = 0;

70 
addr
->
keybd_focus
 = 0;

71 
addr
->
is_wšdow
 = 0;

72 
addr
->
ÿÎback
 = 
NULL
;

74 
addr
->
š‹º®_d©a
 = 
	`ÿÎoc
(1, (
tim”_š‹º®_d©a_t
));

78 
	`li¡_š™
(&
addr
->
subsüibe_šfo_li¡
);

81 
sigv®
 sigval = {

82 .
siv®_±r
 = &
addr
->
subsüibe_šfo_li¡


84 
sigev’t
 
ev’t
 = {

85 .
sigev_nÙify
 = 
SIGEV_THREAD
,

86 .
sigev_nÙify_funùiÚ
 = 
do_hªdË_ev’t
,

87 .
sigev_nÙify_©Œibu‹s
 = 
NULL
,

89 
ev’t
.
sigev_v®ue
 = 
sigv®
;

90 
	`tim”_ü—‹
(
CLOCK_MONOTONIC
, &
ev’t
, &
addr
->
š‹º®_d©a
->
tim”
);

93  
addr
;

94 
	}
}

101 
si_t
 
	$tim”_ex™
(
tim”
 * 
b
)

103 
	`li¡_ex™
(&
b
->
subsüibe_šfo_li¡
);

104 
	`ä“
(
b
->
š‹º®_d©a
);

105 
	`ä“
(
b
);

107 
	}
}

109 
	$tim”_£t_time
(
tim”
 *tim”, cÚ¡ 
time¥ec
 *
v®ue
)

111 
tim”
->
š‹º®_d©a
->
™s
.
™_v®ue
 = *
v®ue
;

112 
	}
}

114 
	$tim”_run
(
tim”
 *timer)

116 
	`tim”_£‰ime
(
tim”
->
š‹º®_d©a
->timer, 0,

117 &
tim”
->
š‹º®_d©a
->
™s
, 
NULL
);

118 
	}
}

123 
	$do_hªdË_ev’t
(
sigv®
 
subsüibe_šfo
)

125 
li¡
 *
subsüibe_šfo_li¡
 = 
subsüibe_šfo
.
siv®_±r
;

126 
li¡_node
 *
pos
;

127 
	`li¡_fÜ_—ch_maüo
(
subsüibe_šfo_li¡
, 
pos
) {

128 
widg‘_subsüibe_šfo
 *
si
 =

129 
pos
->
d©a
;

130 
si
->
	`hªdËr
(si->
subsüib”
, si->
publish”
, 
TIMER_EVENT_ALL
);

132 
	}
}

134 
	$tim”_»gi¡”_ev’t_hªdËr
(
tim”
 *
pub
, 
widg‘
 *
sub
, 
si_t
 
ev’t
, 
widg‘_ev’t_hªdËr
 
hªdËr
)

136 
widg‘_subsüibe_šfo
 
si
;

137 
si
.
subsüib”
 = 
sub
;

138 
si
.
publish”
 = 
	`WIDGET_POINTER
(
pub
);

139 
si
.
ev’t
 =ƒvent;

140 
si
.
hªdËr
 = handler;

141 
	`li¡_push_back
(&
pub
->
subsüibe_šfo_li¡
, &
si
, (si));

142 
	}
}

145 
si_t
 
	$tim”_deçuÉ_ÿÎback
(* 
t
, * 
m
)

147 
	`widg‘_deçuÉ_ÿÎback
(
t
, 
m
);

149 
	}
}

	@widget/timer/timer.h

30 #iâdeà
_TIMER_H_


31 
	#_TIMER_H_
 1

	)

33 
	~"../widg‘/widg‘.h
"

35 
	~<time.h
>

37 
	gtim”_š‹º®_d©a_t
;

39 
	stim”
 {

40 
WIDGET_DEFINITION


41 
li¡
 
	msubsüibe_šfo_li¡
;

42 
tim”_š‹º®_d©a_t
 *
	mš‹º®_d©a
;

45 
	etim”_ev’t_ty³
 {

46 
	mTIMER_EVENT_ALL


49 
	#TIMER_POINTER
(
addr
è((
tim”
 *)×ddr))

	)

51 
tim”
* 
tim”_š™
(
si_t
 
id
);

53 
si_t
 
tim”_ex™
(
tim”
 * 
b
);

55 
tim”_»gi¡”_ev’t_hªdËr
(
tim”
 *
pub
, 
widg‘
 *
sub
, 
si_t
 
ev’t
, 
widg‘_ev’t_hªdËr
 
hªdËr
);

57 
tim”_£t_time
(
tim”
 *tim”, cÚ¡ 
time¥ec
 *
v®ue
);

59 
tim”_run
(
tim”
 *timer);

62 
si_t
 
tim”_deçuÉ_ÿÎback
(* 
t
, * 
m
);

	@widget/widget/widget.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

32 
	~<¡ršg.h
>

33 
	~"cÚfig_·r£r.h
"

34 
	~"log.h
"

35 
	~"ş›Á_lib.h
"

36 
	~"­¶iÿtiÚ.h
"

37 
	~"widg‘.h
"

39 
	#TMP_ARRAY_SIZE
 256

	)

41 
si_t
 
	$widg‘_deçuÉ_ÿÎback
(* 
£lf
, * 
msg
)

43 
widg‘
 * 
w
 = 
£lf
;

44 
mes§ge
 * 
m
 = 
msg
;

45 
i
,
æag
=0;

46 
i
=0;i<
w
->
msg_num
;i++)

48 if(
w
->
msg_fù
[
i
].
msg_ty³
->
ba£
.
ty³
 =ğ
m
->base.type)

50 
æag
=1;

51 
w
->
msg_fù
[
i
].
	`funùiÚ
(w, 
m
);

54 if(
æag
==1)

58 
	}
}

60 
widg‘_¡yË
 
	gwidg‘_deçuÉ_¡yË
 =

81 
CURSOR_SHAPE_X
,

96 
si_t
 
	$widg‘_š™_exŒa_’Œy
(
cÚfig_·r£r
 *
·r£r
, 
widg‘_¡yË_’Œy
 *
’Œy
)

98 
si_t
 
»s
 = 0;

99 
’Œy
->
ty³
) {

100 
WIDGET_STYLE_TYPE_INT
:

101 if(-1 =ğ
	`cÚfig_·r£r_g‘_št
(
·r£r
,

102 
’Œy
->
key
, (
si_t
*ëÁry->
v®
)) {

103 
»s
 = -1;

106 
WIDGET_STYLE_TYPE_STR
:

107 if(-1 =ğ
	`cÚfig_·r£r_g‘_¡r
(
·r£r
,

108 
’Œy
->
key
, (*ëÁry->
v®
)) {

109 
»s
 = -1;

112 
WIDGET_STYLE_TYPE_FLOAT
:

113 if(-1 =ğ
	`cÚfig_·r£r_g‘_æßt
(
·r£r
,

114 
’Œy
->
key
, (*ëÁry->
v®
)) {

115 
»s
 = -1;

121  
»s
;

122 
	}
}

124 
si_t
 
	$widg‘_š™_exŒa_w™h_deçuÉ_¡yË
(
cÚfig_·r£r
 *
·r£r
, 
widg‘_¡yË_’Œy
 
exŒa
[], 
ui_t
 
exŒ®’
)

126 
widg‘_¡yË_’Œy
 *
’Œy
;

127 
si_t
 
»s
 = 0;

128 
’Œy
 = 
exŒa
;ƒÁry<exŒa+
exŒ®’
;ƒntry++) {

129 if(-1 =ğ
	`widg‘_š™_exŒa_’Œy
(
·r£r
, 
’Œy
)) {

130 
»s
 = -1;

133  
»s
;

134 
	}
}

147 
si_t
 
	$widg‘_š™_w™h_deçuÉ_¡yË
(cÚ¡ *
·th
, 
widg‘
 * 
w
, 
widg‘_¡yË
 *
¡yË
, 
widg‘_¡yË_’Œy
 
exŒa
[], 
ui_t
 
exŒ®’
)

149 
tmp_¡r
[
TMP_ARRAY_SIZE
] = {'\0'};

150 
si_t
 
tmp_št
 = -1;

151 
si_t
 
»s
 = 0;

154 if(!
¡yË
->
æag
)

156 
cÚfig_·r£r
 
·r£r
;

159 if(!
·th
 || 
	`cÚfig_·r£r_š™
Õ©h, &
·r£r
) != 0)

161 
	`EGUI_PRINT_ERROR
("çØš™ widg‘ styË from cÚfig f%s.", 
·th
);

162 
»s
 = -1;

166 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "¬—_x", &(
¡yË
->
¬—_x
));

167 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "¬—_y", &(
¡yË
->
¬—_y
));

168 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "¬—_width", &(
¡yË
->
¬—_width
));

169 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "¬—_height", &(
¡yË
->
¬—_height
));

171 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "bÜd”_size", &(
¡yË
->
bÜd”_size
));

173 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "maximum_width", &(
¡yË
->
maximum_width
));

174 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "mšimum_width", &(
¡yË
->
mšimum_width
));

175 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "maximum_height", &(
¡yË
->
maximum_height
));

176 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "mšimum_height", &(
¡yË
->
mšimum_height
));

178 
	`cÚfig_·r£r_g‘_¡r
(&
·r£r
, "cursÜ", 
tmp_¡r
);

179 if((
tmp_št
 = 
	`g‘_cursÜ_’um_äom_¡r
(
tmp_¡r
)) >= 0)

181 
¡yË
->
cursÜ
 = 
tmp_št
;

184 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "back_cŞÜ_r", &(
¡yË
->
back_cŞÜ_r
));

185 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "back_cŞÜ_g", &(
¡yË
->
back_cŞÜ_g
));

186 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "back_cŞÜ_b", &(
¡yË
->
back_cŞÜ_b
));

187 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "back_cŞÜ_a", &(
¡yË
->
back_cŞÜ_a
));

189 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "fÜe_cŞÜ_r", &(
¡yË
->
fÜe_cŞÜ_r
));

190 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "fÜe_cŞÜ_g", &(
¡yË
->
fÜe_cŞÜ_g
));

191 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "fÜe_cŞÜ_b", &(
¡yË
->
fÜe_cŞÜ_b
));

192 
	`cÚfig_·r£r_g‘_št
(&
·r£r
, "fÜe_cŞÜ_a", &(
¡yË
->
fÜe_cŞÜ_a
));

194 if(-1 =ğ
	`widg‘_š™_exŒa_w™h_deçuÉ_¡yË
(&
·r£r
, 
exŒa
, 
exŒ®’
)) {

195 
»s
 = -1;

199 
	`cÚfig_·r£r_ex™
(&
·r£r
);

201 
¡yË
->
æag
 = 1;

205 
w
->
¬—
.
x
 = 
¡yË
->
¬—_x
;

206 
w
->
¬—
.
y
 = 
¡yË
->
¬—_y
;

207 
w
->
¬—
.
width
 = 
¡yË
->
¬—_width
;

208 
w
->
¬—
.
height
 = 
¡yË
->
¬—_height
;

210 
w
->
bÜd”_size
 = 
¡yË
->border_size;

212 
w
->
maximum_width
 = 
¡yË
->maximum_width;

213 
w
->
mšimum_width
 = 
¡yË
->minimum_width;

214 
w
->
maximum_height
 = 
¡yË
->maximum_height;

215 
w
->
mšimum_height
 = 
¡yË
->minimum_height;

217 
w
->
cursÜ
 = 
¡yË
->cursor;

219 
w
->
back_cŞÜ
.
r
 = 
¡yË
->
back_cŞÜ_r
;

220 
w
->
back_cŞÜ
.
g
 = 
¡yË
->
back_cŞÜ_g
;

221 
w
->
back_cŞÜ
.
b
 = 
¡yË
->
back_cŞÜ_b
;

222 
w
->
back_cŞÜ
.
a
 = 
¡yË
->
back_cŞÜ_a
;

224 
w
->
fÜe_cŞÜ
.
r
 = 
¡yË
->
fÜe_cŞÜ_r
;

225 
w
->
fÜe_cŞÜ
.
g
 = 
¡yË
->
fÜe_cŞÜ_g
;

226 
w
->
fÜe_cŞÜ
.
b
 = 
¡yË
->
fÜe_cŞÜ_b
;

227 
w
->
fÜe_cŞÜ
.
a
 = 
¡yË
->
fÜe_cŞÜ_a
;

229  
»s
;

230 
	}
}

232 *
	$widg‘_š™
(
si_t
 
id
)

234 
widg‘
 * 
addr
;

235 *
cÚfig_·th
;

238 
addr
 = (
widg‘
 *)
	`m®loc
((widget));

239 if(
addr
 =ğ
NULL
)

241 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

243  
NULL
;

246 
	`widg‘_š™_w™h_deçuÉ_¡yË
(

247 
cÚfig_·th
 = 
	`g‘_cÚfig_·th
("widget.cfg"),

248 
addr
, &
widg‘_deçuÉ_¡yË
, 
NULL
, 0);

249 
	`ä“
(
cÚfig_·th
);

251  
	`widg‘_š™_commÚ
(
addr
, 
id
);

252 
	}
}

254 *
	$widg‘_š™_commÚ
(
widg‘
 *
addr
, 
si_t
 
id
)

257 
addr
->
gd
 = 
	`g¿phics_deviû_š™
(0, 0, 0, 0, 0, 0 ,0 ,0 ,0);

260 if(
addr
->
gd
 == 0)

264 
	`ä“
(
addr
);

266  
NULL
;

270 
addr
->
·»Á
 = 
NULL
;

271 
addr
->
lchd
 = 
NULL
;

272 
addr
->
rchd
 = 
NULL
;

273 
addr
->
Çme
 = "struct widget";

274 
addr
->
id
 = id;

277 
addr
->
šput_’abË
 = 0;

280 
addr
->
upd©e_’abË
 = 1;

283 
addr
->
visibË
 = 1;

286 
addr
->
keybd_focus
 = 0;

289 
addr
->
is_wšdow
 = 0;

292 
addr
->
ÿÎback
 = 
NULL
;

294 
addr
->
msg_num
=0;

298  
addr
;

299 
	}
}

301 
si_t
 
	$widg‘_ex™
(
widg‘
 * 
w
)

303 
	`g¿phics_deviû_ex™
(
w
->
gd
);

305 
	`ä“
(
w
);

308 
	}
}

310 
si_t
 
	$widg‘_absŞu‹_coÜdš©e
(
widg‘
 * 
w
, 
si_t
 * 
x
, si_ˆ* 
y
)

312 
objeù
 * 
£lf
, * 
·»Á
;

314 
£lf
 = 
	`OBJECT_POINTER
(
w
);

315 *
x
 = 
w
->
¬—
.x;

316 *
y
 = 
w
->
¬—
.y;

317 if(
w
->
is_wšdow
) {

320 (
·»Á
 = 
	`objeù_·»Á
(
£lf
)è!ğ
NULL
)

322 *
x
 +ğ
	`WIDGET_POINTER
(
·»Á
)->
¬—
.x;

323 *
y
 +ğ
	`WIDGET_POINTER
(
·»Á
)->
¬—
.y;

325 
£lf
 = 
·»Á
;

326 if(
	`WIDGET_POINTER
(
·»Á
)->
is_wšdow
) {

331 
	}
}

333 
	$widg‘_£t_bounds
(
widg‘
* 
w
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
)

336 
w
->
¬—
.
x
 = (x >= 0 ? x : w->area.x);

337 
w
->
¬—
.
y
 = (y >= 0 ? y : w->area.y);

338 
w
->
¬—
.
width
 = (width >= 0 ? width : w->area.width);

339 
w
->
¬—
.
height
 = (height >= 0 ? height : w->area.height);

340 
	}
}

342 
	$widg‘_£t_cŞÜ
(
widg‘
* 
w
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
)

345 
w
->
fÜe_cŞÜ
 = (
NULL
 =ğ
fcŞÜ
 ? w->fore_color : *fcolor);

346 
w
->
back_cŞÜ
 = (
NULL
 =ğ
bcŞÜ
 ? w->back_color : *bcolor);

347 
	}
}

349 
	$widg‘_»·št
(
widg‘
* 
w
)

351 
mes§ge
 
msg
;

352 
msg
.
widg‘_»·št
.
ty³
 = 
MESSAGE_TYPE_WIDGET_REPAINT
;

353 
msg
.
widg‘_»·št
.
¬—
 = 
w
->area;

354 
w
->
	`ÿÎback
(w, &
msg
);

355 
	}
}

357 
	$widg‘_show
(
widg‘
* 
w
)

359 
mes§ge
 
msg
;

360 
msg
.
widg‘_show
.
ty³
 = 
MESSAGE_TYPE_WIDGET_SHOW
;

361 
w
->
	`ÿÎback
(w, &
msg
);

362 
	}
}

364 
si_t
 
	$g‘_fÚt_’um_äom_¡r
(cÚ¡ * 
¡r
)

366 if(
NULL
 =ğ
¡r
)

371 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_08"))

373  
FONT_MATRIX_08
;

375 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_10"))

377  
FONT_MATRIX_10
;

379 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_12"))

381  
FONT_MATRIX_12
;

383 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_14"))

385  
FONT_MATRIX_14
;

387 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_16"))

389  
FONT_MATRIX_16
;

391 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_20"))

393  
FONT_MATRIX_20
;

395 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_24"))

397  
FONT_MATRIX_24
;

399 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_28"))

401  
FONT_MATRIX_28
;

403 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_32"))

405  
FONT_MATRIX_32
;

407 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_40"))

409  
FONT_MATRIX_40
;

411 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_48"))

413  
FONT_MATRIX_48
;

415 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_56"))

417  
FONT_MATRIX_56
;

419 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_MATRIX_64"))

421  
FONT_MATRIX_64
;

423 if(0 =ğ
	`¡rcmp
(
¡r
, "FONT_VECTOR"))

425  
FONT_VECTOR
;

429 
	}
}

431 
si_t
 
	$g‘_cursÜ_’um_äom_¡r
(cÚ¡ * 
¡r
)

433 if(
NULL
 =ğ
¡r
)

438 if(0 =ğ
	`¡rcmp
(
¡r
, "CURSOR_SHAPE_X"))

440  
CURSOR_SHAPE_X
;

442 if(0 =ğ
	`¡rcmp
(
¡r
, "CURSOR_SHAPE_ARROW"))

444  
CURSOR_SHAPE_ARROW
;

446 if(0 =ğ
	`¡rcmp
(
¡r
, "CURSOR_SHAPE_HAND"))

448  
CURSOR_SHAPE_HAND
;

450 if(0 =ğ
	`¡rcmp
(
¡r
, "CURSOR_SHAPE_TEXT_INPUT"))

452  
CURSOR_SHAPE_TEXT_INPUT
;

454 if(0 =ğ
	`¡rcmp
(
¡r
, "CURSOR_SHAPE_TEXT_SELECT"))

456  
CURSOR_SHAPE_TEXT_SELECT
;

458 if(0 =ğ
	`¡rcmp
(
¡r
, "CURSOR_SHAPE_H_RESIZE"))

460  
CURSOR_SHAPE_H_RESIZE
;

462 if(0 =ğ
	`¡rcmp
(
¡r
, "CURSOR_SHAPE_V_RESIZE"))

464  
CURSOR_SHAPE_V_RESIZE
;

468 
	}
}

470 
si_t
 
widg‘_li¡’
(* 
w
,* 
m
, 
	$si_t
 (* 
»¥Ú£
)(*,*))

472 if(
w
 =ğ
NULL
)

474 
widg‘
 * 
£lf
 = 
w
;

479 
£lf
->
msg_fù
[£lf->
msg_num
].
msg_ty³
 = 
m
;

480 
£lf
->
msg_fù
[£lf->
msg_num
].
funùiÚ
 = 
»¥Ú£
;

481 
£lf
->
msg_num
=self->msg_num+1;

483 
	}
}

496 
si_t
 
widg‘_li¡’_cu¡om
(* 
w
, * 
¡r
, 
	$si_t
 (* 
»¥Ú£
)(*,*))

498 if(
w
 =ğ
NULL
)

501 
widg‘
 * 
£lf
 = 
w
;

502 
mes§ge
 * 
msg
 = (mes§g*)
	`m®loc
((message));

504 
msg
->
mes§ge_cu¡om
 = 
	`m®loc
(()*10);

505 
	`¡rıy
(
msg
->
mes§ge_cu¡om
,
¡r
);

506 
£lf
->
msg_fù
[£lf->
msg_num
].
msg_ty³
 = 
msg
;

507 
£lf
->
msg_fù
[£lf->
msg_num
].
funùiÚ
 = 
»¥Ú£
;

508 
£lf
->
msg_num
=self->msg_num+1;

510 
	}
}

512 
widg‘
* 
	$widg‘_Œigg”_sšgË
(
widg‘
* 
w
, 
mes§ge
* 
m
)

514 
i
;

515 
i
=0;i<
w
->
msg_num
;i++)

517 if(
	`¡rcmp
(
w
->
msg_fù
[
i
].
msg_ty³
->
mes§ge_cu¡om
,
m
->message_custom)==0)

519 
w
->
msg_fù
[
i
].
	`funùiÚ
(w, 
m
);

522  
NULL
;

523 
	}
}

525 
si_t
 
	$widg‘_Œigg”
(*
¡r
)

527 * 
a
 = 
	`m®loc
(()*10);

528 
mes§ge
 *
m
 = (mes§g*)
	`m®loc
((message));

529 
	`¡rıy
(
a
,
¡r
);

530 
m
->
mes§ge_cu¡om
=
a
;

531 
	`­¶iÿtiÚ_widg‘s_fÜ_—ch_deü—m’t_public
(
widg‘_Œigg”_sšgË
, 
m
);

533 
	}
}

	@widget/widget/widget.h

30 #iâdeà
_WBL_WIDGET_H_


31 
	#_WBL_WIDGET_H_
 1

	)

33 
	~"ba£_ty³.h
"

34 
	~"comm.h
"

35 
	~"g¿ph.h
"

37 
	sm­


39 
mes§ge
 *
	mmsg_ty³
;

40 
si_t
 (* 
funùiÚ
)(*, *);

52 
	#WIDGET_DEFINITION
 \

57 
OBJECT_DEFINITION
 \

62 
ui_t
 
gd
; \

67 
si_t
 
bÜd”_size
; \

72 
si_t
 
maximum_width
; \

77 
si_t
 
mšimum_width
; \

82 
si_t
 
maximum_height
; \

87 
si_t
 
mšimum_height
; \

94 
si_t
 
cursÜ
; \

100 
si_t
 
šput_’abË
; \

106 
si_t
 
upd©e_’abË
; \

111 
si_t
 
visibË
; \

116 
si_t
 
keybd_focus
; \

123 
si_t
 
is_wšdow
; \

128 
»ùªgË
 
¬—
; \

133 
cŞÜ
 
back_cŞÜ
; \

138 
cŞÜ
 
fÜe_cŞÜ
; \

143 
	`si_t
 (* 
ÿÎback
)(*, *);\

146 
m­
 
msg_fù
[29];\

149 
si_t
 
msg_num
;\

151 

	)

152 
	swidg‘


154 
	mWIDGET_DEFINITION


157 
	swidg‘_¡yË


160 
si_t
 
	mæag
;

163 
si_t
 
	m¬—_x
;

164 
si_t
 
	m¬—_y
;

165 
si_t
 
	m¬—_width
;

166 
si_t
 
	m¬—_height
;

169 
si_t
 
	mbÜd”_size
;

172 
si_t
 
	mmaximum_width
;

173 
si_t
 
	mmšimum_width
;

174 
si_t
 
	mmaximum_height
;

175 
si_t
 
	mmšimum_height
;

178 
si_t
 
	mcursÜ
;

181 
si_t
 
	mback_cŞÜ_r
;

182 
si_t
 
	mback_cŞÜ_g
;

183 
si_t
 
	mback_cŞÜ_b
;

184 
si_t
 
	mback_cŞÜ_a
;

187 
si_t
 
	mfÜe_cŞÜ_r
;

188 
si_t
 
	mfÜe_cŞÜ_g
;

189 
si_t
 
	mfÜe_cŞÜ_b
;

190 
si_t
 
	mfÜe_cŞÜ_a
;

193 
	ewidg‘_¡yË_ty³


195 
	mWIDGET_STYLE_TYPE_INT
,

196 
	mWIDGET_STYLE_TYPE_STR
,

197 
	mWIDGET_STYLE_TYPE_FLOAT
,

200 
	swidg‘_¡yË_’Œy


202 cÚ¡ *
	mkey
;

203 
widg‘_¡yË_ty³
 
	mty³
;

204 
addr_t
 
	mv®
;

207 (*
	twidg‘_ev’t_hªdËr
)(
	twidg‘
 *
	tsubsüib”
, widg‘ *
	tpublish”
, 
	tsi_t
 
	tev’t
);

212 
	swidg‘_subsüibe_šfo


217 
widg‘
* 
subsüib”
;

221 
widg‘
* 
publish”
;

225 
si_t
 
ev’t
;

230 
widg‘_ev’t_hªdËr
 
hªdËr
;

236 
	#WIDGET_POINTER
(
addr
è((
widg‘
 *)×ddr))

	)

249 
si_t
 
	`widg‘_deçuÉ_ÿÎback
(* 
£lf
,* 
msg
);

250 
si_t
 
	`widg‘_š™_w™h_deçuÉ_¡yË
(cÚ¡ *
·th
, 
widg‘
 * 
w
, 
widg‘_¡yË
 *
¡yË
, 
widg‘_¡yË_’Œy
 
exŒa
[], 
ui_t
 
exŒ®’
);

259 *
	`widg‘_š™
(
si_t
 
id
);

268 *
	`widg‘_š™_commÚ
(
widg‘
 *
w
, 
si_t
 
id
);

279 
si_t
 
	`widg‘_ex™
(
widg‘
 * 
w
);

290 
si_t
 
	`widg‘_absŞu‹_coÜdš©e
(
widg‘
 * 
w
, si_ˆ* 
x
, si_ˆ* 
y
);

303 
	`widg‘_£t_bounds
(
widg‘
 * widg‘, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
);

313 
	`widg‘_£t_cŞÜ
(
widg‘
* 
w
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
);

318 
	`widg‘_»·št
(
widg‘
* 
w
);

323 
	`widg‘_show
(
widg‘
* 
w
);

332 
si_t
 
	`g‘_fÚt_’um_äom_¡r
(cÚ¡ * 
¡r
);

341 
si_t
 
	`g‘_cursÜ_’um_äom_¡r
(cÚ¡ * 
¡r
);

343 
si_t
 
	`widg‘_li¡’
(* 
w
, * 
m
, 
	$si_t
 (* 
»¥Ú£
)(*,*));

347 
si_t
 
	`widg‘_li¡’_cu¡om
(* 
w
, * 
¡r
, 
	$si_t
 (* 
»¥Ú£
)(*,*));

349 
si_t
 
	`widg‘_Œigg”
(*
¡r
);

351 
widg‘
* 
	`widg‘_Œigg”_sšgË
(widg‘* 
w
, 
mes§ge
* 
m
);

	@widget/window/paint_window_decoration.c

30 
	~<¡ršg.h
>

32 
	~"ş›Á_lib.h
"

33 
	~"·št_wšdow_decÜ©iÚ.h
"

43 
	#PARITY
(
i
) \

44 (0X1 & (
i
))

	)

54 
si_t


55 
	g£t_wšdow_cŞÜ


56 (
wšdow
* 
	gw
,

57 
cŞÜ
* 
	gc
)

59 
	gr
 = 
c
->
r
;

60 
	gg
 = 
c
->
g
;

61 
	gb
 = 
c
->
b
;

62 
	ga
 = 
c
->
a
;

64 if(
	gw
->
	gis_aùiv©ed
)

66 
£t_cŞÜ
(
w
->
gd
, 
r
, 
g
, 
b
, 
a
);

73 
cŞÜ_lim™
 
	glim™
 = {0};

74 
g‘_cŞÜ_lim™
(&
lim™
);

75 
£t_cŞÜ
(
w
->
gd
,

76 (
r
 >ğ(
lim™
.
r_lim™
 >> 1)) ? (r) : (r + (limit.r_limit >> 1)),

77 (
g
 >ğ(
lim™
.
g_lim™
 >> 1)) ? (g) : (g + (limit.g_limit >> 1)),

78 (
b
 >ğ(
lim™
.
b_lim™
 >> 1)) ? (b) : (b + (limit.b_limit >> 1)),

79 
a
);

91 
si_t


92 
	g·št_wšdow_äame


93 (
wšdow
 * 
	gw
)

95 
si_t
 
	gi
, 
	gx
, 
	gy
, 
	gwidth
, 
	gheight
;

97 
	gx
 = 
w
->
¬—
.
x
 - 
wšdow_deçuÉ_¡yË
.
äame_size
;

98 
	gy
 = 
w
->
¬—
.
y
 - 
wšdow_deçuÉ_¡yË
.
äame_size
 - wšdow_deçuÉ_¡yË.
t™Ë_b¬_size
;

99 
	gwidth
 = 
w
->
¬—
.
width
 + 
wšdow_deçuÉ_¡yË
.
äame_size
 + window_default_style.frame_size;

100 
	gheight
 = 
w
->
¬—
.
height
 + 
wšdow_deçuÉ_¡yË
.
äame_size
 + wšdow_deçuÉ_¡yË.äame_siz+ wšdow_deçuÉ_¡yË.
t™Ë_b¬_size
;

102 
£t_¬—
(
w
->
gd
, 
x
, 
y
, 
width
, 
height
);

105 
£t_wšdow_cŞÜ
(
w
, &
wšdow_deçuÉ_¡yË
.
äame_cŞÜ
);

106 
	gi
 = 0; i < 
	gwšdow_deçuÉ_¡yË
.
	gäame_size
; ++ i)

108 
d¿w_»ùªgË
 (
w
->
gd
, 
x
 + 
i
, 
y
 + i, 
width
 - i - i, 
height
 - i - i);

121 
si_t


122 
	g·št_wšdow_m’u_bu‰Ú


123 (
wšdow
 * 
	gw
)

125 
si_t
 
	gi
, 
	gx
, 
	gy
, 
	gwidth
, 
	gheight
;

127 
	gx
 = 
w
->
¬—
.
x
;

128 
	gy
 = 
w
->
¬—
.
y
 - 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

129 
	gwidth
 = 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

130 
	gheight
 = 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

132 
£t_¬—
(
w
->
gd
, 
x
, 
y
, 
width
, 
height
);

137 if(
	gw
->
	gicÚ_·th
 !ğ
NULL
)

139 
d¿w_img
(
w
->
gd
, w->
icÚ_·th
, 
ALIGN_HORIZONTAL_TYPE_CENTER
 | 
ALIGN_VERTICAL_TYPE_CENTER
);

144 
£t_wšdow_cŞÜ
(
w
, &
wšdow_deçuÉ_¡yË
.
m’u_b¬_backcŞÜ
);

145 
fl_»ùªgË
(
w
->
gd
, 
x
, 
y
, 
width
, 
height
);

149 
£t_wšdow_cŞÜ
(
w
, &
wšdow_deçuÉ_¡yË
.
m’u_b¬_äame_cŞÜ
);

150 
	gi
 = 0; i < 
	gwšdow_deçuÉ_¡yË
.
	gäame_size
; ++ i)

152 
d¿w_»ùªgË
(
w
->
gd
, 
x
 + 
i
, 
y
 + i, 
width
 - i - i, 
height
 - i - i);

156 
£t_¬—
(
w
->
gd
, w->
¬—
.
x
, w->¬—.
y
, w->¬—.
width
, w->¬—.
height
);

168 
si_t


169 
	g·št_wšdow_t™Ë_b¬


170 (
wšdow
 * 
	gw
)

172 
si_t
 
	gi
, 
	gx
, 
	gy
, 
	gwidth
, 
	gheight
;

174 
	gx
 = 
w
->
¬—
.
x
 + 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

175 
	gy
 = 
w
->
¬—
.
y
 - 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

176 
	gwidth
 = 
w
->
¬—
.
width
 - 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
 - window_default_style.title_bar_size;

177 
	gheight
 = 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

179 if(
	gw
->
	gmšimize_’abË
 == 1)

181 
width
 -ğ
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

183 if(
	gw
->
	gmaximize_’abË
 == 1)

185 
width
 -ğ
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

188 
£t_¬—
(
w
->
gd
, 
x
, 
y
, 
width
, 
height
);

191 
£t_wšdow_cŞÜ
(
w
, &
wšdow_deçuÉ_¡yË
.
m’u_b¬_backcŞÜ
);

192 
fl_»ùªgË
(
w
->
gd
, 
x
, 
y
, 
width
, 
height
);

195 
£t_wšdow_cŞÜ
(
w
, &
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_fÚt_cŞÜ
);

196 
£t_fÚt
(
w
->
gd
, 
FONT_MATRIX_12
);

198 
show_‹xt
(
w
->
gd
, 
x
 + 
wšdow_deçuÉ_¡yË
.
äame_size
, 
y
 + wšdow_deçuÉ_¡yË.äame_size, w->
t™Ë
, 
¡¾’
(w->title));

201 
£t_wšdow_cŞÜ
(
w
, &
wšdow_deçuÉ_¡yË
.
m’u_b¬_äame_cŞÜ
);

202 
	gi
 = 0; i < 
	gwšdow_deçuÉ_¡yË
.
	gäame_size
; ++ i)

204 
d¿w_»ùªgË
(
w
->
gd
, 
x
 + 
i
, 
y
 + i, 
width
 - i - i, 
height
 - i - i);

217 
si_t


218 
	g·št_wšdow_mšimize_bu‰Ú


219 (
wšdow
 * 
	gw
)

221 
si_t
 
	gi
, 
	gx
, 
	gy
, 
	gwidth
, 
	gheight
;

223 if(
	gw
->
	gmšimize_’abË
 == 1)

225 
x
 = 
w
->
¬—
.x + w->¬—.
width
 - 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
 - window_default_style.title_bar_size - window_default_style.title_bar_size;

226 
	gy
 = 
w
->
¬—
.
y
 - 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

227 
	gwidth
 = 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

228 
	gheight
 = 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

230 
£t_¬—
(
w
->
gd
, 
x
, 
y
, 
width
, 
height
);

233 
£t_wšdow_cŞÜ
(
w
, &
wšdow_deçuÉ_¡yË
.
m’u_b¬_backcŞÜ
);

234 
fl_»ùªgË
(
w
->
gd
, 
x
, 
y
, 
width
, 
height
);

237 
£t_wšdow_cŞÜ
(
w
, &
wšdow_deçuÉ_¡yË
.
m’u_b¬_äame_cŞÜ
);

238 
	gi
 = 0; i < 
	gwšdow_deçuÉ_¡yË
.
	gäame_size
; ++ i)

240 
d¿w_»ùªgË
(
w
->
gd
, 
x
 + 
i
, 
y
 + i, 
width
 - i - i, 
height
 - i - i);

244 if(
PARITY
(
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
) == 0)

246 
d¿w_»ùªgË
(
w
->
gd
, 
x
 + (
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
 >> 1è- 1, 
y
 + (window_default_style.title_bar_size >> 1) - 1, 2, 2);

251 
d¿w_pošt
(
w
->
gd
, 
x
 + (
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
 >> 1), 
y
 + (window_default_style.title_bar_size >> 1));

265 
si_t


266 
	g·št_wšdow_maximize_bu‰Ú


267 (
wšdow
 * 
	gw
)

269 
si_t
 
	gi
, 
	gx
, 
	gy
, 
	gwidth
, 
	gheight
;

271 if(
	gw
->
	gmaximize_’abË
 == 1)

273 
x
 = 
w
->
¬—
.x + w->¬—.
width
 - 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
 - window_default_style.title_bar_size;

274 
	gy
 = 
w
->
¬—
.
y
 - 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

275 
	gwidth
 = 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

276 
	gheight
 = 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

278 
£t_¬—
(
w
->
gd
, 
x
, 
y
, 
width
, 
height
);

281 
£t_wšdow_cŞÜ
(
w
, &
wšdow_deçuÉ_¡yË
.
m’u_b¬_backcŞÜ
);

282 
fl_»ùªgË
(
w
->
gd
, 
x
, 
y
, 
width
, 
height
);

285 
£t_wšdow_cŞÜ
(
w
, &
wšdow_deçuÉ_¡yË
.
m’u_b¬_äame_cŞÜ
);

286 
	gi
 = 0; i < 
	gwšdow_deçuÉ_¡yË
.
	gäame_size
; ++ i)

288 
d¿w_»ùªgË
(
w
->
gd
, 
x
 + 
i
, 
y
 + i, 
width
 - i - i, 
height
 - i - i);

291 
d¿w_lše
(
w
->
gd
,

292 
x
 + (
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
 >> 1),

293 
y
,

294 
x
 + (
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
 >> 1),

295 
y
 + (
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
 >> 1));

297 
d¿w_lše
(
w
->
gd
,

298 
x
,

299 
y
 + (
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
 >> 1),

300 
x
 + (
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
 >> 1),

301 
y
 + (
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
 >> 1));

314 
si_t


315 
	g·št_wšdow_şo£_bu‰Ú


316 (
wšdow
 * 
	gw
)

318 
si_t
 
	gi
, 
	gx
, 
	gy
, 
	gwidth
, 
	gheight
;

320 
	gx
 = 
w
->
¬—
.
x
 + w->¬—.
width
 - 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

321 
	gy
 = 
w
->
¬—
.
y
 - 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

322 
	gwidth
 = 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

323 
	gheight
 = 
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
;

325 
£t_¬—
(
w
->
gd
, 
x
, 
y
, 
width
, 
height
);

328 
£t_wšdow_cŞÜ
(
w
, &
wšdow_deçuÉ_¡yË
.
m’u_b¬_backcŞÜ
);

329 
fl_»ùªgË
(
w
->
gd
, 
x
, 
y
, 
width
, 
height
);

332 
£t_wšdow_cŞÜ
(
w
, &
wšdow_deçuÉ_¡yË
.
m’u_b¬_äame_cŞÜ
);

333 
	gi
 = 0; i < 
	gwšdow_deçuÉ_¡yË
.
	gäame_size
; ++ i)

335 
d¿w_»ùªgË
(
w
->
gd
, 
x
 + 
i
, 
y
 + i, 
width
 - i - i, 
height
 - i - i);

338 
d¿w_lše
(
w
->
gd
, 
x
 + 1, 
y
 + 1, x + 
width
 - 2, y + 
height
 - 2);

339 
d¿w_lše
(
w
->
gd
, 
x
 + 
width
 - 2, 
y
 + 1, x + 1, y + 
height
 - 2);

344 
si_t
 
	$·št_wšdow_decÜ©iÚ
(
wšdow
 * 
w
)

346 
	`·št_wšdow_äame
(
w
);

347 
	`·št_wšdow_m’u_bu‰Ú
(
w
);

348 
	`·št_wšdow_t™Ë_b¬
(
w
);

349 
	`·št_wšdow_mšimize_bu‰Ú
(
w
);

350 
	`·št_wšdow_maximize_bu‰Ú
(
w
);

351 
	`·št_wšdow_şo£_bu‰Ú
(
w
);

354 
	}
}

	@widget/window/paint_window_decoration.h

30 #iâdeà
PAINT_WINDOW_DECORATION_H


31 
	#PAINT_WINDOW_DECORATION_H
 1

	)

33 
	~"wšdow.h
"

35 
si_t
 
·št_wšdow_decÜ©iÚ
(
wšdow
 * 
w
);

	@widget/window/window.c

30 
	~<¡dio.h
>

31 
	~<¡dlib.h
>

33 
	~<ba£_ty³.h
>

34 
	~<cÚfig_·r£r.h
>

35 
	~<log.h
>

36 
	~<comm.h
>

37 
	~<ş›Á_lib.h
>

38 
	~"comp”.h
"

40 
	~"wšdow.h
"

41 
	~"·št_wšdow_decÜ©iÚ.h
"

44 
	#TMP_ARRAY_SIZE
 256

	)

50 
wšdow_¡yË
 
	gwšdow_deçuÉ_¡yË
 =

69 
CURSOR_SHAPE_X
,

100 
FONT_MATRIX_12


111 
si_t
 
	$wšdow_š™_w™h_deçuÉ_¡yË
(
wšdow
 * 
w
)

113 *
cÚfig_·th
 = 
	`g‘_cÚfig_·th
("window.cfg");

114 
tmp_¡r
[
TMP_ARRAY_SIZE
] = {'\0'};

115 
si_t
 
tmp_št
;

116 
widg‘_¡yË_’Œy
 
exŒa
[] = {

117 {.
key
="maximize_’abË", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

118 .
v®
=&(
wšdow_deçuÉ_¡yË
.
maximize_’abË
)},

119 {.
key
="mšimize_’abË", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

120 .
v®
=&(
wšdow_deçuÉ_¡yË
.
mšimize_’abË
)},

121 {.
key
="is_fuÎ_sü“n", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

122 .
v®
=&(
wšdow_deçuÉ_¡yË
.
is_fuÎ_sü“n
)},

124 {.
key
="äame_size", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

125 .
v®
=&(
wšdow_deçuÉ_¡yË
.
äame_size
)},

126 {.
key
="t™Ë_b¬_size", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

127 .
v®
=&(
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_size
)},

129 {.
key
="äame_cŞÜ_r", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

130 .
v®
=&(
wšdow_deçuÉ_¡yË
.
äame_cŞÜ
.
r
)},

131 {.
key
="äame_cŞÜ_g", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

132 .
v®
=&(
wšdow_deçuÉ_¡yË
.
äame_cŞÜ
.
g
)},

133 {.
key
="äame_cŞÜ_b", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

134 .
v®
=&(
wšdow_deçuÉ_¡yË
.
äame_cŞÜ
.
b
)},

135 {.
key
="äame_cŞÜ_a", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

136 .
v®
=&(
wšdow_deçuÉ_¡yË
.
äame_cŞÜ
.
a
)},

138 {.
key
="m’u_b¬_backcŞÜ_r", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

139 .
v®
=&(
wšdow_deçuÉ_¡yË
.
m’u_b¬_backcŞÜ
.
r
)},

140 {.
key
="m’u_b¬_backcŞÜ_g", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

141 .
v®
=&(
wšdow_deçuÉ_¡yË
.
m’u_b¬_backcŞÜ
.
g
)},

142 {.
key
="m’u_b¬_backcŞÜ_b", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

143 .
v®
=&(
wšdow_deçuÉ_¡yË
.
m’u_b¬_backcŞÜ
.
b
)},

144 {.
key
="m’u_b¬_backcŞÜ_a", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

145 .
v®
=&(
wšdow_deçuÉ_¡yË
.
m’u_b¬_backcŞÜ
.
a
)},

147 {.
key
="m’u_b¬_äame_cŞÜ_r", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

148 .
v®
=&(
wšdow_deçuÉ_¡yË
.
m’u_b¬_äame_cŞÜ
.
r
)},

149 {.
key
="m’u_b¬_äame_cŞÜ_g", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

150 .
v®
=&(
wšdow_deçuÉ_¡yË
.
m’u_b¬_äame_cŞÜ
.
g
)},

151 {.
key
="m’u_b¬_äame_cŞÜ_b", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

152 .
v®
=&(
wšdow_deçuÉ_¡yË
.
m’u_b¬_äame_cŞÜ
.
b
)},

153 {.
key
="m’u_b¬_äame_cŞÜ_a", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

154 .
v®
=&(
wšdow_deçuÉ_¡yË
.
m’u_b¬_äame_cŞÜ
.
a
)},

156 {.
key
="t™Ë_b¬_fÚt_cŞÜ_r", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

157 .
v®
=&(
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_fÚt_cŞÜ
.
r
)},

158 {.
key
="t™Ë_b¬_fÚt_cŞÜ_g", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

159 .
v®
=&(
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_fÚt_cŞÜ
.
g
)},

160 {.
key
="t™Ë_b¬_fÚt_cŞÜ_b", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

161 .
v®
=&(
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_fÚt_cŞÜ
.
b
)},

162 {.
key
="t™Ë_b¬_fÚt_cŞÜ_a", .
ty³
=
WIDGET_STYLE_TYPE_INT
,

163 .
v®
=&(
wšdow_deçuÉ_¡yË
.
t™Ë_b¬_fÚt_cŞÜ
.
a
)},

165 {.
key
="t™Ë_fÚt", .
ty³
=
WIDGET_STYLE_TYPE_STR
, .
v®
=
tmp_¡r
},

168 
si_t
 
»s
 = 
	`widg‘_š™_w™h_deçuÉ_¡yË
(
cÚfig_·th
,

169 
	`WIDGET_POINTER
(
w
), &
wšdow_deçuÉ_¡yË
.
commÚ
,

170 
exŒa
, (extra)/(extra[0]));

171 
	`ä“
(
cÚfig_·th
);

173 if((
tmp_št
 = 
	`g‘_fÚt_’um_äom_¡r
(
tmp_¡r
)) >= 0) {

174 
wšdow_deçuÉ_¡yË
.
t™Ë_fÚt
 = 
tmp_št
;

178 
w
->
mšimize_’abË
 = 
wšdow_deçuÉ_¡yË
.minimize_enable;

179 
w
->
maximize_’abË
 = 
wšdow_deçuÉ_¡yË
.maximize_enable;

180 
w
->
is_fuÎ_sü“n
 = 
wšdow_deçuÉ_¡yË
.is_full_screen;

182  
»s
;

183 
	}
}

186 
si_t
 
	$wšdow_deçuÉ_widg‘_show
(
wšdow
 * 
w
, 
mes§ge
 * 
msg
)

188 
	`NOT_USED
(
msg
);

190 
£t_¬—


191 (
w
->
gd
,

192 
w
->
¬—
.
x
 - 
wšdow_deçuÉ_¡yË
.
äame_size
,

193 
w
->
¬—
.
y
 - 
wšdow_deçuÉ_¡yË
.
äame_size
 - wšdow_deçuÉ_¡yË.
t™Ë_b¬_size
,

194 
w
->
¬—
.
width
 + 
wšdow_deçuÉ_¡yË
.
äame_size
 + window_default_style.frame_size,

195 
w
->
¬—
.
height
 + 
wšdow_deçuÉ_¡yË
.
äame_size
 + wšdow_deçuÉ_¡yË.äame_siz+ wšdow_deçuÉ_¡yË.
t™Ë_b¬_size
);

207 
	`upd©e
(
w
->
gd
);

209 
	}
}

211 
si_t
 
	$wšdow_deçuÉ_widg‘_»·št
(
wšdow
 * 
w
, 
mes§ge
 * 
msg
)

213 
»ùªgË
 
»®_¬—
;

222 if(
w
->
¡©us
 =ğ
WINDOW_STATUS_MINMIZED_NORMAL


223 || 
w
->
¡©us
 =ğ
WINDOW_STATUS_MINIMIZED_MAXIMIZED
)

228 if(
w
->
visibË
)

230 
	`¬—_š‹r£ùiÚ
(&(
w
->
¬—
), &(
msg
->
widg‘_»·št
.¬—), &
»®_¬—
);

233 
£t_¬—


234 (
w
->
gd
,

235 
»®_¬—
.
x
,

236 
»®_¬—
.
y
,

237 
»®_¬—
.
width
,

238 
»®_¬—
.
height
);

241 
£t_cŞÜ


242 (
w
->
gd
,

243 
w
->
back_cŞÜ
.
r
,

244 
w
->
back_cŞÜ
.
g
,

245 
w
->
back_cŞÜ
.
b
,

246 
w
->
back_cŞÜ
.
a
);

248 
fl_»ùªgË


249 (
w
->
gd
,

250 
»®_¬—
.
x
,

251 
»®_¬—
.
y
,

252 
»®_¬—
.
width
,

253 
»®_¬—
.
height
);

256 
	`·št_wšdow_decÜ©iÚ
(
w
);

260 
	}
}

262 
si_t
 
	$wšdow_deçuÉ_widg‘_move
(
wšdow
 * 
w
, 
mes§ge
 * 
msg
)

265 
w
->
¬—
.
x
 = 
msg
->
widg‘_move
.
pos™iÚ
.x;

266 
w
->
¬—
.
y
 = 
msg
->
widg‘_move
.
pos™iÚ
.y;

268 
move_wšdow


269 (
w
->
desütÜ
,

270 
w
->
¬—
.
x
,

271 
w
->
¬—
.
y
);

274 
	}
}

276 
si_t
 
	$wšdow_deçuÉ_widg‘_»size
(
wšdow
 * 
w
, 
mes§ge
 * 
msg
)

279 
w
->
¬—
.
x
 = 
msg
->
widg‘_»size
.area.x;

280 
w
->
¬—
.
y
 = 
msg
->
widg‘_»size
.area.y;

281 
w
->
¬—
.
width
 = 
msg
->
widg‘_»size
.area.width;

282 
w
->
¬—
.
height
 = 
msg
->
widg‘_»size
.area.height;

284 
»size_wšdow


285 (
w
->
desütÜ
,

286 
w
->
¬—
.
x
,

287 
w
->
¬—
.
y
,

288 
w
->
¬—
.
width
,

289 
w
->
¬—
.
height
);

292 
	}
}

294 
si_t
 
	$wšdow_deçuÉ_wšdow_mšimize
(
wšdow
 * 
w
, 
mes§ge
 * 
msg
)

296 
	`NOT_USED
(
msg
);

297 if(
w
->
mšimize_’abË
 == 0)

309 if(
w
->
¡©us
 =ğ
WINDOW_STATUS_MAXIMIZED
)

311 
w
->
¡©us
 = 
WINDOW_STATUS_MINIMIZED_MAXIMIZED
;

313 ià(
w
->
¡©us
 =ğ
WINDOW_STATUS_NORMAL
)

315 
w
->
»¡Üe_¬—
.
x
 = w->
¬—
.x;

316 
w
->
»¡Üe_¬—
.
y
 = w->
¬—
.y;

317 
w
->
»¡Üe_¬—
.
width
 = w->
¬—
.width;

318 
w
->
»¡Üe_¬—
.
height
 = w->
¬—
.height;

320 
w
->
¡©us
 = 
WINDOW_STATUS_MINMIZED_NORMAL
;

327 
	`mšimize_wšdow
(
w
->
desütÜ
);

330 
	}
}

332 
si_t
 
	$wšdow_deçuÉ_wšdow_maximize
(
wšdow
 * 
w
, 
mes§ge
 * 
msg
)

334 
	`NOT_USED
(
msg
);

335 if(
w
->
maximize_’abË
 == 0)

347 if(
w
->
¡©us
 =ğ
WINDOW_STATUS_NORMAL
)

349 
w
->
»¡Üe_¬—
.
x
 = w->
¬—
.x;

350 
w
->
»¡Üe_¬—
.
y
 = w->
¬—
.y;

351 
w
->
»¡Üe_¬—
.
width
 = w->
¬—
.width;

352 
w
->
»¡Üe_¬—
.
height
 = w->
¬—
.height;

354 
	`maximize_wšdow
(
w
->
desütÜ
, &(w->
¬—
));

356 
w
->
¡©us
 = 
WINDOW_STATUS_MAXIMIZED
;

360 
	}
}

362 
si_t
 
	$wšdow_deçuÉ_wšdow_»¡Üe
(
wšdow
 * 
w
, 
mes§ge
 * 
msg
)

364 
	`NOT_USED
(
msg
);

372 
w
->
¡©us
)

374 
WINDOW_STATUS_MAXIMIZED
:

375 
w
->
¬—
.
x
 = w->
»¡Üe_¬—
.x;

376 
w
->
¬—
.
y
 = w->
»¡Üe_¬—
.y;

377 
w
->
¬—
.
width
 = w->
»¡Üe_¬—
.width;

378 
w
->
¬—
.
height
 = w->
»¡Üe_¬—
.height;

379 
	`»¡Üe_wšdow
(
w
->
desütÜ
, &w->
»¡Üe_¬—
);

380 
w
->
¡©us
 = 
WINDOW_STATUS_NORMAL
;

383 
WINDOW_STATUS_NORMAL
:

386 
WINDOW_STATUS_MINMIZED_NORMAL
:

387 
w
->
¬—
.
x
 = w->
»¡Üe_¬—
.x;

388 
w
->
¬—
.
y
 = w->
»¡Üe_¬—
.y;

389 
w
->
¬—
.
width
 = w->
»¡Üe_¬—
.width;

390 
w
->
¬—
.
height
 = w->
»¡Üe_¬—
.height;

391 
	`»¡Üe_wšdow
(
w
->
desütÜ
, &w->
»¡Üe_¬—
);

392 
w
->
¡©us
 = 
WINDOW_STATUS_NORMAL
;

395 
WINDOW_STATUS_MINIMIZED_MAXIMIZED
:

396 
w
->
¡©us
 = 
WINDOW_STATUS_MAXIMIZED
;

397 
	`maximize_wšdow
(
w
->
desütÜ
, &(w->
¬—
));

405 
	}
}

407 
si_t
 
	$wšdow_deçuÉ_wšdow_aùiv©e
(
wšdow
 * 
w
, 
mes§ge
 * 
msg
)

416 if(
w
->
¡©us
 =ğ
WINDOW_STATUS_MINMIZED_NORMAL


417 || 
w
->
¡©us
 =ğ
WINDOW_STATUS_MINIMIZED_MAXIMIZED
)

419 
	`wšdow_deçuÉ_wšdow_»¡Üe
(
w
, 
msg
);

422 if(
w
->
visibË
 && !w->
is_aùiv©ed
)

424 
w
->
is_aùiv©ed
 = 1;

429 
	`·št_wšdow_decÜ©iÚ
(
w
);

431 
	`wšdow_deçuÉ_widg‘_show
(
w
, 
msg
);

434 
w
->
is_aùiv©ed
 = 1;

436 
	}
}

438 
si_t
 
	$wšdow_deçuÉ_wšdow_d—ùiv©e
(
wšdow
 * 
w
, 
mes§ge
 * 
msg
)

440 
	`NOT_USED
(
msg
);

448 if(
w
->
¡©us
 =ğ
WINDOW_STATUS_MINMIZED_NORMAL


449 || 
w
->
¡©us
 =ğ
WINDOW_STATUS_MINIMIZED_MAXIMIZED
)

454 if(
w
->
visibË
 && w->
is_aùiv©ed
)

456 
si_t
 
x
, 
y
, 
width
, 
height
;

457 
w
->
is_aùiv©ed
 = 0;

459 
	`·št_wšdow_decÜ©iÚ
(
w
);

462 
x
 = 
w
->
¬—
.x - 
wšdow_deçuÉ_¡yË
.
äame_size
;

463 
y
 = 
w
->
¬—
.y - 
wšdow_deçuÉ_¡yË
.
äame_size
 - wšdow_deçuÉ_¡yË.
t™Ë_b¬_size
;

464 
width
 = 
w
->
¬—
.width + 
wšdow_deçuÉ_¡yË
.
äame_size
 + window_default_style.frame_size;

465 
height
 = 
w
->
¬—
.heighˆ+ 
wšdow_deçuÉ_¡yË
.
äame_size
 + wšdow_deçuÉ_¡yË.äame_siz+ wšdow_deçuÉ_¡yË.
t™Ë_b¬_size
;

466 
	`£t_¬—
(
w
->
gd
, 
x
, 
y
, 
width
, 
height
);

468 
	`upd©e
(
w
->
gd
);

470 
w
->
is_aùiv©ed
 = 0;

473 
	}
}

475 
si_t
 
	$wšdow_deçuÉ_ÿÎback
(
addr_t
 
w
,‡ddr_ˆ
m
)

477 
wšdow
 * 
£lf
 = 
w
;

478 
mes§ge
 * 
msg
 = 
m
;

480 
	`widg‘_deçuÉ_ÿÎback
(
£lf
, 
msg
);

482 
msg
->
ba£
.
ty³
)

484 
MESSAGE_TYPE_WIDGET_SHOW
:

488 
	`wšdow_deçuÉ_widg‘_show
(
£lf
, 
msg
);

492 
MESSAGE_TYPE_WIDGET_REPAINT
:

496 
	`wšdow_deçuÉ_widg‘_»·št
(
£lf
, 
msg
);

497 
	`wšdow_deçuÉ_widg‘_show
(
£lf
, 
msg
);

500 
MESSAGE_TYPE_WIDGET_MOVE
:

504 
	`wšdow_deçuÉ_widg‘_move
(
£lf
, 
msg
);

507 
MESSAGE_TYPE_WIDGET_RESIZE
:

511 
	`wšdow_deçuÉ_widg‘_»size
(
£lf
, 
msg
);

514 
MESSAGE_TYPE_WINDOW_ACTIVATE
:

518 
	`wšdow_deçuÉ_wšdow_aùiv©e
(
£lf
, 
msg
);

521 
MESSAGE_TYPE_WINDOW_DEACTIVATE
:

525 
	`wšdow_deçuÉ_wšdow_d—ùiv©e
(
£lf
, 
msg
);

528 
MESSAGE_TYPE_WINDOW_MINIMIZE
:

532 
	`wšdow_deçuÉ_wšdow_mšimize
(
£lf
, 
msg
);

535 
MESSAGE_TYPE_WINDOW_MAXIMIZE
:

539 
	`wšdow_deçuÉ_wšdow_maximize
(
£lf
, 
msg
);

542 
MESSAGE_TYPE_WINDOW_RESTORE
:

546 
	`wšdow_deçuÉ_wšdow_»¡Üe
(
£lf
, 
msg
);

554 
	}
}

556 
	$wšdow_»·št
(
wšdow
* 
w
)

558 
	`widg‘_»·št
(
	`WIDGET_POINTER
(
w
));

559 
	}
}

561 
	$wšdow_show
(
wšdow
* 
w
)

563 
	`widg‘_show
(
	`WIDGET_POINTER
(
w
));

564 
	}
}

566 
wšdow
* 
	$wšdow_š™
(* 
t™Ë
)

568 
wšdow
 * 
addr
;

570 
addr
 = (
wšdow
 *)
	`m®loc
((window));

572 if(
addr
 =ğ
NULL
)

574 
	`EGUI_PRINT_SYS_ERROR
("failo malloc");

575  
addr
;

578 if(!(
addr
=
	`widg‘_š™_commÚ
(
	`WIDGET_POINTER
(addr), 0))) {

579  
NULL
;

582 
addr
->
Çme
 = "struct window";

585 
addr
->
is_wšdow
 = 1;

588 
addr
->
is_aùiv©ed
 = 0;

591 
addr
->
¡©us
 = 
WINDOW_STATUS_NORMAL
;

594 
addr
->
mod®
 = 0;

596 
addr
->
t™Ë
 =itle;

598 
addr
->
icÚ_·th
 = 
NULL
;

601 
addr
->
desütÜ
 = 0;

604 
	`wšdow_š™_w™h_deçuÉ_¡yË
(
addr
);

607 
addr
->
ÿÎback
 = 
wšdow_deçuÉ_ÿÎback
;

609  
addr
;

610 
	}
}

612 
si_t
 
	$wšdow_ex™
(
wšdow
 * 
w
)

614  
	`widg‘_ex™
(
	`WIDGET_POINTER
(
w
));

615 
	}
}

617 
	$wšdow_£t_bounds
(
wšdow
 *
w
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
)

619 
	`widg‘_£t_bounds
(
	`WIDGET_POINTER
(
w
), 
x
, 
y
, 
width
, 
height
);

620 
	}
}

622 
	$wšdow_£t_cŞÜ
(
wšdow
* 
w
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
)

624 
	`widg‘_£t_cŞÜ
(
	`WIDGET_POINTER
(
w
), 
fcŞÜ
, 
bcŞÜ
);

625 
	}
}

	@widget/window/window.h

30 #iâdeà
_WINDOW_H_


31 
	#_WINDOW_H_
 1

	)

33 
	~<ba£_ty³.h
>

34 
	~<comm.h
>

36 
	~"../widg‘/widg‘.h
"

46 
	#WINDOW_DEFINITION
 \

50 
WIDGET_DEFINITION
 \

57 
si_t
 
desütÜ
; \

62 
si_t
 
mod®
; \

67 * 
t™Ë
; \

72 * 
icÚ_·th
; \

77 
si_t
 
maximize_’abË
; \

82 
si_t
 
mšimize_’abË
; \

87 
si_t
 
is_fuÎ_sü“n
; \

92 
si_t
 
is_aùiv©ed
; \

97 
si_t
 
¡©us
; \

102 
»ùªgË
 
»¡Üe_¬—
;

	)

104 
	swšdow


106 
	mWINDOW_DEFINITION


110 
	swšdow_¡yË


112 
widg‘_¡yË
 
	mcommÚ
;

115 
si_t
 
	mmaximize_’abË
;

116 
si_t
 
	mmšimize_’abË
;

117 
si_t
 
	mis_fuÎ_sü“n
;

120 
si_t
 
	mäame_size
;

121 
si_t
 
	mt™Ë_b¬_size
;

124 
cŞÜ
 
	mäame_cŞÜ
;

127 
cŞÜ
 
	mm’u_b¬_backcŞÜ
;

130 
cŞÜ
 
	mm’u_b¬_äame_cŞÜ
;

133 
cŞÜ
 
	mt™Ë_b¬_fÚt_cŞÜ
;

136 
si_t
 
	mt™Ë_fÚt
;

139 
wšdow_¡yË
 
wšdow_deçuÉ_¡yË
;

144 
	#WINDOW_POINTER
(
addr
è((
wšdow
 *)×ddr))

	)

146 
	e__wšdow_¡©us__


151 
	mWINDOW_STATUS_MAXIMIZED
 = 0,

155 
	mWINDOW_STATUS_NORMAL
,

159 
	mWINDOW_STATUS_MINMIZED_NORMAL
,

163 
	mWINDOW_STATUS_MINIMIZED_MAXIMIZED
,

165 
	mWINDOW_STATUS_QUANTITY


168 
si_t
 
wšdow_deçuÉ_ÿÎback
(
addr_t
 
w
,‡ddr_ˆ
m
);

173 
wšdow_»·št
(
wšdow
* 
w
);

178 
wšdow_show
(
wšdow
* 
w
);

187 
wšdow
* 
wšdow_š™
(* 
t™Ë
);

196 
si_t
 
wšdow_ex™
(
wšdow
 * 
w
);

209 
wšdow_£t_bounds
(
wšdow
* 
w
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
width
 , si_ˆ
height
);

219 
wšdow_£t_cŞÜ
(
wšdow
* 
w
, 
cŞÜ
* 
fcŞÜ
, cŞÜ* 
bcŞÜ
);

	@widget/window/window_status.h

30 #iâdeà
_WINDOW_STATUS_H_


31 
	#_WINDOW_STATUS_H_
 1

	)

	@window_manager/application_info.c

30 
	~"­¶iÿtiÚ_šfo.h
"

31 
	~<¡dlib.h
>

33 
	~"log.h
"

35 
si_t
 
	$­¶iÿtiÚ_šfo_£t
(
­¶iÿtiÚ_šfo
* 
­p_šfo_±r
, 
si_t
 
video_acûss_mode
, si_ˆ
­¶iÿtiÚ_ty³
, * 
­p_Çme
)

40 
­p_šfo_±r
->
sü“n
 = 
glob®_sü“n
;

41 
­p_šfo_±r
->
sü“n
.
video_acûss_mode
 = video_access_mode;

42 
­p_šfo_±r
->
sü“n
.
memÜy_addr
 = 
glob®_sü“n
.
bufãr_addr
;

44 if(
video_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_BUFFER
)

46 
­p_šfo_±r
->
sü“n
.
bufãr_addr
 = (
by‹_t
 *)
	`m®loc
×µ_šfo_±r->sü“n.
size
);

47 if(
­p_šfo_±r
->
sü“n
.
bufãr_addr
 =ğ
NULL
)

49 
	`EGUI_PRINT_SYS_ERROR
("failedo malloc for screen buffer. malloc()");

53 
	`mem£t
(
­p_šfo_±r
->
sü“n
.
bufãr_addr
, 0,‡µ_šfo_±r->sü“n.
size
);

55 if(
video_acûss_mode
 =ğ
VIDEO_ACCESS_MODE_DIRECT
)

57 
­p_šfo_±r
->
sü“n
.
bufãr_addr
 = 
NULL
;

60 
­p_šfo_±r
->
­¶iÿtiÚ_ty³
 =‡pplication_type;

64 
­p_šfo_±r
->
Çme
 = 
	`m®loc
(
	`¡¾’
(
­p_Çme
) + 1);

65 if(
NULL
 =ğ
­p_šfo_±r
->
Çme
)

67 
	`EGUI_PRINT_SYS_ERROR
("çedØm®loøfÜ‡µliÿtiÚ‚am%s. m®loc()", 
­p_Çme
);

70 
	`¡ºıy
(
­p_šfo_±r
->
Çme
, 
­p_Çme
, 
	`¡¾’
(app_name + 1));

73 
	}
}

75 
	$­¶iÿtiÚ_šfo_š™
(
­¶iÿtiÚ_šfo
* 
­p_šfo_±r
)

78 
	`mem£t
(
­p_šfo_±r
, 0, (
­¶iÿtiÚ_šfo
));

81 
	`veùÜ_š™
(&(
­p_šfo_±r
->
wšdow_šfo_veùÜ
));

84 
	`veùÜ_š™
(&
­p_šfo_±r
->
gd_±r_veùÜ
);

85 
	}
}

87 
	$­¶iÿtiÚ_šfo_ex™
(
­¶iÿtiÚ_šfo
* 
­p_šfo_±r
)

89 
n
 = 0, 
i
 = 0;

92 if(
VIDEO_ACCESS_MODE_BUFFER
 =ğ
­p_šfo_±r
->
sü“n
.
video_acûss_mode
)

94 
	`ä“
(
­p_šfo_±r
->
sü“n
.
bufãr_addr
);

96 
	`ä“
(
­p_šfo_±r
->
Çme
);

101 
n
 = 
	`veùÜ_size
(&(
­p_šfo_±r
->
gd_±r_veùÜ
));

102 
i
 = 0; i < 
n
; ++ i)

104 * 
gd_2_±r
 = 
	`veùÜ_©
(&(
­p_šfo_±r
->
gd_±r_veùÜ
), 
i
);

105 
	`’gše_g¿phics_deviû_ex™
(* 
gd_2_±r
);

107 
	`veùÜ_ex™
(&(
­p_šfo_±r
->
gd_±r_veùÜ
));

112 
n
 = 
	`veùÜ_size
(&(
­p_šfo_±r
->
wšdow_šfo_veùÜ
));

113 
i
 = 0; i < 
n
; ++ i)

115 
objeù
* 
Œ“
 = 
	`veùÜ_©
(&(
­p_šfo_±r
->
wšdow_šfo_veùÜ
), 
i
);

116 
	`wšdow_šfo_Œ“_ex™
((
wšdow_šfo
*)
Œ“
->
·»Á
);

118 
	`veùÜ_ex™
(&(
­p_šfo_±r
->
wšdow_šfo_veùÜ
));

120 if(0 !ğ
	`uds_ex™
(&
­p_šfo_±r
->
uds
))

122 
	`EGUI_PRINT_ERROR
("failedoƒxit uds in‡pplication");

124 
	}
}

126 
si_t
 
	$­¶iÿtiÚ_šfo_g‘_wš_šdex
(
­¶iÿtiÚ_šfo
* 
­p_šfo_±r
, 
wšdow_šfo
* 
±r
)

128 
si_t
 
i
;

129 
i
 = 
	`veùÜ_size
(&
­p_šfo_±r
->
wšdow_šfo_veùÜ
);

130 -- 
i
 >= 0)

132 
objeù
* 
Œ“
 = 
	`veùÜ_©
(&
­p_šfo_±r
->
wšdow_šfo_veùÜ
, 
i
);

133 
objeù
* 
node
 = 
Œ“
->
lchd
;

134 
node
 !ğ
NULL
)

136 if((
si_t
)
node
 =ğ(si_t)
±r
)

137  
i
;

138 
node
 = 
	`objeù_Œ“_™”©Ü_šüem’t
(
Œ“
,‚ode);

142 
	}
}

	@window_manager/application_info.h

30 #iâdeà
_SERVER_APP_H_


31 
	#_SERVER_APP_H_
 1

	)

33 
	~"ba£_ty³.h
"

34 
	~"g¿ph.h
"

35 
	~"comm.h
"

36 
	~"d©a_¡ruùu»s.h
"

37 
	~"wšdow_šfo.h
"

40 
	s­¶iÿtiÚ_šfo


45 
egui_uds
 
	muds
;

53 
si_t
 
	m­¶iÿtiÚ_ty³
;

58 
sü“n
 
	msü“n
;

69 
veùÜ
 
	mwšdow_šfo_veùÜ
;

76 
veùÜ
 
	mgd_±r_veùÜ
;

82 * 
	mÇme
;

95 
si_t
 
­¶iÿtiÚ_šfo_£t
(
­¶iÿtiÚ_šfo
* 
­p_šfo_±r
, si_ˆ
video_acûss_mode
, si_ˆ
­¶iÿtiÚ_ty³
, * 
­p_Çme
);

102 
­¶iÿtiÚ_šfo_š™
(
­¶iÿtiÚ_šfo
* 
­p_šfo_±r
);

109 
­¶iÿtiÚ_šfo_ex™
(
­¶iÿtiÚ_šfo
* 
­p_šfo_±r
);

119 
si_t
 
­¶iÿtiÚ_šfo_g‘_wš_šdex
(
­¶iÿtiÚ_šfo
* 
­p_šfo_±r
, 
wšdow_šfo
* 
±r
);

	@window_manager/cursor.c

29 
	~"cursÜ.h
"

31 
	~<¡ršg.h
>

32 
	~<uni¡d.h
>

34 
	~"wšdow_mªag”.h
"

35 
	~"g¿ph.h
"

36 
	~"d©a_¡ruùu»s.h
"

37 
	~"comm.h
"

38 
	~"log.h
"

39 
	~"ev’t.h
"

40 
	~"cÚfig.h
"

42 
	#DEFAULT_CURSOR
 
PACKAGE_DATA_PATH
"/»sourû/deçuÉ.cur"

	)

43 
	#NONINST_DEFAULT_CURSOR
 
PACKAGE_SRC_PATH
"/»sourû/deçuÉ.cur"

	)

44 
g¿phics_deviû
 
	gcursÜ_gd
;

45 
si_t
 
	gcursÜ_gd_hªdËr
 = (si_t)&
cursÜ_gd
;

46 
cursÜ
 
	gcursÜ
;

48 
si_t
 
	$cursÜ_š™
(* 
cursÜ_ty³
)

50 
glob®_wm
.
Şd_cursÜ
.
x
 = 
glob®_sü“n
.
width
 >> 1;

51 
glob®_wm
.
Şd_cursÜ
.
y
 = 
glob®_sü“n
.
height
 >> 1;

52 
glob®_wm
.
Ãw_cursÜ
.
x
 = 
glob®_sü“n
.
width
 >> 1;

53 
glob®_wm
.
Ãw_cursÜ
.
y
 = 
glob®_sü“n
.
height
 >> 1;

55 if(0 =ğ
	`¡rcmp
(
cursÜ_ty³
, "CURSOR_SHAPE_X"))

57 
glob®_wm
.
cursÜ_sh­e
 = 
CURSOR_SHAPE_X
;

61 
	`EGUI_PRINT_ERROR
("çedØš™ cursÜ: cursÜ_ty³ % i nÙ suµÜ‹d!", 
cursÜ_ty³
);

65 
cursÜ_gd
.
sü“n
 = 
glob®_sü“n
;

66 
cursÜ_gd
.
sü“n
.
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_BUFFER
;

67 
cursÜ_gd
.
sü“n
.
bufãr_addr
 = 
	`m®loc
(
glob®_sü“n
.
size
);

69 
	`’gše_£t_¬—
(
cursÜ_gd_hªdËr
, 0, 0, 15, 15);

72 if(0 =ğ
	`acûss
(
DEFAULT_CURSOR
, 
F_OK
)) {

73 
	`š™_cursÜ
(
DEFAULT_CURSOR
, &
cursÜ
);

75 
	`š™_cursÜ
(
NONINST_DEFAULT_CURSOR
, &
cursÜ
);

79 
	`’gše_£t_cŞÜ
(
cursÜ_gd_hªdËr
, 
glob®_cŞÜ_lim™
.
r_lim™
, glob®_cŞÜ_lim™.
g_lim™
, glob®_cŞÜ_lim™.
b_lim™
, 0);

82 
	`’gše_£t_fÚt
(
cursÜ_gd_hªdËr
, 0);

84 
	`cursÜ_·št
();

87 
	}
}

89 
si_t
 
	$cursÜ_g‘_»äesh_¬—
(
»ùªgË
 *
»suÉ
)

91 
»ùªgË
 
Şd
, 
Ãw
;

92 
Şd
.
x
 = 
glob®_wm
.
Şd_cursÜ
.x;

93 
Şd
.
y
 = 
glob®_wm
.
Şd_cursÜ
.y;

94 
Ãw
.
x
 = 
glob®_wm
.
Ãw_cursÜ
.x;

95 
Ãw
.
y
 = 
glob®_wm
.
Ãw_cursÜ
.y;

96 
Şd
.
width
 = 
Ãw
.width = 
cursÜ
.
ciH—d”
[0].
ciWidth
;

97 
Şd
.
height
 = 
Ãw
.heighˆğ
cursÜ
.
ciH—d”
[0].
ciHeight
;

98  
	`¬—_uniÚ
(&
Şd
, &
Ãw
, 
»suÉ
);

99 
	}
}

101 
si_t
 
	$cursÜ_·št
()

103 
»ùªgË
 
»ç»a
;

104 if(!
glob®_sü“n
.
visibË
) {

107 if(-1 =ğ
	`cursÜ_g‘_»äesh_¬—
(&
»ç»a
)) {

108 
	`EGUI_PRINT_ERROR
("Error in‡rea union code");

111 
	`sü“n_ıy_¬—
(
cursÜ_gd
.
sü“n
.
bufãr_addr
, 
glob®_sü“n
.buffer_addr,

112 
»ç»a
.
x
,„eç»a.
y
,

113 
»ç»a
.
x
,„eç»a.
y
,

114 
»ç»a
.
width
,„eç»a.
height
);

116 
	`»ùªgË_£t
(&
cursÜ_gd
.
»ùªgË
, 
glob®_wm
.
Ãw_cursÜ
.
x
, glob®_wm.Ãw_cursÜ.
y
 , 
cursÜ
.
ciH—d”
[0].
ciWidth
, cursÜ.ciH—d”[0].
ciHeight
);

117 
glob®_wm
.
cursÜ_sh­e
)

119 
CURSOR_SHAPE_X
:

121 
	`’gše_d¿w_cursÜ
(
cursÜ_gd_hªdËr
, 
glob®_wm
.
Ãw_cursÜ
.
x
, glob®_wm.Ãw_cursÜ.
y
, 
cursÜ
.
ciH—d”
[0].
ciWidth
, cursÜ.ciH—d”[0].
ciHeight
, &cursor);

125 
CURSOR_SHAPE_HAND
:

131 
	`sü“n_ıy_¬—
(
glob®_sü“n
.
memÜy_addr
, 
cursÜ_gd
.
sü“n
.
bufãr_addr
,

132 
»ç»a
.
x
,„eç»a.
y
,

133 
»ç»a
.
x
,„eç»a.
y
,

134 
»ç»a
.
width
,„eç»a.
height
);

137 
	}
}

139 
si_t
 
	$cursÜ_show
()

141 
mes§ge
 * message;

144 if(
	`li¡_em±y
(&(
glob®_wm
.
mes§ge_li¡
)) == 0)

147 
mes§ge
 = 
	`li¡_äÚt
(&(
glob®_wm
.
mes§ge_li¡
));

150 if(
mes§ge
->
ba£
.
ty³
 =ğ
MESSAGE_TYPE_MOUSE_MOVE
)

152 if(
mes§ge
->
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_X_OFFSET
 ||

153 
mes§ge
->
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_Y_OFFSET
)

155 
	`cursÜ_·št
();

157 
glob®_wm
.
Şd_cursÜ
.
x
 = glob®_wm.
Ãw_cursÜ
.x;

158 
glob®_wm
.
Şd_cursÜ
.
y
 = glob®_wm.
Ãw_cursÜ
.y;

164 
	}
}

166 
si_t
 
	$cursÜ_ex™
()

168 
	`ä“
(
cursÜ_gd
.
sü“n
.
bufãr_addr
);

169 
	`mem£t
(&
cursÜ_gd
, 0, (
g¿phics_deviû
));

172 
	}
}

	@window_manager/cursor.h

30 #iâdeà
_CURSOR_H_


31 
	#_CURSOR_H_
 1

	)

33 
	~<lim™s.h
>

34 
	~"ba£_ty³.h
"

37 
	e__cursÜ_sh­e__


40 
	mCURSOR_SHAPE_X
 = 0,

43 
	mCURSOR_SHAPE_ARROW
,

46 
	mCURSOR_SHAPE_HAND
,

49 
	mCURSOR_SHAPE_TEXT_INPUT
,

52 
	mCURSOR_SHAPE_TEXT_SELECT
,

55 
	mCURSOR_SHAPE_H_RESIZE
,

58 
	mCURSOR_SHAPE_V_RESIZE


70 
si_t
 
cursÜ_š™
();

76 
si_t
 
cursÜ_·št
();

78 
si_t
 
cursÜ_show
();

83 
si_t
 
cursÜ_ex™
();

	@window_manager/flush_in_z_order.c

30 
	~"æush_š_z_Üd”.h
"

31 
	~"cursÜ.h
"

32 
	~"wšdow_šfo_™”©Ü.h
"

34 
	$æush_¬—_to_sü“n
(
sü“n
* 
s
, 
»ùªgË
* 
¬—
)

36 
	`sü“n_ıy_¬—_®pha
(
s
->
memÜy_addr
, s->
bufãr_addr
,

37 
¬—
->
x
,‡»a->
y
,‡»a->x,‡»a->y,‡»a->
width
,‡»a->
height
);

38 
	}
}

40 
	$·št_desktİ
(
»ùªgË
* 
¬—
)

42 
»ùªgË
 
»suÉ
 = {0};

43 
	`¬—_š‹r£ùiÚ
(&
glob®_wm
.
wÜk_¬—
, 
¬—
, &
»suÉ
);

44 if(
NULL
 =ğ
glob®_wm
.
desktİ_­p_±r
)

46 
	`sü“n_£t_¬—
(&
glob®_sü“n
, &
glob®_wm
.
wÜk_¬—
, &glob®_wm.
backcŞÜ
, 
»suÉ
.
x
,„esuÉ.
y
,„esuÉ.
width
,„esuÉ.
height
);

52 
	`’gše_d¿w_¬row
(
gd
,160,160,30,1);

56 
	`sü“n_æush
(0,0,
glob®_sü“n
.
width
,glob®_sü“n.
height
);

62 
	`æush_¬—_to_sü“n
(&
glob®_wm
.
desktİ_­p_±r
->
sü“n
, &
»suÉ
);

64 
	}
}

66 
si_t
 
	$_do_æush_wšdow
(
wšdow_šfo_™”©Ü
* 
™”
, 
addr_t
 
¬g
)

68 
»ùªgË
* 
¬—
 = (»ùªgË*)
¬g
;

69 
»ùªgË
 
æush_¬—
 = {0};

70 if(
	`¬—_š‹r£ùiÚ
(&
™”
->
wš_šfo_±r
->
¬—
,‡»a, &
æush_¬—
) != -1)

72 
	`æush_¬—_to_sü“n
(&
™”
->
­p_šfo_±r
->
sü“n
, &
æush_¬—
);

75 
	}
}

77 
si_t
 
	$æush_wšdow_š_z_Üd”
(
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
, 
»ùªgË
* 
¬—
)

79 
wšdow_šfo_™”©Ü
 
™”
;

80 
	`wšdow_šfo_™”©Ü_ş—r
(&
™”
);

86 
™”
.
­p_šfo_±r
 =‡pp_info_ptr;

87 
	`­p_Œav”§l_šüem’t
(&
™”
, 
_do_æush_wšdow
, 
¬—
);

90 
	}
}

92 
si_t
 
	$_do_æush_uÁ
(
wšdow_šfo_™”©Ü
* 
™”
, 
addr_t
 
¬g
)

94 
	s‹mp_¬g


96 
»ùªgË
* 
¬—
;

97 
wšdow_šfo
* 
wš_šfo_±r
;

99 
‹mp_¬g
* 
tmp
 = (‹mp_¬g*)
¬g
;

102 if(
tmp
->
wš_šfo_±r
 =ğ
™”
->win_info_ptr)

107 
	`_do_æush_wšdow
(
™”
, 
tmp
->
¬—
);

109 
	}
}

111 
si_t
 
	$æush_b–ow_š_z_Üd”
(
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
, 
wšdow_šfo
 * 
wš_šfo_±r
, 
»ùªgË
* 
¬—
)

113 
	s‹mp_¬g


115 
»ùªgË
* 
¬—
;

116 
wšdow_šfo
* 
wš_šfo_±r
;

117 }
tmp
;

118 
wšdow_šfo_™”©Ü
 
™”
;

119 
	`wšdow_šfo_™”©Ü_ş—r
(&
™”
);

121 
	`·št_desktİ
(
¬—
);

123 if(
­p_šfo_±r
 =ğ
NULL
 || 
wš_šfo_±r
 == NULL)

128 
™”
.
­p_šfo_±r
 =‡pp_info_ptr;

129 
tmp
.
wš_šfo_±r
 = win_info_ptr;

130 
tmp
.
¬—
 =‡rea;

136 
	`®l_­p_Œav”§l_šüem’t
(&
™”
, 
_do_æush_uÁ
, &
tmp
);

139 
	}
}

141 
si_t
 
	$_do_fšd_wšdow
(
wšdow_šfo_™”©Ü
* 
™”
, 
addr_t
 
¬g
)

143 
wšdow_šfo
* 
wš_šfo_±r
 = (wšdow_šfo*)
¬g
;

144 if(
wš_šfo_±r
 =ğ
™”
->win_info_ptr)

147 
	}
}

149 
si_t
 
	$æush_above_š_z_Üd”
(
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
, 
wšdow_šfo
 * 
wš_šfo_±r
, 
»ùªgË
* 
¬—
)

151 
wšdow_šfo_™”©Ü
 
™”
;

152 
	`wšdow_šfo_™”©Ü_ş—r
(&
™”
);

154 if(
­p_šfo_±r
 =ğ
NULL
 || 
wš_šfo_±r
 == NULL)

162 
	`®l_­p_Œav”§l_šüem’t
(&
™”
, 
_do_fšd_wšdow
, 
wš_šfo_±r
);

168 
™”
.
wš_šfo_±r
 = 
	`objeù_Œ“_™”©Ü_šüem’t
(™”.
tİ_wš_šfo_±r
->
·»Á
, 
	`OBJECT_POINTER
(iter.win_info_ptr));

169 
	`wš_Œ“_Œav”§l_šüem’t_äom
(&
™”
, i‹r.
wš_šfo_±r
, 
_do_æush_wšdow
, 
¬—
);

175 
	`­p_Œav”§l_šüem’t_äom
(&
™”
, i‹r.
wš_šdex
 + 1, 
_do_æush_wšdow
, 
¬—
);

181 
	`®l_­p_Œav”§l_šüem’t_äom
(&
™”
, i‹r.
­p_šdex
 + 1, 
_do_æush_wšdow
, 
¬—
);

183 
	}
}

185 
si_t
 
	$æush_above_š_z_Üd”_šşudšg
(
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
, 
wšdow_šfo
 * 
wš_šfo_±r
, 
»ùªgË
* 
¬—
)

187 
wšdow_šfo_™”©Ü
 
™”
;

188 
	`wšdow_šfo_™”©Ü_ş—r
(&
™”
);

190 if(
­p_šfo_±r
 =ğ
NULL
 || 
wš_šfo_±r
 == NULL)

198 
	`®l_­p_Œav”§l_šüem’t
(&
™”
, 
_do_fšd_wšdow
, 
wš_šfo_±r
);

204 
	`wš_Œ“_Œav”§l_šüem’t_äom
(&
™”
, i‹r.
wš_šfo_±r
, 
_do_æush_wšdow
, 
¬—
);

210 
	`­p_Œav”§l_šüem’t_äom
(&
™”
, i‹r.
wš_šdex
 + 1, 
_do_æush_wšdow
, 
¬—
);

216 
	`®l_­p_Œav”§l_šüem’t_äom
(&
™”
, i‹r.
­p_šdex
 + 1, 
_do_æush_wšdow
, 
¬—
);

218 
	}
}

220 
si_t
 
	$æush_š_z_Üd”
(
si_t
 
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
)

222 
wšdow_šfo_™”©Ü
 
™”
;

223 
»ùªgË
 
‹mp_¬—
 = {0};

224 
	`wšdow_šfo_™”©Ü_ş—r
(&
™”
);

226 
	`»ùªgË_£t
(&
‹mp_¬—
, 
x
, 
y
, 
width
, 
height
);

228 
	`·št_desktİ
(&
‹mp_¬—
);

234 
	`®l_­p_Œav”§l_šüem’t
(&
™”
, 
_do_æush_wšdow
, &
‹mp_¬—
);

237 
sü“n_æush


238 (
x
,

239 
y
,

240 
width
,

241 
height
);

244 
	`cursÜ_·št
();

246 
	}
}

	@window_manager/flush_in_z_order.h

30 #iâdeà
_FLUSH_IN_Z_ORDER_H_


31 
	#_FLUSH_IN_Z_ORDER_H_
 1

	)

33 
	~<ba£_ty³.h
>

35 
	~"wšdow_mªag”.h
"

45 
si_t
 
æush_wšdow_š_z_Üd”
(
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
, 
»ùªgË
* 
¬—
);

58 
si_t
 
æush_b–ow_š_z_Üd”
(
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
, 
wšdow_šfo
 * 
wš_šfo_±r
, 
»ùªgË
* 
¬—
);

71 
si_t
 
æush_above_š_z_Üd”
(
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
, 
wšdow_šfo
 * 
wš_šfo_±r
, 
»ùªgË
* 
¬—
);

73 
si_t
 
æush_above_š_z_Üd”_šşudšg
(
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
, 
wšdow_šfo
 * 
wš_šfo_±r
, 
»ùªgË
* 
¬—
);

85 
si_t
 
æush_š_z_Üd”
(si_ˆ
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
);

	@window_manager/main.c

30 
	~"log.h
"

31 
	~<sigÇl.h
>

32 
	~<cŞÜ.h
>

33 
	~"comp”.h
"

34 
	~"wšdow_mªag”.h
"

36 
	$maš
(
¬gc
, * 
¬gv
[])

44 
	`NOT_USED
(
¬gc
);

45 
	`NOT_USED
(
¬gv
);

47 if(
SIG_ERR
 =ğ
	`sigÇl
(
SIGCHLD
,
SIG_IGN
))

49 
	`EGUI_PRINT_ERROR
("failedo set singal handler for SIGCHLD");

53 if(
SIG_ERR
 =ğ
	`sigÇl
(
SIGPIPE
,
SIG_IGN
))

55 
	`EGUI_PRINT_ERROR
("failedo set singal handler for SIGPIPE");

61 if(0 !ğ
	`wšdow_mªag”_š™
())

63 
	`EGUI_PRINT_ERROR
("failedo init window_manager");

67 if(0 !ğ
	`wšdow_mªag”_run
())

69 
	`EGUI_PRINT_ERROR
("failedo„un window_manager");

72 
	`wšdow_mªag”_ex™
();

75 
	}
}

	@window_manager/main_test.c

30 
	~"log.h
"

31 
	~<sigÇl.h
>

32 
	~<cŞÜ.h
>

33 
	~"wšdow_mªag”.h
"

35 
	~<uni¡d.h
>

36 
	~<g¿ph.h
>

37 
	~<¡dlib.h
>

38 
	~<¡dio.h
>

40 
	$maš
(
¬gc
, * 
¬gv
[])

49 if(
SIG_ERR
 =ğ
	`sigÇl
(
SIGCHLD
,
SIG_IGN
))

51 
	`EGUI_PRINT_ERROR
("failedo set singal handler for SIGCHLD");

55 if(
SIG_ERR
 =ğ
	`sigÇl
(
SIGPIPE
,
SIG_IGN
))

57 
	`EGUI_PRINT_ERROR
("failedo set singal handler for SIGPIPE");

63 
cŞÜ
 
‹¡a
, 
‹¡b
, 
‹¡bËnd
;

64 
	`´štf
("%ld %ld %ld\n", 
‹¡a
.
r
, 
‹¡b
.r, 
‹¡bËnd
.r);

66 if(
¬gc
<5) {

67 
	`årštf
(
¡d”r
, "Please giveest‡rguments.\n");

68 
	`ex™
(1);

71 if(0 !ğ
	`wšdow_mªag”_š™
())

73 
	`EGUI_PRINT_ERROR
("failedo init window_manager");

78 
cŞÜ
 **
cm­
;

79 
¡x
=
	`©oi
(
¬gv
[1]), 
¡y
÷toi×rgv[2]), 
row
÷toi×rgv[3]), 
cŞ
=atoi(argv[4]);

80 
i
;

81 
FILE
 *
å»
, *
åo¡
;

82 
»ùªgË
 
fuÎsü“n
={

83 .
x
=0,

84 .
y
=0,

85 .
width
=
glob®_sü“n
.width,

86 .
height
=
glob®_sü“n
.height,

88 if(
glob®_sü“n
.
cŞÜ_d•th
<32) {

89 
run_£rv”
;

91 
cm­
=(
cŞÜ
 **)
	`m®loc
((cŞÜ *)*
row
);

92 
i
=0; i<
row
; i++) {

93 
cm­
[
i
]=(
cŞÜ
 *)
	`m®loc
((cŞÜ)*
cŞ
);

95 
å»
=
	`fİ’
("pre_cmap.out", "w");

96 
i
=0; i<
row
; i++) {

97 
j
;

98 
j
=0; j<
cŞ
; j++) {

99 
cm­
[
i
][
j
].
r
=
	`¿nd
()&255;

100 
cm­
[
i
][
j
].
g
=
	`¿nd
()&255;

101 
cm­
[
i
][
j
].
b
=
	`¿nd
()&255;

102 
cm­
[
i
][
j
].
a
=
	`¿nd
()&255;

103 
	`årštf
(
å»
, "%ld %ld %ld %ld\n", 
cm­
[
i
][
j
].
r
, cm­[i][j].
g
, cm­[i][j].
b
, cm­[i][j].
a
);

104 
	`sü“n_£t_pix–
(&
glob®_sü“n
, &
fuÎsü“n
, 
cm­
[
i
]+
j
,

105 
¡x
+
j
, 
¡y
+
i
);

108 
	`fşo£
(
å»
);

109 
	`sü“n_æush
(
fuÎsü“n
.
x
, fuÎsü“n.
y
, fuÎsü“n.
width
, fuÎsü“n.
height
);

110 
åo¡
=
	`fİ’
("post_cmap.out", "w");

111 
i
=0; i<
row
; i++) {

112 
j
;

113 
j
=0; j<
cŞ
; j++) {

114 
cŞÜ
 
aùu
;

115 
	`sü“n_g‘_pix–
(&
glob®_sü“n
, &
fuÎsü“n
, &
aùu
,

116 
¡x
+
j
, 
¡y
+
i
);

117 
	`årštf
(
åo¡
, "%ld %ld %ld %ld\n", 
aùu
.
r
&255,‡ùu.
g
&255,‡ùu.
b
&255,‡ùu.
a
&255);

120 
	`fşo£
(
åo¡
);

121 
	`¦“p
(10);

123 
run_£rv”
:

124 if(0 !ğ
	`wšdow_mªag”_run
())

126 
	`EGUI_PRINT_ERROR
("failedo„un window_manager");

129 
	`wšdow_mªag”_ex™
();

132 
	}
}

	@window_manager/window_info.c

29 
	~"wšdow_šfo.h
"

31 
	~<¡dlib.h
>

33 
	~"log.h
"

35 
si_t
 
	gt™Ë_b¬_size
 = 30;

36 
si_t
 
	gäame_size
 = 3;

38 
	$wšdow_šfo_cÚfig
(
si_t
 
f
, si_ˆ
t
)

40 
t™Ë_b¬_size
 = 
t
;

41 
äame_size
 = 
f
;

42 
	}
}

44 
wšdow_šfo
* 
	$wšdow_šfo_š™
(* 
t™Ë
, 
si_t
 
maxabË
, si_ˆ
mšabË
, si_ˆ
mod®
)

46 
wšdow_šfo
* 
wš_šfo_±r
 = (wšdow_šfo*)
	`m®loc
((window_info));

47 if(
NULL
 =ğ
wš_šfo_±r
)

49 
	`EGUI_PRINT_SYS_ERROR
("çedØm®loøwšdow infØ¡©u fÜ wšdow %s. m®loc()", 
t™Ë
);

50  
NULL
;

53 
wš_šfo_±r
->
·»Á
 = 
NULL
;

54 
wš_šfo_±r
->
lchd
 = 
NULL
;

55 
wš_šfo_±r
->
rchd
 = 
NULL
;

56 
wš_šfo_±r
->
Çme
 = "struct window_info";

58 
wš_šfo_±r
->
t™Ë
 = 
	`m®loc
(
	`¡¾’
(title) + 1);

59 if(
NULL
 =ğ
wš_šfo_±r
->
t™Ë
)

61 
	`EGUI_PRINT_SYS_ERROR
("çedØm®loøt™Ë fÜ wšdow %s. m®loc()", 
t™Ë
);

62 
	`ä“
(
wš_šfo_±r
);

63  
NULL
;

65 
	`¡ºıy
(
wš_šfo_±r
->
t™Ë
,™Ë, 
	`¡¾’
(title) + 1);

68 
wš_šfo_±r
->
mšimize_’abË
 = 
mšabË
;

69 
wš_šfo_±r
->
maximize_’abË
 = 
maxabË
;

70 
wš_šfo_±r
->
mod®
 = modal;

71 
wš_šfo_±r
->
Ãed_»¡Üe
 = 0;

73  
wš_šfo_±r
;

74 
	}
}

76 
	$wšdow_šfo_»size
(
wšdow_šfo
* 
wš_šfo_±r
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
w
, si_ˆ
h
)

79 
	`»ùªgË_£t
(&
wš_šfo_±r
->
¬—
,

80 
x
 - 
äame_size
, 
y
 - f¿me_siz- 
t™Ë_b¬_size
, 
w
 + 2 * f¿me_size, 
h
 + 2 * frame_size +itle_bar_size);

83 
	`»ùªgË_£t
(&
wš_šfo_±r
->
wÜk_¬—
, 
x
, 
y
, 
w
, 
h
);

86 
	`»ùªgË_£t
(&
wš_šfo_±r
->
m’u_bu‰Ú_¬—
,

87 
x
, 
y
 - 
t™Ë_b¬_size
,itle_bar_size,itle_bar_size);

90 
	`»ùªgË_£t
(&
wš_šfo_±r
->
t™Ë_b¬_¬—
,

91 
x
 + 
t™Ë_b¬_size
, 
y
 -™Ë_b¬_size, 
w
 - 2 *itle_bar_size,itle_bar_size);

94 if(
wš_šfo_±r
->
mšimize_’abË
 == 1)

96 
	`»ùªgË_£t
(&
wš_šfo_±r
->
mšimize_bu‰Ú_¬—
,

97 
x
 + 
w
 - 3 * 
t™Ë_b¬_size
, 
y
 -itle_bar_size,itle_bar_size,itle_bar_size);

99 
wš_šfo_±r
->
t™Ë_b¬_¬—
.
width
 -ğ
t™Ë_b¬_size
;

103 if(
wš_šfo_±r
->
maximize_’abË
 == 1)

105 
	`»ùªgË_£t
(&
wš_šfo_±r
->
maximize_bu‰Ú_¬—
,

106 
x
 + 
w
 - 2 * 
t™Ë_b¬_size
, 
y
 -itle_bar_size,itle_bar_size,itle_bar_size);

108 
wš_šfo_±r
->
t™Ë_b¬_¬—
.
width
 -ğ
t™Ë_b¬_size
;

112 
	`»ùªgË_£t
(&
wš_šfo_±r
->
şo£_bu‰Ú_¬—
,

113 
x
 + 
w
 - 
t™Ë_b¬_size
, 
y
 -itle_bar_size,itle_bar_size,itle_bar_size);

114 
	}
}

116 
	$wšdow_šfo_maximum
(
wšdow_šfo
* 
wš_šfo_±r
, 
»ùªgË
* 
max_¬—
)

118 
	`wšdow_šfo_»size
(
wš_šfo_±r
, 
max_¬—
->
x
 + 
äame_size
, max_¬—->
y
 + f¿me_siz+ 
t™Ë_b¬_size
,

119 
max_¬—
->
width
 - 2 * 
äame_size
, max_¬—->
height
 - 2 * f¿me_siz- 
t™Ë_b¬_size
);

120 
	}
}

122 
	$wšdow_šfo_move
(
wšdow_šfo
* 
wš_šfo_±r
, 
si_t
 
x_off£t
, si_ˆ
y_off£t
)

125 
	`»ùªgË_move
(&
wš_šfo_±r
->
¬—
, 
x_off£t
, 
y_off£t
);

128 
	`»ùªgË_move
(&
wš_šfo_±r
->
wÜk_¬—
, 
x_off£t
, 
y_off£t
);

131 
	`»ùªgË_move
(&
wš_šfo_±r
->
m’u_bu‰Ú_¬—
, 
x_off£t
, 
y_off£t
);

134 
	`»ùªgË_move
(&
wš_šfo_±r
->
t™Ë_b¬_¬—
, 
x_off£t
, 
y_off£t
);

137 if(
wš_šfo_±r
->
mšimize_’abË
 == 1)

139 
	`»ùªgË_move
(&
wš_šfo_±r
->
mšimize_bu‰Ú_¬—
, 
x_off£t
, 
y_off£t
);

143 if(
wš_šfo_±r
->
maximize_’abË
 == 1)

145 
	`»ùªgË_move
(&
wš_šfo_±r
->
maximize_bu‰Ú_¬—
, 
x_off£t
, 
y_off£t
);

149 
	`»ùªgË_move
(&
wš_šfo_±r
->
şo£_bu‰Ú_¬—
, 
x_off£t
, 
y_off£t
);

150 
	}
}

153 
	$wšdow_šfo_ex™
(
wšdow_šfo
* 
w
)

155 
	`ä“
(
w
->
t™Ë
);

156 
	`ä“
(
w
);

157 
	}
}

159 
	$wšdow_šfo_Œ“_ex™
(
wšdow_šfo
* 
wš_šfo_±r
)

161 if(
wš_šfo_±r
->
lchd
 !ğ
NULL
)

163 
	`wšdow_šfo_Œ“_ex™
((
wšdow_šfo
*)
wš_šfo_±r
->
lchd
);

165 if(
wš_šfo_±r
->
rchd
 !ğ
NULL
)

167 
	`wšdow_šfo_Œ“_ex™
((
wšdow_šfo
*)
wš_šfo_±r
->
rchd
);

169 
	`wšdow_šfo_ex™
(
wš_šfo_±r
);

170 
	}
}

172 
si_t
 
	$wšdow_šfo_is_şick_Ëá_äame
(
wšdow_šfo
* 
wš_šfo_±r
, 
pošt
* 
p
)

174 if(
p
->
x
 >ğ
wš_šfo_±r
->
¬—
.x &&

175 
p
->
x
 <ğ
wš_šfo_±r
->
wÜk_¬—
.x - 1 &&

176 
p
->
y
 >ğ
wš_šfo_±r
->
wÜk_¬—
.y &&

177 
p
->
y
 <ğ
wš_šfo_±r
->
wÜk_¬—
.y + wš_šfo_±r->wÜk_¬—.
height
 - 1)

180 
	}
}

182 
si_t
 
	$wšdow_šfo_is_şick_right_äame
(
wšdow_šfo
* 
wš_šfo_±r
, 
pošt
* 
p
)

184 if(
p
->
x
 >ğ
wš_šfo_±r
->
wÜk_¬—
.x + wš_šfo_±r->wÜk_¬—.
width
 &&

185 
p
->
x
 <ğ
wš_šfo_±r
->
wÜk_¬—
.x + wš_šfo_±r->wÜk_¬—.
width
 + 
äame_size
 - 1 &&

186 
p
->
y
 >ğ
wš_šfo_±r
->
wÜk_¬—
.y &&

187 
p
->
y
 <ğ
wš_šfo_±r
->
wÜk_¬—
.y + wš_šfo_±r->wÜk_¬—.
height
 - 1)

190 
	}
}

192 
si_t
 
	$wšdow_šfo_is_şick_up_äame
(
wšdow_šfo
* 
wš_šfo_±r
, 
pošt
* 
p
)

194 if(
p
->
x
 >ğ
wš_šfo_±r
->
wÜk_¬—
.x &&

195 
p
->
x
 <ğ
wš_šfo_±r
->
wÜk_¬—
.x + wš_šfo_±r->wÜk_¬—.
width
 - 1 &&

196 
p
->
y
 >ğ
wš_šfo_±r
->
¬—
.y &&

197 
p
->
y
 <ğ
wš_šfo_±r
->
¬—
.y + 
äame_size
 - 1)

200 
	}
}

202 
si_t
 
	$wšdow_šfo_is_şick_down_äame
(
wšdow_šfo
* 
wš_šfo_±r
, 
pošt
* 
p
)

204 if(
p
->
x
 >ğ
wš_šfo_±r
->
wÜk_¬—
.x &&

205 
p
->
x
 <ğ
wš_šfo_±r
->
wÜk_¬—
.x + wš_šfo_±r->wÜk_¬—.
width
 - 1 &&

206 
p
->
y
 >ğ
wš_šfo_±r
->
wÜk_¬—
.y + wš_šfo_±r->wÜk_¬—.
height
 &&

207 
p
->
y
 <ğ
wš_šfo_±r
->
wÜk_¬—
.y + wš_šfo_±r->wÜk_¬—.
height
 + 
äame_size
 - 1)

210 
	}
}

212 
si_t
 
	$wšdow_šfo_Ëa¡_width
(
wšdow_šfo
* 
wš_šfo_±r
)

214 
t™Ë_b¬_num
 = 3;

215 if(
wš_šfo_±r
->
mšimize_’abË
 == 1)

217 
t™Ë_b¬_num
 += 1;

219 if(
wš_šfo_±r
->
maximize_’abË
 == 1)

221 
t™Ë_b¬_num
 += 1;

223  
t™Ë_b¬_num
 * 
t™Ë_b¬_size
;

224 
	}
}

	@window_manager/window_info.h

29 #iâdeà
WINDOW_INFO_H_


30 
	#WINDOW_INFO_H_
 1

	)

32 
	~"geom‘ry.h
"

33 
	~"d©a_¡ruùu»s.h
"

35 
	swšdow_šfo


40 
	mOBJECT_DEFINITION


45 
»ùªgË
 
	m¬—
;

50 
»ùªgË
 
	mwÜk_¬—
;

55 
»ùªgË
 
	mt™Ë_b¬_¬—
;

60 
»ùªgË
 
	mm’u_bu‰Ú_¬—
;

65 
»ùªgË
 
	mmšimize_bu‰Ú_¬—
;

70 
»ùªgË
 
	mmaximize_bu‰Ú_¬—
;

75 
»ùªgË
 
	mşo£_bu‰Ú_¬—
;

78 * 
	mt™Ë
;

81 
si_t
 
	mmaximize_’abË
;

84 
si_t
 
	mmšimize_’abË
;

87 
si_t
 
	mmaximum_x_size
;

90 
si_t
 
	mmšimum_x_size
;

93 
si_t
 
	mmaximum_y_size
;

96 
si_t
 
	mmšimum_y_size
;

99 
si_t
 
	mÃed_»¡Üe
;

102 
si_t
 
	mmod®
;

111 
wšdow_šfo_cÚfig
(
si_t
 
f
, si_ˆ
t
);

123 
wšdow_šfo
* 
wšdow_šfo_š™
(* 
t™Ë
, 
si_t
 
maxabË
, si_ˆ
mšabË
, si_ˆ
mod®
);

124 
wšdow_šfo_ex™
(
wšdow_šfo
* 
w
);

131 
wšdow_šfo_Œ“_ex™
(
wšdow_šfo
* 
wš_šfo_±r
);

140 
wšdow_šfo_move
(
wšdow_šfo
* 
wš_šfo_±r
, 
si_t
 
x_off£t
, si_ˆ
y_off£t
);

151 
wšdow_šfo_»size
(
wšdow_šfo
* 
wš_šfo_±r
, 
si_t
 
x
, si_ˆ
y
, si_ˆ
w
, si_ˆ
h
);

159 
wšdow_šfo_maximum
(
wšdow_šfo
* 
wš_šfo_±r
, 
»ùªgË
* 
max_¬—
);

169 
si_t
 
wšdow_šfo_is_şick_Ëá_äame
(
wšdow_šfo
* 
wš_šfo_±r
, 
pošt
* 
p
);

179 
si_t
 
wšdow_šfo_is_şick_right_äame
(
wšdow_šfo
* 
wš_šfo_±r
, 
pošt
* 
p
);

189 
si_t
 
wšdow_šfo_is_şick_up_äame
(
wšdow_šfo
* 
wš_šfo_±r
, 
pošt
* 
p
);

199 
si_t
 
wšdow_šfo_is_şick_down_äame
(
wšdow_šfo
* 
wš_šfo_±r
, 
pošt
* 
p
);

206 
si_t
 
wšdow_šfo_Ëa¡_width
(
wšdow_šfo
* 
wš_šfo_±r
);

	@window_manager/window_info_iterator.c

30 
	~"wšdow_šfo_™”©Ü.h
"

31 
	~"wšdow_mªag”.h
"

33 
	$wšdow_šfo_™”©Ü_ş—r
(
wšdow_šfo_™”©Ü
* 
™”
)

35 
™”
->
­p_šfo_±r
 = 
NULL
;

36 
™”
->
tİ_wš_šfo_±r
 = 
NULL
;

37 
™”
->
wš_šfo_±r
 = 
NULL
;

38 
™”
->
­p_šdex
 = i‹r->
wš_šdex
 = -1;

39 
	}
}

41 
si_t
 
wš_Œ“_Œav”§l_šüem’t_äom
(
wšdow_šfo_™”©Ü
* 
™”
, 
wšdow_šfo
* 
äom
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
)

43 
objeù
* 
Œ“
 = 
™”
->
tİ_wš_šfo_±r
->
·»Á
;

44 
objeù
* 
node
 = (objeù*)
äom
;

45 
node
 !ğ
NULL
)

47 
si_t
 
»t
 = 0;

48 
™”
->
wš_šfo_±r
 = (
wšdow_šfo
*)
node
;

49 
»t
 = 
	`aùiÚ
(
™”
, 
¬g
);

50 if(
»t
)

51  
»t
;

52 
node
 = 
	`objeù_Œ“_™”©Ü_šüem’t
(
Œ“
,‚ode);

55 
	}
}

57 
si_t
 
wš_Œ“_Œav”§l_šüem’t
(
wšdow_šfo_™”©Ü
* 
™”
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
)

59  
	`wš_Œ“_Œav”§l_šüem’t_äom
(
™”
, (
wšdow_šfo
*)™”->
tİ_wš_šfo_±r
->
·»Á
->
lchd
, 
aùiÚ
, 
¬g
);

60 
	}
}

62 
si_t
 
­p_Œav”§l_šüem’t_äom
(
wšdow_šfo_™”©Ü
* 
™”
, si_ˆ
äom_šdex
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
)

64 
n
 = 
	`veùÜ_size
(&
™”
->
­p_šfo_±r
->
wšdow_šfo_veùÜ
);

65 
™”
->
wš_šdex
 = 
äom_šdex
; i‹r->wš_šdex < 
n
; ++ iter->win_index)

67 
objeù
* 
Œ“
 = 
	`veùÜ_©
(&
™”
->
­p_šfo_±r
->
wšdow_šfo_veùÜ
, i‹r->
wš_šdex
);

68 
si_t
 
»t
 = 0;

69 
™”
->
tİ_wš_šfo_±r
 = (
wšdow_šfo
*)
Œ“
->
·»Á
;

70 
»t
 = 
	`wš_Œ“_Œav”§l_šüem’t
(
™”
, 
aùiÚ
, 
¬g
);

71 if(
»t
)

72  
»t
;

75 
	}
}

77 
si_t
 
­p_Œav”§l_šüem’t
(
wšdow_šfo_™”©Ü
* 
™”
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
)

79  
	`­p_Œav”§l_šüem’t_äom
(
™”
, 0, 
aùiÚ
, 
¬g
);

80 
	}
}

82 
si_t
 
®l_­p_Œav”§l_šüem’t_äom
(
wšdow_šfo_™”©Ü
* 
™”
, si_ˆ
äom
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
)

84 
n
 = 
	`veùÜ_size
(&
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
);

85 
™”
->
­p_šdex
 = 
äom
; i‹r->­p_šdex < 
n
; ++ iter->app_index)

87 
si_t
 
»t
 = 0;

88 
™”
->
­p_šfo_±r
 = 
	`veùÜ_©
(&
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
, i‹r->
­p_šdex
);

89 
»t
 = 
	`­p_Œav”§l_šüem’t
(
™”
, 
aùiÚ
, 
¬g
);

90 if(
»t
)

91  
»t
;

94 
	}
}

96 
si_t
 
®l_­p_Œav”§l_šüem’t
(
wšdow_šfo_™”©Ü
* 
™”
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
)

98  
	`®l_­p_Œav”§l_šüem’t_äom
(
™”
, 0, 
aùiÚ
, 
¬g
);

99 
	}
}

101 
si_t
 
®l_­p_Œav”§l_deüem’t
(
wšdow_šfo_™”©Ü
* 
™”
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
)

103 
n
 = 
	`veùÜ_size
(&
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
);

104 
™”
->
­p_šdex
 = 
n
 - 1; iter->app_index >= 0; -- iter->app_index)

106 
si_t
 
m
 = 0;

107 
™”
->
­p_šfo_±r
 = 
	`veùÜ_©
(&
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
, i‹r->
­p_šdex
);

108 
m
 = 
	`veùÜ_size
(&
™”
->
­p_šfo_±r
->
wšdow_šfo_veùÜ
);

109 
™”
->
wš_šdex
 = 
m
 - 1; iter->win_index >= 0; -- iter->win_index)

111 
objeù
* 
Œ“
 = (objeù*)
	`veùÜ_©
(&
™”
->
­p_šfo_±r
->
wšdow_šfo_veùÜ
, i‹r->
wš_šdex
);

112 
objeù
* 
node
 = 
Œ“
->
rchd
;

113 
™”
->
tİ_wš_šfo_±r
 = (
wšdow_šfo
*)
Œ“
->
·»Á
;

114 
node
 !ğ
NULL
)

116 
si_t
 
»t
 = 0;

117 
™”
->
wš_šfo_±r
 = (
wšdow_šfo
*)
node
;

118 
»t
 = 
	`aùiÚ
(
™”
, 
¬g
);

119 if(
»t
)

120  
»t
;

121 
node
 = 
	`objeù_Œ“_™”©Ü_deüem’t
(
Œ“
,‚ode);

126 
	}
}

128 
si_t
 
®l_­p_Œav”§l_tİ_wšdow_deüem’t
(
wšdow_šfo_™”©Ü
* 
™”
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
)

130 
n
 = 
	`veùÜ_size
(&
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
);

131 
™”
->
­p_šdex
 = 
n
 - 1; iter->app_index >= 0; -- iter->app_index)

133 
si_t
 
m
 = 0;

134 
™”
->
­p_šfo_±r
 = 
	`veùÜ_©
(&
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
, i‹r->
­p_šdex
);

135 
m
 = 
	`veùÜ_size
(&
™”
->
­p_šfo_±r
->
wšdow_šfo_veùÜ
);

136 
™”
->
wš_šdex
 = 
m
 - 1; iter->win_index >= 0; -- iter->win_index)

138 
si_t
 
»t
 = 0;

139 
objeù
* 
Œ“
 = (objeù*)
	`veùÜ_©
(&
™”
->
­p_šfo_±r
->
wšdow_šfo_veùÜ
, i‹r->
wš_šdex
);

140 
™”
->
tİ_wš_šfo_±r
 = (
wšdow_šfo
*)
Œ“
->
·»Á
;

141 
»t
 = 
	`aùiÚ
(
™”
, 
¬g
);

142 if(
»t
)

143  
»t
;

147 
	}
}

	@window_manager/window_info_iterator.h

30 #iâdeà
WINDOW_INFO_ITERATOR_H


31 
	#WINDOW_INFO_ITERATOR_H
 1

	)

33 
	~"wšdow_šfo.h
"

34 
	~"­¶iÿtiÚ_šfo.h
"

39 
	swšdow_šfo_™”©Ü


42 
­¶iÿtiÚ_šfo
* 
	m­p_šfo_±r
;

44 
wšdow_šfo
* 
	mtİ_wš_šfo_±r
;

46 
wšdow_šfo
* 
	mwš_šfo_±r
;

48 
si_t
 
	m­p_šdex
;

50 
si_t
 
	mwš_šdex
;

54 
wšdow_šfo_™”©Ü_ş—r
(
wšdow_šfo_™”©Ü
* 
™”
);

66 
si_t
 
wš_Œ“_Œav”§l_šüem’t_äom
(
wšdow_šfo_™”©Ü
* 
™”
, 
wšdow_šfo
* 
äom
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
);

77 
si_t
 
	`wš_Œ“_Œav”§l_šüem’t
(
wšdow_šfo_™”©Ü
* 
™”
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
);

89 
si_t
 
	`­p_Œav”§l_šüem’t_äom
(
wšdow_šfo_™”©Ü
* 
™”
, si_ˆ
äom_šdex
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
);

100 
si_t
 
	`­p_Œav”§l_šüem’t
(
wšdow_šfo_™”©Ü
* 
™”
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
);

112 
si_t
 
	`®l_­p_Œav”§l_šüem’t_äom
(
wšdow_šfo_™”©Ü
* 
™”
, si_ˆ
äom
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
);

123 
si_t
 
	`®l_­p_Œav”§l_šüem’t
(
wšdow_šfo_™”©Ü
* 
™”
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
);

134 
si_t
 
	`®l_­p_Œav”§l_deüem’t
(
wšdow_šfo_™”©Ü
* 
™”
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
);

145 
si_t
 
	`®l_­p_Œav”§l_tİ_wšdow_deüem’t
(
wšdow_šfo_™”©Ü
* 
™”
, 
	$si_t
(*
aùiÚ
)(
wšdow_šfo_™”©Ü
*, *), * 
¬g
);

	@window_manager/window_manager.c

29 
	#_GNU_SOURCE


	)

31 
	~<‹rmios.h
>

32 
	~<¡dio.h
>

33 
	~<¡dlib.h
>

34 
	~<uni¡d.h
>

35 
	~<¡rİts.h
>

36 
	~<fú.h
>

37 
	~<dœ’t.h
>

38 
	~<sys/¡©.h
>

40 
	~"­¶iÿtiÚ_šfo.h
"

41 
	~"wšdow_šfo.h
"

42 
	~"ev’t.h
"

43 
	~"log.h
"

44 
	~"cursÜ.h
"

46 
	~"cÚfig.h
"

48 
	~"wšdow_mªag”.h
"

50 
wšdow_mªag”
 
	gglob®_wm
;

51 
si_t
 
	ggd
;

55 #ifdeà
USE_FBTOOLS


58 
‹rmios
 
	g§ved_©Œibu‹s
[3];

59 
	g§ved_æ
[3];

61 
si_t
 
	$‹rmš®_š™
()

63 
‹rmios
 
‰r
;

64 
i
;

66 
i
=0; i<3; i++) {

67 
	`fú
(
i
,
F_GETFL
,&
§ved_æ
[i]);

68 
	`tcg‘©Œ
 (
i
, &
§ved_©Œibu‹s
[i]);

71 
	`fú
(0,
F_SETFL
,
O_NONBLOCK
);

72 
	`memıy
(&
‰r
,&
§ved_©Œibu‹s
,(
‹rmios
));

73 
‰r
.
c_læag
 &ğ~(
ICANON
|
ECHO
);

74 
‰r
.
c_cc
[
VMIN
] = 1;

75 
‰r
.
c_cc
[
VTIME
] = 0;

76 
	`tc£‰r
 (0, 
TCSAFLUSH
, &
‰r
);

78 
	}
}

80 
	$‹rmš®_ex™
()

82 
i
;

83 
i
=0; i<3; i++) {

84 
	`fú
(
i
,
F_SETFL
,
§ved_æ
[i]);

85 
	`tc£‰r
 (
i
, 
TCSAFLUSH
, &
§ved_©Œibu‹s
[i]);

87 
	}
}

89 
si_t
 
äamebufãr_fd
;

91 
si_t
 
	$cÚsŞe_sw™ch
()

93 
sw™ch_Ï¡
;

94 if(
sw™ch_Ï¡
 =ğ
fb_sw™ch_¡©e
) {

97 
fb_sw™ch_¡©e
) {

98 
FB_REL_REQ
:

99 
	`fb_sw™ch_»Ëa£
();

100 
FB_INACTIVE
:

102 
glob®_sü“n
.
visibË
 = 0;

104 
FB_ACQ_REQ
:

105 
	`fb_sw™ch_acquœe
();

106 
FB_ACTIVE
:

108 
glob®_sü“n
.
visibË
 = 1;

109 
	`ioùl
(
äamebufãr_fd
,
FBIOPAN_DISPLAY
,&
fb_v¬
);

110 
	`sü“n_æush
(0,0,
glob®_sü“n
.
width
, glob®_sü“n.
height
);

111 
	`cursÜ_·št
();

116 
sw™ch_Ï¡
 = 
fb_sw™ch_¡©e
;

118 
	}
}

122 
‹rmios
 
	g‹rm
;

129 
si_t
 
	$‹rmš®_š™
()

131 
‹rmios
 
Ãw_‹rm
;

132 
si_t
 
fd
 = 
	`İ’
((*)
	`ù”mid
(
NULL
), 
O_RDONLY
);

133 if(
fd
 < 0)

135 
	`EGUI_PRINT_SYS_ERROR
("failedo openermios. open()");

139 if(
	`tcg‘©Œ
(
fd
, &
‹rm
) < 0)

141 
	`EGUI_PRINT_SYS_ERROR
("failedo getermios‡ttribute.cgetattr()");

145 
Ãw_‹rm
 = 
‹rm
;

146 
Ãw_‹rm
.
c_læag
 = 
‹rm
.c_læag & ~Ğ
ECHO
 | 
ECHOE
 | 
ECHOK
 | 
ECHONL
);

147 
Ãw_‹rm
.
c_cæag
 =‚ew_‹rm.c_cæag | ( 
ICANON
 );

149 if(
	`tc£‰r
(
fd
, 
TCSAFLUSH
, &
Ãw_‹rm
) < 0)

151 
	`EGUI_PRINT_SYS_ERROR
("failedo setermios‡ttribute.cgetattr()");

154 
	`şo£
(
fd
);

157 
	}
}

162 
	$‹rmš®_ex™
()

164 
si_t
 
fd
 = 
	`İ’
((*)
	`ù”mid
(
NULL
), 
O_RDONLY
);

165 if(
fd
 < 0)

167 
	`EGUI_PRINT_SYS_ERROR
("failedo openermios. open()");

170 if(
	`tc£‰r
(
fd
, 
TCSAFLUSH
, &
‹rm
) < 0)

172 
	`EGUI_PRINT_SYS_ERROR
("failedo setermios‡ttribute.cgetattr()");

174 
	`şo£
(
fd
);

175 
	}
}

183 
si_t
 
	$cÚfig_š™
()

185 
glob®_wm
.
backcŞÜ
.
r
 = 0;

186 
glob®_wm
.
backcŞÜ
.
g
 = 0;

187 
glob®_wm
.
backcŞÜ
.
b
 = 0;

188 
glob®_wm
.
backcŞÜ
.
a
 = 0;

190 
	}
}

195 
si_t
 
	$cÚfig_ex™
()

198 
	}
}

207 
si_t
 
	$comm_š™
(* 
£rv”_·th
)

209 
ui_t
 
i
 = 0;

213 if(0 !ğ
	`uds_š™
(&
glob®_wm
.
uds
, 
SOCK_STREAM
, 
£rv”_·th
, 
PEER_ROLE_SERVER
))

215 
	`EGUI_PRINT_ERROR
("Failedo init server uds");

222 
	`ev’t_li¡’”_š™
(&
glob®_wm
.
£rv”_li¡’”
);

223 #ifdeà
USE_FBTOOLS


224 
glob®_wm
.
£rv”_li¡’”
.
ÿÎback
 = 
cÚsŞe_sw™ch
;

231 
	`ev’t_li¡’”_add_»ad_ev’t
(&
glob®_wm
.
£rv”_li¡’”
, &glob®_wm.
uds
, 
NULL
, 
wšdow_mªag”_acû±_hªdËr
, NULL);

241 
	`wšdow_mªag”_£t_»que¡_hªdËr
();

247 
i
 = 0; i !ğ
	`veùÜ_size
(&
glob®_wm
.
šput_deviû_veùÜ
); ++ i)

249 
šput_deviû
* 
deviû_±r
 = 
	`veùÜ_©
(&
glob®_wm
.
šput_deviû_veùÜ
, 
i
);

250 
	`ev’t_li¡’”_add_»ad_ev’t
(&
glob®_wm
.
£rv”_li¡’”
, &
deviû_±r
->
uds
, deviû_±r, 
wšdow_mªag”_šput_hªdËr
, 
wšdow_mªag”_šput_de¡ruùÜ
);

253 
	}
}

258 
	$comm_ex™
()

263 
	`ev’t_li¡’”_ex™
(&
glob®_wm
.
£rv”_li¡’”
);

264 
	}
}

275 
si_t
 
	$ev’t_š™
(
si_t
 
doubË_şick_d–ay
)

277 
šput_deviû
 
deviû
;

278 
DIR
 *
dev
 = 
	`İ’dœ
(
INPUT_DEV_PATH
);

279 
dœ’t
 *
’Œy
;

284 
	`veùÜ_š™
(&
glob®_wm
.
šput_deviû_veùÜ
);

287 (
’Œy
 = 
	`»addœ
(
dev
))) {

288 
¡©
 
buf
;

289 
·th
[256];

290 
	`¢´štf
(
·th
, Õ©h), "%s/%s", 
INPUT_DEV_PATH
, 
’Œy
->
d_Çme
);

291 
	`¡©
(
·th
, &
buf
);

293 ià(!
	`S_ISCHR
(
buf
.
¡_mode
è|| !
	`¡r¡r
(
’Œy
->
d_Çme
, "event"))

296 if(
	`evdev_š™
(&
deviû
, 
·th
) < 0)

298 
	`EGUI_PRINT_ERROR
("failedo init device");

302 
	`veùÜ_push_back
(&
glob®_wm
.
šput_deviû_veùÜ
, &
deviû
, (device));

305 
	`£t_doubË_şick_d–ay
(
doubË_şick_d–ay
);

311 
	`li¡_š™
(&
glob®_wm
.
mes§ge_li¡
);

316 
	}
}

321 
	$ev’t_ex™
()

326 
	`veùÜ_ex™
(&
glob®_wm
.
šput_deviû_veùÜ
);

331 
	`li¡_ex™
(&
glob®_wm
.
mes§ge_li¡
);

332 
	}
}

345 
si_t
 
	$g¿ph_š™
(* 
äamebufãr_·th
, 
si_t
 
tİ_m¬gš
, si_ˆ
down_m¬gš
, si_ˆ
Ëá_m¬gš
, si_ˆ
right_m¬gš
)

347 
g¿phics_deviû
* 
gd_±r
 = 
NULL
;

350 
	`sü“n_š™
(
äamebufãr_·th
);

352 
	`sü“n_cŞÜ_lim™
();

357 
glob®_wm
.
gd_hªdËr
 = 
	`’gše_g¿phics_deviû_š™
(0, 0, 
glob®_sü“n
.
width
, glob®_sü“n.
height
, 0,0,0,0,0);

358 if(0 =ğ
glob®_wm
.
gd_hªdËr
)

360 
	`EGUI_PRINT_ERROR
("failedo init window manager graph device.");

363 
gd_±r
 = (
g¿phics_deviû
*)
glob®_wm
.
gd_hªdËr
;

364 
gd_±r
->
sü“n
.
memÜy_addr
 = 
glob®_sü“n
.memory_addr;

365 
gd_±r
->
sü“n
.
bufãr_addr
 = 
NULL
;

366 
gd_±r
->
sü“n
.
video_acûss_mode
 = 
VIDEO_ACCESS_MODE_DIRECT
;

371 
	`»ùªgË_£t
(&
glob®_wm
.
wÜk_¬—
,

372 0 + 
Ëá_m¬gš
, 0 + 
tİ_m¬gš
, 
glob®_sü“n
.
width
 -†eá_m¬gš - 
right_m¬gš
, glob®_sü“n.
height
 -İ_m¬gš - 
down_m¬gš
);

375 
	`’gše_£t_cŞÜ
(
glob®_wm
.
gd_hªdËr
, glob®_wm.
backcŞÜ
.
r
, glob®_wm.backcŞÜ.
g
, glob®_wm.backcŞÜ.
b
, glob®_wm.backcŞÜ.
a
);

376 
	`’gše_fl_»ùªgË
(
glob®_wm
.
gd_hªdËr
, glob®_wm.
wÜk_¬—
.
x
, glob®_wm.wÜk_¬—.
y
, glob®_wm.wÜk_¬—.
width
, glob®_wm.wÜk_¬—.
height
);

379 
	}
}

384 
	$g¿ph_ex™
()

387 
	`’gše_ş—r_bÏck
(
glob®_wm
.
gd_hªdËr
);

389 
	`sü“n_ex™
();

391 
	`’gše_g¿phics_deviû_ex™
(
glob®_wm
.
gd_hªdËr
);

392 
	}
}

397 
si_t
 
	$š‹rçû_š™
()

399 
g¿phics_deviû
* 
gd_±r
 = 
NULL
;

400 
gd
 = 
	`’gše_g¿phics_deviû_š™
(0 ,0 , 
glob®_sü“n
.
width
, glob®_sü“n.
height
, 255,255,0,0,7);

401 if(0 =ğ
gd
)

403 
	`EGUI_PRINT_ERROR
("failedo init window manager graph device.");

406 
gd_±r
 = (
g¿phics_deviû
*)
gd
;

407 
	`’gše_show_‹xt
(
gd
,
glob®_sü“n
.
width
/2-100,glob®_sü“n.
height
/2-45,"WELCOME!",8);

409 
pošt
 
p
[4];

410 
p
[0].
x
=
glob®_sü“n
.
width
/2,p[0].
y
=0;

411 
p
[1].
x
=0,p[1].
y
=
glob®_sü“n
.
height
/2;

412 
p
[2].
x
=
glob®_sü“n
.
width
/2,p[2].
y
=glob®_sü“n.
height
;

413 
p
[3].
x
=
glob®_sü“n
.
width
,p[3].
y
=glob®_sü“n.
height
/2;

414 
	`’gše_d¿w_pŞygÚ
(
gd
,
p
,4) ;

416 
	`’gše_fl_¬row
(
gd
,60,60,30,2);

417 
	`’gše_d¿w_¬row
(
gd
,160,160,30,1);

419 
	`sü“n_æush
(0,0,
gd_±r
->
sü“n
.
width
,gd_±r->sü“n.
height
);

421 
	}
}

426 
	$š‹rçû_ex™
()

428 
	`’gše_g¿phics_deviû_ex™
(
gd
);

429 
	}
}

437 
	$­¶iÿtiÚs_š™
(
si_t
 
äame_size
, si_ˆ
t™Ë_b¬_size
)

442 
	`veùÜ_š™
(&
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
);

445 
glob®_wm
.
desktİ_­p_±r
 = 
NULL
;

448 
glob®_wm
.
aùive_­p_šfo_±r
 = 
NULL
;

449 
glob®_wm
.
aùive_wš_šfo_±r
 = 
NULL
;

452 
	`wšdow_šfo_cÚfig
(
äame_size
, 
t™Ë_b¬_size
);

453 
	}
}

458 
	$­¶iÿtiÚs_ex™
()

460 
si_t
 
n
 = 0, 
i
 = 0;

462 
n
 = 
	`veùÜ_size
(&(
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
));

463 
i
 = 0; i < 
n
; ++ i)

466 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = 
	`veùÜ_©
(&(
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
), 
i
);

467 
	`­¶iÿtiÚ_šfo_ex™
(
­p_šfo_±r
);

470 
	`veùÜ_ex™
(&(
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
));

471 
	}
}

477 
si_t
 
	$wšdow_mªag”_š™
()

479 if(0 !ğ
	`‹rmš®_š™
())

481 
	`EGUI_PRINT_ERROR
("failedo initerminal");

485 if(0 !ğ
	`cÚfig_š™
())

487 
	`EGUI_PRINT_ERROR
("failedo init config");

491 if(0 !ğ
	`ev’t_š™
(1000))

493 
	`EGUI_PRINT_ERROR
("failedo initƒvent module");

497 if(0 !ğ
	`comm_š™
("/tmp/server"))

499 
	`EGUI_PRINT_ERROR
("failedo init comm module");

503 if(0 !ğ
	`g¿ph_š™
("/dev/fb0", 0, 0, 0, 0))

505 
	`EGUI_PRINT_ERROR
("failedo init graph module");

509 if(0 !ğ
	`cursÜ_š™
("CURSOR_SHAPE_X"))

511 
	`EGUI_PRINT_ERROR
("failedo init cursor");

515 
	`­¶iÿtiÚs_š™
(3, 30);

517 if(0 !ğ
	`š‹rçû_š™
())

519 
	`EGUI_PRINT_ERROR
("failedo init interface");

524 
	}
}

530 
si_t
 
	$wšdow_mªag”_ex™
()

532 
	`­¶iÿtiÚs_ex™
();

533 
	`cursÜ_ex™
();

534 
	`g¿ph_ex™
();

535 
	`‹rmš®_ex™
();

536 
	`comm_ex™
();

537 
	`ev’t_ex™
();

538 
	`cÚfig_ex™
();

539 
	`š‹rçû_ex™
();

542 
	}
}

544 
si_t
 
	$wšdow_mªag”_run
()

546  
	`ev’t_li¡’”_exec
(&
glob®_wm
.
£rv”_li¡’”
);

547 
	}
}

549 
si_t
 
	$wšdow_mªag”_g‘_­p_šdex
(
­¶iÿtiÚ_šfo
* 
±r
)

551 
i
;

552 
i
 = 
	`veùÜ_size
(&
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
);

553 --
i
 >= 0)

554 if(()
	`veùÜ_©
(&
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
, 
i
è=ğ()
±r
)

555  
i
;

557 
	}
}

	@window_manager/window_manager.h

30 #iâdeà
_WINDOW_MANAGER_H_


31 
	#_WINDOW_MANAGER_H_
 1

	)

33 
	~"ba£_ty³.h
"

34 
	~"comm.h
"

35 
	~"g¿ph.h
"

36 
	~"d©a_¡ruùu»s.h
"

37 
	~"geom‘ry.h
"

42 
	swšdow_mªag”


47 
egui_uds
 
	muds
;

51 
ev’t_li¡’”
 
	m£rv”_li¡’”
;

56 
si_t
 
	mgd_hªdËr
;

61 
cŞÜ
 
	mbackcŞÜ
;

66 
»ùªgË
 
	mwÜk_¬—
;

71 
veùÜ
 
	mšput_deviû_veùÜ
;

76 
li¡
 
	mmes§ge_li¡
;

81 
veùÜ
 
	m­¶iÿtiÚ_šfo_veùÜ
;

86 
­¶iÿtiÚ_šfo
* 
	mdesktİ_­p_±r
;

91 
­¶iÿtiÚ_šfo
 * 
	maùive_­p_šfo_±r
;

96 
wšdow_šfo
 * 
	maùive_wš_šfo_±r
;

99 
pošt
 
	mŞd_cursÜ
;

100 
pošt
 
	mÃw_cursÜ
;

101 
si_t
 
	mcursÜ_sh­e
;

104 
wšdow_mªag”
 
glob®_wm
;

105 
si_t
 
gd
;

109 
si_t
 
wšdow_mªag”_š™
();

114 
si_t
 
wšdow_mªag”_ex™
();

119 
si_t
 
wšdow_mªag”_run
();

128 
si_t
 
wšdow_mªag”_g‘_­p_šdex
(
­¶iÿtiÚ_šfo
* 
±r
);

139 
si_t
 
wšdow_mªag”_acû±_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
¬g
);

149 
si_t
 
wšdow_mªag”_šput_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
¬g
);

157 
wšdow_mªag”_šput_de¡ruùÜ
(
egui_uds
* 
uds
, 
addr_t
 
¬g
);

162 
wšdow_mªag”_£t_»que¡_hªdËr
();

	@window_manager/window_manager_accept_handler.c

30 
	~"comm.h
"

31 
	~"d©a_¡ruùu»s.h
"

32 
	~"ba£_ty³.h
"

34 
	~"wšdow_mªag”.h
"

35 
	~"­¶iÿtiÚ_šfo.h
"

36 
	~"£rv”_lib.h
"

37 
	~"log.h
"

38 
	~"comp”.h
"

40 
si_t
 
	$wšdow_mªag”_acû±_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
¬g
)

42 
­¶iÿtiÚ_šfo
 
­p_šfo
;

43 
­¶iÿtiÚ_šfo
* 
­p_šfo_±r
 = 
NULL
;

44 
æag
 = 0;

45 
	`NOT_USED
(
¬g
);

47 
	`­¶iÿtiÚ_šfo_š™
(&
­p_šfo
);

49 if(0 !ğ
	`acû±_as_uds
(
uds_±r
, &
­p_šfo
.
uds
))

51 
	`EGUI_PRINT_ERROR
("failedo‡ccept client uds");

52  
SELECTER_RETURN_TYPE_END
;

54 if(0 =ğ
æag
)

56 
	`sü“n_ş—r_bÏck
(&
glob®_sü“n
);

57 
	`sü“n_æush
(0,0,
glob®_sü“n
.
width
,glob®_sü“n.
height
);

58 
æag
 = 1;

61 
	`veùÜ_push_back
(&
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
, &
­p_šfo
, (
­¶iÿtiÚ_šfo
));

62 
­p_šfo_±r
 = 
	`veùÜ_back
(&
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
);

65 
	`£rv”_lib_add_Ãw_ş›Á
(&
­p_šfo_±r
->
uds
,‡pp_info_ptr);

68 
	}
}

	@window_manager/window_manager_input_handler.c

30 
	~<¡ršg.h
>

32 
	~"ba£_ty³.h
"

33 
	~"£rv”_lib.h
"

34 
	~"cursÜ.h
"

35 
	~"ev’t.h
"

36 
	~"wšdow_mªag”.h
"

37 
	~"æush_š_z_Üd”.h
"

38 
	~"­¶iÿtiÚ_šfo.h
"

39 
	~"wšdow_šfo.h
"

40 
	~"wšdow_šfo_™”©Ü.h
"

41 
	~"log.h
"

42 
	~"cÚfig.h
"

43 
	~"comp”.h
"

46 
si_t
 
	gt™Ë_b¬_´ess
 = 0;

48 
si_t
 
	gmšimize_bu‰Ú_´ess
 = 0;

50 
si_t
 
	gmaximize_bu‰Ú_´ess
 = 0;

52 
si_t
 
	gşo£_bu‰Ú_´ess
 = 0;

54 
si_t
 
	gl_äame_´ess
 = 0;

56 
si_t
 
	gt_äame_´ess
 = 0;

58 
si_t
 
	gr_äame_´ess
 = 0;

60 
si_t
 
	gb_äame_´ess
 = 0;

63 
si_t
 
	gwidg‘_move_Ãw_x_off£t
 = 0;

64 
si_t
 
	gwidg‘_move_Ãw_y_off£t
 = 0;

65 
si_t
 
	gwidg‘_move_Şd_x_off£t
 = 0;

66 
si_t
 
	gwidg‘_move_Şd_y_off£t
 = 0;

69 
si_t
 
	gwidg‘_»size_Ãw_x_off£t
 = 0;

70 
si_t
 
	gwidg‘_»size_Ãw_y_off£t
 = 0;

71 
si_t
 
	gwidg‘_»size_Şd_x_off£t
 = 0;

72 
si_t
 
	gwidg‘_»size_Şd_y_off£t
 = 0;

77 
si_t
 
	$Œav”§l_­p
(
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
)

79 
si_t
 
i
, 
n
;

80 
objeù
 * 
Œ“
, * 
node
;

82 
n
 = 
	`veùÜ_size
(&(
­p_šfo_±r
->
wšdow_šfo_veùÜ
));

84 
i
 = 0; i < 
n
; ++ i)

86 
Œ“
 = 
	`veùÜ_©
(&(
­p_šfo_±r
->
wšdow_šfo_veùÜ
), 
i
);

88 
node
 = 
Œ“
->
lchd
;

89 
node
 !ğ
NULL
)

91 
wšdow_šfo
 * 
wš_šfo_±r
 = (wšdow_šfØ*)
node
;

92 
	`EGUI_PRINT_INFO
("Œav”§l:‡µ %s, wšdow %s", 
­p_šfo_±r
->
Çme
, 
wš_šfo_±r
->
t™Ë
);

94 
node
 = 
	`objeù_Œ“_™”©Ü_šüem’t
(
Œ“
,‚ode);

99 
	}
}

109 
si_t
 
	$hªdË_desktİ_´ess
(
mes§ge
 * 
msg
)

112 if(
glob®_wm
.
aùive_wš_šfo_±r
 =ğ
NULL
 && glob®_wm.
aùive_­p_šfo_±r
 =ğNULL && NULL !ğglob®_wm.
desktİ_­p_±r
)

114 
	`£nd_šput_mes§ge
(&
glob®_wm
.
desktİ_­p_±r
->
uds
, 
msg
, 0);

117 
	}
}

126 
si_t
 
	$hªdË_desktİ_»Ëa£
(
mes§ge
 * 
msg
)

128 if(
glob®_wm
.
aùive_wš_šfo_±r
 =ğ
NULL
 && glob®_wm.
aùive_­p_šfo_±r
 =ğNULL && NULL !ğglob®_wm.
desktİ_­p_±r
)

130 
	`£nd_šput_mes§ge
(&
glob®_wm
.
desktİ_­p_±r
->
uds
, 
msg
, 0);

134 
	}
}

136 
si_t
 
	$_do_fšd_şicked_wšdow
(
wšdow_šfo_™”©Ü
* 
™”
, 
addr_t
 
¬g
)

138 
pošt
* 
pos
 = (pošt*)
¬g
;

139 if(
	`is_pošt_š_¬—
(
pos
, &
™”
->
wš_šfo_±r
->
¬—
))

144 
	}
}

154 
si_t
 
	$mask_aùive_by_mou£_down
(
mes§ge
 * 
msg
)

156 
wšdow_šfo_™”©Ü
 
™”
;

157 
	`wšdow_šfo_™”©Ü_ş—r
(&
™”
);

159 if(!
	`®l_­p_Œav”§l_deüem’t
(&
™”
, 
_do_fšd_şicked_wšdow
, &
msg
->
mou£
.
cursÜ_pos™iÚ
)) {

161 
	`wšdow_šfo_™”©Ü_ş—r
(&
™”
);

165 if(
™”
.
­p_šfo_±r
 =ğ
NULL
 || i‹r.
wš_šfo_±r
 == NULL)

168 if(
glob®_wm
.
aùive_wš_šfo_±r
 !ğ
NULL
)

171 
	`£nd_wšdow_d—ùiv©e_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
msg
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
);

173 if(
NULL
 !ğ
glob®_wm
.
desktİ_­p_±r
)

175 
	`£nd_wšdow_d—ùiv©e_mes§ge
(&
glob®_wm
.
desktİ_­p_±r
->
uds
, 
NULL
,

176 (
si_t
)
	`objeù_g‘_roÙ
(
	`OBJECT_POINTER
(
glob®_wm
.
aùive_wš_šfo_±r
)));

180 
glob®_wm
.
aùive_wš_šfo_±r
 = 
NULL
;

181 
glob®_wm
.
aùive_­p_šfo_±r
 = 
NULL
;

185 if(
glob®_wm
.
aùive_wš_šfo_±r
 !ğ
™”
.
wš_šfo_±r
)

188 if(
glob®_wm
.
aùive_wš_šfo_±r
 !ğ
NULL
)

191 
	`£nd_wšdow_d—ùiv©e_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
msg
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
);

193 if(
NULL
 !ğ
glob®_wm
.
desktİ_­p_±r
)

195 
	`£nd_wšdow_d—ùiv©e_mes§ge
(&
glob®_wm
.
desktİ_­p_±r
->
uds
, 
NULL
,

196 (
si_t
)
	`objeù_g‘_roÙ
(
	`OBJECT_POINTER
(
glob®_wm
.
aùive_wš_šfo_±r
)));

201 
	`veùÜ_move_back
(&(
™”
.
­p_šfo_±r
->
wšdow_šfo_veùÜ
), i‹r.
wš_šdex
);

204 
	`veùÜ_move_back
(&(
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
), 
™”
.
­p_šdex
);

207 
	`objeù_move_fœ¡
(
	`OBJECT_POINTER
(
™”
.
wš_šfo_±r
));

210 
glob®_wm
.
aùive_wš_šfo_±r
 = 
™”
.
wš_šfo_±r
;

211 
glob®_wm
.
aùive_­p_šfo_±r
 = 
™”
.
­p_šfo_±r
;

213 
	`£nd_wšdow_aùiv©e_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
msg
, (
si_t
)
™”
.
wš_šfo_±r
);

214 if(
NULL
 !ğ
glob®_wm
.
desktİ_­p_±r
)

216 
	`£nd_wšdow_aùiv©e_mes§ge
(&
glob®_wm
.
desktİ_­p_±r
->
uds
, 
NULL
, (
si_t
)
™”
.
tİ_wš_šfo_±r
);

221 
	}
}

231 
si_t
 
	$hªdË_bu‰Ú_´ess
(
mes§ge
 * 
msg
)

234 if(
glob®_wm
.
aùive_­p_šfo_±r
 !ğ
NULL
 && glob®_wm.
aùive_wš_šfo_±r
 != NULL)

236 if(
msg
->
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_L_KEY
)

239 if(
glob®_wm
.
aùive_wš_šfo_±r
->
mšimize_’abË
 == 1

240 && 
	`is_pošt_š_¬—
(&(
msg
->
mou£
.
cursÜ_pos™iÚ
), &(
glob®_wm
.
aùive_wš_šfo_±r
->
mšimize_bu‰Ú_¬—
)))

242 
mšimize_bu‰Ú_´ess
 = 1;

245 if(
glob®_wm
.
aùive_wš_šfo_±r
->
maximize_’abË
 == 1

246 && 
	`is_pošt_š_¬—
(&(
msg
->
mou£
.
cursÜ_pos™iÚ
), &(
glob®_wm
.
aùive_wš_šfo_±r
->
maximize_bu‰Ú_¬—
)))

248 
maximize_bu‰Ú_´ess
 = 1;

251 if(
	`is_pošt_š_¬—
(&(
msg
->
mou£
.
cursÜ_pos™iÚ
), &(
glob®_wm
.
aùive_wš_šfo_±r
->
şo£_bu‰Ú_¬—
)))

253 
şo£_bu‰Ú_´ess
 = 1;

259 
	}
}

261 
si_t
 
	$_do_fšd_Ãxt_aùive_wšdow
(
wšdow_šfo_™”©Ü
* 
™”
, 
addr_t
 
¬g
)

263 
wšdow_šfo
* 
this_tİ_wš_šfo_±r
 = (wšdow_šfo*)
¬g
;

265 if(
™”
->
tİ_wš_šfo_±r
 !ğ
this_tİ_wš_šfo_±r


266 && 
™”
->
wš_šfo_±r
->
¬—
.
x
 >= 0)

271 
	}
}

273 
si_t
 
	$hªdË_mšimize_bu‰Ú_»Ëa£
(
mes§ge
* 
msg
)

275 
objeù
* 
Œ“
 = 
NULL
;

276 
objeù
* 
node
 = 
NULL
;

277 
i
 = 0, 
j
 = 0;

278 
wšdow_šfo_™”©Ü
 
™”
;

280 if(
glob®_wm
.
aùive_wš_šfo_±r
->
mšimize_’abË
 != 1

281 || !
	`is_pošt_š_¬—
(&(
msg
->
mou£
.
cursÜ_pos™iÚ
), &(
glob®_wm
.
aùive_wš_šfo_±r
->
mšimize_bu‰Ú_¬—
)))

289 
Œ“
 = 
	`objeù_g‘_roÙ
(
	`OBJECT_POINTER
(
glob®_wm
.
aùive_wš_šfo_±r
))->
·»Á
;

290 
node
 = 
Œ“
->
lchd
;

291 
node
 !ğ
NULL
)

293 
	`EGUI_PRINT_INFO
("£nd mšimized msgØ%s", ((
wšdow_šfo
*)
node
)->
t™Ë
);

294 
	`£nd_wšdow_mšimize_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
msg
, (
si_t
)
node
);

295 
node
 = 
	`objeù_Œ“_™”©Ü_šüem’t
(
Œ“
,‚ode);

301 
	`£nd_wšdow_d—ùiv©e_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
msg
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
);

303 if(
NULL
 !ğ
glob®_wm
.
desktİ_­p_±r
)

305 
	`£nd_wšdow_d—ùiv©e_mes§ge
(&
glob®_wm
.
desktİ_­p_±r
->
uds
, 
NULL
, (
si_t
)
Œ“
->
·»Á
);

308 
	`wšdow_šfo_™”©Ü_ş—r
(&
™”
);

310 if(
	`®l_­p_Œav”§l_deüem’t
(&
™”
, 
_do_fšd_Ãxt_aùive_wšdow
, 
Œ“
->
·»Á
))

312 
glob®_wm
.
aùive_wš_šfo_±r
 = 
™”
.
wš_šfo_±r
;

313 
glob®_wm
.
aùive_­p_šfo_±r
 = 
™”
.
­p_šfo_±r
;

317 
glob®_wm
.
aùive_wš_šfo_±r
 = 
NULL
;

318 
glob®_wm
.
aùive_­p_šfo_±r
 = 
NULL
;

325 
node
 = 
	`objeù_g‘_roÙ
(
	`OBJECT_POINTER
(
glob®_wm
.
aùive_wš_šfo_±r
));

329 
i
 = 
	`­¶iÿtiÚ_šfo_g‘_wš_šdex
(
glob®_wm
.
aùive_­p_šfo_±r
, (
wšdow_šfo
*)
node
);

330 
j
 = 
	`wšdow_mªag”_g‘_­p_šdex
(
glob®_wm
.
aùive_­p_šfo_±r
);

331 
	`veùÜ_move_back
(&(
glob®_wm
.
aùive_­p_šfo_±r
->
wšdow_šfo_veùÜ
), 
i
);

332 
	`veùÜ_move_back
(&(
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
), 
j
);

337 
	`£nd_wšdow_aùiv©e_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
msg
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
);

338 if(
NULL
 !ğ
glob®_wm
.
desktİ_­p_±r
)

340 
	`£nd_wšdow_aùiv©e_mes§ge
(&
glob®_wm
.
desktİ_­p_±r
->
uds
, 
NULL
, (
si_t
)
node
);

344 
	}
}

353 
si_t
 
	$hªdË_bu‰Ú_»Ëa£
(
mes§ge
 * 
msg
)

355 if(
glob®_wm
.
aùive_­p_šfo_±r
 =ğ
NULL
 && glob®_wm.
aùive_wš_šfo_±r
 == NULL)

362 if(
msg
->
mou£
.
code
 !ğ
INPUT_CODE_MOUSE_L_KEY
)

367 if(
mšimize_bu‰Ú_´ess
 == 1)

369 
mšimize_bu‰Ú_´ess
 = 0;

370 
	`hªdË_mšimize_bu‰Ú_»Ëa£
(
msg
);

373 if(
maximize_bu‰Ú_´ess
 == 1)

375 
maximize_bu‰Ú_´ess
 = 0;

377 if(
glob®_wm
.
aùive_wš_šfo_±r
->
maximize_’abË
 =ğ1 && 
	`is_pošt_š_¬—
(&(
msg
->
mou£
.
cursÜ_pos™iÚ
), &(glob®_wm.aùive_wš_šfo_±r->
maximize_bu‰Ú_¬—
)))

382 if(
glob®_wm
.
aùive_wš_šfo_±r
->
Ãed_»¡Üe
 == 0)

384 
	`£nd_wšdow_maximize_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
msg
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
);

385 
glob®_wm
.
aùive_wš_šfo_±r
->
Ãed_»¡Üe
 = 1;

390 if(
glob®_wm
.
aùive_wš_šfo_±r
->
Ãed_»¡Üe
 == 1)

392 
	`£nd_wšdow_»¡Üe_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
msg
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
);

393 
glob®_wm
.
aùive_wš_šfo_±r
->
Ãed_»¡Üe
 = 0;

398 if(
şo£_bu‰Ú_´ess
 == 1)

400 
şo£_bu‰Ú_´ess
 = 0;

402 if(
	`is_pošt_š_¬—
(&(
msg
->
mou£
.
cursÜ_pos™iÚ
), &(
glob®_wm
.
aùive_wš_šfo_±r
->
şo£_bu‰Ú_¬—
)))

404 
	`£nd_wšdow_ÿnûl_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
msg
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
);

409 
	}
}

418 
si_t
 
	$hªdË_t™Ë_b¬_´ess
(
mes§ge
 * 
msg
)

421 if(
glob®_wm
.
aùive_­p_šfo_±r
 !ğ
NULL
 && glob®_wm.
aùive_wš_šfo_±r
 != NULL)

423 if(
msg
->
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_L_KEY
)

426 if(
	`is_pošt_š_¬—
(&(
msg
->
mou£
.
cursÜ_pos™iÚ
), &(
glob®_wm
.
aùive_wš_šfo_±r
->
t™Ë_b¬_¬—
)))

428 
t™Ë_b¬_´ess
 = 1;

435 
	}
}

446 
si_t
 
	$accumuÏ‹_widg‘_move
(
mes§ge
 * 
msg
)

448 
pošt
 
p
;

451 if(
glob®_wm
.
aùive_­p_šfo_±r
 =ğ
NULL
 && glob®_wm.
aùive_wš_šfo_±r
 == NULL)

455 if(
t™Ë_b¬_´ess
 != 1)

460 
sü“n_æush


461 (
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
.
x
 + 
widg‘_move_Şd_x_off£t
,

462 
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
.
y
 + 
widg‘_move_Şd_y_off£t
,

463 
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
.
width
,

464 
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
.
height
);

467 
	`’su»_pošt_š_¬—
(&
glob®_wm
.
Ãw_cursÜ
, &glob®_wm.
wÜk_¬—
);

469 
	`pošt_£t
(&
p
,

470 
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
.
x
 + 
widg‘_move_Ãw_x_off£t
, glob®_wm.aùive_wš_šfo_±r->¬—.
y
 + 
widg‘_move_Ãw_y_off£t
);

472 
	`’su»_pošt_š_¬—
(&
p
, &
glob®_wm
.
wÜk_¬—
);

473 
widg‘_move_Şd_x_off£t
 = 
p
.
x
 - 
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
.x;

474 
widg‘_move_Şd_y_off£t
 = 
p
.
y
 - 
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
.y;

477 
’gše_d¿w_»ùªgË


478 (
glob®_wm
.
gd_hªdËr
,

479 
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
.
x
 + 
widg‘_move_Şd_x_off£t
,

480 
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
.
y
 + 
widg‘_move_Şd_y_off£t
,

481 
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
.
width
,

482 
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
.
height
);

484 if(
msg
->
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_X_OFFSET
)

486 
widg‘_move_Ãw_x_off£t
 +ğ
glob®_wm
.
Ãw_cursÜ
.
x
 - glob®_wm.
Şd_cursÜ
.x;

488 if(
msg
->
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_Y_OFFSET
)

490 
widg‘_move_Ãw_y_off£t
 +ğ
glob®_wm
.
Ãw_cursÜ
.
y
 - glob®_wm.
Şd_cursÜ
.y;

494 
	}
}

503 
si_t
 
	$hªdË_widg‘_move
(
mes§ge
 * 
msg
)

506 if(
glob®_wm
.
aùive_­p_šfo_±r
 !ğ
NULL
 && glob®_wm.
aùive_wš_šfo_±r
 != NULL)

509 if(
msg
->
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_L_KEY
 && 
t™Ë_b¬_´ess
 == 1)

511 
sü“n_æush


512 (
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
.
x
 + 
widg‘_move_Şd_x_off£t
,

513 
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
.
y
 + 
widg‘_move_Şd_y_off£t
,

514 
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
.
width
,

515 
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
.
height
);

517 
	`cursÜ_·št
();

520 if(
widg‘_move_Şd_x_off£t
 !ğ0 || 
widg‘_move_Şd_y_off£t
 != 0)

522 
	`£nd_widg‘_move_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
msg
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
,

523 
glob®_wm
.
aùive_wš_šfo_±r
->
wÜk_¬—
.
x
 + 
widg‘_move_Şd_x_off£t
,

524 
glob®_wm
.
aùive_wš_šfo_±r
->
wÜk_¬—
.
y
 + 
widg‘_move_Şd_y_off£t
);

527 
widg‘_move_Şd_x_off£t
 = 0;

528 
widg‘_move_Şd_y_off£t
 = 0;

529 
widg‘_move_Ãw_x_off£t
 = 0;

530 
widg‘_move_Ãw_y_off£t
 = 0;

532 
t™Ë_b¬_´ess
 = 0;

537 
	}
}

546 
si_t
 
	$hªdË_äame_´ess
(
mes§ge
 * 
msg
)

549 if(
glob®_wm
.
aùive_­p_šfo_±r
 !ğ
NULL
 && glob®_wm.
aùive_wš_šfo_±r
 !ğNULL && glob®_wm.aùive_wš_šfo_±r->
Ãed_»¡Üe
 == 0)

551 if(
msg
->
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_L_KEY
)

554 if(
	`wšdow_šfo_is_şick_Ëá_äame
(
glob®_wm
.
aùive_wš_šfo_±r
, &
msg
->
mou£
.
cursÜ_pos™iÚ
))

556 
l_äame_´ess
 = 1;

559 if(
	`wšdow_šfo_is_şick_up_äame
(
glob®_wm
.
aùive_wš_šfo_±r
, &
msg
->
mou£
.
cursÜ_pos™iÚ
))

561 
t_äame_´ess
 = 1;

564 if(
	`wšdow_šfo_is_şick_right_äame
(
glob®_wm
.
aùive_wš_šfo_±r
, &
msg
->
mou£
.
cursÜ_pos™iÚ
))

566 
r_äame_´ess
 = 1;

569 if(
	`wšdow_šfo_is_şick_down_äame
(
glob®_wm
.
aùive_wš_šfo_±r
, &
msg
->
mou£
.
cursÜ_pos™iÚ
))

571 
b_äame_´ess
 = 1;

577 
	}
}

588 
si_t
 
	$accumuÏ‹_widg‘_»size
(
mes§ge
 * 
msg
)

590 
»ùªgË
* 
wš_wÜk_¬—
 = &
glob®_wm
.
aùive_wš_šfo_±r
->
wÜk_¬—
;

591 
»ùªgË
* 
wš_¬—
 = &
glob®_wm
.
aùive_wš_šfo_±r
->
¬—
;

592 
	`NOT_USED
(
msg
);

594 if(
glob®_wm
.
aùive_­p_šfo_±r
 =ğ
NULL
 && glob®_wm.
aùive_wš_šfo_±r
 == NULL)

599 if(
l_äame_´ess
 == 1)

601 
	`sü“n_æush
(
wš_¬—
->
x
 + 
widg‘_»size_Şd_x_off£t
, wš_¬—->
y
, wš_¬—->
width
 - widg‘_»size_Şd_x_off£t, wš_¬—->
height
);

603 
widg‘_»size_Ãw_x_off£t
 +ğ
glob®_wm
.
Ãw_cursÜ
.
x
 - glob®_wm.
Şd_cursÜ
.x;

606 if(
widg‘_»size_Ãw_x_off£t
 > 0 && 
wš_wÜk_¬—
->
width
 - widg‘_»size_Ãw_x_off£ˆ< 
	`wšdow_šfo_Ëa¡_width
(
glob®_wm
.
aùive_wš_šfo_±r
))

608 
widg‘_»size_Şd_x_off£t
 = 
wš_wÜk_¬—
->
width
 - 
	`wšdow_šfo_Ëa¡_width
(
glob®_wm
.
aùive_wš_šfo_±r
);

612 
widg‘_»size_Şd_x_off£t
 = 
widg‘_»size_Ãw_x_off£t
;

616 
	`’gše_d¿w_»ùªgË
(
glob®_wm
.
gd_hªdËr
,

617 
wš_¬—
->
x
 + 
widg‘_»size_Şd_x_off£t
, wš_¬—->
y
, wš_¬—->
width
 - widg‘_»size_Şd_x_off£t, wš_¬—->
height
);

620 if(
t_äame_´ess
 == 1)

622 
	`sü“n_æush
(
wš_¬—
->
x
, wš_¬—->
y
 + 
widg‘_»size_Şd_y_off£t
, wš_¬—->
width
, wš_¬—->
height
 - widget_resize_old_y_offset);

624 
widg‘_»size_Ãw_y_off£t
 +ğ
glob®_wm
.
Ãw_cursÜ
.
y
 - glob®_wm.
Şd_cursÜ
.y;

627 if(
widg‘_»size_Ãw_y_off£t
 > 0 && 
wš_wÜk_¬—
->
height
 - widget_resize_new_y_offset < 0)

629 
widg‘_»size_Şd_y_off£t
 = 
wš_wÜk_¬—
->
height
;

633 
widg‘_»size_Şd_y_off£t
 = 
widg‘_»size_Ãw_y_off£t
;

637 
	`’gše_d¿w_»ùªgË
(
glob®_wm
.
gd_hªdËr
,

638 
wš_¬—
->
x
, wš_¬—->
y
 + 
widg‘_»size_Şd_y_off£t
, wš_¬—->
width
, wš_¬—->
height
 - widget_resize_old_y_offset);

641 if(
r_äame_´ess
 == 1)

643 
	`sü“n_æush
(
wš_¬—
->
x
, wš_¬—->
y
, wš_¬—->
width
 + 
widg‘_»size_Şd_x_off£t
, wš_¬—->
height
);

645 
widg‘_»size_Ãw_x_off£t
 +ğ
glob®_wm
.
Ãw_cursÜ
.
x
 - glob®_wm.
Şd_cursÜ
.x;

648 if(
widg‘_»size_Ãw_x_off£t
 < 0 && 
wš_wÜk_¬—
->
width
 + widg‘_»size_Ãw_x_off£ˆ< 
	`wšdow_šfo_Ëa¡_width
(
glob®_wm
.
aùive_wš_šfo_±r
))

650 
widg‘_»size_Ãw_x_off£t
 = 
	`wšdow_šfo_Ëa¡_width
(
glob®_wm
.
aùive_wš_šfo_±r
è- 
wš_wÜk_¬—
->
width
;

654 
widg‘_»size_Şd_x_off£t
 = 
widg‘_»size_Ãw_x_off£t
;

658 
	`’gše_d¿w_»ùªgË
(
glob®_wm
.
gd_hªdËr
,

659 
wš_¬—
->
x
, wš_¬—->
y
, wš_¬—->
width
 + 
widg‘_»size_Şd_x_off£t
, wš_¬—->
height
);

662 if(
b_äame_´ess
 == 1)

664 
	`sü“n_æush
(
wš_¬—
->
x
, wš_¬—->
y
, wš_¬—->
width
, wš_¬—->
height
 + 
widg‘_»size_Şd_y_off£t
);

666 
widg‘_»size_Ãw_y_off£t
 +ğ
glob®_wm
.
Ãw_cursÜ
.
y
 - glob®_wm.
Şd_cursÜ
.y;

669 if(
widg‘_»size_Ãw_y_off£t
 < 0 && 
wš_wÜk_¬—
->
height
 + widget_resize_new_y_offset < 0)

671 
widg‘_»size_Şd_y_off£t
 = 0 - 
wš_wÜk_¬—
->
height
;

675 
widg‘_»size_Şd_y_off£t
 = 
widg‘_»size_Ãw_y_off£t
;

679 
	`’gše_d¿w_»ùªgË
(
glob®_wm
.
gd_hªdËr
,

680 
wš_¬—
->
x
, wš_¬—->
y
, wš_¬—->
width
, wš_¬—->
height
 + 
widg‘_»size_Şd_y_off£t
);

684 
	}
}

693 
si_t
 
	$hªdË_widg‘_»size
(
mes§ge
 * 
msg
)

695 
»ùªgË
* 
wÜk_¬—
 = &
glob®_wm
.
aùive_wš_šfo_±r
->work_area;

696 
»ùªgË
* 
¬—
 = &
glob®_wm
.
aùive_wš_šfo_±r
->area;

700 if(
glob®_wm
.
aùive_­p_šfo_±r
 =ğ
NULL
 && glob®_wm.
aùive_wš_šfo_±r
 == NULL)

705 if(
msg
->
mou£
.
code
 !ğ
INPUT_CODE_MOUSE_L_KEY
)

710 if(
l_äame_´ess
 == 1)

712 
	`£nd_widg‘_»size_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
msg
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
,

713 
wÜk_¬—
->
x
 + 
widg‘_»size_Şd_x_off£t
, wÜk_¬—->
y
, wÜk_¬—->
width
 - widg‘_»size_Şd_x_off£t, wÜk_¬—->
height
);

715 
	`sü“n_æush
(
¬—
->
x
 + 
widg‘_»size_Şd_x_off£t
,‡»a->
y
,‡»a->
width
 - widg‘_»size_Şd_x_off£t,‡»a->
height
);

717 if(
t_äame_´ess
 == 1)

719 
	`£nd_widg‘_»size_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
msg
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
,

720 
wÜk_¬—
->
x
, wÜk_¬—->
y
 + 
widg‘_»size_Şd_y_off£t
, wÜk_¬—->
width
, wÜk_¬—->
height
 - widget_resize_old_y_offset);

722 
	`sü“n_æush
(
¬—
->
x
,‡»a->
y
 + 
widg‘_»size_Şd_y_off£t
,‡»a->
width
,‡»a->
height
 - widget_resize_old_y_offset);

724 if(
r_äame_´ess
 == 1)

726 
	`£nd_widg‘_»size_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
msg
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
,

727 
wÜk_¬—
->
x
, wÜk_¬—->
y
, wÜk_¬—->
width
 + 
widg‘_»size_Şd_x_off£t
, wÜk_¬—->
height
);

729 
	`sü“n_æush
(
¬—
->
x
,‡»a->
y
,‡»a->
width
 + 
widg‘_»size_Şd_x_off£t
,‡»a->
height
);

731 if(
b_äame_´ess
 == 1)

733 
	`£nd_widg‘_»size_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
msg
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
,

734 
wÜk_¬—
->
x
, wÜk_¬—->
y
, wÜk_¬—->
width
, wÜk_¬—->
height
 + 
widg‘_»size_Şd_y_off£t
);

736 
	`sü“n_æush
(
¬—
->
x
,‡»a->
y
,‡»a->
width
,‡»a->
height
 + 
widg‘_»size_Şd_y_off£t
);

739 
	`cursÜ_·št
();

741 
widg‘_»size_Ãw_x_off£t
 = 0;

742 
widg‘_»size_Ãw_y_off£t
 = 0;

743 
widg‘_»size_Şd_x_off£t
 = 0;

744 
widg‘_»size_Şd_y_off£t
 = 0;

746 
l_äame_´ess
 = 0;

747 
t_äame_´ess
 = 0;

748 
r_äame_´ess
 = 0;

749 
b_äame_´ess
 = 0;

752 
	}
}

754 
si_t
 
	$wšdow_mªag”_šput_hªdËr
(
egui_uds
* 
uds_±r
, 
addr_t
 
¬g
)

756 
šput_deviû
* 
šput_deviû_±r
 = (šput_deviû*)
¬g
;

757 
	`NOT_USED
(
uds_±r
);

759 if(0 !ğ
šput_deviû_±r
->
	`d—l_w™h_šput
(šput_deviû_±r, &
glob®_wm
.
mes§ge_li¡
))

761 
	`EGUI_PRINT_ERROR
("failedo deal with input");

765 
	`li¡_em±y
(&(
glob®_wm
.
mes§ge_li¡
)) == 0)

767 
mes§ge
 * message;

769 
mes§ge
 = 
	`li¡_äÚt
(&(
glob®_wm
.
mes§ge_li¡
));

772 
mes§ge
->
ba£
.
cursÜ_pos™iÚ
.
x
 = 
glob®_wm
.
Şd_cursÜ
.x;

773 
mes§ge
->
ba£
.
cursÜ_pos™iÚ
.
y
 = 
glob®_wm
.
Şd_cursÜ
.y;

776 if(
glob®_wm
.
aùive_­p_šfo_±r
 !ğ
NULL
 && glob®_wm.
aùive_wš_šfo_±r
 != NULL)

778 
	`£nd_šput_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
mes§ge
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
);

781 if(
mes§ge
->
ba£
.
ty³
 =ğ
MESSAGE_TYPE_MOUSE_PRESS
)

786 if(!
	`is_pošt_š_¬—
(&
mes§ge
->
ba£
.
cursÜ_pos™iÚ
, &
glob®_wm
.
wÜk_¬—
è&& 
NULL
 !ğglob®_wm.
desktİ_­p_±r
)

788 
	`£nd_šput_mes§ge
(&
glob®_wm
.
desktİ_­p_±r
->
uds
, 
mes§ge
, 0);

793 
	`mask_aùive_by_mou£_down
(
mes§ge
);

795 
	`hªdË_desktİ_´ess
(
mes§ge
);

797 
	`hªdË_bu‰Ú_´ess
(
mes§ge
);

799 
	`hªdË_t™Ë_b¬_´ess
(
mes§ge
);

801 
	`hªdË_äame_´ess
(
mes§ge
);

804 if(
mes§ge
->
ba£
.
ty³
 =ğ
MESSAGE_TYPE_MOUSE_RELEASE
)

809 if(!
	`is_pošt_š_¬—
(&
mes§ge
->
ba£
.
cursÜ_pos™iÚ
, &
glob®_wm
.
wÜk_¬—
))

811 
	`£nd_šput_mes§ge
(&
glob®_wm
.
desktİ_­p_±r
->
uds
, 
mes§ge
, 0);

815 
	`hªdË_desktİ_»Ëa£
(
mes§ge
);

817 
	`hªdË_bu‰Ú_»Ëa£
(
mes§ge
);

819 
	`hªdË_widg‘_move
(
mes§ge
);

821 
	`hªdË_widg‘_»size
(
mes§ge
);

825 if(
mes§ge
->
ba£
.
ty³
 =ğ
MESSAGE_TYPE_MOUSE_MOVE
 ||

826 
mes§ge
->
ba£
.
ty³
 =ğ
MESSAGE_TYPE_MOUSE_MOVE_POINT
)

828 if(
mes§ge
->
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_X_OFFSET
)

830 if(
mes§ge
->
ba£
.
ty³
 =ğ
MESSAGE_TYPE_MOUSE_MOVE
) {

831 
glob®_wm
.
Ãw_cursÜ
.
x
 =

832 
glob®_wm
.
Ãw_cursÜ
.
x
 + 
mes§ge
->
mou£
.
v®ue
;

834 
glob®_wm
.
Ãw_cursÜ
.
x
 =

835 ()
mes§ge
->
mou£
.
v®ue
/
MOUSE_RESOLUTION
*

836 
glob®_sü“n
.
width
;

839 if(
glob®_wm
.
Ãw_cursÜ
.
x
 < 0)

841 
glob®_wm
.
Ãw_cursÜ
.
x
 = 0;

843 if(
glob®_wm
.
Ãw_cursÜ
.
x
 >ğ(
si_t
)
glob®_sü“n
.
width
)

845 
glob®_wm
.
Ãw_cursÜ
.
x
 = 
glob®_sü“n
.
width
 - 1;

848 if(
mes§ge
->
mou£
.
code
 =ğ
INPUT_CODE_MOUSE_Y_OFFSET
)

850 if(
mes§ge
->
ba£
.
ty³
 =ğ
MESSAGE_TYPE_MOUSE_MOVE
) {

851 
glob®_wm
.
Ãw_cursÜ
.
y
 =

852 
glob®_wm
.
Ãw_cursÜ
.
y
 + 
mes§ge
->
mou£
.
v®ue
;

854 
glob®_wm
.
Ãw_cursÜ
.
y
 =

855 ()
mes§ge
->
mou£
.
v®ue
/
MOUSE_RESOLUTION
*

856 
glob®_sü“n
.
height
;

859 if(
glob®_wm
.
Ãw_cursÜ
.
y
 < 0)

861 
glob®_wm
.
Ãw_cursÜ
.
y
 = 0;

863 if(
glob®_wm
.
Ãw_cursÜ
.
y
 >ğ(
si_t
)
glob®_sü“n
.
height
)

865 
glob®_wm
.
Ãw_cursÜ
.
y
 = 
glob®_sü“n
.
height
 - 1;

869 
	`accumuÏ‹_widg‘_move
(
mes§ge
);

870 
	`accumuÏ‹_widg‘_»size
(
mes§ge
);

872 
	`cursÜ_·št
();

874 
glob®_wm
.
Şd_cursÜ
 = glob®_wm.
Ãw_cursÜ
;

877 
	`li¡_pİ_äÚt
(&(
glob®_wm
.
mes§ge_li¡
));

881 
	}
}

883 
	$wšdow_mªag”_šput_de¡ruùÜ
(
egui_uds
* 
uds
, 
addr_t
 
¬g
)

885 
šput_deviû
* 
id_±r
 = 
¬g
;

886 
	`NOT_USED
(
uds
);

887 if(0 !ğ
id_±r
->
	`šput_ex™
(id_ptr))

889 
	`EGUI_PRINT_ERROR
("failedoƒxit input device");

891 
	}
}

	@window_manager/window_manager_set_request_handler.c

29 
	~"­¶iÿtiÚ_šfo.h
"

30 
	~"wšdow_šfo.h
"

31 
	~"wšdow_mªag”.h
"

32 
	~"£rv”_lib.h
"

33 
	~"wšdow_šfo_™”©Ü.h
"

34 
	~"cursÜ.h
"

35 
	~"æush_š_z_Üd”.h
"

36 
	~"log.h
"

37 
	~"comp”.h
"

39 
	~<¡dlib.h
>

52 
si_t
 
	$»gi¡”_­¶iÿtiÚ_hªdËr
(
addr_t
 
­p_±r
, 
si_t
 
video_acûss_mode
, si_ˆ
­¶iÿtiÚ_ty³
, * 
­p_Çme
)

54 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = (­¶iÿtiÚ_šfo*)
­p_±r
;

56 if(
APPLICATION_TYPE_DESKTOP
 =ğ
­¶iÿtiÚ_ty³
)

58 if(
NULL
 !ğ
glob®_wm
.
desktİ_­p_±r
)

60 
	`EGUI_PRINT_ERROR
("failedo„egisterwo desktop‡pplication; original desktop is %s",

61 
glob®_wm
.
desktİ_­p_±r
->
Çme
);

64 
glob®_wm
.
desktİ_­p_±r
 = 
­p_šfo_±r
;

67 if(0 !ğ
	`­¶iÿtiÚ_šfo_£t
(
­p_šfo_±r
, 
video_acûss_mode
, 
­¶iÿtiÚ_ty³
, 
­p_Çme
))

69 
	`EGUI_PRINT_ERROR
("çedØ£ˆ­¶iÿtiÚ infØ%s", 
­p_Çme
);

74 
	}
}

80 
si_t
 
	$_do_upd©e_Ï¡_wšdow
(
wšdow_šfo_™”©Ü
* 
™”
, 
addr_t
 
¬g
)

82 
	`NOT_USED
(
¬g
);

83 if(
™”
->
wš_šfo_±r
->
¬—
.
x
 >= 0)

85 
glob®_wm
.
aùive_­p_šfo_±r
 = 
™”
->
­p_šfo_±r
;

86 
glob®_wm
.
aùive_wš_šfo_±r
 = 
™”
->
wš_šfo_±r
;

90 
	}
}

96 
si_t
 
	$ÿnûl_­¶iÿtiÚ_hªdËr
(
addr_t
 
­p_±r
)

98 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = (­¶iÿtiÚ_šfo*è
­p_±r
;

99 
n
 = 0, 
i
 = 0;

102 
n
 = 
	`veùÜ_size
(&(
­p_šfo_±r
->
wšdow_šfo_veùÜ
));

103 
i
 = 0; i < 
n
; ++ i)

105 
objeù
* 
Œ“
 = (objeù*)
	`veùÜ_©
(&(
­p_šfo_±r
->
wšdow_šfo_veùÜ
), 
i
);

108 if(
NULL
 !ğ
glob®_wm
.
desktİ_­p_±r
)

110 
	`£nd_wšdow_ÿnûl_mes§ge
(&
glob®_wm
.
desktİ_­p_±r
->
uds
, 
NULL
, (
si_t
)(
Œ“
)->
·»Á
);

115 
	`­¶iÿtiÚ_šfo_ex™
(
­p_šfo_±r
);

120 
i
 = 
	`wšdow_mªag”_g‘_­p_šdex
(
­p_šfo_±r
);

121 
	`veùÜ_”a£
(&(
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
), 
i
);

124 if(
­p_šfo_±r
 =ğ
glob®_wm
.
aùive_­p_šfo_±r
)

126 
wšdow_šfo_™”©Ü
 
™”
;

127 
	`wšdow_šfo_™”©Ü_ş—r
(&
™”
);

129 
glob®_wm
.
aùive_wš_šfo_±r
 = 
NULL
;

130 
glob®_wm
.
aùive_­p_šfo_±r
 = 
NULL
;

131 if(
	`®l_­p_Œav”§l_deüem’t
(&
™”
, 
_do_upd©e_Ï¡_wšdow
, 
NULL
))

133 
	`£nd_wšdow_aùiv©e_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
NULL
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
);

134 if(
NULL
 !ğ
glob®_wm
.
desktİ_­p_±r
)

136 
	`£nd_wšdow_aùiv©e_mes§ge
(&
glob®_wm
.
desktİ_­p_±r
->
uds
, 
NULL
, (
si_t
)
™”
.
tİ_wš_šfo_±r
);

142 
	`æush_š_z_Üd”
(0, 0, 
glob®_sü“n
.
width
, glob®_sü“n.
height
);

143 
	`sü“n_æush
(0, 0, 
glob®_sü“n
.
width
, glob®_sü“n.
height
);

146 
	`cursÜ_·št
();

148 
	}
}

162 
si_t
 
	$g¿phics_deviû_š™_hªdËr
(
addr_t
 
­p_±r
, 
si_t
 
gd_hªdËr
)

164 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = (­¶iÿtiÚ_šfo*)
­p_±r
;

165 
g¿phics_deviû
* 
gd
 = (g¿phics_deviû*)
gd_hªdËr
;

167 if(
gd
 !ğ
NULL
)

169 
gd
->
sü“n
 = 
­p_šfo_±r
->screen;

170 
	`veùÜ_push_back
(&
­p_šfo_±r
->
gd_±r_veùÜ
, &
gd_hªdËr
, (
si_t
));

173 
	}
}

185 
si_t
 
	$g¿phics_deviû_ex™_hªdËr
(
addr_t
 
­p_±r
, 
si_t
 
gd_hªdËr
)

187 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = (­¶iÿtiÚ_šfo*)
­p_±r
;

188 
i
 = 0, 
n
 = 0;

190 
n
 = 
	`veùÜ_size
(&(
­p_šfo_±r
->
gd_±r_veùÜ
));

191 
i
 = 0; i < 
n
; ++ i)

193 
si_t
* 
gd_2_±r
 = 
	`veùÜ_©
(&(
­p_šfo_±r
->
gd_±r_veùÜ
), 
i
);

194 if(*
gd_2_±r
 =ğ
gd_hªdËr
)

199 
	`veùÜ_”a£
(&(
­p_šfo_±r
->
gd_±r_veùÜ
), 
i
);

204 
	}
}

213 
si_t
 
	$wšdow_mªag”_ex™_hªdËr
(
addr_t
 
­p_±r
)

215 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = (­¶iÿtiÚ_šfo*)
­p_±r
;

219 if(
APPLICATION_TYPE_WINDOW_MANAGER_EXIT
 =ğ
­p_šfo_±r
->
­¶iÿtiÚ_ty³
)

221 
n
 = 
	`veùÜ_size
(&
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
);

222 
i
 = 0;

227 
i
 = 0; i !ğ
n
; ++ i)

229 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = 
	`veùÜ_©
(&(
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
), 
i
);

230 if(0 !ğ
	`£nd_­¶iÿtiÚ_qu™_mes§ge
(&
­p_šfo_±r
->
uds
))

232 
	`EGUI_PRINT_ERROR
("çedØ£nd‡µliÿtiÚ qu™ msgØ%s", 
­p_šfo_±r
->
Çme
);

238 
	}
}

246 
si_t
 
	$desktİ_dœty_hªdËr
(
addr_t
 
­p_±r
)

248 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = (­¶iÿtiÚ_šfo*)
­p_±r
;

252 if(
APPLICATION_TYPE_DESKTOP
 =ğ
­p_šfo_±r
->
­¶iÿtiÚ_ty³
)

254  
	`æush_š_z_Üd”
(0, 0, 
glob®_sü“n
.
width
, glob®_sü“n.
height
);

257 
	}
}

267 
si_t
 
	$upd©e_hªdËr
(
addr_t
 
­p_±r
, 
si_t
 
gd_hªdËr
)

269 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = (­¶iÿtiÚ_šfo*)
­p_±r
;

270 
g¿phics_deviû
* 
gd_±r
 = (g¿phics_deviû*)
gd_hªdËr
;

272 
si_t
 
n
 = 
	`veùÜ_size
(&(
­p_šfo_±r
->
wšdow_šfo_veùÜ
));

273 if(
n
 > 0)

275 
objeù
* 
Œ“
 = 
	`veùÜ_©
(&(
­p_šfo_±r
->
wšdow_šfo_veùÜ
), 0);

276 
wšdow_šfo
* 
wš_šfo_±r
 = (wšdow_šfØ*)(
Œ“
->
lchd
);

279 
	`æush_above_š_z_Üd”_šşudšg
(
­p_šfo_±r
, 
wš_šfo_±r
, &
gd_±r
->
»ùªgË
);

281 
	`sü“n_æush
(
gd_±r
->
»ùªgË
.
x
, gd_±r->»ùªgË.
y
, gd_±r->»ùªgË.
width
, gd_±r->»ùªgË.
height
);

284 
	`cursÜ_·št
();

287 
	}
}

293 
si_t
 
	$_do_fšd_tİ_wšdow
(
wšdow_šfo_™”©Ü
* 
™”
, 
addr_t
 
¬g
)

295  ((
si_t
)
™”
->
tİ_wš_šfo_±r
 =ğ(si_t)
¬g
);

296 
	}
}

305 
si_t
 
	$aùiv©e_wšdow_hªdËr
(
addr_t
 
­p_±r
, 
si_t
 
wšdow_desü‹r
)

307 
­¶iÿtiÚ_šfo
* 
­p_šfo_±r
 = (­¶iÿtiÚ_šfo*)
­p_±r
;

308 
wšdow_šfo_™”©Ü
 
™”
;

310 if(0 =ğ(
­p_šfo_±r
->
­¶iÿtiÚ_ty³
 & 
APPLICATION_TYPE_DESKTOP
))

312 
	`EGUI_PRINT_ERROR
("none desktop‡pplication send‡ctivate window„equest.");

316 
	`wšdow_šfo_™”©Ü_ş—r
(&
™”
);

317 if(0 =ğ
	`®l_­p_Œav”§l_tİ_wšdow_deüem’t
(&
™”
, 
_do_fšd_tİ_wšdow
, (
addr_t
)
wšdow_desü‹r
))

320 if(
glob®_wm
.
aùive_wš_šfo_±r
 !ğ
NULL
)

323 
	`£nd_wšdow_d—ùiv©e_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
NULL
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
);

325 if(
NULL
 !ğ
glob®_wm
.
desktİ_­p_±r
)

327 
	`£nd_wšdow_d—ùiv©e_mes§ge
(&
glob®_wm
.
desktİ_­p_±r
->
uds
, 
NULL
,

328 (
si_t
)
	`objeù_g‘_roÙ
(
	`OBJECT_POINTER
(
glob®_wm
.
aùive_wš_šfo_±r
)));

332 
glob®_wm
.
aùive_wš_šfo_±r
 = 
NULL
;

333 
glob®_wm
.
aùive_­p_šfo_±r
 = 
NULL
;

336 if(
glob®_wm
.
aùive_wš_šfo_±r
 !ğ
™”
.
tİ_wš_šfo_±r
)

339 if(
glob®_wm
.
aùive_wš_šfo_±r
 !ğ
NULL
)

342 
	`£nd_wšdow_d—ùiv©e_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
NULL
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
);

344 if(
NULL
 !ğ
glob®_wm
.
desktİ_­p_±r
)

346 
	`£nd_wšdow_d—ùiv©e_mes§ge
(&
glob®_wm
.
desktİ_­p_±r
->
uds
, 
NULL
,

347 (
si_t
)
	`objeù_g‘_roÙ
(
	`OBJECT_POINTER
(
glob®_wm
.
aùive_wš_šfo_±r
)));

352 
	`veùÜ_move_back
(&(
­p_šfo_±r
->
wšdow_šfo_veùÜ
), 
™”
.
wš_šdex
);

355 
	`veùÜ_move_back
(&(
glob®_wm
.
­¶iÿtiÚ_šfo_veùÜ
), 
™”
.
­p_šdex
);

357 
	`objeù_move_fœ¡
(
	`OBJECT_POINTER
(
™”
.
tİ_wš_šfo_±r
));

360 
glob®_wm
.
aùive_wš_šfo_±r
 = 
™”
.
tİ_wš_šfo_±r
;

361 
glob®_wm
.
aùive_­p_šfo_±r
 = 
™”
.
­p_šfo_±r
;

363 
	`£nd_wšdow_aùiv©e_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
NULL
, (
si_t
)
™”
.
tİ_wš_šfo_±r
);

364 if(
NULL
 !ğ
glob®_wm
.
desktİ_­p_±r
)

366 
	`£nd_wšdow_aùiv©e_mes§ge
(&
glob®_wm
.
desktİ_­p_±r
->
uds
, 
NULL
,

367 (
si_t
)
	`objeù_g‘_roÙ
(
	`OBJECT_POINTER
(
™”
.
tİ_wš_šfo_±r
)));

372 
	}
}

391 
si_t
 
	$»gi¡”_wšdow_hªdËr
(
addr_t
 
­p_±r
, 
si_t
 
·»Á_desü‹r
, * 
t™Ë
, si_ˆ
x
, si_ˆ
y
, si_ˆ
w
, si_ˆ
h
, si_ˆ
maxabË
, si_ˆ
mšabË
, si_ˆ
mod–
)

393 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = (­¶iÿtiÚ_šfo*)
­p_±r
;

394 
wšdow_šfo
 * 
wš_šfo_±r
 = 
NULL
;

396 
wš_šfo_±r
 = 
	`wšdow_šfo_š™
(
t™Ë
, 
maxabË
, 
mšabË
, 
mod–
);

397 if(
NULL
 =ğ
wš_šfo_±r
)

399 
	`EGUI_PRINT_ERROR
("failedo init window info");

403 
	`wšdow_šfo_»size
(
wš_šfo_±r
, 
x
, 
y
, 
w
, 
h
);

408 if(
·»Á_desü‹r
 == 0)

410 
objeù
 
roÙ
 = {0};

411 
roÙ
.
·»Á
 = 
	`OBJECT_POINTER
(
wš_šfo_±r
);

412 
roÙ
.
lchd
 = 
	`OBJECT_POINTER
(
wš_šfo_±r
);

413 
roÙ
.
rchd
 = 
	`OBJECT_POINTER
(
wš_šfo_±r
);

416 
	`veùÜ_push_back
(&(
­p_šfo_±r
->
wšdow_šfo_veùÜ
), &
roÙ
, (
objeù
));

421 
wš_šfo_±r
->
·»Á
 = 
	`veùÜ_back
(&(
­p_šfo_±r
->
wšdow_šfo_veùÜ
));

428 
	`objeù_š£¹_chd
(
	`OBJECT_POINTER
(
·»Á_desü‹r
), OBJECT_POINTER(
wš_šfo_±r
));

431 if(
glob®_wm
.
aùive_wš_šfo_±r
 !ğ
NULL
 && glob®_wm.
aùive_­p_šfo_±r
 != NULL)

433 
	`£nd_wšdow_d—ùiv©e_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
NULL
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
);

437 
glob®_wm
.
aùive_wš_šfo_±r
 = 
wš_šfo_±r
;

439 
glob®_wm
.
aùive_­p_šfo_±r
 = 
­p_šfo_±r
;

441 
	`£nd_wšdow_aùiv©e_mes§ge
(&
glob®_wm
.
aùive_­p_šfo_±r
->
uds
, 
NULL
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
);

444 
	`æush_b–ow_š_z_Üd”
(
­p_šfo_±r
, 
wš_šfo_±r
, &wš_šfo_±r->
¬—
);

447 
	`æush_above_š_z_Üd”_šşudšg
(
­p_šfo_±r
, 
wš_šfo_±r
, &wš_šfo_±r->
¬—
);

450 
	`sü“n_æush
(
wš_šfo_±r
->
¬—
.
x
, wš_šfo_±r->¬—.
y
, wš_šfo_±r->¬—.
width
, wš_šfo_±r->¬—.
height
);

452 
	`cursÜ_·št
();

455  (
si_t
)
wš_šfo_±r
;

456 
	}
}

458 
	$__wšdow_šfo_de¡ruùÜ
(* 
¬g
)

460 
wšdow_šfo
* 
w
 = (wšdow_šfo*)
¬g
;

461 
	`wšdow_šfo_ex™
(
w
);

462 
	}
}

468 
si_t
 
	$_do_d–‘e_wšdow
(
wšdow_šfo_™”©Ü
* 
™”
, 
addr_t
 
¬g
)

470 if((
si_t
)
™”
->
wš_šfo_±r
 =ğ(si_t)
¬g
)

472 
	`objeù_d–‘e
(
	`OBJECT_POINTER
(
™”
->
wš_šfo_±r
), 
__wšdow_šfo_de¡ruùÜ
);

474 if(
™”
->
wš_šfo_±r
 =ğ™”->
tİ_wš_šfo_±r
)

476 
	`veùÜ_”a£
(&(
™”
->
­p_šfo_±r
->
wšdow_šfo_veùÜ
), i‹r->
wš_šdex
);

481 
	}
}

491 
si_t
 
	$ÿnûl_wšdow_hªdËr
(
addr_t
 
­p_±r
, 
si_t
 
wšdow_desü‹r
)

493 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = (­¶iÿtiÚ_šfo*)
­p_±r
;

494 
wšdow_šfo_™”©Ü
 
™”
;

495 
	`wšdow_šfo_™”©Ü_ş—r
(&
™”
);

498 if(0 =ğ
	`®l_­p_Œav”§l_deüem’t
(&
™”
, 
_do_d–‘e_wšdow
, (
addr_t
)
wšdow_desü‹r
))

509 if((
si_t
)
glob®_wm
.
aùive_wš_šfo_±r
 =ğ
wšdow_desü‹r
 || glob®_wm.
aùive_­p_šfo_±r
 =ğ
­p_šfo_±r
)

511 
glob®_wm
.
aùive_wš_šfo_±r
 = 
NULL
;

512 
glob®_wm
.
aùive_­p_šfo_±r
 = 
NULL
;

514 
	`wšdow_šfo_™”©Ü_ş—r
(&
™”
);

515 if(
	`®l_­p_Œav”§l_deüem’t
(&
™”
, 
_do_upd©e_Ï¡_wšdow
, 
NULL
))

520 
	`£nd_wšdow_aùiv©e_mes§ge
(&(
glob®_wm
.
aùive_­p_šfo_±r
->
uds
), 
NULL
, (
si_t
)glob®_wm.
aùive_wš_šfo_±r
);

529 
	`æush_š_z_Üd”
(0, 0, 
glob®_sü“n
.
width
, glob®_sü“n.
height
);

531 
	`sü“n_æush
(0, 0, 
glob®_sü“n
.
width
, glob®_sü“n.
height
);

534 
	`cursÜ_·št
();

537 
	}
}

549 
si_t
 
	$move_wšdow_hªdËr
(
addr_t
 
­p_±r
, 
si_t
 
wšdow_desü‹r
, si_ˆ
x
, si_ˆ
y
)

551 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = (­¶iÿtiÚ_šfo*)
­p_±r
;

552 
wšdow_šfo
* 
wš_šfo_±r
 = (wšdow_šfo*)
wšdow_desü‹r
;

553 
»ùªgË
 
Şd_¬—
 = {0}, 
Ãw_¬—
 = {0}, 
uniÚ_¬—
 = {0};

554 
si_t
 
x_off£t
 = 0, 
y_off£t
 = 0;

557 
	`æush_b–ow_š_z_Üd”
(
­p_šfo_±r
, 
wš_šfo_±r
, &wš_šfo_±r->
¬—
);

560 
Şd_¬—
 = 
wš_šfo_±r
->
¬—
;

561 
x_off£t
 = 
x
 - 
wš_šfo_±r
->
wÜk_¬—
.x;

562 
y_off£t
 = 
y
 - 
wš_šfo_±r
->
wÜk_¬—
.y;

563 
	`wšdow_šfo_move
(
wš_šfo_±r
, 
x_off£t
, 
y_off£t
);

564 
Ãw_¬—
 = 
wš_šfo_±r
->
¬—
;

567 
	`¬—_uniÚ
(&
Şd_¬—
, &
Ãw_¬—
, &
uniÚ_¬—
);

568 
	`sü“n_æush
(
uniÚ_¬—
.
x
, uniÚ_¬—.
y
, uniÚ_¬—.
width
, uniÚ_¬—.
height
);

570 
	`mem£t
(
glob®_sü“n
.
bufãr_addr
, 0, glob®_sü“n.
size
);

573 
	`cursÜ_·št
();

575 
	}
}

589 
si_t
 
	$»size_wšdow_hªdËr
(
addr_t
 
­p_±r
, 
si_t
 
wšdow_desü‹r
, si_ˆ
x
, si_ˆ
y
, si_ˆ
width
, si_ˆ
height
)

591 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = (­¶iÿtiÚ_šfo*)
­p_±r
;

592 
wšdow_šfo
* 
wš_šfo_±r
 = (wšdow_šfo*)
wšdow_desü‹r
;

593 
»ùªgË
 
Şd_¬—
 = {0}, 
Ãw_¬—
 = {0}, 
uniÚ_¬—
 = {0};

596 
	`æush_b–ow_š_z_Üd”
(
­p_šfo_±r
, 
wš_šfo_±r
, &(wš_šfo_±r->
¬—
));

599 
Şd_¬—
 = 
wš_šfo_±r
->
¬—
;

600 
	`wšdow_šfo_»size
(
wš_šfo_±r
, 
x
, 
y
, 
width
, 
height
);

601 
Ãw_¬—
 = 
wš_šfo_±r
->
¬—
;

602 
	`¬—_uniÚ
(&
Şd_¬—
, &
Ãw_¬—
, &
uniÚ_¬—
);

605 
	`sü“n_æush
(
uniÚ_¬—
.
x
, uniÚ_¬—.
y
, uniÚ_¬—.
width
, uniÚ_¬—.
height
);

608 
	`cursÜ_·št
();

611 
	}
}

621 
si_t
 
	$mšimize_wšdow_hªdËr
(
addr_t
 
­p_±r
, 
si_t
 
wšdow_desü‹r
)

623 
wšdow_šfo
* 
wš_šfo_±r
 = (wšdow_šfo*)
wšdow_desü‹r
;

624 
»ùªgË
 
Şd_¬—
 = 
wš_šfo_±r
->
¬—
;

625 
	`NOT_USED
(
­p_±r
);

628 
	`wšdow_šfo_»size
(
wš_šfo_±r
, -1, -1, 0, 0);

631 
	`æush_š_z_Üd”
(
Şd_¬—
.
x
, old_¬—.
y
, old_¬—.
width
, old_¬—.
height
);

634 
	`cursÜ_·št
();

637 
	}
}

648 
si_t
 
	$maximize_wšdow_hªdËr
(
addr_t
 
­p_±r
, 
si_t
 
wšdow_desü‹r
, 
»ùªgË
* 
¬—
)

650 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = (­¶iÿtiÚ_šfo*)
­p_±r
;

651 
wšdow_šfo
* 
wš_šfo_±r
 = (wšdow_šfo*)
wšdow_desü‹r
;

656 
	`wšdow_šfo_maximum
(
wš_šfo_±r
, &
glob®_wm
.
wÜk_¬—
);

659 
	`æush_b–ow_š_z_Üd”
(
­p_šfo_±r
, 
wš_šfo_±r
, &wš_šfo_±r->
¬—
);

661 
	`sü“n_æush
(
wš_šfo_±r
->
¬—
.
x
, wš_šfo_±r->¬—.
y
, wš_šfo_±r->¬—.
width
, wš_šfo_±r->¬—.
height
);

664 
	`cursÜ_·št
();

666 *
¬—
 = 
wš_šfo_±r
->
wÜk_¬—
;

669 
	}
}

680 
si_t
 
	$»¡Üe_wšdow_hªdËr
(
addr_t
 
­p_±r
, 
si_t
 
wšdow_desü‹r
, 
»ùªgË
* 
¬—
)

682 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = (­¶iÿtiÚ_šfo*)
­p_±r
;

683 
wšdow_šfo
* 
wš_šfo_±r
 = (wšdow_šfo*)
wšdow_desü‹r
;

684 
»ùªgË
 
Şd_¬—
 = {0}, 
Ãw_¬—
 = {0}, 
uniÚ_¬—
 = {0};

687 
	`æush_b–ow_š_z_Üd”
(
­p_šfo_±r
, 
wš_šfo_±r
, &wš_šfo_±r->
¬—
);

690 
Şd_¬—
 = 
wš_šfo_±r
->
¬—
;

691 
	`wšdow_šfo_»size
(
wš_šfo_±r
, 
¬—
->
x
,‡»a->
y
,‡»a->
width
,‡»a->
height
);

692 
Ãw_¬—
 = 
wš_šfo_±r
->
¬—
;

693 
	`¬—_uniÚ
(&
Şd_¬—
, &
Ãw_¬—
, &
uniÚ_¬—
);

696 
	`æush_b–ow_š_z_Üd”
(
­p_šfo_±r
, 
wš_šfo_±r
, &
uniÚ_¬—
);

699 
	`sü“n_æush
(
uniÚ_¬—
.
x
, uniÚ_¬—.
y
, uniÚ_¬—.
width
, uniÚ_¬—.
height
);

702 
	`cursÜ_·št
();

705 
	}
}

717 
si_t
 
	$g‘_wšdow_t™Ë_hªdËr
(
addr_t
 
­p_±r
, 
si_t
 
wšdow_desü‹r
, ** 
t™Ë_±r
)

719 
­¶iÿtiÚ_šfo
 * 
­p_šfo_±r
 = (­¶iÿtiÚ_šfo*)
­p_±r
;

720 
wšdow_šfo
* 
wš_šfo_±r
 = (wšdow_šfo*)
wšdow_desü‹r
;

722 if(
­p_šfo_±r
->
­¶iÿtiÚ_ty³
 & 
APPLICATION_TYPE_DESKTOP
)

724 *
t™Ë_±r
 = 
wš_šfo_±r
->
t™Ë
;

727 *
t™Ë_±r
 = 
NULL
;

729 
	}
}

731 
	$wšdow_mªag”_»que¡_de¡ruùÜ
(
addr_t
 
¬g
)

740 
	`ÿnûl_­¶iÿtiÚ_hªdËr
(
¬g
);

741 
	}
}

743 
	$wšdow_mªag”_£t_»que¡_hªdËr
()

748 
	`£rv”_lib_š™
(&
glob®_wm
.
£rv”_li¡’”
, 
wšdow_mªag”_»que¡_de¡ruùÜ
);

755 
	`add_»gi¡”_­¶iÿtiÚ_hªdËr
(
»gi¡”_­¶iÿtiÚ_hªdËr
);

756 
	`add_ÿnûl_­¶iÿtiÚ_hªdËr
(
ÿnûl_­¶iÿtiÚ_hªdËr
);

757 
	`add_g¿phics_deviû_š™_hªdËr
(
g¿phics_deviû_š™_hªdËr
);

758 
	`add_g¿phics_deviû_ex™_hªdËr
(
g¿phics_deviû_ex™_hªdËr
);

759 
	`add_wšdow_mªag”_ex™_hªdËr
(
wšdow_mªag”_ex™_hªdËr
);

760 
	`add_desktİ_dœty_hªdËr
(
desktİ_dœty_hªdËr
);

761 
	`add_upd©e_hªdËr
(
upd©e_hªdËr
);

762 
	`add_aùiv©e_wšdow_hªdËr
(
aùiv©e_wšdow_hªdËr
);

763 
	`add_»gi¡”_wšdow_hªdËr
(
»gi¡”_wšdow_hªdËr
);

764 
	`add_ÿnûl_wšdow_hªdËr
(
ÿnûl_wšdow_hªdËr
);

765 
	`add_move_wšdow_hªdËr
(
move_wšdow_hªdËr
);

766 
	`add_»size_wšdow_hªdËr
(
»size_wšdow_hªdËr
);

767 
	`add_mšimize_wšdow_hªdËr
(
mšimize_wšdow_hªdËr
);

768 
	`add_maximize_wšdow_hªdËr
(
maximize_wšdow_hªdËr
);

769 
	`add_»¡Üe_wšdow_hªdËr
(
»¡Üe_wšdow_hªdËr
);

770 
	`add_g‘_wšdow_t™Ë_hªdËr
(
g‘_wšdow_t™Ë_hªdËr
);

773 
	}
}

	@/usr/include/assert.h

23 #ifdef 
_ASSERT_H


25 #undeà
_ASSERT_H


26 #undeà
as£¹


27 #undeà
__ASSERT_VOID_CAST


29 #ifdef 
__USE_GNU


30 #undeà
as£¹_³¼Ü


35 
	#_ASSERT_H
 1

	)

36 
	~<ã©u»s.h
>

38 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,95)

39 
	#__ASSERT_VOID_CAST
 
¡©ic_ÿ¡
<>

	)

41 
	#__ASSERT_VOID_CAST
 ()

	)

49 #ifdef 
NDEBUG


51 
	#as£¹
(
ex´
è(
	`__ASSERT_VOID_CAST
 (0))

	)

59 #ifdef 
__USE_GNU


60 
	#as£¹_³¼Ü
(
”ºum
è(
	`__ASSERT_VOID_CAST
 (0))

	)

65 #iâdeà
_ASSERT_H_DECLS


66 
	#_ASSERT_H_DECLS


	)

67 
__BEGIN_DECLS


70 
	$__as£¹_ç
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
,

71 
__lše
, cÚ¡ *
__funùiÚ
)

72 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

75 
	$__as£¹_³¼Ü_ç
 (
__”ºum
, cÚ¡ *
__fe
,

76 
__lše
, cÚ¡ *
__funùiÚ
)

77 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

82 
	$__as£¹
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
, 
__lše
)

83 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

86 
__END_DECLS


89 
	#as£¹
(
ex´
) \

90 ((
ex´
) \

91 ? 
	`__ASSERT_VOID_CAST
 (0) \

92 : 
	`__as£¹_ç
 (
	`__STRING
(
ex´
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

94 #ifdef 
__USE_GNU


95 
	#as£¹_³¼Ü
(
”ºum
) \

96 (!(
”ºum
) \

97 ? 
	`__ASSERT_VOID_CAST
 (0) \

98 : 
	`__as£¹_³¼Ü_ç
 ((
”ºum
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

106 #ià
defšed
 
__ılu¥lus
 ? 
	`__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

107 
	#__ASSERT_FUNCTION
 
__PRETTY_FUNCTION__


	)

109 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

110 
	#__ASSERT_FUNCTION
 
__func__


	)

112 
	#__ASSERT_FUNCTION
 ((cÚ¡ *è0)

	)

119 #ià
defšed
 
__USE_ISOC11
 && !defšed 
__ılu¥lus


121 #undeà
¡©ic_as£¹


122 
	#¡©ic_as£¹
 
_Stic_as£¹


	)

	@/usr/include/ctype.h

23 #iâdef 
_CTYPE_H


24 
	#_CTYPE_H
 1

	)

26 
	~<ã©u»s.h
>

27 
	~<b™s/ty³s.h
>

29 
	g__BEGIN_DECLS


31 #iâdeà
_ISb™


40 
	~<’dŸn.h
>

41 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


42 
	#_ISb™
(
b™
è(1 << (b™))

	)

44 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

49 
	m_ISuµ”
 = 
_ISb™
 (0),

50 
	m_ISlow”
 = 
_ISb™
 (1),

51 
	m_IS®pha
 = 
_ISb™
 (2),

52 
	m_ISdig™
 = 
_ISb™
 (3),

53 
	m_ISxdig™
 = 
_ISb™
 (4),

54 
	m_IS¥aû
 = 
_ISb™
 (5),

55 
	m_IS´št
 = 
_ISb™
 (6),

56 
	m_ISg¿ph
 = 
_ISb™
 (7),

57 
	m_ISbÏnk
 = 
_ISb™
 (8),

58 
	m_ISúŒl
 = 
_ISb™
 (9),

59 
	m_ISpunù
 = 
_ISb™
 (10),

60 
	m_IS®num
 = 
_ISb™
 (11)

80 cÚ¡ **
	$__ùy³_b_loc
 ()

81 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

82 cÚ¡ 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

83 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

84 cÚ¡ 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

85 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

88 #iâdeà
__ılu¥lus


89 
	#__isùy³
(
c
, 
ty³
) \

90 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

91 #–ià
defšed
 
__USE_EXTERN_INLINES


92 
	#__isùy³_f
(
ty³
) \

93 
__ex‹º_šlše
 \

94 
is
##
	`ty³
 (
__c
è
__THROW
 \

96  (*
	`__ùy³_b_loc
 ())[(è(
__c
)] & (è
_IS
##
ty³
; \

97 
	}

	)
}

100 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

101 
	#__tßscii
(
c
è((cè& 0x7fè

	)

103 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

105 
__BEGIN_NAMESPACE_STD


111 
__exùy³
 (
i§Êum
);

112 
__exùy³
 (
i§Íha
);

113 
__exùy³
 (
isúŒl
);

114 
__exùy³
 (
isdig™
);

115 
__exùy³
 (
i¦ow”
);

116 
__exùy³
 (
isg¿ph
);

117 
__exùy³
 (
i¥ršt
);

118 
__exùy³
 (
i¥unù
);

119 
__exùy³
 (
is¥aû
);

120 
__exùy³
 (
isuµ”
);

121 
__exùy³
 (
isxdig™
);

125 
	$tŞow”
 (
__c
è
__THROW
;

128 
	$touµ”
 (
__c
è
__THROW
;

130 
__END_NAMESPACE_STD


134 #ifdef 
__USE_ISOC99


135 
__BEGIN_NAMESPACE_C99


137 
	`__exùy³
 (
isbÏnk
);

139 
__END_NAMESPACE_C99


142 #ifdeà
__USE_GNU


144 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

147 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


151 
	$i§scii
 (
__c
è
__THROW
;

155 
	$tßscii
 (
__c
è
__THROW
;

159 
	`__exùy³
 (
_touµ”
);

160 
	`__exùy³
 (
_tŞow”
);

164 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

165 (
__ex‹nsiÚ__
 \

166 ({ 
__»s
; \

167 ià( (
c
) > 1) \

169 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

171 
__c
 = (
c
); \

172 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

175 
__»s
 = 
f
 
¬gs
; \

178 
__»s
 = (
a
)[(è(
c
)]; \

179 
__»s
; 
	}
}))

	)

181 #ià!
defšed
 
__NO_CTYPE


182 #ifdeà
__isùy³_f


183 
	$__isùy³_f
 (
®num
)

184 
	$__isùy³_f
 (
®pha
)

185 
	$__isùy³_f
 (
úŒl
)

186 
	$__isùy³_f
 (
dig™
)

187 
	$__isùy³_f
 (
low”
)

188 
	$__isùy³_f
 (
g¿ph
)

189 
	$__isùy³_f
 (
´št
)

190 
	$__isùy³_f
 (
punù
)

191 
	$__isùy³_f
 (
¥aû
)

192 
	$__isùy³_f
 (
uµ”
)

193 
	$__isùy³_f
 (
xdig™
)

194 #ifdeà
__USE_ISOC99


195 
	$__isùy³_f
 (
bÏnk
)

197 #–ià
defšed
 
__isùy³


198 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

199 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

200 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

201 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

202 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

203 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

204 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

205 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

206 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

207 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

208 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

209 #ifdeà
__USE_ISOC99


210 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

214 #ifdeà
__USE_EXTERN_INLINES


215 
__ex‹º_šlše
 

216 
	`__NTH
 (
	$tŞow”
 (
__c
))

218  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

219 
	}
}

221 
__ex‹º_šlše
 

222 
__NTH
 (
	$touµ”
 (
__c
))

224  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

225 
	}
}

228 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


229 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

230 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

233 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


234 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

235 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

237 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

238 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

244 #ifdeà
__USE_XOPEN2K8


258 
	~<xloÿË.h
>

262 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

263 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

265 
	#__exùy³_l
(
Çme
) \

266 
	`Çme
 (, 
__loÿË_t
è
__THROW


	)

272 
__exùy³_l
 (
i§Êum_l
);

273 
__exùy³_l
 (
i§Íha_l
);

274 
__exùy³_l
 (
isúŒl_l
);

275 
__exùy³_l
 (
isdig™_l
);

276 
__exùy³_l
 (
i¦ow”_l
);

277 
__exùy³_l
 (
isg¿ph_l
);

278 
__exùy³_l
 (
i¥ršt_l
);

279 
__exùy³_l
 (
i¥unù_l
);

280 
__exùy³_l
 (
is¥aû_l
);

281 
__exùy³_l
 (
isuµ”_l
);

282 
__exùy³_l
 (
isxdig™_l
);

284 
__exùy³_l
 (
isbÏnk_l
);

288 
	$__tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

289 
	$tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

292 
	$__touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

293 
	$touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

295 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


296 
	#__tŞow”_l
(
c
, 
loÿË
) \

297 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

298 
	#__touµ”_l
(
c
, 
loÿË
) \

299 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

300 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

301 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

305 #iâdeà
__NO_CTYPE


306 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

307 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

308 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

309 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

310 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

311 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

312 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

313 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

314 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

315 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

316 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

318 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

320 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


321 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

322 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

325 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

326 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

327 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

328 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

329 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

330 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

331 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

332 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

333 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

334 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

335 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

337 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

339 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


340 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

341 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

348 
__END_DECLS


	@/usr/include/dialog.h

27 #iâdeà
DIALOG_H_šşuded


28 
	#DIALOG_H_šşuded
 1

	)

31 
	~<dlg_cÚfig.h
>

33 #ifdeà
__hpux


34 
	#__HP_CURSES_COMPAT


	)

37 
	~<sys/ty³s.h
>

38 
	~<fú.h
>

39 
	~<uni¡d.h
>

40 
	~<ùy³.h
>

41 
	~<¡dlib.h
>

42 
	~<¡d¬g.h
>

43 
	~<¡ršg.h
>

44 
	~<sigÇl.h
>

45 
	~<m©h.h
>

48 #ià
defšed
(
ERR
) && (ERR == 13)

49 #undeà
ERR


52 #ià
defšed
(
DLG_HAVE_NCURSESW_NCURSES_H
)

53 
	~<ncur£sw/ncur£s.h
>

54 #–ià
defšed
(
DLG_HAVE_NCURSES_NCURSES_H
)

55 
	~<ncur£s/ncur£s.h
>

56 #–ià
defšed
(
DLG_HAVE_NCURSES_CURSES_H
)

57 
	~<ncur£s/cur£s.h
>

58 #–ià
defšed
(
DLG_HAVE_NCURSES_H
)

59 
	~<ncur£s.h
>

61 
	~<cur£s.h
>

62 #ià
defšed
(
DLG_HAVE_UNCTRL_H
)

63 
	~<unù¾.h
>

68 #iâdeà
KEY_MAX


69 #ifdeà
__KEY_MAX


70 
	#KEY_MAX
 
__KEY_MAX


	)

74 #iâdeà
KEY_MIN


75 #ifdeà
__KEY_MIN


76 
	#KEY_MIN
 
__KEY_MIN


	)

81 #ifdeà
cŞÜ_Çmes


82 #undeà
cŞÜ_Çmes


85 #ifdeà
bu‰Ús


86 #undeà
bu‰Ús


89 #ifdeà
DLG_ENABLE_NLS


90 
	~<libš.h
>

91 
	~<Ïngšfo.h
>

92 
	#_
(
s
è
	`dg‘‹xt
(
DLG_PACKAGE
, s)

	)

94 #undeà
_


95 
	#_
(
s
è
	)
s

98 #iâdeà
GCC_PRINTFLIKE


99 
	#GCC_PRINTFLIKE
(
fmt
,
v¬
è

	)

102 #iâdeà
GCC_NORETURN


103 
	#GCC_NORETURN


	)

106 #iâdeà
GCC_UNUSED


107 
	#GCC_UNUSED


	)

110 #iâdeà
DLG_HAVE_WGET_WCH


111 #undeà
DLG_USE_WIDE_CURSES


117 #ifdeà
__hpux


118 #undeà
ACS_UARROW


119 #undeà
ACS_DARROW


120 #undeà
ACS_BLOCK


126 
	#USE_SHADOW
 
TRUE


	)

127 
	#USE_COLORS
 
TRUE


	)

129 #ifdeà
DLG_HAVE_COLOR


130 
	#SCOLS
 (
COLS
 - (
dŸlog_¡©e
.
u£_shadow
 ? 2 : 0))

	)

131 
	#SLINES
 (
LINES
 - (
dŸlog_¡©e
.
u£_shadow
 ? 1 : 0))

	)

133 
	#SCOLS
 
COLS


	)

134 
	#SLINES
 
LINES


	)

137 
	#DLG_EXIT_ESC
 255

	)

138 
	#DLG_EXIT_UNKNOWN
 -2

	)

139 
	#DLG_EXIT_ERROR
 -1

	)

140 
	#DLG_EXIT_OK
 0

	)

141 
	#DLG_EXIT_CANCEL
 1

	)

142 
	#DLG_EXIT_HELP
 2

	)

143 
	#DLG_EXIT_EXTRA
 3

	)

144 
	#DLG_EXIT_ITEM_HELP
 4

	)

146 
	#DLG_CTRL
(
n
è(Òè& 0x1fè

	)

148 
	#CHR_HELP
 
	`DLG_CTRL
('E')

	)

149 
	#CHR_BACKSPACE
 
	`DLG_CTRL
('H')

	)

150 
	#CHR_REPAINT
 
	`DLG_CTRL
('L')

	)

151 
	#CHR_KILL
 
	`DLG_CTRL
('U')

	)

152 
	#CHR_LITERAL
 
	`DLG_CTRL
('V')

	)

153 
	#CHR_DELETE
 127

	)

154 
	#CHR_NEXT
 
	`DLG_CTRL
('N')

	)

155 
	#CHR_PREVIOUS
 
	`DLG_CTRL
('P')

	)

156 
	#CHR_TRACE
 
	`DLG_CTRL
('T')

	)

158 
	#ESC
 27

	)

159 
	#TAB
 
	`DLG_CTRL
('I')

	)

161 
	#MARGIN
 1

	)

162 
	#GUTTER
 2

	)

163 
	#SHADOW_ROWS
 1

	)

164 
	#SHADOW_COLS
 2

	)

165 
	#ARROWS_COL
 5

	)

167 
	#MAX_LEN
 2048

	)

168 
	#BUF_SIZE
 (10L*1024)

	)

170 #undeà
MIN


171 
	#MIN
(
x
,
y
è((xè< (yè? (xè: (y))

	)

173 #undeà
MAX


174 
	#MAX
(
x
,
y
è((xè> (yè? (xè: (y))

	)

176 
	#DEFAULT_SEPARATE_STR
 "\t"

	)

177 
	#DEFAULT_ASPECT_RATIO
 9

	)

179 
	#TAB_LEN
 8

	)

180 
	#WTIMEOUT_VAL
 10

	)

182 #iâdeà
A_CHARTEXT


183 
	#A_CHARTEXT
 0xff

	)

186 
	#Ch¬Of
(
ch
è((chè& 0xff)

	)

188 #iâdeà
ACS_ULCORNER


189 
	#ACS_ULCORNER
 '+'

	)

191 #iâdeà
ACS_LLCORNER


192 
	#ACS_LLCORNER
 '+'

	)

194 #iâdeà
ACS_URCORNER


195 
	#ACS_URCORNER
 '+'

	)

197 #iâdeà
ACS_LRCORNER


198 
	#ACS_LRCORNER
 '+'

	)

200 #iâdeà
ACS_HLINE


201 
	#ACS_HLINE
 '-'

	)

203 #iâdeà
ACS_VLINE


204 
	#ACS_VLINE
 '|'

	)

206 #iâdeà
ACS_LTEE


207 
	#ACS_LTEE
 '+'

	)

209 #iâdeà
ACS_RTEE


210 
	#ACS_RTEE
 '+'

	)

212 #iâdeà
ACS_UARROW


213 
	#ACS_UARROW
 '^'

	)

215 #iâdeà
ACS_DARROW


216 
	#ACS_DARROW
 'v'

	)

218 #iâdeà
ACS_BLOCK


219 
	#ACS_BLOCK
 '#'

	)

223 #iâdeà
DLG_HAVE_GETBEGYX


224 #undeà
g‘begyx


225 
	#g‘begyx
(
wš
,
y
,
x
è(y = (wš)?(wš)->
_begy
:
ERR
, x = (wš)?(wš)->
_begx
:ERR)

	)

228 #iâdeà
DLG_HAVE_GETMAXYX


229 #undeà
g‘maxyx


230 
	#g‘maxyx
(
wš
,
y
,
x
è(y = (wš)?(wš)->
_maxy
:
ERR
, x = (wš)?(wš)->
_maxx
:ERR)

	)

233 #iâdeà
DLG_HAVE_GETPARYX


234 #undeà
g‘·ryx


235 
	#g‘·ryx
(
wš
,
y
,
x
è(y = (wš)?(wš)->
_·ry
:
ERR
, x = (wš)?(wš)->
_·rx
:ERR)

	)

238 #ià!
defšed
(
DLG_HAVE_WGETPARENT
è&& defšed(
DLG_HAVE_WINDOW__PARENT
)

239 #undeà
wg‘·»Á


240 
	#wg‘·»Á
(
wš
è((wšè? (wš)->
_·»Á
 : 0)

	)

243 #ià!
defšed
(
DLG_HAVE_WSYNCUP
)

244 #undeà
wsyncup


245 
	#wsyncup
(
wš
è

	)

248 #ià!
defšed
(
DLG_HAVE_WCURSYNCUP
)

249 #undeà
wcursyncup


250 
	#wcursyncup
(
wš
è

	)

253 #ifdeà
__ılu¥lus


258 #ià!(
defšed
(
DLG_HAVE_GETBEGX
è&& defšed(
DLG_HAVE_GETBEGY
))

259 #undeà
g‘begx


260 #undeà
g‘begy


261 
	#g‘begx
(
wš
è
	`dlg_g‘begx
(wš)

	)

262 
	#g‘begy
(
wš
è
	`dlg_g‘begy
(wš)

	)

263 
dlg_g‘begx
(
WINDOW
 * );

264 
dlg_g‘begy
(
WINDOW
 * );

267 #ià!(
defšed
(
DLG_HAVE_GETCURX
è&& defšed(
DLG_HAVE_GETCURY
))

268 #undeà
g‘curx


269 #undeà
g‘cury


270 
	#g‘curx
(
wš
è
	`dlg_g‘curx
(wš)

	)

271 
	#g‘cury
(
wš
è
	`dlg_g‘cury
(wš)

	)

272 
dlg_g‘curx
(
WINDOW
 * );

273 
dlg_g‘cury
(
WINDOW
 * );

276 #ià!(
defšed
(
DLG_HAVE_GETMAXX
è&& defšed(
DLG_HAVE_GETMAXY
))

277 #undeà
g‘maxx


278 #undeà
g‘maxy


279 
	#g‘maxx
(
wš
è
	`dlg_g‘maxx
(wš)

	)

280 
	#g‘maxy
(
wš
è
	`dlg_g‘maxy
(wš)

	)

281 
dlg_g‘maxx
(
WINDOW
 * );

282 
dlg_g‘maxy
(
WINDOW
 * );

285 #ià!(
defšed
(
DLG_HAVE_GETPARX
è&& defšed(
DLG_HAVE_GETPARY
))

286 #undeà
g‘·rx


287 #undeà
g‘·ry


288 
	#g‘·rx
(
wš
è
	`dlg_g‘·rx
(wš)

	)

289 
	#g‘·ry
(
wš
è
	`dlg_g‘·ry
(wš)

	)

290 
dlg_g‘·rx
(
WINDOW
 * );

291 
dlg_g‘·ry
(
WINDOW
 * );

294 #ià!(
defšed
(
DLG_HAVE_WGETPARENT
è&& defšed(
DLG_HAVE_WINDOW__PARENT
))

295 #undeà
wg‘·»Á


296 
	#wg‘·»Á
(
wš
è
	`dlg_wg‘·»Á
(wš)

	)

297 
WINDOW
 * 
dlg_wg‘·»Á
(WINDOW * );

306 #ifdeà
__DIALOG_OLD_NAMES__


307 
	#cŞÜ_bË
 
dlg_cŞÜ_bË


	)

308 
	#©Œ_ş—r
(
wš
,
h
,
w
,
a
è
	`dlg_©Œ_ş—r
(wš,h,w,a)

	)

309 
	#auto_size
(
t
,
s
,
h
,
w
,
xl
,
mc
è
	`dlg_auto_size
Ñ,s,h,w,xl,mc)

	)

310 
	#auto_sizefe
(
t
,
f
,
h
,
w
,
xl
,
mc
è
	`dlg_auto_sizefe
Ñ,f,h,w,xl,mc)

	)

311 
	#b“pšg
(è
	`dlg_b“pšg
()

	)

312 
	#box_x_Üdš©e
(
w
è
	`dlg_box_x_Üdš©e
(w)

	)

313 
	#box_y_Üdš©e
(
h
è
	`dlg_box_y_Üdš©e
(h)

	)

314 
	#ÿlc_li¡h
(
h
,
lh
,
š
è
	`dlg_ÿlc_li¡h
(h,lh,š)

	)

315 
	#ÿlc_li¡w
(
š
,
™ems
,
group
è
	`dlg_ÿlc_li¡w
(š,™ems,group)

	)

316 
	#cŞÜ_£tup
(è
	`dlg_cŞÜ_£tup
()

	)

317 
	#ü—‹_rc
(
f
è
	`dlg_ü—‹_rc
(f)

	)

318 
	#ùl_size
(
h
,
w
è
	`dlg_ùl_size
(h,w)

	)

319 
	#d–_wšdow
(
wš
è
	`dlg_d–_wšdow
(wš)

	)

320 
	#dŸlog_ş—r
(è
	`dlg_ş—r
()

	)

321 
	#d¿w_bÙtom_box
(
wš
è
	`dlg_d¿w_bÙtom_box
(wš)

	)

322 
	#d¿w_box
(
wš
,
y
,
x
,
h
,
w
,
xc
,
bc
è
	`dlg_d¿w_box
(wš,y,x,h,w,xc,bc)

	)

323 
	#d¿w_shadow
(
wš
,
h
,
w
,
y
,
x
è
	`dlg_d¿w_shadow
(wš,h,w,y,x)

	)

324 
	#d¿w_t™Ë
(
wš
,
t
è
	`dlg_d¿w_t™Ë
(wš,t)

	)

325 
	#ex™”r
 
dlg_ex™”r


	)

326 
	#kÏÎ_bg
(
n
è
	`dlg_kÏÎ_bg
Ò)

	)

327 
	#mou£_big»giÚ
(
y
,
x
è
	`dlg_mou£_big»giÚ
(y,x)

	)

328 
	#mou£_ä“_»giÚs
(è
	`dlg_mou£_ä“_»giÚs
()

	)

329 
	#mou£_mkbig»giÚ
(
y
,
x
,
h
,
w
,
n
,
ix
,
iy
,
m
è
	`dlg_mou£_mkbig»giÚ
(y,x,h,w,n,ix,iy,m)

	)

330 
	#mou£_mk»giÚ
(
y
,
x
,
h
,
w
,
n
è
	`dlg_mou£_mk»giÚ
(y,x,h,w,n)

	)

331 
	#mou£_»giÚ
(
y
,
x
è
	`dlg_mou£_»giÚ
(y,x)

	)

332 
	#mou£_£tba£
(
x
,
y
è
	`dlg_mou£_£tba£
(x,y)

	)

333 
	#mou£_£tcode
(
c
è
	`dlg_mou£_£tcode
(c)

	)

334 
	#mou£_wg‘ch
(
w
,
c
è
	`dlg_mou£_wg‘ch
(w,c)

	)

335 
	#Ãw_wšdow
(
h
,
w
,
y
,
x
è
	`dlg_Ãw_wšdow
(h,w,y,x)

	)

336 
	#·r£_rc
(è
	`dlg_·r£_rc
()

	)

337 
	#´št_autow¿p
(
wš
,
s
,
h
,
w
è
	`dlg_´št_autow¿p
(wš,s,h,w)

	)

338 
	#´št_size
(
h
,
w
è
	`dlg_´št_size
(h,w)

	)

339 
	#put_backt™Ë
(è
	`dlg_put_backt™Ë
()

	)

340 
	#¡rşÚe
(
ırom±
è
	`dlg_¡rşÚe
(ırom±)

	)

341 
	#sub_wšdow
(
wš
,
h
,
w
,
y
,
x
è
	`dlg_sub_wšdow
(wš,h,w,y,x)

	)

342 
	#b_cÜ»ù_¡r
(
s
è
	`dlg_b_cÜ»ù_¡r
(s)

	)

348 
	#DIALOG_ATR
(
n
è
dlg_cŞÜ_bË
[n].
©r


	)

350 
	#sü“n_©Œ
 
	`DIALOG_ATR
(0)

	)

351 
	#shadow_©Œ
 
	`DIALOG_ATR
(1)

	)

352 
	#dŸlog_©Œ
 
	`DIALOG_ATR
(2)

	)

353 
	#t™Ë_©Œ
 
	`DIALOG_ATR
(3)

	)

354 
	#bÜd”_©Œ
 
	`DIALOG_ATR
(4)

	)

355 
	#bu‰Ú_aùive_©Œ
 
	`DIALOG_ATR
(5)

	)

356 
	#bu‰Ú_šaùive_©Œ
 
	`DIALOG_ATR
(6)

	)

357 
	#bu‰Ú_key_aùive_©Œ
 
	`DIALOG_ATR
(7)

	)

358 
	#bu‰Ú_key_šaùive_©Œ
 
	`DIALOG_ATR
(8)

	)

359 
	#bu‰Ú_Ïb–_aùive_©Œ
 
	`DIALOG_ATR
(9)

	)

360 
	#bu‰Ú_Ïb–_šaùive_©Œ
 
	`DIALOG_ATR
(10)

	)

361 
	#šputbox_©Œ
 
	`DIALOG_ATR
(11)

	)

362 
	#šputbox_bÜd”_©Œ
 
	`DIALOG_ATR
(12)

	)

363 
	#£¬chbox_©Œ
 
	`DIALOG_ATR
(13)

	)

364 
	#£¬chbox_t™Ë_©Œ
 
	`DIALOG_ATR
(14)

	)

365 
	#£¬chbox_bÜd”_©Œ
 
	`DIALOG_ATR
(15)

	)

366 
	#pos™iÚ_šdiÿtÜ_©Œ
 
	`DIALOG_ATR
(16)

	)

367 
	#m’ubox_©Œ
 
	`DIALOG_ATR
(17)

	)

368 
	#m’ubox_bÜd”_©Œ
 
	`DIALOG_ATR
(18)

	)

369 
	#™em_©Œ
 
	`DIALOG_ATR
(19)

	)

370 
	#™em_£Ëùed_©Œ
 
	`DIALOG_ATR
(20)

	)

371 
	#g_©Œ
 
	`DIALOG_ATR
(21)

	)

372 
	#g_£Ëùed_©Œ
 
	`DIALOG_ATR
(22)

	)

373 
	#g_key_©Œ
 
	`DIALOG_ATR
(23)

	)

374 
	#g_key_£Ëùed_©Œ
 
	`DIALOG_ATR
(24)

	)

375 
	#check_©Œ
 
	`DIALOG_ATR
(25)

	)

376 
	#check_£Ëùed_©Œ
 
	`DIALOG_ATR
(26)

	)

377 
	#u¬row_©Œ
 
	`DIALOG_ATR
(27)

	)

378 
	#d¬row_©Œ
 
	`DIALOG_ATR
(28)

	)

379 
	#™emh–p_©Œ
 
	`DIALOG_ATR
(29)

	)

380 
	#fÜm_aùive_‹xt_©Œ
 
	`DIALOG_ATR
(30)

	)

381 
	#fÜm_‹xt_©Œ
 
	`DIALOG_ATR
(31)

	)

382 
	#fÜm_™em_»adÚly_©Œ
 
	`DIALOG_ATR
(32)

	)

383 
	#gauge_©Œ
 
	`DIALOG_ATR
(33)

	)

384 
	#bÜd”2_©Œ
 
	`DIALOG_ATR
(34)

	)

385 
	#šputbox_bÜd”2_©Œ
 
	`DIALOG_ATR
(35)

	)

386 
	#£¬chbox_bÜd”2_©Œ
 
	`DIALOG_ATR
(36)

	)

387 
	#m’ubox_bÜd”2_©Œ
 
	`DIALOG_ATR
(37)

	)

389 
	#DLGK_max
 (
KEY_MAX
 + 256)

	)

394 
	g_dlg_ÿÎback
;

396 (*
	gDIALOG_FREEBACK
è(
	t_dlg_ÿÎback
 * );

398 
	s_dlg_ÿÎback
 {

399 
_dlg_ÿÎback
 *
	gÃxt
;

400 
FILE
 *
	gšput
;

401 
WINDOW
 *
	gwš
;

402 
boŞ
 
	gk“p_bg
;

403 
boŞ
 
	gbg_sk
;

404 
boŞ
 (*
hªdË_g‘c
)(
_dlg_ÿÎback
 *
	gp
, 
	gch
, 
	gfkey
, *
	g»suÉ
);

405 
boŞ
 
	gk“p_wš
;

407 
_dlg_ÿÎback
 **
	gÿÎ”
;

408 
DIALOG_FREEBACK
 
	gä“back
;

410 
boŞ
 (*
hªdË_šput
)(
_dlg_ÿÎback
 *
	gp
);

411 
boŞ
 
	gšput_»ady
;

412 } 
	tDIALOG_CALLBACK
;

414 
	s_dlg_wšdows
 {

415 
_dlg_wšdows
 *
	gÃxt
;

416 
WINDOW
 *
	gnÜm®
;

417 
WINDOW
 *
	gshadow
;

418 } 
	tDIALOG_WINDOWS
;

424 
DIALOG_CALLBACK
 *
	gg‘c_ÿÎbacks
;

425 
DIALOG_CALLBACK
 *
	gg‘c_»dœeù
;

426 
DIALOG_WINDOWS
 *
	g®l_wšdows
;

427 
DIALOG_WINDOWS
 *
	g®l_subwšdows
;

428 
FILE
 *
	gouut
;

429 
FILE
 *
	gpe_šput
;

430 
FILE
 *
	gsü“n_ouut
;

431 
boŞ
 
	gsü“n_š™Ÿlized
;

432 
boŞ
 
	gu£_cŞÜs
;

433 
boŞ
 
	gu£_süŞlb¬
;

434 
boŞ
 
	gu£_shadow
;

435 
boŞ
 
	gvis™_™ems
;

436 *
	g£·¿‹_¡r
;

437 
	ga¥eù_¿tio
;

438 
	gouut_couÁ
;

439 
	gb_Ën
;

441 
FILE
 *
	gšput
;

442 #ifdeà
DLG_HAVE_DLG_TRACE


443 
FILE
 *
	gŒaû_ouut
;

446 
boŞ
 
	gno_mou£
;

447 
	gvis™_cŞs
;

448 } 
	tDIALOG_STATE
;

450 
DIALOG_STATE
 
dŸlog_¡©e
;

456 
boŞ
 
	gb“p_aá”_sigÇl
;

457 
boŞ
 
	gb“p_sigÇl
;

458 
boŞ
 
	gbegš_£t
;

459 
boŞ
 
	gÿÁ_kl
;

460 
boŞ
 
	gcŞÜs
;

461 
boŞ
 
	gü_w¿p
;

462 
boŞ
 
	gdeçuÉno
;

463 
boŞ
 
	gdlg_ş—r_sü“n
;

464 
boŞ
 
	gexŒa_bu‰Ú
;

465 
boŞ
 
	gh–p_bu‰Ú
;

466 
boŞ
 
	gh–p_¡©us
;

467 
boŞ
 
	gšput_m’u
;

468 
boŞ
 
	gš£cu»
;

469 
boŞ
 
	g™em_h–p
;

470 
boŞ
 
	gk“p_wšdow
;

471 
boŞ
 
	gnoÿnûl
;

472 
boŞ
 
	gnocŞÏp£
;

473 
boŞ
 
	g´št_siz
;

474 
boŞ
 
	g£·¿‹_ouut
;

475 
boŞ
 
	gsšgË_quÙed
;

476 
boŞ
 
	gsize_”r
;

477 
boŞ
 
	gb_cÜ»ù
;

478 
boŞ
 
	gŒim_wh™e¥aû
;

479 *
	gbackt™Ë
;

480 *
	gÿnûl_Ïb–
;

481 *
	gdeçuÉ_™em
;

482 *
	gex™_Ïb–
;

483 *
	gexŒa_Ïb–
;

484 *
	gh–p_Ïb–
;

485 *
	gšput_»suÉ
;

486 *
	gno_Ïb–
;

487 *
	gok_Ïb–
;

488 *
	gt™Ë
;

489 *
	gyes_Ïb–
;

490 
	gbegš_x
;

491 
	gbegš_y
;

492 
	gmax_šput
;

493 
	gsÿË_çùÜ
;

494 
	g¦“p_£cs
;

495 
	gtimeout_£cs
;

496 
	gšput_Ëngth
;

498 
	gfÜm™em_ty³
;

500 
boŞ
 
	gk“p_t™e
;

501 
boŞ
 
	gascii_lšes
;

502 
boŞ
 
	gno_lšes
;

504 
boŞ
 
	gnook
;

506 
boŞ
 
	gquÙed
;

507 *
	gcŞumn_h—d”
;

508 *
	gcŞumn_£·¿tÜ
;

509 *
	gouut_£·¿tÜ
;

511 *
	gd©e_fÜm©
;

512 *
	gtime_fÜm©
;

514 *
	gh–p_lše
;

515 *
	gh–p_fe
;

516 
boŞ
 
	gš_h–pfe
;

517 
boŞ
 
	gno_Æ_ex·nd
;

519 
	gdeçuÉ_bu‰Ú
;

521 
boŞ
 
	gno_gs
;

522 
boŞ
 
	gno_™ems
;

524 
boŞ
 
	gÏ¡_key
;

525 } 
	tDIALOG_VARS
;

527 
	#USE_ITEM_HELP
(
s
è(
dŸlog_v¬s
.
™em_h–p
 && (sè!ğ0)

	)

533 
	#DLG__NO_ITEMS
 (
dŸlog_v¬s
.
no_™ems
 ? 0 : 1)

	)

534 
	#DLG__ITEM_HELP
 (
dŸlog_v¬s
.
™em_h–p
 ? 1 : 0)

	)

539 
	#CHECKBOX_TAGS
 (2 + 
DLG__ITEM_HELP
 + 
DLG__NO_ITEMS
)

	)

540 
	#MENUBOX_TAGS
 (1 + 
DLG__ITEM_HELP
 + 
DLG__NO_ITEMS
)

	)

541 
	#FORMBOX_TAGS
 (8 + 
DLG__ITEM_HELP
)

	)

542 
	#MIXEDFORM_TAGS
 (1 + 
FORMBOX_TAGS
)

	)

543 
	#MIXEDGAUGE_TAGS
 2

	)

544 
	#TREEVIEW_TAGS
 (3 + 
DLG__ITEM_HELP
 + 
DLG__NO_ITEMS
)

	)

546 
DIALOG_VARS
 
dŸlog_v¬s
;

548 #iâdeà
DLG_HAVE_TYPE_CHTYPE


549 
	#chty³
 

	)

552 
	#UCH
(
ch
è(()(ch))

	)

554 
	#as£¹_±r
(
±r
,
msg
èià(ÕŒè=ğ0è
	`dlg_ex™”r
("ÿÂÙ‡Îoÿ‹ memÜy iÀ" msg)

	)

556 
	#dlg_m®loc
(
t
,
n
èÑ *è
	`m®loc
((
size_t
)Òè* Ñ))

	)

557 
	#dlg_ÿÎoc
(
t
,
n
èÑ *è
	`ÿÎoc
((
size_t
)Ò), Ñ))

	)

558 
	#dlg_»®loc
(
t
,
n
,
p
èÑ *è
	`»®loc
(Õ), (nè* Ñ))

	)

564 
chty³
 
	g©r
;

565 #ifdeà
DLG_HAVE_COLOR


566 
	gfg
;

567 
	gbg
;

568 
	gh™e
;

570 #ifdeà
DLG_HAVE_RC_FILE


571 cÚ¡ *
	gÇme
;

572 cÚ¡ *
	gcomm’t
;

574 } 
	tDIALOG_COLORS
;

576 
DIALOG_COLORS
 
dlg_cŞÜ_bË
[];

581 cÚ¡ *
dŸlog_v”siÚ
();

584 
dŸlog_budli¡
(const * , const * , , , , , ** , );

585 
dŸlog_ÿËnd¬
(const * , const * , , , , , );

586 
dŸlog_checkli¡
(const * , const * , , , , , ** , );

587 
dŸlog_d£Ëù
(const * , const * , , );

588 
dŸlog_ed™box
(const * , const * , , );

589 
dŸlog_fÜm
(const * , const * , , , , , ** );

590 
dŸlog_f£Ëù
(const * , const * , , );

591 
dŸlog_gauge
(const * , const * , , , );

592 
dŸlog_h–pfe
(const * , const * , , );

593 
dŸlog_šputbox
(const * , const * , , , const * , const );

594 
dŸlog_m’u
(const * , const * , , , , , ** );

595 
dŸlog_mixedfÜm
(const * , const * , , , , , ** );

596 
dŸlog_mixedgauge
(const * , const * , , , , , ** );

597 
dŸlog_msgbox
(const * , const * , , , );

598 
dŸlog_·u£
(const * , const * , , , );

599 
dŸlog_´gbox
(const * , const * , const * , , , );

600 
dŸlog_´og»ssbox
(const * , const * , , );

601 
dŸlog_¿ngebox
(const * , const * , , , , , );

602 
dŸlog_box
(const * , const * , , , );

603 
dŸlog_‹xtbox
(const * , const * , , );

604 
dŸlog_timebox
(const * , const * , , , , , );

605 
dŸlog_Œ“v›w
(const * , const * , , , , , ** , );

606 
dŸlog_ye¢o
(const * , const * , , );

610 *
	gÇme
;

611 *
	g‹xt
;

612 *
	gh–p
;

613 
	g¡©e
;

614 } 
	tDIALOG_LISTITEM
;

617 
	gty³
;

618 *
	gÇme
;

619 
	gÇme_Ën
;

620 
	gÇme_y
;

621 
	gÇme_x
;

622 
boŞ
 
	gÇme_ä“
;

623 *
	g‹xt
;

624 
	g‹xt_Ën
;

625 
	g‹xt_y
;

626 
	g‹xt_x
;

627 
	g‹xt_æ’
;

628 
	g‹xt_’
;

629 
boŞ
 
	g‹xt_ä“
;

630 *
	gh–p
;

631 
boŞ
 
	gh–p_ä“
;

632 } 
	tDIALOG_FORMITEM
;

634 (
	gDIALOG_INPUTMENU
è(
	tDIALOG_LISTITEM
 * , , * );

636 
dlg_checkli¡
(cÚ¡ * , cÚ¡ * , , , , , 
DIALOG_LISTITEM
 * , const * , , * );

637 
dlg_fÜm
(cÚ¡ * , cÚ¡ * , , , , , 
DIALOG_FORMITEM
 * , * );

638 
dlg_m’u
(cÚ¡ * , cÚ¡ * , , , , , 
DIALOG_LISTITEM
 * , * , 
DIALOG_INPUTMENU
 );

639 
dlg_´og»ssbox
(cÚ¡ * , cÚ¡ * , , , , 
FILE
 * );

642 ** 
dlg_¡ršg_to_¬gv
(* );

643 
dlg_couÁ_¬gv
(** );

644 
dlg_—t_¬gv
(* , *** , , );

647 
dlg_d¿w_¬rows
(
WINDOW
 * , , , , , );

648 
dlg_d¿w_¬rows2
(
WINDOW
 * , , , , , , 
chty³
 , chtype );

649 
dlg_d¿w_h–¶še
(
WINDOW
 * , 
boŞ
 );

650 
dlg_d¿w_süŞlb¬
(
WINDOW
 * , , , , , , , , , 
chty³
 , chtype );

653 
dlg_budli¡
(cÚ¡ * , cÚ¡ * , , , , , 
DIALOG_LISTITEM
 * , const * , , * );

656 cÚ¡ ** 
dlg_ex™_Ïb–
();

657 cÚ¡ ** 
dlg_ok_Ïb–
();

658 cÚ¡ ** 
dlg_ok_Ïb–s
();

659 cÚ¡ ** 
dlg_yes_Ïb–s
();

660 
dlg_bu‰Ú_couÁ
(const ** );

661 
dlg_bu‰Ú_to_ch¬
(const * );

662 
dlg_bu‰Ú_x_¡•
(const ** , , * , * , * );

663 
dlg_ch¬_to_bu‰Ú
(, const ** );

664 
dlg_ex™_bu‰Úcode
();

665 
dlg_m©ch_ch¬
(, const * );

666 
dlg_Ãxt_bu‰Ú
(const ** , );

667 
dlg_Ãxt_ok_bu‰Úšdex
(, );

668 
dlg_ok_bu‰Úcode
();

669 
dlg_´ev_bu‰Ú
(const ** , );

670 
dlg_´ev_ok_bu‰Úšdex
(, );

671 
dlg_yes_bu‰Úcode
();

672 
dlg_bu‰Ú_Ïyout
(const ** , * );

673 
dlg_bu‰Ú_sizes
(const ** , , * , * );

674 
dlg_d¿w_bu‰Ús
(
WINDOW
 * , , , const ** , , , );

677 
dlg_®ign_cŞumns
(** , , );

678 
dlg_ä“_cŞumns
(** , , );

681 
dlg_ed™box
(const * , *** , * , , );

684 
dlg_deçuÉ_fÜm™em
(
DIALOG_FORMITEM
 * );

685 
dlg_Üdš©e
(const * );

686 
dlg_ä“_fÜm™ems
(
DIALOG_FORMITEM
 * );

689 * 
dlg_®loÿ‹_gauge
(const * , const * , , , );

690 
dlg_ä“_gauge
(* );

691 
dlg_upd©e_gauge
(* , );

694 
boŞ
 
dlg_ed™_¡ršg
(* , * , , , bool );

695 cÚ¡ * 
dlg_šdex_cŞumns
(const * );

696 cÚ¡ * 
dlg_šdex_wch¬s
(const * );

697 
dlg_couÁ_cŞumns
(const * );

698 
dlg_couÁ_wch¬s
(const * );

699 
dlg_ed™_off£t
(* , , );

700 
dlg_fšd_šdex
(const * , , );

701 
dlg_lim™_cŞumns
(const * , , );

702 
dlg_show_¡ršg
(
WINDOW
 * , cÚ¡ * , , 
chty³
 , , , , 
boŞ
 , bool );

705 
dlg_dummy_m’u‹xt
(
DIALOG_LISTITEM
 * , , * );

706 
dlg_»Çmed_m’u‹xt
(
DIALOG_LISTITEM
 * , , * );

709 #ifdeà
DLG_HAVE_RC_FILE


710 
dlg_·r£_rc
();

711 
dlg_ü—‹_rc
(const * );

715 
dlg_Œ“v›w
(cÚ¡ * , cÚ¡ * , , , , , 
DIALOG_LISTITEM
 * , const * , * , , * );

718 
dlg_g‘c
(
WINDOW
 * , * );

719 
dlg_g‘c_ÿÎbacks
(, , * );

720 
dlg_Ï¡_g‘c
();

721 
dlg_add_Ï¡_key
();

722 
dlg_add_ÿÎback
(
DIALOG_CALLBACK
 * );

723 
dlg_add_ÿÎback_»f
(
DIALOG_CALLBACK
 ** , 
DIALOG_FREEBACK
 );

724 
dlg_æush_g‘c
();

725 
dlg_»move_ÿÎback
(
DIALOG_CALLBACK
 * );

726 
dlg_kÏÎ_bg
(*
»tv®
);

729 
WINDOW
 * 
dlg_Ãw_mod®_wšdow
(WINDOW * , , , , );

730 
WINDOW
 * 
dlg_Ãw_wšdow
(, , , );

731 
WINDOW
 * 
dlg_sub_wšdow
(WINDOW * , , , , );

732 
boŞ
 
dlg_Ãed_£·¿tÜ
();

733 * 
dlg_£t_»suÉ
(const * );

734 * 
dlg_¡rşÚe
(const * );

735 * 
dlg_¡»m±y
();

736 
chty³
 
dlg_asciibox
(chtype );

737 
chty³
 
dlg_boxch¬
(chtype );

738 
chty³
 
dlg_g‘_©Œs
(
WINDOW
 * );

739 cÚ¡ * 
dlg_´št_lše
(
WINDOW
 * , 
chty³
 * , const * , , , * );

740 
dlg_box_x_Üdš©e
();

741 
dlg_box_y_Üdš©e
();

742 
dlg_ÿlc_li¡_width
(, 
DIALOG_LISTITEM
 * );

743 
dlg_ÿlc_li¡w
(, ** , );

744 
dlg_check_süŞËd
(, , , 
boŞ
 * , * );

745 
dlg_couÁ_»®_cŞumns
(const * );

746 
dlg_deçuÉ_™em
(** , );

747 
dlg_deçuÉ_li¡™em
(
DIALOG_LISTITEM
 * );

748 
dlg_deçuÉno_bu‰Ú
();

749 
dlg_deçuÉ_bu‰Ú
();

750 
dlg_max_šput
();

751 
dlg_´št_süŞËd
(
WINDOW
 * , const * , , , , );

752 
dlg_add_quÙed
(* );

753 
dlg_add_»suÉ
(const * );

754 
dlg_add_£·¿tÜ
();

755 
dlg_add_¡ršg
(* );

756 
dlg_©Œ_ş—r
(
WINDOW
 * , , , 
chty³
 );

757 
dlg_auto_size
(const * , const * , * , * , , );

758 
dlg_auto_sizefe
(const * , const * , * , * , , );

759 
dlg_b“pšg
();

760 
dlg_ÿlc_li¡h
(* , * , );

761 
dlg_ş—r
();

762 
dlg_şr_»suÉ
();

763 
dlg_ùl_size
(, );

764 
dlg_d–_wšdow
(
WINDOW
 * );

765 
dlg_dÛs_ouut
();

766 
dlg_d¿w_bÙtom_box
(
WINDOW
 * );

767 
dlg_d¿w_bÙtom_box2
(
WINDOW
 * , 
chty³
 , chtype , chtype );

768 
dlg_d¿w_box
(
WINDOW
 * , , , , , 
chty³
 , chtype );

769 
dlg_d¿w_box2
(
WINDOW
 * , , , , , 
chty³
 , chtype , chtype );

770 
dlg_d¿w_t™Ë
(
WINDOW
 *
wš
, cÚ¡ *
t™Ë
);

771 
dlg_ex™
(è
GCC_NORETURN
;

772 
dlg_™em_h–p
(const * );

773 
dlg_´št_autow¿p
(
WINDOW
 * , const * , , );

774 
dlg_´št_li¡™em
(
WINDOW
 * , cÚ¡ * , , 
boŞ
 , );

775 
dlg_´št_size
(, );

776 
dlg_´št_‹xt
(
WINDOW
 * , cÚ¡ * , , 
chty³
 * );

777 
dlg_put_backt™Ë
();

778 
dlg_»¡Üe_v¬s
(
DIALOG_VARS
 * );

779 
dlg_§ve_v¬s
(
DIALOG_VARS
 * );

780 
dlg_£t_focus
(
WINDOW
 * , WINDOW * );

781 
dlg_b_cÜ»ù_¡r
(* );

782 
dlg_Œim_¡ršg
(* );

783 
’d_dŸlog
();

784 
š™_dŸlog
(
FILE
 * , FILE * );

786 
dlg_ex™”r
(cÚ¡ *, ...è
GCC_NORETURN
 
GCC_PRINTFLIKE
(1,2);

788 #ifdeà
DLG_HAVE_COLOR


789 
chty³
 
dlg_cŞÜ_·œ
(, );

790 
dlg_cŞÜ_couÁ
();

791 
dlg_cŞÜ_£tup
();

792 
dlg_d¿w_shadow
(
WINDOW
 * , , , , );

795 #ifdeà
DLG_HAVE_STRCASECMP


796 
	#dlg_¡rcmp
(
a
,
b
è
	`¡rÿ£cmp
×,b)

	)

798 
dlg_¡rcmp
(const * , const * );

801 #ifdeà
DLG_HAVE_DLG_TRACE


802 
	#DLG_TRACE
(
·¿ms
è
dlg_Œaû_msg
 
	)
params

803 
dlg_Œaû_msg
(cÚ¡ *
fmt
, ...è
GCC_PRINTFLIKE
(1,2);

804 
dlg_Œaû_wš
(
WINDOW
 * );

805 
dlg_Œaû_chr
(, );

806 
dlg_Œaû
(const * );

808 
	#DLG_TRACE
(
·¿ms
è

	)

809 
	#dlg_Œaû_wš
(
wš
è

	)

810 
	#dlg_Œaû_chr
(
ch
,
fkey
è

	)

811 
	#dlg_Œaû
(
âame
è

	)

814 #ifdeà
KEY_RESIZE


815 
dlg_move_wšdow
(
WINDOW
 * , , , , );

822 
	#dlg_’‹r_bu‰Úcode
(
code
è(
dŸlog_v¬s
.
nook
 ? 
DLG_EXIT_OK
 : 
	`dlg_ok_bu‰Úcode
(code))

	)

827 
	sm£RegiÚ
 {

828 
	gx
, 
	gy
, 
	gX
, 
	gY
, 
	gcode
;

829 
	gmode
, 
	g¡•_x
, 
	g¡•_y
;

830 
m£RegiÚ
 *
	gÃxt
;

831 } 
	tm£RegiÚ
;

833 #ià
defšed
(
NCURSES_MOUSE_VERSION
)

835 
	#mou£_İ’
(è
	`mou£mask
(
BUTTON1_CLICKED
, (
mmask_t
 *è0)

	)

836 
	#mou£_şo£
(è
	`mou£mask
(0, (
mmask_t
 *è0)

	)

838 
m£RegiÚ
 * 
dlg_mou£_mk»giÚ
 (, , , , );

839 
dlg_mou£_ä“_»giÚs
 ();

840 
dlg_mou£_mkbig»giÚ
 (, , , , , , , );

841 
dlg_mou£_£tba£
 (, );

842 
dlg_mou£_£tcode
 ();

844 
	#USE_MOUSE
 1

	)

848 
	#mou£_İ’
(è

	)

849 
	#mou£_şo£
(è

	)

850 
	#dlg_mou£_ä“_»giÚs
(è

	)

851 
	#dlg_mou£_mk»giÚ
(
y
, 
x
, 
height
, 
width
, 
code
è

	)

852 
	#dlg_mou£_mkbig»giÚ
(
y
, 
x
, 
height
, 
width
, 
code
, 
¡•_x
, 
¡•_y
, 
mode
è

	)

853 
	#dlg_mou£_£tba£
(
x
, 
y
è

	)

854 
	#dlg_mou£_£tcode
(
c
è

	)

856 
	#USE_MOUSE
 0

	)

860 
m£RegiÚ
 *
dlg_mou£_»giÚ
 (, );

861 
m£RegiÚ
 *
dlg_mou£_big»giÚ
 (, );

862 
dlg_mou£_wg‘ch
 (
WINDOW
 * , * );

863 
dlg_mou£_wg‘ch_nowa™
 (
WINDOW
 * , * );

865 
	#mou£_mkbu‰Ú
(
y
,
x
,
Ën
,
code
è
	`dlg_mou£_mk»giÚ
(y,x,1,Ën,code);

	)

875 
	#M_EVENT
 (
DLGK_max
 + 1)

	)

881 
	#FLAG_CHECK
 1

	)

882 
	#FLAG_RADIO
 0

	)

887 #ifdeà
DLG_NO_LEAKS


888 
_dlg_šput¡r_Ëaks
();

889 #ià
defšed
(
NCURSES_VERSION
è&& defšed(
DLG_HAVE__NC_FREE_AND_EXIT
)

890 
_nc_ä“_ªd_ex™
();

894 #ifdeà
__ılu¥lus


	@/usr/include/dirent.h

23 #iâdef 
_DIRENT_H


24 
	#_DIRENT_H
 1

	)

26 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


30 
	~<b™s/ty³s.h
>

32 #ifdeà
__USE_XOPEN


33 #iâdeà
__šo_t_defšed


34 #iâdeà
__USE_FILE_OFFSET64


35 
__šo_t
 
	tšo_t
;

37 
__šo64_t
 
	tšo_t
;

39 
	#__šo_t_defšed


	)

41 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__šo64_t_defšed


42 
__šo64_t
 
	tšo64_t
;

43 
	#__šo64_t_defšed


	)

62 
	~<b™s/dœ’t.h
>

64 #ià(
defšed
 
__USE_BSD
 || defšed 
__USE_MISC
è&& !defšed 
d_f’o


65 
	#d_šo
 
d_f’o


	)

82 #ifdeà
_DIRENT_HAVE_D_NAMLEN


83 
	#_D_EXACT_NAMLEN
(
d
è((d)->
d_ÇmËn
)

	)

84 
	#_D_ALLOC_NAMLEN
(
d
è(
	`_D_EXACT_NAMLEN
 (dè+ 1)

	)

86 
	#_D_EXACT_NAMLEN
(
d
è(
	`¡¾’
 ((d)->
d_Çme
))

	)

87 #ifdeà
_DIRENT_HAVE_D_RECLEN


88 
	#_D_ALLOC_NAMLEN
(
d
è(((*è(dè+ (d)->
d_»ş’
è- &(d)->
d_Çme
[0])

	)

90 
	#_D_ALLOC_NAMLEN
(
d
è( (d)->
d_Çme
 > 1 ?  (d)->d_name : \

91 
	`_D_EXACT_NAMLEN
 (
d
è+ 1)

	)

96 #ifdeà
__USE_BSD


100 
	mDT_UNKNOWN
 = 0,

101 
	#DT_UNKNOWN
 
DT_UNKNOWN


	)

102 
	mDT_FIFO
 = 1,

103 
	#DT_FIFO
 
DT_FIFO


	)

104 
	mDT_CHR
 = 2,

105 
	#DT_CHR
 
DT_CHR


	)

106 
	mDT_DIR
 = 4,

107 
	#DT_DIR
 
DT_DIR


	)

108 
	mDT_BLK
 = 6,

109 
	#DT_BLK
 
DT_BLK


	)

110 
	mDT_REG
 = 8,

111 
	#DT_REG
 
DT_REG


	)

112 
	mDT_LNK
 = 10,

113 
	#DT_LNK
 
DT_LNK


	)

114 
	mDT_SOCK
 = 12,

115 
	#DT_SOCK
 
DT_SOCK


	)

116 
	mDT_WHT
 = 14

117 
	#DT_WHT
 
DT_WHT


	)

121 
	#IFTODT
(
mode
è(((modeè& 0170000è>> 12)

	)

122 
	#DTTOIF
(
dœty³
è((dœty³è<< 12)

	)

128 
__dœ¡»am
 
	tDIR
;

135 
DIR
 *
	$İ’dœ
 (cÚ¡ *
__Çme
è
	`__nÚnuÎ
 ((1));

137 #ifdeà
__USE_XOPEN2K8


142 
DIR
 *
	`fdİ’dœ
 (
__fd
);

150 
	$şo£dœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

162 #iâdeà
__USE_FILE_OFFSET64


163 
dœ’t
 *
	$»addœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

165 #ifdeà
__REDIRECT


166 
dœ’t
 *
	`__REDIRECT
 (
»addœ
, (
DIR
 *
__dœp
), 
»addœ64
)

167 
	`__nÚnuÎ
 ((1));

169 
	#»addœ
 
»addœ64


	)

173 #ifdeà
__USE_LARGEFILE64


174 
dœ’t64
 *
	$»addœ64
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

177 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


183 #iâdeà
__USE_FILE_OFFSET64


184 
	$»addœ_r
 (
DIR
 *
__»¡riù
 
__dœp
,

185 
dœ’t
 *
__»¡riù
 
__’Œy
,

186 
dœ’t
 **
__»¡riù
 
__»suÉ
)

187 
	`__nÚnuÎ
 ((1, 2, 3));

189 #ifdeà
__REDIRECT


190 
	`__REDIRECT
 (
»addœ_r
,

191 (
DIR
 *
__»¡riù
 
__dœp
,

192 
dœ’t
 *
__»¡riù
 
__’Œy
,

193 
dœ’t
 **
__»¡riù
 
__»suÉ
),

194 
»addœ64_r
è
	`__nÚnuÎ
 ((1, 2, 3));

196 
	#»addœ_r
 
»addœ64_r


	)

200 #ifdeà
__USE_LARGEFILE64


201 
	$»addœ64_r
 (
DIR
 *
__»¡riù
 
__dœp
,

202 
dœ’t64
 *
__»¡riù
 
__’Œy
,

203 
dœ’t64
 **
__»¡riù
 
__»suÉ
)

204 
	`__nÚnuÎ
 ((1, 2, 3));

209 
	$»wšddœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

211 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


212 
	~<b™s/ty³s.h
>

215 
	$£ekdœ
 (
DIR
 *
__dœp
, 
__pos
è
__THROW
 
	`__nÚnuÎ
 ((1));

218 
	$‹Îdœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

221 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN2K8


224 
	$dœfd
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

226 #ià
defšed
 
__OPTIMIZE__
 && defšed 
_DIR_dœfd


227 
	#dœfd
(
dœp
è
	`_DIR_dœfd
 (dœp)

	)

230 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC


231 #iâdeà
MAXNAMLEN


233 
	~<b™s/posix1_lim.h
>

236 #ifdeà
NAME_MAX


237 
	#MAXNAMLEN
 
NAME_MAX


	)

239 
	#MAXNAMLEN
 255

	)

244 
	#__Ãed_size_t


	)

245 
	~<¡ddef.h
>

254 #iâdeà
__USE_FILE_OFFSET64


255 
	`sÿndœ
 (cÚ¡ *
__»¡riù
 
__dœ
,

256 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

257 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

258 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

259 cÚ¡ 
dœ’t
 **))

260 
	`__nÚnuÎ
 ((1, 2));

262 #ifdeà
__REDIRECT


263 
	`__REDIRECT
 (
sÿndœ
,

264 (cÚ¡ *
__»¡riù
 
__dœ
,

265 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

266 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

267 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

268 cÚ¡ 
dœ’t
 **)),

269 
sÿndœ64
è
	`__nÚnuÎ
 ((1, 2));

271 
	#sÿndœ
 
sÿndœ64


	)

275 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


278 
	`sÿndœ64
 (cÚ¡ *
__»¡riù
 
__dœ
,

279 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

280 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

281 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

282 cÚ¡ 
dœ’t64
 **))

283 
	`__nÚnuÎ
 ((1, 2));

286 #ifdeà
__USE_GNU


292 #iâdeà
__USE_FILE_OFFSET64


293 
	`sÿndœ©
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

294 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

295 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

296 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

297 cÚ¡ 
dœ’t
 **))

298 
	`__nÚnuÎ
 ((2, 3));

300 #ifdeà
__REDIRECT


301 
	`__REDIRECT
 (
sÿndœ©
,

302 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

303 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

304 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

305 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

306 cÚ¡ 
dœ’t
 **)),

307 
sÿndœ©64
è
	`__nÚnuÎ
 ((2, 3));

309 
	#sÿndœ©
 
sÿndœ©64


	)

315 
	`sÿndœ©64
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

316 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

317 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

318 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

319 cÚ¡ 
dœ’t64
 **))

320 
	`__nÚnuÎ
 ((2, 3));

324 #iâdeà
__USE_FILE_OFFSET64


325 
	$®phasÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

326 cÚ¡ 
dœ’t
 **
__e2
)

327 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

329 #ifdeà
__REDIRECT


330 
	`__REDIRECT_NTH
 (
®phasÜt
,

331 (cÚ¡ 
dœ’t
 **
__e1
,

332 cÚ¡ 
dœ’t
 **
__e2
),

333 
®phasÜt64
è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

335 
	#®phasÜt
 
®phasÜt64


	)

339 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


340 
	$®phasÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

341 cÚ¡ 
dœ’t64
 **
__e2
)

342 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

347 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC


352 #iâdeà
__USE_FILE_OFFSET64


353 
__ssize_t
 
	$g‘dœ’Œ›s
 (
__fd
, *
__»¡riù
 
__buf
,

354 
size_t
 
__nby‹s
,

355 
__off_t
 *
__»¡riù
 
__ba£p
)

356 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

358 #ifdeà
__REDIRECT


359 
__ssize_t
 
	`__REDIRECT_NTH
 (
g‘dœ’Œ›s
,

360 (
__fd
, *
__»¡riù
 
__buf
,

361 
size_t
 
__nby‹s
,

362 
__off64_t
 *
__»¡riù
 
__ba£p
),

363 
g‘dœ’Œ›s64
è
	`__nÚnuÎ
 ((2, 4));

365 
	#g‘dœ’Œ›s
 
g‘dœ’Œ›s64


	)

369 #ifdeà
__USE_LARGEFILE64


370 
__ssize_t
 
	$g‘dœ’Œ›s64
 (
__fd
, *
__»¡riù
 
__buf
,

371 
size_t
 
__nby‹s
,

372 
__off64_t
 *
__»¡riù
 
__ba£p
)

373 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

377 #ifdeà
__USE_GNU


379 #iâdeà
__USE_FILE_OFFSET64


380 
	$v”siÚsÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

381 cÚ¡ 
dœ’t
 **
__e2
)

382 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

384 #ifdeà
__REDIRECT


385 
	`__REDIRECT_NTH
 (
v”siÚsÜt
,

386 (cÚ¡ 
dœ’t
 **
__e1
,

387 cÚ¡ 
dœ’t
 **
__e2
),

388 
v”siÚsÜt64
)

389 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

391 
	#v”siÚsÜt
 
v”siÚsÜt64


	)

395 #ifdeà
__USE_LARGEFILE64


396 
	$v”siÚsÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

397 cÚ¡ 
dœ’t64
 **
__e2
)

398 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

402 
__END_DECLS


	@/usr/include/errno.h

22 #iâdef 
_ERRNO_H


26 #iâdef 
__Ãed_Em©h


27 
	#_ERRNO_H
 1

	)

28 
	~<ã©u»s.h
>

31 
	g__BEGIN_DECLS


35 
	~<b™s/”ºo.h
>

36 #undeà
__Ãed_Em©h


38 #ifdef 
_ERRNO_H


45 #iâdef 
”ºo


46 
”ºo
;

49 #ifdeà
__USE_GNU


54 *
´og¿m_švoÿtiÚ_Çme
, *
´og¿m_švoÿtiÚ_shÜt_Çme
;

58 
	g__END_DECLS


66 #ià
defšed
 
__USE_GNU
 || defšed 
__Ãed_”rÜ_t


67 #iâdeà
__”rÜ_t_defšed


68 
	t”rÜ_t
;

69 
	#__”rÜ_t_defšed
 1

	)

71 #undeà
__Ãed_”rÜ_t


	@/usr/include/fcntl.h

22 #iâdef 
_FCNTL_H


23 
	#_FCNTL_H
 1

	)

25 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


31 
	~<b™s/ty³s.h
>

35 
	~<b™s/fú.h
>

40 #iâdeà
__mode_t_defšed


41 
__mode_t
 
	tmode_t
;

42 
	#__mode_t_defšed


	)

45 #iâdeà
__off_t_defšed


46 #iâdeà
__USE_FILE_OFFSET64


47 
__off_t
 
	toff_t
;

49 
__off64_t
 
	toff_t
;

51 
	#__off_t_defšed


	)

54 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


55 
__off64_t
 
	toff64_t
;

56 
	#__off64_t_defšed


	)

59 #iâdeà
__pid_t_defšed


60 
__pid_t
 
	tpid_t
;

61 
	#__pid_t_defšed


	)

65 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


66 
	#__Ãed_time¥ec


	)

67 
	~<time.h
>

68 
	~<b™s/¡©.h
>

70 
	#S_IFMT
 
__S_IFMT


	)

71 
	#S_IFDIR
 
__S_IFDIR


	)

72 
	#S_IFCHR
 
__S_IFCHR


	)

73 
	#S_IFBLK
 
__S_IFBLK


	)

74 
	#S_IFREG
 
__S_IFREG


	)

75 #ifdeà
__S_IFIFO


76 
	#S_IFIFO
 
__S_IFIFO


	)

78 #ifdeà
__S_IFLNK


79 
	#S_IFLNK
 
__S_IFLNK


	)

81 #ià(
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8
è&& defšed 
__S_IFSOCK


82 
	#S_IFSOCK
 
__S_IFSOCK


	)

87 
	#S_ISUID
 
__S_ISUID


	)

88 
	#S_ISGID
 
__S_ISGID


	)

90 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


92 
	#S_ISVTX
 
__S_ISVTX


	)

95 
	#S_IRUSR
 
__S_IREAD


	)

96 
	#S_IWUSR
 
__S_IWRITE


	)

97 
	#S_IXUSR
 
__S_IEXEC


	)

99 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

101 
	#S_IRGRP
 (
S_IRUSR
 >> 3è

	)

102 
	#S_IWGRP
 (
S_IWUSR
 >> 3è

	)

103 
	#S_IXGRP
 (
S_IXUSR
 >> 3è

	)

105 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

107 
	#S_IROTH
 (
S_IRGRP
 >> 3è

	)

108 
	#S_IWOTH
 (
S_IWGRP
 >> 3è

	)

109 
	#S_IXOTH
 (
S_IXGRP
 >> 3è

	)

111 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

114 #ifdef 
__USE_MISC


115 #iâdeà
R_OK


118 
	#R_OK
 4

	)

119 
	#W_OK
 2

	)

120 
	#X_OK
 1

	)

121 
	#F_OK
 0

	)

126 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


127 
	#SEEK_SET
 0

	)

128 
	#SEEK_CUR
 1

	)

129 
	#SEEK_END
 2

	)

137 
fú
 (
__fd
, 
__cmd
, ...);

145 #iâdeà
__USE_FILE_OFFSET64


146 
	$İ’
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

148 #ifdeà
__REDIRECT


149 
	`__REDIRECT
 (
İ’
, (cÚ¡ *
__fe
, 
__oæag
, ...), 
İ’64
)

150 
	`__nÚnuÎ
 ((1));

152 
	#İ’
 
İ’64


	)

155 #ifdeà
__USE_LARGEFILE64


156 
	$İ’64
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

159 #ifdeà
__USE_ATFILE


169 #iâdeà
__USE_FILE_OFFSET64


170 
	$İ’©
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

171 
	`__nÚnuÎ
 ((2));

173 #ifdeà
__REDIRECT


174 
	`__REDIRECT
 (
İ’©
, (
__fd
, cÚ¡ *
__fe
, 
__oæag
,

175 ...), 
İ’©64
è
	`__nÚnuÎ
 ((2));

177 
	#İ’©
 
İ’©64


	)

180 #ifdeà
__USE_LARGEFILE64


181 
	$İ’©64
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

182 
	`__nÚnuÎ
 ((2));

191 #iâdeà
__USE_FILE_OFFSET64


192 
	$ü—t
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

194 #ifdeà
__REDIRECT


195 
	`__REDIRECT
 (
ü—t
, (cÚ¡ *
__fe
, 
mode_t
 
__mode
),

196 
ü—t64
è
	`__nÚnuÎ
 ((1));

198 
	#ü—t
 
ü—t64


	)

201 #ifdeà
__USE_LARGEFILE64


202 
	$ü—t64
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

205 #ià!
defšed
 
F_LOCK
 && (defšed 
__USE_MISC
 || (defšed 
__USE_XOPEN_EXTENDED
 \

206 && !
defšed
 
__USE_POSIX
))

215 
	#F_ULOCK
 0

	)

216 
	#F_LOCK
 1

	)

217 
	#F_TLOCK
 2

	)

218 
	#F_TEST
 3

	)

220 #iâdeà
__USE_FILE_OFFSET64


221 
	`lockf
 (
__fd
, 
__cmd
, 
off_t
 
__Ën
);

223 #ifdeà
__REDIRECT


224 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
), 
lockf64
);

226 
	#lockf
 
lockf64


	)

229 #ifdeà
__USE_LARGEFILE64


230 
	`lockf64
 (
__fd
, 
__cmd
, 
off64_t
 
__Ën
);

234 #ifdeà
__USE_XOPEN2K


237 #iâdeà
__USE_FILE_OFFSET64


238 
	$posix_çdvi£
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
,

239 
__advi£
è
__THROW
;

241 #ifdeà
__REDIRECT_NTH


242 
	`__REDIRECT_NTH
 (
posix_çdvi£
, (
__fd
, 
__off64_t
 
__off£t
,

243 
__off64_t
 
__Ën
, 
__advi£
),

244 
posix_çdvi£64
);

246 
	#posix_çdvi£
 
posix_çdvi£64


	)

249 #ifdeà
__USE_LARGEFILE64


250 
	$posix_çdvi£64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
,

251 
__advi£
è
__THROW
;

259 #iâdeà
__USE_FILE_OFFSET64


260 
	`posix_çÎoÿ‹
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
);

262 #ifdeà
__REDIRECT


263 
	`__REDIRECT
 (
posix_çÎoÿ‹
, (
__fd
, 
__off64_t
 
__off£t
,

264 
__off64_t
 
__Ën
),

265 
posix_çÎoÿ‹64
);

267 
	#posix_çÎoÿ‹
 
posix_çÎoÿ‹64


	)

270 #ifdeà
__USE_LARGEFILE64


271 
	`posix_çÎoÿ‹64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
);

277 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ
 \

278 && 
defšed
 
__va_¬g_·ck_Ën


279 
	~<b™s/fú2.h
>

282 
__END_DECLS


	@/usr/include/limits.h

23 #iâdeà
_LIBC_LIMITS_H_


24 
	#_LIBC_LIMITS_H_
 1

	)

26 
	~<ã©u»s.h
>

32 
	#MB_LEN_MAX
 16

	)

37 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

42 #iâdeà
_LIMITS_H


43 
	#_LIMITS_H
 1

	)

45 
	~<b™s/wÜdsize.h
>

54 
	#CHAR_BIT
 8

	)

57 
	#SCHAR_MIN
 (-128)

	)

58 
	#SCHAR_MAX
 127

	)

61 
	#UCHAR_MAX
 255

	)

64 #ifdeà
__CHAR_UNSIGNED__


65 
	#CHAR_MIN
 0

	)

66 
	#CHAR_MAX
 
UCHAR_MAX


	)

68 
	#CHAR_MIN
 
SCHAR_MIN


	)

69 
	#CHAR_MAX
 
SCHAR_MAX


	)

73 
	#SHRT_MIN
 (-32768)

	)

74 
	#SHRT_MAX
 32767

	)

77 
	#USHRT_MAX
 65535

	)

80 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

81 
	#INT_MAX
 2147483647

	)

84 
	#UINT_MAX
 4294967295U

	)

87 #ià
__WORDSIZE
 == 64

88 
	#LONG_MAX
 9223372036854775807L

	)

90 
	#LONG_MAX
 2147483647L

	)

92 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

95 #ià
__WORDSIZE
 == 64

96 
	#ULONG_MAX
 18446744073709551615UL

	)

98 
	#ULONG_MAX
 4294967295UL

	)

101 #ifdeà
__USE_ISOC99


104 
	#LLONG_MAX
 9223372036854775807LL

	)

105 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

108 
	#ULLONG_MAX
 18446744073709551615ULL

	)

122 #ià
defšed
 
__GNUC__
 && !defšed 
_GCC_LIMITS_H_


124 #šşude_Ãxˆ<
lim™s
.
h
>

130 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__


131 #iâdeà
LLONG_MIN


132 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

134 #iâdeà
LLONG_MAX


135 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

137 #iâdeà
ULLONG_MAX


138 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

142 #ifdef 
__USE_POSIX


144 
	~<b™s/posix1_lim.h
>

147 #ifdef 
__USE_POSIX2


148 
	~<b™s/posix2_lim.h
>

151 #ifdef 
__USE_XOPEN


152 
	~<b™s/xİ’_lim.h
>

	@/usr/include/linux/fb.h

1 #iâdeà
_LINUX_FB_H


2 
	#_LINUX_FB_H


	)

4 
	~<lšux/ty³s.h
>

5 
	~<lšux/i2c.h
>

9 
	#FB_MAX
 32

	)

13 
	#FBIOGET_VSCREENINFO
 0x4600

	)

14 
	#FBIOPUT_VSCREENINFO
 0x4601

	)

15 
	#FBIOGET_FSCREENINFO
 0x4602

	)

16 
	#FBIOGETCMAP
 0x4604

	)

17 
	#FBIOPUTCMAP
 0x4605

	)

18 
	#FBIOPAN_DISPLAY
 0x4606

	)

19 
	#FBIO_CURSOR
 
	`_IOWR
('F', 0x08, 
fb_cursÜ
)

	)

24 
	#FBIOGET_CON2FBMAP
 0x460F

	)

25 
	#FBIOPUT_CON2FBMAP
 0x4610

	)

26 
	#FBIOBLANK
 0x4611

	)

27 
	#FBIOGET_VBLANK
 
	`_IOR
('F', 0x12, 
fb_vbÏnk
)

	)

28 
	#FBIO_ALLOC
 0x4613

	)

29 
	#FBIO_FREE
 0x4614

	)

30 
	#FBIOGET_GLYPH
 0x4615

	)

31 
	#FBIOGET_HWCINFO
 0x4616

	)

32 
	#FBIOPUT_MODEINFO
 0x4617

	)

33 
	#FBIOGET_DISPINFO
 0x4618

	)

34 
	#FBIO_WAITFORVSYNC
 
	`_IOW
('F', 0x20, 
__u32
)

	)

36 
	#FB_TYPE_PACKED_PIXELS
 0

	)

37 
	#FB_TYPE_PLANES
 1

	)

38 
	#FB_TYPE_INTERLEAVED_PLANES
 2

	)

39 
	#FB_TYPE_TEXT
 3

	)

40 
	#FB_TYPE_VGA_PLANES
 4

	)

41 
	#FB_TYPE_FOURCC
 5

	)

43 
	#FB_AUX_TEXT_MDA
 0

	)

44 
	#FB_AUX_TEXT_CGA
 1

	)

45 
	#FB_AUX_TEXT_S3_MMIO
 2

	)

46 
	#FB_AUX_TEXT_MGA_STEP16
 3

	)

47 
	#FB_AUX_TEXT_MGA_STEP8
 4

	)

48 
	#FB_AUX_TEXT_SVGA_GROUP
 8

	)

49 
	#FB_AUX_TEXT_SVGA_MASK
 7

	)

50 
	#FB_AUX_TEXT_SVGA_STEP2
 8

	)

51 
	#FB_AUX_TEXT_SVGA_STEP4
 9

	)

52 
	#FB_AUX_TEXT_SVGA_STEP8
 10

	)

53 
	#FB_AUX_TEXT_SVGA_STEP16
 11

	)

54 
	#FB_AUX_TEXT_SVGA_LAST
 15

	)

56 
	#FB_AUX_VGA_PLANES_VGA4
 0

	)

57 
	#FB_AUX_VGA_PLANES_CFB4
 1

	)

58 
	#FB_AUX_VGA_PLANES_CFB8
 2

	)

60 
	#FB_VISUAL_MONO01
 0

	)

61 
	#FB_VISUAL_MONO10
 1

	)

62 
	#FB_VISUAL_TRUECOLOR
 2

	)

63 
	#FB_VISUAL_PSEUDOCOLOR
 3

	)

64 
	#FB_VISUAL_DIRECTCOLOR
 4

	)

65 
	#FB_VISUAL_STATIC_PSEUDOCOLOR
 5

	)

66 
	#FB_VISUAL_FOURCC
 6

	)

68 
	#FB_ACCEL_NONE
 0

	)

69 
	#FB_ACCEL_ATARIBLITT
 1

	)

70 
	#FB_ACCEL_AMIGABLITT
 2

	)

71 
	#FB_ACCEL_S3_TRIO64
 3

	)

72 
	#FB_ACCEL_NCR_77C32BLT
 4

	)

73 
	#FB_ACCEL_S3_VIRGE
 5

	)

74 
	#FB_ACCEL_ATI_MACH64GX
 6

	)

75 
	#FB_ACCEL_DEC_TGA
 7

	)

76 
	#FB_ACCEL_ATI_MACH64CT
 8

	)

77 
	#FB_ACCEL_ATI_MACH64VT
 9

	)

78 
	#FB_ACCEL_ATI_MACH64GT
 10

	)

79 
	#FB_ACCEL_SUN_CREATOR
 11

	)

80 
	#FB_ACCEL_SUN_CGSIX
 12

	)

81 
	#FB_ACCEL_SUN_LEO
 13

	)

82 
	#FB_ACCEL_IMS_TWINTURBO
 14

	)

83 
	#FB_ACCEL_3DLABS_PERMEDIA2
 15

	)

84 
	#FB_ACCEL_MATROX_MGA2064W
 16

	)

85 
	#FB_ACCEL_MATROX_MGA1064SG
 17

	)

86 
	#FB_ACCEL_MATROX_MGA2164W
 18

	)

87 
	#FB_ACCEL_MATROX_MGA2164W_AGP
 19

	)

88 
	#FB_ACCEL_MATROX_MGAG100
 20

	)

89 
	#FB_ACCEL_MATROX_MGAG200
 21

	)

90 
	#FB_ACCEL_SUN_CG14
 22

	)

91 
	#FB_ACCEL_SUN_BWTWO
 23

	)

92 
	#FB_ACCEL_SUN_CGTHREE
 24

	)

93 
	#FB_ACCEL_SUN_TCX
 25

	)

94 
	#FB_ACCEL_MATROX_MGAG400
 26

	)

95 
	#FB_ACCEL_NV3
 27

	)

96 
	#FB_ACCEL_NV4
 28

	)

97 
	#FB_ACCEL_NV5
 29

	)

98 
	#FB_ACCEL_CT_6555x
 30

	)

99 
	#FB_ACCEL_3DFX_BANSHEE
 31

	)

100 
	#FB_ACCEL_ATI_RAGE128
 32

	)

101 
	#FB_ACCEL_IGS_CYBER2000
 33

	)

102 
	#FB_ACCEL_IGS_CYBER2010
 34

	)

103 
	#FB_ACCEL_IGS_CYBER5000
 35

	)

104 
	#FB_ACCEL_SIS_GLAMOUR
 36

	)

105 
	#FB_ACCEL_3DLABS_PERMEDIA3
 37

	)

106 
	#FB_ACCEL_ATI_RADEON
 38

	)

107 
	#FB_ACCEL_I810
 39

	)

108 
	#FB_ACCEL_SIS_GLAMOUR_2
 40

	)

109 
	#FB_ACCEL_SIS_XABRE
 41

	)

110 
	#FB_ACCEL_I830
 42

	)

111 
	#FB_ACCEL_NV_10
 43

	)

112 
	#FB_ACCEL_NV_20
 44

	)

113 
	#FB_ACCEL_NV_30
 45

	)

114 
	#FB_ACCEL_NV_40
 46

	)

115 
	#FB_ACCEL_XGI_VOLARI_V
 47

	)

116 
	#FB_ACCEL_XGI_VOLARI_Z
 48

	)

117 
	#FB_ACCEL_OMAP1610
 49

	)

118 
	#FB_ACCEL_TRIDENT_TGUI
 50

	)

119 
	#FB_ACCEL_TRIDENT_3DIMAGE
 51

	)

120 
	#FB_ACCEL_TRIDENT_BLADE3D
 52

	)

121 
	#FB_ACCEL_TRIDENT_BLADEXP
 53

	)

122 
	#FB_ACCEL_CIRRUS_ALPINE
 53

	)

123 
	#FB_ACCEL_NEOMAGIC_NM2070
 90

	)

124 
	#FB_ACCEL_NEOMAGIC_NM2090
 91

	)

125 
	#FB_ACCEL_NEOMAGIC_NM2093
 92

	)

126 
	#FB_ACCEL_NEOMAGIC_NM2097
 93

	)

127 
	#FB_ACCEL_NEOMAGIC_NM2160
 94

	)

128 
	#FB_ACCEL_NEOMAGIC_NM2200
 95

	)

129 
	#FB_ACCEL_NEOMAGIC_NM2230
 96

	)

130 
	#FB_ACCEL_NEOMAGIC_NM2360
 97

	)

131 
	#FB_ACCEL_NEOMAGIC_NM2380
 98

	)

132 
	#FB_ACCEL_PXA3XX
 99

	)

134 
	#FB_ACCEL_SAVAGE4
 0x80

	)

135 
	#FB_ACCEL_SAVAGE3D
 0x81

	)

136 
	#FB_ACCEL_SAVAGE3D_MV
 0x82

	)

137 
	#FB_ACCEL_SAVAGE2000
 0x83

	)

138 
	#FB_ACCEL_SAVAGE_MX_MV
 0x84

	)

139 
	#FB_ACCEL_SAVAGE_MX
 0x85

	)

140 
	#FB_ACCEL_SAVAGE_IX_MV
 0x86

	)

141 
	#FB_ACCEL_SAVAGE_IX
 0x87

	)

142 
	#FB_ACCEL_PROSAVAGE_PM
 0x88

	)

143 
	#FB_ACCEL_PROSAVAGE_KM
 0x89

	)

144 
	#FB_ACCEL_S3TWISTER_P
 0x8¨

	)

145 
	#FB_ACCEL_S3TWISTER_K
 0x8b

	)

146 
	#FB_ACCEL_SUPERSAVAGE
 0x8ø

	)

147 
	#FB_ACCEL_PROSAVAGE_DDR
 0x8d

	)

148 
	#FB_ACCEL_PROSAVAGE_DDRK
 0x8

	)

150 
	#FB_ACCEL_PUV3_UNIGFX
 0xa0

	)

152 
	#FB_CAP_FOURCC
 1

	)

154 
	sfb_fix_sü“nšfo
 {

155 
	mid
[16];

156 
	msmem_¡¬t
;

158 
__u32
 
	msmem_Ën
;

159 
__u32
 
	mty³
;

160 
__u32
 
	mty³_aux
;

161 
__u32
 
	mvisu®
;

162 
__u16
 
	mx·n¡•
;

163 
__u16
 
	my·n¡•
;

164 
__u16
 
	myw¿p¡•
;

165 
__u32
 
	mlše_Ëngth
;

166 
	mmmio_¡¬t
;

168 
__u32
 
	mmmio_Ën
;

169 
__u32
 
	macûl
;

171 
__u16
 
	mÿ·b™›s
;

172 
__u16
 
	m»£rved
[2];

185 
	sfb_b™f›ld
 {

186 
__u32
 
	moff£t
;

187 
__u32
 
	mËngth
;

188 
__u32
 
	mmsb_right
;

192 
	#FB_NONSTD_HAM
 1

	)

193 
	#FB_NONSTD_REV_PIX_IN_B
 2

	)

195 
	#FB_ACTIVATE_NOW
 0

	)

196 
	#FB_ACTIVATE_NXTOPEN
 1

	)

197 
	#FB_ACTIVATE_TEST
 2

	)

198 
	#FB_ACTIVATE_MASK
 15

	)

200 
	#FB_ACTIVATE_VBL
 16

	)

201 
	#FB_CHANGE_CMAP_VBL
 32

	)

202 
	#FB_ACTIVATE_ALL
 64

	)

203 
	#FB_ACTIVATE_FORCE
 128

	)

204 
	#FB_ACTIVATE_INV_MODE
 256

	)

206 
	#FB_ACCELF_TEXT
 1

	)

208 
	#FB_SYNC_HOR_HIGH_ACT
 1

	)

209 
	#FB_SYNC_VERT_HIGH_ACT
 2

	)

210 
	#FB_SYNC_EXT
 4

	)

211 
	#FB_SYNC_COMP_HIGH_ACT
 8

	)

212 
	#FB_SYNC_BROADCAST
 16

	)

215 
	#FB_SYNC_ON_GREEN
 32

	)

217 
	#FB_VMODE_NONINTERLACED
 0

	)

218 
	#FB_VMODE_INTERLACED
 1

	)

219 
	#FB_VMODE_DOUBLE
 2

	)

220 
	#FB_VMODE_ODD_FLD_FIRST
 4

	)

221 
	#FB_VMODE_MASK
 255

	)

223 
	#FB_VMODE_YWRAP
 256

	)

224 
	#FB_VMODE_SMOOTH_XPAN
 512

	)

225 
	#FB_VMODE_CONUPDATE
 512

	)

230 
	#FB_ROTATE_UR
 0

	)

231 
	#FB_ROTATE_CW
 1

	)

232 
	#FB_ROTATE_UD
 2

	)

233 
	#FB_ROTATE_CCW
 3

	)

235 
	#PICOS2KHZ
(
a
è(1000000000UL/×))

	)

236 
	#KHZ2PICOS
(
a
è(1000000000UL/×))

	)

238 
	sfb_v¬_sü“nšfo
 {

239 
__u32
 
	mx»s
;

240 
__u32
 
	my»s
;

241 
__u32
 
	mx»s_vœtu®
;

242 
__u32
 
	my»s_vœtu®
;

243 
__u32
 
	mxoff£t
;

244 
__u32
 
	myoff£t
;

246 
__u32
 
	mb™s_³r_pix–
;

247 
__u32
 
	mg¿ysÿË
;

249 
fb_b™f›ld
 
	m»d
;

250 
fb_b™f›ld
 
	mg»’
;

251 
fb_b™f›ld
 
	mblue
;

252 
fb_b™f›ld
 
	mŒª¥
;

254 
__u32
 
	mnÚ¡d
;

256 
__u32
 
	maùiv©e
;

258 
__u32
 
	mheight
;

259 
__u32
 
	mwidth
;

261 
__u32
 
	macûl_æags
;

264 
__u32
 
	mpixşock
;

265 
__u32
 
	mËá_m¬gš
;

266 
__u32
 
	mright_m¬gš
;

267 
__u32
 
	muµ”_m¬gš
;

268 
__u32
 
	mlow”_m¬gš
;

269 
__u32
 
	mhsync_Ën
;

270 
__u32
 
	mvsync_Ën
;

271 
__u32
 
	msync
;

272 
__u32
 
	mvmode
;

273 
__u32
 
	mrÙ©e
;

274 
__u32
 
	mcŞÜ¥aû
;

275 
__u32
 
	m»£rved
[4];

278 
	sfb_cm­
 {

279 
__u32
 
	m¡¬t
;

280 
__u32
 
	mËn
;

281 
__u16
 *
	m»d
;

282 
__u16
 *
	mg»’
;

283 
__u16
 *
	mblue
;

284 
__u16
 *
	mŒª¥
;

287 
	sfb_cÚ2fbm­
 {

288 
__u32
 
	mcÚsŞe
;

289 
__u32
 
	mäamebufãr
;

293 
	#VESA_NO_BLANKING
 0

	)

294 
	#VESA_VSYNC_SUSPEND
 1

	)

295 
	#VESA_HSYNC_SUSPEND
 2

	)

296 
	#VESA_POWERDOWN
 3

	)

301 
	mFB_BLANK_UNBLANK
 = 
VESA_NO_BLANKING
,

304 
	mFB_BLANK_NORMAL
 = 
VESA_NO_BLANKING
 + 1,

307 
	mFB_BLANK_VSYNC_SUSPEND
 = 
VESA_VSYNC_SUSPEND
 + 1,

310 
	mFB_BLANK_HSYNC_SUSPEND
 = 
VESA_HSYNC_SUSPEND
 + 1,

313 
	mFB_BLANK_POWERDOWN
 = 
VESA_POWERDOWN
 + 1

316 
	#FB_VBLANK_VBLANKING
 0x001

	)

317 
	#FB_VBLANK_HBLANKING
 0x002

	)

318 
	#FB_VBLANK_HAVE_VBLANK
 0x004

	)

319 
	#FB_VBLANK_HAVE_HBLANK
 0x008

	)

320 
	#FB_VBLANK_HAVE_COUNT
 0x010

	)

321 
	#FB_VBLANK_HAVE_VCOUNT
 0x020

	)

322 
	#FB_VBLANK_HAVE_HCOUNT
 0x040

	)

323 
	#FB_VBLANK_VSYNCING
 0x080

	)

324 
	#FB_VBLANK_HAVE_VSYNC
 0x100

	)

326 
	sfb_vbÏnk
 {

327 
__u32
 
	mæags
;

328 
__u32
 
	mcouÁ
;

329 
__u32
 
	mvcouÁ
;

330 
__u32
 
	mhcouÁ
;

331 
__u32
 
	m»£rved
[4];

335 
	#ROP_COPY
 0

	)

336 
	#ROP_XOR
 1

	)

338 
	sfb_cİy¬—
 {

339 
__u32
 
	mdx
;

340 
__u32
 
	mdy
;

341 
__u32
 
	mwidth
;

342 
__u32
 
	mheight
;

343 
__u32
 
	msx
;

344 
__u32
 
	msy
;

347 
	sfb_fÌeù
 {

348 
__u32
 
	mdx
;

349 
__u32
 
	mdy
;

350 
__u32
 
	mwidth
;

351 
__u32
 
	mheight
;

352 
__u32
 
	mcŞÜ
;

353 
__u32
 
	mrİ
;

356 
	sfb_image
 {

357 
__u32
 
	mdx
;

358 
__u32
 
	mdy
;

359 
__u32
 
	mwidth
;

360 
__u32
 
	mheight
;

361 
__u32
 
	mfg_cŞÜ
;

362 
__u32
 
	mbg_cŞÜ
;

363 
__u8
 
	md•th
;

364 cÚ¡ *
	md©a
;

365 
fb_cm­
 
	mcm­
;

372 
	#FB_CUR_SETIMAGE
 0x01

	)

373 
	#FB_CUR_SETPOS
 0x02

	)

374 
	#FB_CUR_SETHOT
 0x04

	)

375 
	#FB_CUR_SETCMAP
 0x08

	)

376 
	#FB_CUR_SETSHAPE
 0x10

	)

377 
	#FB_CUR_SETSIZE
 0x20

	)

378 
	#FB_CUR_SETALL
 0xFF

	)

380 
	sfbcu½os
 {

381 
__u16
 
	mx
, 
	my
;

384 
	sfb_cursÜ
 {

385 
__u16
 
	m£t
;

386 
__u16
 
	m’abË
;

387 
__u16
 
	mrİ
;

388 cÚ¡ *
	mmask
;

389 
fbcu½os
 
	mhÙ
;

390 
fb_image
 
	mimage
;

393 #ifdeà
CONFIG_FB_BACKLIGHT


395 
	#FB_BACKLIGHT_LEVELS
 128

	)

396 
	#FB_BACKLIGHT_MAX
 0xFF

	)

	@/usr/include/linux/input.h

8 #iâdeà
_INPUT_H


9 
	#_INPUT_H


	)

12 
	~<sys/time.h
>

13 
	~<sys/ioùl.h
>

14 
	~<sys/ty³s.h
>

15 
	~<lšux/ty³s.h
>

22 
	sšput_ev’t
 {

23 
timev®
 
	mtime
;

24 
__u16
 
	mty³
;

25 
__u16
 
	mcode
;

26 
__s32
 
	mv®ue
;

33 
	#EV_VERSION
 0x010001

	)

39 
	sšput_id
 {

40 
__u16
 
	mbu¡y³
;

41 
__u16
 
	mv’dÜ
;

42 
__u16
 
	m´oduù
;

43 
__u16
 
	mv”siÚ
;

65 
	sšput_absšfo
 {

66 
__s32
 
	mv®ue
;

67 
__s32
 
	mmšimum
;

68 
__s32
 
	mmaximum
;

69 
__s32
 
	mfuzz
;

70 
__s32
 
	mæ©
;

71 
__s32
 
	m»sŞutiÚ
;

89 
	sšput_keym­_’Œy
 {

90 
	#INPUT_KEYMAP_BY_INDEX
 (1 << 0)

	)

91 
__u8
 
	mæags
;

92 
__u8
 
	mËn
;

93 
__u16
 
	mšdex
;

94 
__u32
 
	mkeycode
;

95 
__u8
 
	msÿncode
[32];

98 
	#EVIOCGVERSION
 
	`_IOR
('E', 0x01, è

	)

99 
	#EVIOCGID
 
	`_IOR
('E', 0x02, 
šput_id
è

	)

100 
	#EVIOCGREP
 
	`_IOR
('E', 0x03, [2]è

	)

101 
	#EVIOCSREP
 
	`_IOW
('E', 0x03, [2]è

	)

103 
	#EVIOCGKEYCODE
 
	`_IOR
('E', 0x04, [2]è

	)

104 
	#EVIOCGKEYCODE_V2
 
	`_IOR
('E', 0x04, 
šput_keym­_’Œy
)

	)

105 
	#EVIOCSKEYCODE
 
	`_IOW
('E', 0x04, [2]è

	)

106 
	#EVIOCSKEYCODE_V2
 
	`_IOW
('E', 0x04, 
šput_keym­_’Œy
)

	)

108 
	#EVIOCGNAME
(
Ën
è
	`_IOC
(
_IOC_READ
, 'E', 0x06,†’è

	)

109 
	#EVIOCGPHYS
(
Ën
è
	`_IOC
(
_IOC_READ
, 'E', 0x07,†’è

	)

110 
	#EVIOCGUNIQ
(
Ën
è
	`_IOC
(
_IOC_READ
, 'E', 0x08,†’è

	)

111 
	#EVIOCGPROP
(
Ën
è
	`_IOC
(
_IOC_READ
, 'E', 0x09,†’è

	)

137 
	#EVIOCGMTSLOTS
(
Ën
è
	`_IOC
(
_IOC_READ
, 'E', 0x0a,†’)

	)

139 
	#EVIOCGKEY
(
Ën
è
	`_IOC
(
_IOC_READ
, 'E', 0x18,†’è

	)

140 
	#EVIOCGLED
(
Ën
è
	`_IOC
(
_IOC_READ
, 'E', 0x19,†’è

	)

141 
	#EVIOCGSND
(
Ën
è
	`_IOC
(
_IOC_READ
, 'E', 0x1a,†’è

	)

142 
	#EVIOCGSW
(
Ën
è
	`_IOC
(
_IOC_READ
, 'E', 0x1b,†’è

	)

144 
	#EVIOCGBIT
(
ev
,
Ën
è
	`_IOC
(
_IOC_READ
, 'E', 0x20 + (ev),†’è

	)

145 
	#EVIOCGABS
(
abs
è
	`_IOR
('E', 0x40 + (abs), 
šput_absšfo
è

	)

146 
	#EVIOCSABS
(
abs
è
	`_IOW
('E', 0xc0 + (abs), 
šput_absšfo
è

	)

148 
	#EVIOCSFF
 
	`_IOC
(
_IOC_WRITE
, 'E', 0x80, (
ff_efãù
)è

	)

149 
	#EVIOCRMFF
 
	`_IOW
('E', 0x81, è

	)

150 
	#EVIOCGEFFECTS
 
	`_IOR
('E', 0x84, è

	)

152 
	#EVIOCGRAB
 
	`_IOW
('E', 0x90, è

	)

154 
	#EVIOCSCLOCKID
 
	`_IOW
('E', 0xa0, è

	)

160 
	#INPUT_PROP_POINTER
 0x00

	)

161 
	#INPUT_PROP_DIRECT
 0x01

	)

162 
	#INPUT_PROP_BUTTONPAD
 0x02

	)

163 
	#INPUT_PROP_SEMI_MT
 0x03

	)

165 
	#INPUT_PROP_MAX
 0x1f

	)

166 
	#INPUT_PROP_CNT
 (
INPUT_PROP_MAX
 + 1)

	)

172 
	#EV_SYN
 0x00

	)

173 
	#EV_KEY
 0x01

	)

174 
	#EV_REL
 0x02

	)

175 
	#EV_ABS
 0x03

	)

176 
	#EV_MSC
 0x04

	)

177 
	#EV_SW
 0x05

	)

178 
	#EV_LED
 0x11

	)

179 
	#EV_SND
 0x12

	)

180 
	#EV_REP
 0x14

	)

181 
	#EV_FF
 0x15

	)

182 
	#EV_PWR
 0x16

	)

183 
	#EV_FF_STATUS
 0x17

	)

184 
	#EV_MAX
 0x1f

	)

185 
	#EV_CNT
 (
EV_MAX
+1)

	)

191 
	#SYN_REPORT
 0

	)

192 
	#SYN_CONFIG
 1

	)

193 
	#SYN_MT_REPORT
 2

	)

194 
	#SYN_DROPPED
 3

	)

207 
	#KEY_RESERVED
 0

	)

208 
	#KEY_ESC
 1

	)

209 
	#KEY_1
 2

	)

210 
	#KEY_2
 3

	)

211 
	#KEY_3
 4

	)

212 
	#KEY_4
 5

	)

213 
	#KEY_5
 6

	)

214 
	#KEY_6
 7

	)

215 
	#KEY_7
 8

	)

216 
	#KEY_8
 9

	)

217 
	#KEY_9
 10

	)

218 
	#KEY_0
 11

	)

219 
	#KEY_MINUS
 12

	)

220 
	#KEY_EQUAL
 13

	)

221 
	#KEY_BACKSPACE
 14

	)

222 
	#KEY_TAB
 15

	)

223 
	#KEY_Q
 16

	)

224 
	#KEY_W
 17

	)

225 
	#KEY_E
 18

	)

226 
	#KEY_R
 19

	)

227 
	#KEY_T
 20

	)

228 
	#KEY_Y
 21

	)

229 
	#KEY_U
 22

	)

230 
	#KEY_I
 23

	)

231 
	#KEY_O
 24

	)

232 
	#KEY_P
 25

	)

233 
	#KEY_LEFTBRACE
 26

	)

234 
	#KEY_RIGHTBRACE
 27

	)

235 
	#KEY_ENTER
 28

	)

236 
	#KEY_LEFTCTRL
 29

	)

237 
	#KEY_A
 30

	)

238 
	#KEY_S
 31

	)

239 
	#KEY_D
 32

	)

240 
	#KEY_F
 33

	)

241 
	#KEY_G
 34

	)

242 
	#KEY_H
 35

	)

243 
	#KEY_J
 36

	)

244 
	#KEY_K
 37

	)

245 
	#KEY_L
 38

	)

246 
	#KEY_SEMICOLON
 39

	)

247 
	#KEY_APOSTROPHE
 40

	)

248 
	#KEY_GRAVE
 41

	)

249 
	#KEY_LEFTSHIFT
 42

	)

250 
	#KEY_BACKSLASH
 43

	)

251 
	#KEY_Z
 44

	)

252 
	#KEY_X
 45

	)

253 
	#KEY_C
 46

	)

254 
	#KEY_V
 47

	)

255 
	#KEY_B
 48

	)

256 
	#KEY_N
 49

	)

257 
	#KEY_M
 50

	)

258 
	#KEY_COMMA
 51

	)

259 
	#KEY_DOT
 52

	)

260 
	#KEY_SLASH
 53

	)

261 
	#KEY_RIGHTSHIFT
 54

	)

262 
	#KEY_KPASTERISK
 55

	)

263 
	#KEY_LEFTALT
 56

	)

264 
	#KEY_SPACE
 57

	)

265 
	#KEY_CAPSLOCK
 58

	)

266 
	#KEY_F1
 59

	)

267 
	#KEY_F2
 60

	)

268 
	#KEY_F3
 61

	)

269 
	#KEY_F4
 62

	)

270 
	#KEY_F5
 63

	)

271 
	#KEY_F6
 64

	)

272 
	#KEY_F7
 65

	)

273 
	#KEY_F8
 66

	)

274 
	#KEY_F9
 67

	)

275 
	#KEY_F10
 68

	)

276 
	#KEY_NUMLOCK
 69

	)

277 
	#KEY_SCROLLLOCK
 70

	)

278 
	#KEY_KP7
 71

	)

279 
	#KEY_KP8
 72

	)

280 
	#KEY_KP9
 73

	)

281 
	#KEY_KPMINUS
 74

	)

282 
	#KEY_KP4
 75

	)

283 
	#KEY_KP5
 76

	)

284 
	#KEY_KP6
 77

	)

285 
	#KEY_KPPLUS
 78

	)

286 
	#KEY_KP1
 79

	)

287 
	#KEY_KP2
 80

	)

288 
	#KEY_KP3
 81

	)

289 
	#KEY_KP0
 82

	)

290 
	#KEY_KPDOT
 83

	)

292 
	#KEY_ZENKAKUHANKAKU
 85

	)

293 
	#KEY_102ND
 86

	)

294 
	#KEY_F11
 87

	)

295 
	#KEY_F12
 88

	)

296 
	#KEY_RO
 89

	)

297 
	#KEY_KATAKANA
 90

	)

298 
	#KEY_HIRAGANA
 91

	)

299 
	#KEY_HENKAN
 92

	)

300 
	#KEY_KATAKANAHIRAGANA
 93

	)

301 
	#KEY_MUHENKAN
 94

	)

302 
	#KEY_KPJPCOMMA
 95

	)

303 
	#KEY_KPENTER
 96

	)

304 
	#KEY_RIGHTCTRL
 97

	)

305 
	#KEY_KPSLASH
 98

	)

306 
	#KEY_SYSRQ
 99

	)

307 
	#KEY_RIGHTALT
 100

	)

308 
	#KEY_LINEFEED
 101

	)

309 
	#KEY_HOME
 102

	)

310 
	#KEY_UP
 103

	)

311 
	#KEY_PAGEUP
 104

	)

312 
	#KEY_LEFT
 105

	)

313 
	#KEY_RIGHT
 106

	)

314 
	#KEY_END
 107

	)

315 
	#KEY_DOWN
 108

	)

316 
	#KEY_PAGEDOWN
 109

	)

317 
	#KEY_INSERT
 110

	)

318 
	#KEY_DELETE
 111

	)

319 
	#KEY_MACRO
 112

	)

320 
	#KEY_MUTE
 113

	)

321 
	#KEY_VOLUMEDOWN
 114

	)

322 
	#KEY_VOLUMEUP
 115

	)

323 
	#KEY_POWER
 116

	)

324 
	#KEY_KPEQUAL
 117

	)

325 
	#KEY_KPPLUSMINUS
 118

	)

326 
	#KEY_PAUSE
 119

	)

327 
	#KEY_SCALE
 120

	)

329 
	#KEY_KPCOMMA
 121

	)

330 
	#KEY_HANGEUL
 122

	)

331 
	#KEY_HANGUEL
 
KEY_HANGEUL


	)

332 
	#KEY_HANJA
 123

	)

333 
	#KEY_YEN
 124

	)

334 
	#KEY_LEFTMETA
 125

	)

335 
	#KEY_RIGHTMETA
 126

	)

336 
	#KEY_COMPOSE
 127

	)

338 
	#KEY_STOP
 128

	)

339 
	#KEY_AGAIN
 129

	)

340 
	#KEY_PROPS
 130

	)

341 
	#KEY_UNDO
 131

	)

342 
	#KEY_FRONT
 132

	)

343 
	#KEY_COPY
 133

	)

344 
	#KEY_OPEN
 134

	)

345 
	#KEY_PASTE
 135

	)

346 
	#KEY_FIND
 136

	)

347 
	#KEY_CUT
 137

	)

348 
	#KEY_HELP
 138

	)

349 
	#KEY_MENU
 139

	)

350 
	#KEY_CALC
 140

	)

351 
	#KEY_SETUP
 141

	)

352 
	#KEY_SLEEP
 142

	)

353 
	#KEY_WAKEUP
 143

	)

354 
	#KEY_FILE
 144

	)

355 
	#KEY_SENDFILE
 145

	)

356 
	#KEY_DELETEFILE
 146

	)

357 
	#KEY_XFER
 147

	)

358 
	#KEY_PROG1
 148

	)

359 
	#KEY_PROG2
 149

	)

360 
	#KEY_WWW
 150

	)

361 
	#KEY_MSDOS
 151

	)

362 
	#KEY_COFFEE
 152

	)

363 
	#KEY_SCREENLOCK
 
KEY_COFFEE


	)

364 
	#KEY_DIRECTION
 153

	)

365 
	#KEY_CYCLEWINDOWS
 154

	)

366 
	#KEY_MAIL
 155

	)

367 
	#KEY_BOOKMARKS
 156

	)

368 
	#KEY_COMPUTER
 157

	)

369 
	#KEY_BACK
 158

	)

370 
	#KEY_FORWARD
 159

	)

371 
	#KEY_CLOSECD
 160

	)

372 
	#KEY_EJECTCD
 161

	)

373 
	#KEY_EJECTCLOSECD
 162

	)

374 
	#KEY_NEXTSONG
 163

	)

375 
	#KEY_PLAYPAUSE
 164

	)

376 
	#KEY_PREVIOUSSONG
 165

	)

377 
	#KEY_STOPCD
 166

	)

378 
	#KEY_RECORD
 167

	)

379 
	#KEY_REWIND
 168

	)

380 
	#KEY_PHONE
 169

	)

381 
	#KEY_ISO
 170

	)

382 
	#KEY_CONFIG
 171

	)

383 
	#KEY_HOMEPAGE
 172

	)

384 
	#KEY_REFRESH
 173

	)

385 
	#KEY_EXIT
 174

	)

386 
	#KEY_MOVE
 175

	)

387 
	#KEY_EDIT
 176

	)

388 
	#KEY_SCROLLUP
 177

	)

389 
	#KEY_SCROLLDOWN
 178

	)

390 
	#KEY_KPLEFTPAREN
 179

	)

391 
	#KEY_KPRIGHTPAREN
 180

	)

392 
	#KEY_NEW
 181

	)

393 
	#KEY_REDO
 182

	)

395 
	#KEY_F13
 183

	)

396 
	#KEY_F14
 184

	)

397 
	#KEY_F15
 185

	)

398 
	#KEY_F16
 186

	)

399 
	#KEY_F17
 187

	)

400 
	#KEY_F18
 188

	)

401 
	#KEY_F19
 189

	)

402 
	#KEY_F20
 190

	)

403 
	#KEY_F21
 191

	)

404 
	#KEY_F22
 192

	)

405 
	#KEY_F23
 193

	)

406 
	#KEY_F24
 194

	)

408 
	#KEY_PLAYCD
 200

	)

409 
	#KEY_PAUSECD
 201

	)

410 
	#KEY_PROG3
 202

	)

411 
	#KEY_PROG4
 203

	)

412 
	#KEY_DASHBOARD
 204

	)

413 
	#KEY_SUSPEND
 205

	)

414 
	#KEY_CLOSE
 206

	)

415 
	#KEY_PLAY
 207

	)

416 
	#KEY_FASTFORWARD
 208

	)

417 
	#KEY_BASSBOOST
 209

	)

418 
	#KEY_PRINT
 210

	)

419 
	#KEY_HP
 211

	)

420 
	#KEY_CAMERA
 212

	)

421 
	#KEY_SOUND
 213

	)

422 
	#KEY_QUESTION
 214

	)

423 
	#KEY_EMAIL
 215

	)

424 
	#KEY_CHAT
 216

	)

425 
	#KEY_SEARCH
 217

	)

426 
	#KEY_CONNECT
 218

	)

427 
	#KEY_FINANCE
 219

	)

428 
	#KEY_SPORT
 220

	)

429 
	#KEY_SHOP
 221

	)

430 
	#KEY_ALTERASE
 222

	)

431 
	#KEY_CANCEL
 223

	)

432 
	#KEY_BRIGHTNESSDOWN
 224

	)

433 
	#KEY_BRIGHTNESSUP
 225

	)

434 
	#KEY_MEDIA
 226

	)

436 
	#KEY_SWITCHVIDEOMODE
 227

	)

438 
	#KEY_KBDILLUMTOGGLE
 228

	)

439 
	#KEY_KBDILLUMDOWN
 229

	)

440 
	#KEY_KBDILLUMUP
 230

	)

442 
	#KEY_SEND
 231

	)

443 
	#KEY_REPLY
 232

	)

444 
	#KEY_FORWARDMAIL
 233

	)

445 
	#KEY_SAVE
 234

	)

446 
	#KEY_DOCUMENTS
 235

	)

448 
	#KEY_BATTERY
 236

	)

450 
	#KEY_BLUETOOTH
 237

	)

451 
	#KEY_WLAN
 238

	)

452 
	#KEY_UWB
 239

	)

454 
	#KEY_UNKNOWN
 240

	)

456 
	#KEY_VIDEO_NEXT
 241

	)

457 
	#KEY_VIDEO_PREV
 242

	)

458 
	#KEY_BRIGHTNESS_CYCLE
 243

	)

459 
	#KEY_BRIGHTNESS_ZERO
 244

	)

460 
	#KEY_DISPLAY_OFF
 245

	)

462 
	#KEY_WIMAX
 246

	)

463 
	#KEY_RFKILL
 247

	)

465 
	#KEY_MICMUTE
 248

	)

469 
	#BTN_MISC
 0x100

	)

470 
	#BTN_0
 0x100

	)

471 
	#BTN_1
 0x101

	)

472 
	#BTN_2
 0x102

	)

473 
	#BTN_3
 0x103

	)

474 
	#BTN_4
 0x104

	)

475 
	#BTN_5
 0x105

	)

476 
	#BTN_6
 0x106

	)

477 
	#BTN_7
 0x107

	)

478 
	#BTN_8
 0x108

	)

479 
	#BTN_9
 0x109

	)

481 
	#BTN_MOUSE
 0x110

	)

482 
	#BTN_LEFT
 0x110

	)

483 
	#BTN_RIGHT
 0x111

	)

484 
	#BTN_MIDDLE
 0x112

	)

485 
	#BTN_SIDE
 0x113

	)

486 
	#BTN_EXTRA
 0x114

	)

487 
	#BTN_FORWARD
 0x115

	)

488 
	#BTN_BACK
 0x116

	)

489 
	#BTN_TASK
 0x117

	)

491 
	#BTN_JOYSTICK
 0x120

	)

492 
	#BTN_TRIGGER
 0x120

	)

493 
	#BTN_THUMB
 0x121

	)

494 
	#BTN_THUMB2
 0x122

	)

495 
	#BTN_TOP
 0x123

	)

496 
	#BTN_TOP2
 0x124

	)

497 
	#BTN_PINKIE
 0x125

	)

498 
	#BTN_BASE
 0x126

	)

499 
	#BTN_BASE2
 0x127

	)

500 
	#BTN_BASE3
 0x128

	)

501 
	#BTN_BASE4
 0x129

	)

502 
	#BTN_BASE5
 0x12a

	)

503 
	#BTN_BASE6
 0x12b

	)

504 
	#BTN_DEAD
 0x12f

	)

506 
	#BTN_GAMEPAD
 0x130

	)

507 
	#BTN_SOUTH
 0x130

	)

508 
	#BTN_A
 
BTN_SOUTH


	)

509 
	#BTN_EAST
 0x131

	)

510 
	#BTN_B
 
BTN_EAST


	)

511 
	#BTN_C
 0x132

	)

512 
	#BTN_NORTH
 0x133

	)

513 
	#BTN_X
 
BTN_NORTH


	)

514 
	#BTN_WEST
 0x134

	)

515 
	#BTN_Y
 
BTN_WEST


	)

516 
	#BTN_Z
 0x135

	)

517 
	#BTN_TL
 0x136

	)

518 
	#BTN_TR
 0x137

	)

519 
	#BTN_TL2
 0x138

	)

520 
	#BTN_TR2
 0x139

	)

521 
	#BTN_SELECT
 0x13a

	)

522 
	#BTN_START
 0x13b

	)

523 
	#BTN_MODE
 0x13c

	)

524 
	#BTN_THUMBL
 0x13d

	)

525 
	#BTN_THUMBR
 0x13e

	)

527 
	#BTN_DIGI
 0x140

	)

528 
	#BTN_TOOL_PEN
 0x140

	)

529 
	#BTN_TOOL_RUBBER
 0x141

	)

530 
	#BTN_TOOL_BRUSH
 0x142

	)

531 
	#BTN_TOOL_PENCIL
 0x143

	)

532 
	#BTN_TOOL_AIRBRUSH
 0x144

	)

533 
	#BTN_TOOL_FINGER
 0x145

	)

534 
	#BTN_TOOL_MOUSE
 0x146

	)

535 
	#BTN_TOOL_LENS
 0x147

	)

536 
	#BTN_TOOL_QUINTTAP
 0x148

	)

537 
	#BTN_TOUCH
 0x14a

	)

538 
	#BTN_STYLUS
 0x14b

	)

539 
	#BTN_STYLUS2
 0x14c

	)

540 
	#BTN_TOOL_DOUBLETAP
 0x14d

	)

541 
	#BTN_TOOL_TRIPLETAP
 0x14e

	)

542 
	#BTN_TOOL_QUADTAP
 0x14à

	)

544 
	#BTN_WHEEL
 0x150

	)

545 
	#BTN_GEAR_DOWN
 0x150

	)

546 
	#BTN_GEAR_UP
 0x151

	)

548 
	#KEY_OK
 0x160

	)

549 
	#KEY_SELECT
 0x161

	)

550 
	#KEY_GOTO
 0x162

	)

551 
	#KEY_CLEAR
 0x163

	)

552 
	#KEY_POWER2
 0x164

	)

553 
	#KEY_OPTION
 0x165

	)

554 
	#KEY_INFO
 0x166

	)

555 
	#KEY_TIME
 0x167

	)

556 
	#KEY_VENDOR
 0x168

	)

557 
	#KEY_ARCHIVE
 0x169

	)

558 
	#KEY_PROGRAM
 0x16¨

	)

559 
	#KEY_CHANNEL
 0x16b

	)

560 
	#KEY_FAVORITES
 0x16c

	)

561 
	#KEY_EPG
 0x16d

	)

562 
	#KEY_PVR
 0x16

	)

563 
	#KEY_MHP
 0x16f

	)

564 
	#KEY_LANGUAGE
 0x170

	)

565 
	#KEY_TITLE
 0x171

	)

566 
	#KEY_SUBTITLE
 0x172

	)

567 
	#KEY_ANGLE
 0x173

	)

568 
	#KEY_ZOOM
 0x174

	)

569 
	#KEY_MODE
 0x175

	)

570 
	#KEY_KEYBOARD
 0x176

	)

571 
	#KEY_SCREEN
 0x177

	)

572 
	#KEY_PC
 0x178

	)

573 
	#KEY_TV
 0x179

	)

574 
	#KEY_TV2
 0x17¨

	)

575 
	#KEY_VCR
 0x17b

	)

576 
	#KEY_VCR2
 0x17ø

	)

577 
	#KEY_SAT
 0x17d

	)

578 
	#KEY_SAT2
 0x17e

	)

579 
	#KEY_CD
 0x17à

	)

580 
	#KEY_TAPE
 0x180

	)

581 
	#KEY_RADIO
 0x181

	)

582 
	#KEY_TUNER
 0x182

	)

583 
	#KEY_PLAYER
 0x183

	)

584 
	#KEY_TEXT
 0x184

	)

585 
	#KEY_DVD
 0x185

	)

586 
	#KEY_AUX
 0x186

	)

587 
	#KEY_MP3
 0x187

	)

588 
	#KEY_AUDIO
 0x188

	)

589 
	#KEY_VIDEO
 0x189

	)

590 
	#KEY_DIRECTORY
 0x18a

	)

591 
	#KEY_LIST
 0x18b

	)

592 
	#KEY_MEMO
 0x18ø

	)

593 
	#KEY_CALENDAR
 0x18d

	)

594 
	#KEY_RED
 0x18e

	)

595 
	#KEY_GREEN
 0x18f

	)

596 
	#KEY_YELLOW
 0x190

	)

597 
	#KEY_BLUE
 0x191

	)

598 
	#KEY_CHANNELUP
 0x192

	)

599 
	#KEY_CHANNELDOWN
 0x193

	)

600 
	#KEY_FIRST
 0x194

	)

601 
	#KEY_LAST
 0x195

	)

602 
	#KEY_AB
 0x196

	)

603 
	#KEY_NEXT
 0x197

	)

604 
	#KEY_RESTART
 0x198

	)

605 
	#KEY_SLOW
 0x199

	)

606 
	#KEY_SHUFFLE
 0x19a

	)

607 
	#KEY_BREAK
 0x19b

	)

608 
	#KEY_PREVIOUS
 0x19c

	)

609 
	#KEY_DIGITS
 0x19d

	)

610 
	#KEY_TEEN
 0x19e

	)

611 
	#KEY_TWEN
 0x19f

	)

612 
	#KEY_VIDEOPHONE
 0x1a0

	)

613 
	#KEY_GAMES
 0x1a1

	)

614 
	#KEY_ZOOMIN
 0x1a2

	)

615 
	#KEY_ZOOMOUT
 0x1a3

	)

616 
	#KEY_ZOOMRESET
 0x1a4

	)

617 
	#KEY_WORDPROCESSOR
 0x1a5

	)

618 
	#KEY_EDITOR
 0x1a6

	)

619 
	#KEY_SPREADSHEET
 0x1a7

	)

620 
	#KEY_GRAPHICSEDITOR
 0x1a8

	)

621 
	#KEY_PRESENTATION
 0x1a9

	)

622 
	#KEY_DATABASE
 0x1¯

	)

623 
	#KEY_NEWS
 0x1ab

	)

624 
	#KEY_VOICEMAIL
 0x1aø

	)

625 
	#KEY_ADDRESSBOOK
 0x1ad

	)

626 
	#KEY_MESSENGER
 0x1«

	)

627 
	#KEY_DISPLAYTOGGLE
 0x1aà

	)

628 
	#KEY_SPELLCHECK
 0x1b0

	)

629 
	#KEY_LOGOFF
 0x1b1

	)

631 
	#KEY_DOLLAR
 0x1b2

	)

632 
	#KEY_EURO
 0x1b3

	)

634 
	#KEY_FRAMEBACK
 0x1b4

	)

635 
	#KEY_FRAMEFORWARD
 0x1b5

	)

636 
	#KEY_CONTEXT_MENU
 0x1b6

	)

637 
	#KEY_MEDIA_REPEAT
 0x1b7

	)

638 
	#KEY_10CHANNELSUP
 0x1b8

	)

639 
	#KEY_10CHANNELSDOWN
 0x1b9

	)

640 
	#KEY_IMAGES
 0x1b¨

	)

642 
	#KEY_DEL_EOL
 0x1c0

	)

643 
	#KEY_DEL_EOS
 0x1c1

	)

644 
	#KEY_INS_LINE
 0x1c2

	)

645 
	#KEY_DEL_LINE
 0x1c3

	)

647 
	#KEY_FN
 0x1d0

	)

648 
	#KEY_FN_ESC
 0x1d1

	)

649 
	#KEY_FN_F1
 0x1d2

	)

650 
	#KEY_FN_F2
 0x1d3

	)

651 
	#KEY_FN_F3
 0x1d4

	)

652 
	#KEY_FN_F4
 0x1d5

	)

653 
	#KEY_FN_F5
 0x1d6

	)

654 
	#KEY_FN_F6
 0x1d7

	)

655 
	#KEY_FN_F7
 0x1d8

	)

656 
	#KEY_FN_F8
 0x1d9

	)

657 
	#KEY_FN_F9
 0x1da

	)

658 
	#KEY_FN_F10
 0x1db

	)

659 
	#KEY_FN_F11
 0x1dc

	)

660 
	#KEY_FN_F12
 0x1dd

	)

661 
	#KEY_FN_1
 0x1de

	)

662 
	#KEY_FN_2
 0x1df

	)

663 
	#KEY_FN_D
 0x1e0

	)

664 
	#KEY_FN_E
 0x1e1

	)

665 
	#KEY_FN_F
 0x1e2

	)

666 
	#KEY_FN_S
 0x1e3

	)

667 
	#KEY_FN_B
 0x1e4

	)

669 
	#KEY_BRL_DOT1
 0x1f1

	)

670 
	#KEY_BRL_DOT2
 0x1f2

	)

671 
	#KEY_BRL_DOT3
 0x1f3

	)

672 
	#KEY_BRL_DOT4
 0x1f4

	)

673 
	#KEY_BRL_DOT5
 0x1f5

	)

674 
	#KEY_BRL_DOT6
 0x1f6

	)

675 
	#KEY_BRL_DOT7
 0x1f7

	)

676 
	#KEY_BRL_DOT8
 0x1f8

	)

677 
	#KEY_BRL_DOT9
 0x1f9

	)

678 
	#KEY_BRL_DOT10
 0x1ç

	)

680 
	#KEY_NUMERIC_0
 0x200

	)

681 
	#KEY_NUMERIC_1
 0x201

	)

682 
	#KEY_NUMERIC_2
 0x202

	)

683 
	#KEY_NUMERIC_3
 0x203

	)

684 
	#KEY_NUMERIC_4
 0x204

	)

685 
	#KEY_NUMERIC_5
 0x205

	)

686 
	#KEY_NUMERIC_6
 0x206

	)

687 
	#KEY_NUMERIC_7
 0x207

	)

688 
	#KEY_NUMERIC_8
 0x208

	)

689 
	#KEY_NUMERIC_9
 0x209

	)

690 
	#KEY_NUMERIC_STAR
 0x20a

	)

691 
	#KEY_NUMERIC_POUND
 0x20b

	)

693 
	#KEY_CAMERA_FOCUS
 0x210

	)

694 
	#KEY_WPS_BUTTON
 0x211

	)

696 
	#KEY_TOUCHPAD_TOGGLE
 0x212

	)

697 
	#KEY_TOUCHPAD_ON
 0x213

	)

698 
	#KEY_TOUCHPAD_OFF
 0x214

	)

700 
	#KEY_CAMERA_ZOOMIN
 0x215

	)

701 
	#KEY_CAMERA_ZOOMOUT
 0x216

	)

702 
	#KEY_CAMERA_UP
 0x217

	)

703 
	#KEY_CAMERA_DOWN
 0x218

	)

704 
	#KEY_CAMERA_LEFT
 0x219

	)

705 
	#KEY_CAMERA_RIGHT
 0x21a

	)

707 
	#KEY_ATTENDANT_ON
 0x21b

	)

708 
	#KEY_ATTENDANT_OFF
 0x21c

	)

709 
	#KEY_ATTENDANT_TOGGLE
 0x21d

	)

710 
	#KEY_LIGHTS_TOGGLE
 0x21

	)

712 
	#BTN_DPAD_UP
 0x220

	)

713 
	#BTN_DPAD_DOWN
 0x221

	)

714 
	#BTN_DPAD_LEFT
 0x222

	)

715 
	#BTN_DPAD_RIGHT
 0x223

	)

717 
	#BTN_TRIGGER_HAPPY
 0x2c0

	)

718 
	#BTN_TRIGGER_HAPPY1
 0x2c0

	)

719 
	#BTN_TRIGGER_HAPPY2
 0x2c1

	)

720 
	#BTN_TRIGGER_HAPPY3
 0x2c2

	)

721 
	#BTN_TRIGGER_HAPPY4
 0x2c3

	)

722 
	#BTN_TRIGGER_HAPPY5
 0x2c4

	)

723 
	#BTN_TRIGGER_HAPPY6
 0x2c5

	)

724 
	#BTN_TRIGGER_HAPPY7
 0x2c6

	)

725 
	#BTN_TRIGGER_HAPPY8
 0x2c7

	)

726 
	#BTN_TRIGGER_HAPPY9
 0x2c8

	)

727 
	#BTN_TRIGGER_HAPPY10
 0x2c9

	)

728 
	#BTN_TRIGGER_HAPPY11
 0x2ÿ

	)

729 
	#BTN_TRIGGER_HAPPY12
 0x2cb

	)

730 
	#BTN_TRIGGER_HAPPY13
 0x2cc

	)

731 
	#BTN_TRIGGER_HAPPY14
 0x2cd

	)

732 
	#BTN_TRIGGER_HAPPY15
 0x2û

	)

733 
	#BTN_TRIGGER_HAPPY16
 0x2cf

	)

734 
	#BTN_TRIGGER_HAPPY17
 0x2d0

	)

735 
	#BTN_TRIGGER_HAPPY18
 0x2d1

	)

736 
	#BTN_TRIGGER_HAPPY19
 0x2d2

	)

737 
	#BTN_TRIGGER_HAPPY20
 0x2d3

	)

738 
	#BTN_TRIGGER_HAPPY21
 0x2d4

	)

739 
	#BTN_TRIGGER_HAPPY22
 0x2d5

	)

740 
	#BTN_TRIGGER_HAPPY23
 0x2d6

	)

741 
	#BTN_TRIGGER_HAPPY24
 0x2d7

	)

742 
	#BTN_TRIGGER_HAPPY25
 0x2d8

	)

743 
	#BTN_TRIGGER_HAPPY26
 0x2d9

	)

744 
	#BTN_TRIGGER_HAPPY27
 0x2da

	)

745 
	#BTN_TRIGGER_HAPPY28
 0x2db

	)

746 
	#BTN_TRIGGER_HAPPY29
 0x2dc

	)

747 
	#BTN_TRIGGER_HAPPY30
 0x2dd

	)

748 
	#BTN_TRIGGER_HAPPY31
 0x2de

	)

749 
	#BTN_TRIGGER_HAPPY32
 0x2df

	)

750 
	#BTN_TRIGGER_HAPPY33
 0x2e0

	)

751 
	#BTN_TRIGGER_HAPPY34
 0x2e1

	)

752 
	#BTN_TRIGGER_HAPPY35
 0x2e2

	)

753 
	#BTN_TRIGGER_HAPPY36
 0x2e3

	)

754 
	#BTN_TRIGGER_HAPPY37
 0x2e4

	)

755 
	#BTN_TRIGGER_HAPPY38
 0x2e5

	)

756 
	#BTN_TRIGGER_HAPPY39
 0x2e6

	)

757 
	#BTN_TRIGGER_HAPPY40
 0x2e7

	)

760 
	#KEY_MIN_INTERESTING
 
KEY_MUTE


	)

761 
	#KEY_MAX
 0x2ff

	)

762 
	#KEY_CNT
 (
KEY_MAX
+1)

	)

768 
	#REL_X
 0x00

	)

769 
	#REL_Y
 0x01

	)

770 
	#REL_Z
 0x02

	)

771 
	#REL_RX
 0x03

	)

772 
	#REL_RY
 0x04

	)

773 
	#REL_RZ
 0x05

	)

774 
	#REL_HWHEEL
 0x06

	)

775 
	#REL_DIAL
 0x07

	)

776 
	#REL_WHEEL
 0x08

	)

777 
	#REL_MISC
 0x09

	)

778 
	#REL_MAX
 0x0f

	)

779 
	#REL_CNT
 (
REL_MAX
+1)

	)

785 
	#ABS_X
 0x00

	)

786 
	#ABS_Y
 0x01

	)

787 
	#ABS_Z
 0x02

	)

788 
	#ABS_RX
 0x03

	)

789 
	#ABS_RY
 0x04

	)

790 
	#ABS_RZ
 0x05

	)

791 
	#ABS_THROTTLE
 0x06

	)

792 
	#ABS_RUDDER
 0x07

	)

793 
	#ABS_WHEEL
 0x08

	)

794 
	#ABS_GAS
 0x09

	)

795 
	#ABS_BRAKE
 0x0a

	)

796 
	#ABS_HAT0X
 0x10

	)

797 
	#ABS_HAT0Y
 0x11

	)

798 
	#ABS_HAT1X
 0x12

	)

799 
	#ABS_HAT1Y
 0x13

	)

800 
	#ABS_HAT2X
 0x14

	)

801 
	#ABS_HAT2Y
 0x15

	)

802 
	#ABS_HAT3X
 0x16

	)

803 
	#ABS_HAT3Y
 0x17

	)

804 
	#ABS_PRESSURE
 0x18

	)

805 
	#ABS_DISTANCE
 0x19

	)

806 
	#ABS_TILT_X
 0x1a

	)

807 
	#ABS_TILT_Y
 0x1b

	)

808 
	#ABS_TOOL_WIDTH
 0x1c

	)

810 
	#ABS_VOLUME
 0x20

	)

812 
	#ABS_MISC
 0x28

	)

814 
	#ABS_MT_SLOT
 0x2à

	)

815 
	#ABS_MT_TOUCH_MAJOR
 0x30

	)

816 
	#ABS_MT_TOUCH_MINOR
 0x31

	)

817 
	#ABS_MT_WIDTH_MAJOR
 0x32

	)

818 
	#ABS_MT_WIDTH_MINOR
 0x33

	)

819 
	#ABS_MT_ORIENTATION
 0x34

	)

820 
	#ABS_MT_POSITION_X
 0x35

	)

821 
	#ABS_MT_POSITION_Y
 0x36

	)

822 
	#ABS_MT_TOOL_TYPE
 0x37

	)

823 
	#ABS_MT_BLOB_ID
 0x38

	)

824 
	#ABS_MT_TRACKING_ID
 0x39

	)

825 
	#ABS_MT_PRESSURE
 0x3¨

	)

826 
	#ABS_MT_DISTANCE
 0x3b

	)

827 
	#ABS_MT_TOOL_X
 0x3ø

	)

828 
	#ABS_MT_TOOL_Y
 0x3d

	)

831 
	#ABS_MAX
 0x3f

	)

832 
	#ABS_CNT
 (
ABS_MAX
+1)

	)

838 
	#SW_LID
 0x00

	)

839 
	#SW_TABLET_MODE
 0x01

	)

840 
	#SW_HEADPHONE_INSERT
 0x02

	)

841 
	#SW_RFKILL_ALL
 0x03

	)

843 
	#SW_RADIO
 
SW_RFKILL_ALL


	)

844 
	#SW_MICROPHONE_INSERT
 0x04

	)

845 
	#SW_DOCK
 0x05

	)

846 
	#SW_LINEOUT_INSERT
 0x06

	)

847 
	#SW_JACK_PHYSICAL_INSERT
 0x07

	)

848 
	#SW_VIDEOOUT_INSERT
 0x08

	)

849 
	#SW_CAMERA_LENS_COVER
 0x09

	)

850 
	#SW_KEYPAD_SLIDE
 0x0¨

	)

851 
	#SW_FRONT_PROXIMITY
 0x0b

	)

852 
	#SW_ROTATE_LOCK
 0x0ø

	)

853 
	#SW_LINEIN_INSERT
 0x0d

	)

854 
	#SW_MAX
 0x0f

	)

855 
	#SW_CNT
 (
SW_MAX
+1)

	)

861 
	#MSC_SERIAL
 0x00

	)

862 
	#MSC_PULSELED
 0x01

	)

863 
	#MSC_GESTURE
 0x02

	)

864 
	#MSC_RAW
 0x03

	)

865 
	#MSC_SCAN
 0x04

	)

866 
	#MSC_TIMESTAMP
 0x05

	)

867 
	#MSC_MAX
 0x07

	)

868 
	#MSC_CNT
 (
MSC_MAX
+1)

	)

874 
	#LED_NUML
 0x00

	)

875 
	#LED_CAPSL
 0x01

	)

876 
	#LED_SCROLLL
 0x02

	)

877 
	#LED_COMPOSE
 0x03

	)

878 
	#LED_KANA
 0x04

	)

879 
	#LED_SLEEP
 0x05

	)

880 
	#LED_SUSPEND
 0x06

	)

881 
	#LED_MUTE
 0x07

	)

882 
	#LED_MISC
 0x08

	)

883 
	#LED_MAIL
 0x09

	)

884 
	#LED_CHARGING
 0x0a

	)

885 
	#LED_MAX
 0x0f

	)

886 
	#LED_CNT
 (
LED_MAX
+1)

	)

892 
	#REP_DELAY
 0x00

	)

893 
	#REP_PERIOD
 0x01

	)

894 
	#REP_MAX
 0x01

	)

895 
	#REP_CNT
 (
REP_MAX
+1)

	)

901 
	#SND_CLICK
 0x00

	)

902 
	#SND_BELL
 0x01

	)

903 
	#SND_TONE
 0x02

	)

904 
	#SND_MAX
 0x07

	)

905 
	#SND_CNT
 (
SND_MAX
+1)

	)

911 
	#ID_BUS
 0

	)

912 
	#ID_VENDOR
 1

	)

913 
	#ID_PRODUCT
 2

	)

914 
	#ID_VERSION
 3

	)

916 
	#BUS_PCI
 0x01

	)

917 
	#BUS_ISAPNP
 0x02

	)

918 
	#BUS_USB
 0x03

	)

919 
	#BUS_HIL
 0x04

	)

920 
	#BUS_BLUETOOTH
 0x05

	)

921 
	#BUS_VIRTUAL
 0x06

	)

923 
	#BUS_ISA
 0x10

	)

924 
	#BUS_I8042
 0x11

	)

925 
	#BUS_XTKBD
 0x12

	)

926 
	#BUS_RS232
 0x13

	)

927 
	#BUS_GAMEPORT
 0x14

	)

928 
	#BUS_PARPORT
 0x15

	)

929 
	#BUS_AMIGA
 0x16

	)

930 
	#BUS_ADB
 0x17

	)

931 
	#BUS_I2C
 0x18

	)

932 
	#BUS_HOST
 0x19

	)

933 
	#BUS_GSC
 0x1A

	)

934 
	#BUS_ATARI
 0x1B

	)

935 
	#BUS_SPI
 0x1C

	)

940 
	#MT_TOOL_FINGER
 0

	)

941 
	#MT_TOOL_PEN
 1

	)

942 
	#MT_TOOL_MAX
 1

	)

947 
	#FF_STATUS_STOPPED
 0x00

	)

948 
	#FF_STATUS_PLAYING
 0x01

	)

949 
	#FF_STATUS_MAX
 0x01

	)

966 
	sff_»¶ay
 {

967 
__u16
 
	mËngth
;

968 
__u16
 
	md–ay
;

976 
	sff_Œigg”
 {

977 
__u16
 
	mbu‰Ú
;

978 
__u16
 
	mš‹rv®
;

993 
	sff_’v–İe
 {

994 
__u16
 
	m©ck_Ëngth
;

995 
__u16
 
	m©ck_Ëv–
;

996 
__u16
 
	mçde_Ëngth
;

997 
__u16
 
	mçde_Ëv–
;

1005 
	sff_cÚ¡ªt_efãù
 {

1006 
__s16
 
	mËv–
;

1007 
ff_’v–İe
 
	m’v–İe
;

1016 
	sff_¿mp_efãù
 {

1017 
__s16
 
	m¡¬t_Ëv–
;

1018 
__s16
 
	m’d_Ëv–
;

1019 
ff_’v–İe
 
	m’v–İe
;

1032 
	sff_cÚd™iÚ_efãù
 {

1033 
__u16
 
	mright_§tu¿tiÚ
;

1034 
__u16
 
	mËá_§tu¿tiÚ
;

1036 
__s16
 
	mright_cÛff
;

1037 
__s16
 
	mËá_cÛff
;

1039 
__u16
 
	md—dbªd
;

1040 
__s16
 
	mûÁ”
;

1061 
	sff_³riodic_efãù
 {

1062 
__u16
 
	mwavefÜm
;

1063 
__u16
 
	m³riod
;

1064 
__s16
 
	mmagn™ude
;

1065 
__s16
 
	moff£t
;

1066 
__u16
 
	mpha£
;

1068 
ff_’v–İe
 
	m’v–İe
;

1070 
__u32
 
	mcu¡om_Ën
;

1071 
__s16
 *
	mcu¡om_d©a
;

1082 
	sff_rumbË_efãù
 {

1083 
__u16
 
	m¡rÚg_magn™ude
;

1084 
__u16
 
	mw—k_magn™ude
;

1110 
	sff_efãù
 {

1111 
__u16
 
	mty³
;

1112 
__s16
 
	mid
;

1113 
__u16
 
	mdœeùiÚ
;

1114 
ff_Œigg”
 
	mŒigg”
;

1115 
ff_»¶ay
 
	m»¶ay
;

1118 
ff_cÚ¡ªt_efãù
 
	mcÚ¡ªt
;

1119 
ff_¿mp_efãù
 
	m¿mp
;

1120 
ff_³riodic_efãù
 
	m³riodic
;

1121 
ff_cÚd™iÚ_efãù
 
	mcÚd™iÚ
[2];

1122 
ff_rumbË_efãù
 
	mrumbË
;

1123 } 
	mu
;

1130 
	#FF_RUMBLE
 0x50

	)

1131 
	#FF_PERIODIC
 0x51

	)

1132 
	#FF_CONSTANT
 0x52

	)

1133 
	#FF_SPRING
 0x53

	)

1134 
	#FF_FRICTION
 0x54

	)

1135 
	#FF_DAMPER
 0x55

	)

1136 
	#FF_INERTIA
 0x56

	)

1137 
	#FF_RAMP
 0x57

	)

1139 
	#FF_EFFECT_MIN
 
FF_RUMBLE


	)

1140 
	#FF_EFFECT_MAX
 
FF_RAMP


	)

1146 
	#FF_SQUARE
 0x58

	)

1147 
	#FF_TRIANGLE
 0x59

	)

1148 
	#FF_SINE
 0x5a

	)

1149 
	#FF_SAW_UP
 0x5b

	)

1150 
	#FF_SAW_DOWN
 0x5c

	)

1151 
	#FF_CUSTOM
 0x5d

	)

1153 
	#FF_WAVEFORM_MIN
 
FF_SQUARE


	)

1154 
	#FF_WAVEFORM_MAX
 
FF_CUSTOM


	)

1160 
	#FF_GAIN
 0x60

	)

1161 
	#FF_AUTOCENTER
 0x61

	)

1163 
	#FF_MAX
 0x7f

	)

1164 
	#FF_CNT
 (
FF_MAX
+1)

	)

	@/usr/include/linux/kd.h

1 #iâdeà
_LINUX_KD_H


2 
	#_LINUX_KD_H


	)

3 
	~<lšux/ty³s.h
>

8 
	#GIO_FONT
 0x4B60

	)

9 
	#PIO_FONT
 0x4B61

	)

11 
	#GIO_FONTX
 0x4B6B

	)

12 
	#PIO_FONTX
 0x4B6C

	)

13 
	scÚsŞefÚtdesc
 {

14 
	mch¬couÁ
;

15 
	mch¬height
;

16 *
	mch¬d©a
;

19 
	#PIO_FONTRESET
 0x4B6D

	)

21 
	#GIO_CMAP
 0x4B70

	)

22 
	#PIO_CMAP
 0x4B71

	)

24 
	#KIOCSOUND
 0x4B2F

	)

25 
	#KDMKTONE
 0x4B30

	)

27 
	#KDGETLED
 0x4B31

	)

28 
	#KDSETLED
 0x4B32

	)

29 
	#LED_SCR
 0x01

	)

30 
	#LED_NUM
 0x02

	)

31 
	#LED_CAP
 0x04

	)

33 
	#KDGKBTYPE
 0x4B33

	)

34 
	#KB_84
 0x01

	)

35 
	#KB_101
 0x02

	)

36 
	#KB_OTHER
 0x03

	)

38 
	#KDADDIO
 0x4B34

	)

39 
	#KDDELIO
 0x4B35

	)

40 
	#KDENABIO
 0x4B36

	)

41 
	#KDDISABIO
 0x4B37

	)

43 
	#KDSETMODE
 0x4B3A

	)

44 
	#KD_TEXT
 0x00

	)

45 
	#KD_GRAPHICS
 0x01

	)

46 
	#KD_TEXT0
 0x02

	)

47 
	#KD_TEXT1
 0x03

	)

48 
	#KDGETMODE
 0x4B3B

	)

50 
	#KDMAPDISP
 0x4B3C

	)

51 
	#KDUNMAPDISP
 0x4B3D

	)

53 
	tsünm­_t
;

54 
	#E_TABSZ
 256

	)

55 
	#GIO_SCRNMAP
 0x4B40

	)

56 
	#PIO_SCRNMAP
 0x4B41

	)

57 
	#GIO_UNISCRNMAP
 0x4B69

	)

58 
	#PIO_UNISCRNMAP
 0x4B6A

	)

60 
	#GIO_UNIMAP
 0x4B66

	)

61 
	sunaœ
 {

62 
	municode
;

63 
	mfÚos
;

65 
	sunim­desc
 {

66 
	m’Œy_ù
;

67 
unaœ
 *
	m’Œ›s
;

69 
	#PIO_UNIMAP
 0x4B67

	)

70 
	#PIO_UNIMAPCLR
 0x4B68

	)

71 
	sunim­š™
 {

72 
	madvi£d_hashsize
;

73 
	madvi£d_hash¡•
;

74 
	madvi£d_hashËv–
;

77 
	#UNI_DIRECT_BASE
 0xF000

	)

78 
	#UNI_DIRECT_MASK
 0x01FF

	)

80 
	#K_RAW
 0x00

	)

81 
	#K_XLATE
 0x01

	)

82 
	#K_MEDIUMRAW
 0x02

	)

83 
	#K_UNICODE
 0x03

	)

84 
	#K_OFF
 0x04

	)

85 
	#KDGKBMODE
 0x4B44

	)

86 
	#KDSKBMODE
 0x4B45

	)

88 
	#K_METABIT
 0x03

	)

89 
	#K_ESCPREFIX
 0x04

	)

90 
	#KDGKBMETA
 0x4B62

	)

91 
	#KDSKBMETA
 0x4B63

	)

93 
	#K_SCROLLLOCK
 0x01

	)

94 
	#K_NUMLOCK
 0x02

	)

95 
	#K_CAPSLOCK
 0x04

	)

96 
	#KDGKBLED
 0x4B64

	)

97 
	#KDSKBLED
 0x4B65

	)

99 
	skb’Œy
 {

100 
	mkb_bË
;

101 
	mkb_šdex
;

102 
	mkb_v®ue
;

104 
	#K_NORMTAB
 0x00

	)

105 
	#K_SHIFTTAB
 0x01

	)

106 
	#K_ALTTAB
 0x02

	)

107 
	#K_ALTSHIFTTAB
 0x03

	)

109 
	#KDGKBENT
 0x4B46

	)

110 
	#KDSKBENT
 0x4B47

	)

112 
	skb£Áry
 {

113 
	mkb_func
;

114 
	mkb_¡ršg
[512];

116 
	#KDGKBSENT
 0x4B48

	)

117 
	#KDSKBSENT
 0x4B49

	)

119 
	skbdŸü
 {

120 
	mdŸü
, 
	mba£
, 
	m»suÉ
;

122 
	skbdŸüs
 {

123 
	mkb_út
;

124 
kbdŸü
 
	mkbdŸü
[256];

126 
	#KDGKBDIACR
 0x4B4A

	)

127 
	#KDSKBDIACR
 0x4B4B

	)

129 
	skbdŸüuc
 {

130 
	mdŸü
, 
	mba£
, 
	m»suÉ
;

132 
	skbdŸüsuc
 {

133 
	mkb_út
;

134 
kbdŸüuc
 
	mkbdŸüuc
[256];

136 
	#KDGKBDIACRUC
 0x4BFA

	)

137 
	#KDSKBDIACRUC
 0x4BFB

	)

139 
	skbkeycode
 {

140 
	msÿncode
, 
	mkeycode
;

142 
	#KDGETKEYCODE
 0x4B4C

	)

143 
	#KDSETKEYCODE
 0x4B4D

	)

145 
	#KDSIGACCEPT
 0x4B4E

	)

147 
	skbd_»³©
 {

148 
	md–ay
;

149 
	m³riod
;

153 
	#KDKBDREP
 0x4B52

	)

156 
	#KDFONTOP
 0x4B72

	)

158 
	scÚsŞe_fÚt_İ
 {

159 
	mİ
;

160 
	mæags
;

161 
	mwidth
, 
	mheight
;

162 
	mch¬couÁ
;

163 *
	md©a
;

166 
	scÚsŞe_fÚt
 {

167 
	mwidth
, 
	mheight
;

168 
	mch¬couÁ
;

169 *
	md©a
;

172 
	#KD_FONT_OP_SET
 0

	)

173 
	#KD_FONT_OP_GET
 1

	)

174 
	#KD_FONT_OP_SET_DEFAULT
 2

	)

175 
	#KD_FONT_OP_COPY
 3

	)

177 
	#KD_FONT_FLAG_DONT_RECALC
 1

	)

	@/usr/include/linux/limits.h

1 #iâdeà
_LINUX_LIMITS_H


2 
	#_LINUX_LIMITS_H


	)

4 
	#NR_OPEN
 1024

	)

6 
	#NGROUPS_MAX
 65536

	)

7 
	#ARG_MAX
 131072

	)

8 
	#LINK_MAX
 127

	)

9 
	#MAX_CANON
 255

	)

10 
	#MAX_INPUT
 255

	)

11 
	#NAME_MAX
 255

	)

12 
	#PATH_MAX
 4096

	)

13 
	#PIPE_BUF
 4096

	)

14 
	#XATTR_NAME_MAX
 255

	)

15 
	#XATTR_SIZE_MAX
 65536

	)

16 
	#XATTR_LIST_MAX
 65536

	)

18 
	#RTSIG_MAX
 32

	)

	@/usr/include/linux/vt.h

1 #iâdeà
_LINUX_VT_H


2 
	#_LINUX_VT_H


	)

9 
	#MIN_NR_CONSOLES
 1

	)

10 
	#MAX_NR_CONSOLES
 63

	)

11 
	#MAX_NR_USER_CONSOLES
 63

	)

17 
	#VT_OPENQRY
 0x5600

	)

19 
	svt_mode
 {

20 
	mmode
;

21 
	mwa™v
;

22 
	m»lsig
;

23 
	macqsig
;

24 
	mäsig
;

26 
	#VT_GETMODE
 0x5601

	)

27 
	#VT_SETMODE
 0x5602

	)

28 
	#VT_AUTO
 0x00

	)

29 
	#VT_PROCESS
 0x01

	)

30 
	#VT_ACKACQ
 0x02

	)

32 
	svt_¡©
 {

33 
	mv_aùive
;

34 
	mv_sigÇl
;

35 
	mv_¡©e
;

37 
	#VT_GETSTATE
 0x5603

	)

38 
	#VT_SENDSIG
 0x5604

	)

40 
	#VT_RELDISP
 0x5605

	)

42 
	#VT_ACTIVATE
 0x5606

	)

43 
	#VT_WAITACTIVE
 0x5607

	)

44 
	#VT_DISALLOCATE
 0x5608

	)

46 
	svt_sizes
 {

47 
	mv_rows
;

48 
	mv_cŞs
;

49 
	mv_süŞlsize
;

51 
	#VT_RESIZE
 0x5609

	)

53 
	svt_cÚsize
 {

54 
	mv_rows
;

55 
	mv_cŞs
;

56 
	mv_vlš
;

57 
	mv_şš
;

58 
	mv_vcŞ
;

59 
	mv_ccŞ
;

61 
	#VT_RESIZEX
 0x560A

	)

62 
	#VT_LOCKSWITCH
 0x560B

	)

63 
	#VT_UNLOCKSWITCH
 0x560C

	)

64 
	#VT_GETHIFONTMASK
 0x560D

	)

66 
	svt_ev’t
 {

67 
	mev’t
;

68 
	#VT_EVENT_SWITCH
 0x0001

	)

69 
	#VT_EVENT_BLANK
 0x0002

	)

70 
	#VT_EVENT_UNBLANK
 0x0004

	)

71 
	#VT_EVENT_RESIZE
 0x0008

	)

72 
	#VT_MAX_EVENT
 0x000F

	)

73 
	mŞdev
;

74 
	mÃwev
;

75 
	m·d
[4];

78 
	#VT_WAITEVENT
 0x560E

	)

80 
	svt_£ùiv©e
 {

81 
	mcÚsŞe
;

82 
vt_mode
 
	mmode
;

85 
	#VT_SETACTIVATE
 0x560F

	)

88 
	#vt_g‘_kmsg_»dœeù
(è
	`vt_kmsg_»dœeù
(-1)

	)

	@/usr/include/malloc.h

20 #iâdeà
_MALLOC_H


21 
	#_MALLOC_H
 1

	)

23 
	~<ã©u»s.h
>

24 
	~<¡ddef.h
>

25 
	~<¡dio.h
>

26 
	#__m®loc_±r_t
 *

	)

29 
	#__m®loc_size_t
 
size_t


	)

30 
	#__m®loc_±rdiff_t
 
±rdiff_t


	)

32 #ifdeà
__GNUC__


34 
	#__MALLOC_P
(
¬gs
è¬g 
__THROW


	)

37 
	#__MALLOC_PMT
(
¬gs
è
	)
args

39 #ifdeà
_LIBC


40 
	#__MALLOC_HOOK_VOLATILE


	)

41 
	#__MALLOC_DEPRECATED


	)

43 
	#__MALLOC_HOOK_VOLATILE
 vŞ©e

	)

44 
	#__MALLOC_DEPRECATED
 
__©Œibu‹_d•»ÿ‹d__


	)

49 
	#__MALLOC_P
(
¬gs
è
	)
args

50 
	#__MALLOC_PMT
(
¬gs
è
	)
args

51 
	#__MALLOC_HOOK_VOLATILE


	)

52 
	#__MALLOC_DEPRECATED
 
__©Œibu‹_d•»ÿ‹d__


	)

57 
__BEGIN_DECLS


60 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

63 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

64 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

71 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

72 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

75 
	$ä“
 (*
__±r
è
__THROW
;

78 
	$cä“
 (*
__±r
è
__THROW
;

81 *
	$mem®ign
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

82 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

85 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

89 * 
	$pv®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

93 *(*
__mÜecÜe
è(
±rdiff_t
 
__size
);

96 *
	$__deçuÉ_mÜecÜe
 (
±rdiff_t
 
__size
)

97 
__THROW
 
__©Œibu‹_m®loc__
;

101 
	sm®lšfo


103 
¬’a
;

104 
Üdblks
;

105 
smblks
;

106 
hblks
;

107 
hblkhd
;

108 
usmblks
;

109 
fsmblks
;

110 
uÜdblks
;

111 
fÜdblks
;

112 
k“pco¡
;

116 
m®lšfo
 
	$m®lšfo
 (è
__THROW
;

119 #iâdeà
M_MXFAST


120 
	#M_MXFAST
 1

	)

122 #iâdeà
M_NLBLKS


123 
	#M_NLBLKS
 2

	)

125 #iâdeà
M_GRAIN


126 
	#M_GRAIN
 3

	)

128 #iâdeà
M_KEEP


129 
	#M_KEEP
 4

	)

133 
	#M_TRIM_THRESHOLD
 -1

	)

134 
	#M_TOP_PAD
 -2

	)

135 
	#M_MMAP_THRESHOLD
 -3

	)

136 
	#M_MMAP_MAX
 -4

	)

137 
	#M_CHECK_ACTION
 -5

	)

138 
	#M_PERTURB
 -6

	)

139 
	#M_ARENA_TEST
 -7

	)

140 
	#M_ARENA_MAX
 -8

	)

143 
	$m®lİt
 (
__·¿m
, 
__v®
è
__THROW
;

147 
	$m®loc_Œim
 (
size_t
 
__·d
è
__THROW
;

151 
size_t
 
	$m®loc_u§bË_size
 (*
__±r
è
__THROW
;

154 
	$m®loc_¡©s
 (è
__THROW
;

157 
	$m®loc_šfo
 (
__İtiÚs
, 
FILE
 *
__å
è
__THROW
;

160 *
	$m®loc_g‘_¡©e
 (è
__THROW
;

164 
	$m®loc_£t_¡©e
 (*
__±r
è
__THROW
;

169 (*
__MALLOC_HOOK_VOLATILE
 
__m®loc_š™Ÿlize_hook
) ()

170 
__MALLOC_DEPRECATED
;

172 (*
__MALLOC_HOOK_VOLATILE
 
__ä“_hook
è(*
__±r
,

173 cÚ¡ 
__m®loc_±r_t
)

174 
__MALLOC_DEPRECATED
;

175 *(*
__MALLOC_HOOK_VOLATILE
 
__m®loc_hook
è(
size_t
 
__size
,

176 cÚ¡ 
__m®loc_±r_t
)

177 
__MALLOC_DEPRECATED
;

178 *(*
__MALLOC_HOOK_VOLATILE
 
__»®loc_hook
è(*
__±r
,

179 
size_t
 
__size
,

180 cÚ¡ 
__m®loc_±r_t
)

181 
__MALLOC_DEPRECATED
;

182 *(*
__MALLOC_HOOK_VOLATILE
 
__mem®ign_hook
è(
size_t
 
__®ignm’t
,

183 
size_t
 
__size
,

184 cÚ¡ 
__m®loc_±r_t
)

185 
__MALLOC_DEPRECATED
;

186 (*
__MALLOC_HOOK_VOLATILE
 
__aá”_mÜecÜe_hook
) ();

189 
	$__m®loc_check_š™
 (è
__THROW
 
__MALLOC_DEPRECATED
;

192 
__END_DECLS


	@/usr/include/math.h

24 #iâdef 
_MATH_H


25 
	#_MATH_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


33 
	~<b™s/huge_v®.h
>

34 #ifdeà
__USE_ISOC99


35 
	~<b™s/huge_v®f.h
>

36 
	~<b™s/huge_v®l.h
>

39 
	~<b™s/šf.h
>

42 
	~<b™s/Çn.h
>

46 
	~<b™s/m©hdef.h
>

53 
	#__MATHCALL
(
funùiÚ
,
suffix
, 
¬gs
) \

54 
	`__MATHDECL
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
)

	)

55 
	#__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

56 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
); \

57 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
)

	)

58 
	#__MATHCALLX
(
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

59 
	`__MATHDECLX
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
)

	)

60 
	#__MATHDECLX
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

61 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
); \

62 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
)

	)

63 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

64 
ty³
 
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
è
¬gs
 
__THROW


	)

66 
	#_MdoubË_
 

	)

67 
	#__MATH_PRECNAME
(
Çme
,
r
è
	`__CONCAT
Òame,r)

	)

68 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_STD


	)

69 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_STD


	)

70 
	~<b™s/m©hÿÎs.h
>

71 #undeà
_MdoubË_


72 #undeà
_MdoubË_BEGIN_NAMESPACE


73 #undeà
_MdoubË_END_NAMESPACE


74 #undeà
__MATH_PRECNAME


76 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


82 #iâdeà
_Mæßt_


83 
	#_Mæßt_
 

	)

85 
	#_MdoubË_
 
_Mæßt_


	)

86 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f
##
	)
r

87 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

88 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

89 
	~<b™s/m©hÿÎs.h
>

90 #undeà
_MdoubË_


91 #undeà
_MdoubË_BEGIN_NAMESPACE


92 #undeà
_MdoubË_END_NAMESPACE


93 #undeà
__MATH_PRECNAME


95 #ià!(
defšed
 
__NO_LONG_DOUBLE_MATH
 && defšed 
_LIBC
) \

96 || 
defšed
 
__LDBL_COMPAT


97 #ifdeà
__LDBL_COMPAT


99 #ifdeà
__USE_ISOC99


100 
	$__Ædbl_Ãx‰ow¬df
 (
__x
, 
__y
)

101 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

102 #ifdeà
__REDIRECT_NTH


103 
	`__REDIRECT_NTH
 (
Ãx‰ow¬df
, (
__x
, 
__y
),

104 
__Ædbl_Ãx‰ow¬df
)

105 
	`__©Œibu‹__
 ((
__cÚ¡__
));

106 
	`__REDIRECT_NTH
 (
Ãx‰ow¬d
, (
__x
, 
__y
),

107 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

108 
	`__REDIRECT_NTH
 (
Ãx‰ow¬dl
,

109 (
__x
, 
__y
),

110 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

115 #ià
defšed
 
__LDBL_COMPAT
 || defšed 
__NO_LONG_DOUBLE_MATH


117 #undeà
__MATHDECL_1


118 
	#__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
®Ÿs
) \

119 
ty³
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
), \

120 
¬gs
, 
®Ÿs
)

	)

121 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

122 
	`__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
	`__CONCAT
(funùiÚ,suffix))

	)

128 #iâdeà
_MlÚg_doubË_


129 
	#_MlÚg_doubË_
 

	)

131 
	#_MdoubË_
 
_MlÚg_doubË_


	)

132 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
l
##
	)
r

133 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

134 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

135 
	#__MATH_DECLARE_LDOUBLE
 1

	)

136 
	~<b™s/m©hÿÎs.h
>

137 #undeà
_MdoubË_


138 #undeà
_MdoubË_BEGIN_NAMESPACE


139 #undeà
_MdoubË_END_NAMESPACE


140 #undeà
__MATH_PRECNAME


145 #undeà
__MATHDECL_1


146 #undeà
__MATHDECL


147 #undeà
__MATHCALL


150 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


152 
signgam
;

157 #ifdeà
__USE_ISOC99


195 
FP_NAN
 =

196 
	#FP_NAN
 0

	)

197 
FP_NAN
,

198 
FP_INFINITE
 =

199 
	#FP_INFINITE
 1

	)

200 
FP_INFINITE
,

201 
FP_ZERO
 =

202 
	#FP_ZERO
 2

	)

203 
FP_ZERO
,

204 
FP_SUBNORMAL
 =

205 
	#FP_SUBNORMAL
 3

	)

206 
FP_SUBNORMAL
,

207 
FP_NORMAL
 =

208 
	#FP_NORMAL
 4

	)

209 
FP_NORMAL


213 #ifdeà
__NO_LONG_DOUBLE_MATH


214 
	#åşassify
(
x
) \

215 ( (
x
è=ğ (è? 
	`__åşassifyf
 (xè: 
	`__åşassify
 (x))

	)

217 
	#åşassify
(
x
) \

218 ( (
x
) ==  () \

219 ? 
	`__åşassifyf
 (
x
) \

220 :  (
x
) ==  () \

221 ? 
	`__åşassify
 (
x
è: 
	`__åşassifyl
 (x))

	)

225 #ifdeà
__NO_LONG_DOUBLE_MATH


226 
	#signb™
(
x
) \

227 ( (
x
è=ğ (è? 
	`__signb™f
 (xè: 
	`__signb™
 (x))

	)

229 
	#signb™
(
x
) \

230 ( (
x
) ==  () \

231 ? 
	`__signb™f
 (
x
) \

232 :  (
x
) ==  () \

233 ? 
	`__signb™
 (
x
è: 
	`__signb™l
 (x))

	)

237 #ifdeà
__NO_LONG_DOUBLE_MATH


238 
	#isfš™e
(
x
) \

239 ( (
x
è=ğ (è? 
	`__fš™ef
 (xè: 
	`__fš™e
 (x))

	)

241 
	#isfš™e
(
x
) \

242 ( (
x
) ==  () \

243 ? 
	`__fš™ef
 (
x
) \

244 :  (
x
) ==  () \

245 ? 
	`__fš™e
 (
x
è: 
	`__fš™–
 (x))

	)

249 
	#i¢Üm®
(
x
è(
	`åşassify
 (xè=ğ
FP_NORMAL
)

	)

253 #ifdeà
__NO_LONG_DOUBLE_MATH


254 
	#i¢ª
(
x
) \

255 ( (
x
è=ğ (è? 
	`__i¢ªf
 (xè: 
	`__i¢ª
 (x))

	)

257 
	#i¢ª
(
x
) \

258 ( (
x
) ==  () \

259 ? 
	`__i¢ªf
 (
x
) \

260 :  (
x
) ==  () \

261 ? 
	`__i¢ª
 (
x
è: 
	`__i¢ªl
 (x))

	)

265 #ifdeà
__NO_LONG_DOUBLE_MATH


266 
	#isšf
(
x
) \

267 ( (
x
è=ğ (è? 
	`__isšff
 (xè: 
	`__isšf
 (x))

	)

269 
	#isšf
(
x
) \

270 ( (
x
) ==  () \

271 ? 
	`__isšff
 (
x
) \

272 :  (
x
) ==  () \

273 ? 
	`__isšf
 (
x
è: 
	`__isšæ
 (x))

	)

277 
	#MATH_ERRNO
 1

	)

278 
	#MATH_ERREXCEPT
 2

	)

283 #iâdeà
__FAST_MATH__


284 
	#m©h_”rhªdlšg
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

289 #ifdef 
__USE_MISC


293 
_IEEE_
 = -1,

294 
_SVID_
,

295 
_XOPEN_
,

296 
_POSIX_
,

297 
_ISOC_


298 } 
	t_LIB_VERSION_TYPE
;

303 
_LIB_VERSION_TYPE
 
_LIB_VERSION
;

307 #ifdeà
__USE_SVID


313 #ifdeà
__ılu¥lus


314 
__exû±iÚ


316 
exû±iÚ


319 
ty³
;

320 *
Çme
;

321 
¬g1
;

322 
¬g2
;

323 
»tv®
;

324 
	}
};

326 #ifdeà
__ılu¥lus


327 
	$m©h”r
 (
__exû±iÚ
 *
__exc
è
	`throw
 ();

329 
	`m©h”r
 (
exû±iÚ
 *
__exc
);

332 
	#X_TLOSS
 1.41484755040568800000e+16

	)

335 
	#DOMAIN
 1

	)

336 
	#SING
 2

	)

337 
	#OVERFLOW
 3

	)

338 
	#UNDERFLOW
 4

	)

339 
	#TLOSS
 5

	)

340 
	#PLOSS
 6

	)

343 
	#HUGE
 3.40282347e+38F

	)

347 #ifdeà
__USE_XOPEN


349 
	#MAXFLOAT
 3.40282347e+38F

	)

356 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN


357 
	#M_E
 2.7182818284590452354

	)

358 
	#M_LOG2E
 1.4426950408889634074

	)

359 
	#M_LOG10E
 0.43429448190325182765

	)

360 
	#M_LN2
 0.69314718055994530942

	)

361 
	#M_LN10
 2.30258509299404568402

	)

362 
	#M_PI
 3.14159265358979323846

	)

363 
	#M_PI_2
 1.57079632679489661923

	)

364 
	#M_PI_4
 0.78539816339744830962

	)

365 
	#M_1_PI
 0.31830988618379067154

	)

366 
	#M_2_PI
 0.63661977236758134308

	)

367 
	#M_2_SQRTPI
 1.12837916709551257390

	)

368 
	#M_SQRT2
 1.41421356237309504880

	)

369 
	#M_SQRT1_2
 0.70710678118654752440

	)

375 #ifdeà
__USE_GNU


376 
	#M_El
 2.718281828459045235360287471352662498L

	)

377 
	#M_LOG2El
 1.442695040888963407359924681001892137L

	)

378 
	#M_LOG10El
 0.434294481903251827651128918916605082L

	)

379 
	#M_LN2l
 0.693147180559945309417232121458176568L

	)

380 
	#M_LN10l
 2.302585092994045684017991454684364208L

	)

381 
	#M_PIl
 3.141592653589793238462643383279502884L

	)

382 
	#M_PI_2l
 1.570796326794896619231321691639751442L

	)

383 
	#M_PI_4l
 0.785398163397448309615660845819875721L

	)

384 
	#M_1_PIl
 0.318309886183790671537767526745028724L

	)

385 
	#M_2_PIl
 0.636619772367581343075535053490057448L

	)

386 
	#M_2_SQRTPIl
 1.128379167095512573896158903121545172L

	)

387 
	#M_SQRT2l
 1.414213562373095048801688724209698079L

	)

388 
	#M_SQRT1_2l
 0.707106781186547524400844362104849039L

	)

395 #ià
defšed
 
__STRICT_ANSI__
 && !defšed 
__NO_MATH_INLINES


396 
	#__NO_MATH_INLINES
 1

	)

399 #ià
defšed
 
__USE_ISOC99
 && 
	`__GNUC_PREREQ
(2,97)

406 
	#isg»©”
(
x
, 
y
è
	`__butš_isg»©”
(x, y)

	)

407 
	#isg»©”equ®
(
x
, 
y
è
	`__butš_isg»©”equ®
(x, y)

	)

408 
	#i¦ess
(
x
, 
y
è
	`__butš_i¦ess
(x, y)

	)

409 
	#i¦es£qu®
(
x
, 
y
è
	`__butš_i¦es£qu®
(x, y)

	)

410 
	#i¦essg»©”
(
x
, 
y
è
	`__butš_i¦essg»©”
(x, y)

	)

411 
	#isunÜd”ed
(
u
, 
v
è
	`__butš_isunÜd”ed
(u, v)

	)

415 #ifdeà
__USE_EXTERN_INLINES


416 
	~<b™s/m©hšlše.h
>

421 #ià
defšed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0

422 
	~<b™s/m©h-fš™e.h
>

425 #ifdeà
__USE_ISOC99


429 #iâdeà
isg»©”


430 
	#isg»©”
(
x
, 
y
) \

431 (
__ex‹nsiÚ__
 \

432 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

433 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x > __y; 
	}
}))

	)

437 #iâdeà
isg»©”equ®


438 
	#isg»©”equ®
(
x
, 
y
) \

439 (
__ex‹nsiÚ__
 \

440 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

441 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x >ğ__y; }))

	)

445 #iâdeà
i¦ess


446 
	#i¦ess
(
x
, 
y
) \

447 (
__ex‹nsiÚ__
 \

448 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

449 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x < __y; }))

	)

453 #iâdeà
i¦es£qu®


454 
	#i¦es£qu®
(
x
, 
y
) \

455 (
__ex‹nsiÚ__
 \

456 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

457 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x <ğ__y; }))

	)

461 #iâdeà
i¦essg»©”


462 
	#i¦essg»©”
(
x
, 
y
) \

463 (
__ex‹nsiÚ__
 \

464 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

465 !
	`isunÜd”ed
 (
__x
, 
__y
è&& (__x < __y || __y < __x); }))

	)

469 #iâdeà
isunÜd”ed


470 
	#isunÜd”ed
(
u
, 
v
) \

471 (
__ex‹nsiÚ__
 \

472 ({ 
	`__ty³of__
(
u
è
__u
 = (u); __ty³of__(
v
è
__v
 = (v); \

473 
	`åşassify
 (
__u
è=ğ
FP_NAN
 || fpşassify (
__v
è=ğFP_NAN; }))

	)

478 
	g__END_DECLS


	@/usr/include/netinet/in.h

19 #iâdef 
_NETINET_IN_H


20 
	#_NETINET_IN_H
 1

	)

22 
	~<ã©u»s.h
>

23 
	~<¡dšt.h
>

24 
	~<sys/sock‘.h
>

25 
	~<b™s/ty³s.h
>

28 
__BEGIN_DECLS


33 
	mIPPROTO_IP
 = 0,

34 
	#IPPROTO_IP
 
IPPROTO_IP


	)

35 
	mIPPROTO_HOPOPTS
 = 0,

36 
	#IPPROTO_HOPOPTS
 
IPPROTO_HOPOPTS


	)

37 
	mIPPROTO_ICMP
 = 1,

38 
	#IPPROTO_ICMP
 
IPPROTO_ICMP


	)

39 
	mIPPROTO_IGMP
 = 2,

40 
	#IPPROTO_IGMP
 
IPPROTO_IGMP


	)

41 
	mIPPROTO_IPIP
 = 4,

42 
	#IPPROTO_IPIP
 
IPPROTO_IPIP


	)

43 
	mIPPROTO_TCP
 = 6,

44 
	#IPPROTO_TCP
 
IPPROTO_TCP


	)

45 
	mIPPROTO_EGP
 = 8,

46 
	#IPPROTO_EGP
 
IPPROTO_EGP


	)

47 
	mIPPROTO_PUP
 = 12,

48 
	#IPPROTO_PUP
 
IPPROTO_PUP


	)

49 
	mIPPROTO_UDP
 = 17,

50 
	#IPPROTO_UDP
 
IPPROTO_UDP


	)

51 
	mIPPROTO_IDP
 = 22,

52 
	#IPPROTO_IDP
 
IPPROTO_IDP


	)

53 
	mIPPROTO_TP
 = 29,

54 
	#IPPROTO_TP
 
IPPROTO_TP


	)

55 
	mIPPROTO_DCCP
 = 33,

56 
	#IPPROTO_DCCP
 
IPPROTO_DCCP


	)

57 
	mIPPROTO_IPV6
 = 41,

58 
	#IPPROTO_IPV6
 
IPPROTO_IPV6


	)

59 
	mIPPROTO_ROUTING
 = 43,

60 
	#IPPROTO_ROUTING
 
IPPROTO_ROUTING


	)

61 
	mIPPROTO_FRAGMENT
 = 44,

62 
	#IPPROTO_FRAGMENT
 
IPPROTO_FRAGMENT


	)

63 
	mIPPROTO_RSVP
 = 46,

64 
	#IPPROTO_RSVP
 
IPPROTO_RSVP


	)

65 
	mIPPROTO_GRE
 = 47,

66 
	#IPPROTO_GRE
 
IPPROTO_GRE


	)

67 
	mIPPROTO_ESP
 = 50,

68 
	#IPPROTO_ESP
 
IPPROTO_ESP


	)

69 
	mIPPROTO_AH
 = 51,

70 
	#IPPROTO_AH
 
IPPROTO_AH


	)

71 
	mIPPROTO_ICMPV6
 = 58,

72 
	#IPPROTO_ICMPV6
 
IPPROTO_ICMPV6


	)

73 
	mIPPROTO_NONE
 = 59,

74 
	#IPPROTO_NONE
 
IPPROTO_NONE


	)

75 
	mIPPROTO_DSTOPTS
 = 60,

76 
	#IPPROTO_DSTOPTS
 
IPPROTO_DSTOPTS


	)

77 
	mIPPROTO_MTP
 = 92,

78 
	#IPPROTO_MTP
 
IPPROTO_MTP


	)

79 
	mIPPROTO_ENCAP
 = 98,

80 
	#IPPROTO_ENCAP
 
IPPROTO_ENCAP


	)

81 
	mIPPROTO_PIM
 = 103,

82 
	#IPPROTO_PIM
 
IPPROTO_PIM


	)

83 
	mIPPROTO_COMP
 = 108,

84 
	#IPPROTO_COMP
 
IPPROTO_COMP


	)

85 
	mIPPROTO_SCTP
 = 132,

86 
	#IPPROTO_SCTP
 
IPPROTO_SCTP


	)

87 
	mIPPROTO_UDPLITE
 = 136,

88 
	#IPPROTO_UDPLITE
 
IPPROTO_UDPLITE


	)

89 
	mIPPROTO_RAW
 = 255,

90 
	#IPPROTO_RAW
 
IPPROTO_RAW


	)

91 
	mIPPROTO_MAX


96 
ušt16_t
 
	tš_pÜt_t
;

101 
	mIPPORT_ECHO
 = 7,

102 
	mIPPORT_DISCARD
 = 9,

103 
	mIPPORT_SYSTAT
 = 11,

104 
	mIPPORT_DAYTIME
 = 13,

105 
	mIPPORT_NETSTAT
 = 15,

106 
	mIPPORT_FTP
 = 21,

107 
	mIPPORT_TELNET
 = 23,

108 
	mIPPORT_SMTP
 = 25,

109 
	mIPPORT_TIMESERVER
 = 37,

110 
	mIPPORT_NAMESERVER
 = 42,

111 
	mIPPORT_WHOIS
 = 43,

112 
	mIPPORT_MTP
 = 57,

114 
	mIPPORT_TFTP
 = 69,

115 
	mIPPORT_RJE
 = 77,

116 
	mIPPORT_FINGER
 = 79,

117 
	mIPPORT_TTYLINK
 = 87,

118 
	mIPPORT_SUPDUP
 = 95,

121 
	mIPPORT_EXECSERVER
 = 512,

122 
	mIPPORT_LOGINSERVER
 = 513,

123 
	mIPPORT_CMDSERVER
 = 514,

124 
	mIPPORT_EFSSERVER
 = 520,

127 
	mIPPORT_BIFFUDP
 = 512,

128 
	mIPPORT_WHOSERVER
 = 513,

129 
	mIPPORT_ROUTESERVER
 = 520,

132 
	mIPPORT_RESERVED
 = 1024,

135 
	mIPPORT_USERRESERVED
 = 5000

140 
ušt32_t
 
	tš_addr_t
;

141 
	sš_addr


143 
š_addr_t
 
	ms_addr
;

152 
	#IN_CLASSA
(
a
è((((
š_addr_t
)×)è& 0x80000000è=ğ0)

	)

153 
	#IN_CLASSA_NET
 0xff000000

	)

154 
	#IN_CLASSA_NSHIFT
 24

	)

155 
	#IN_CLASSA_HOST
 (0xfffffffà& ~
IN_CLASSA_NET
)

	)

156 
	#IN_CLASSA_MAX
 128

	)

158 
	#IN_CLASSB
(
a
è((((
š_addr_t
)×)è& 0xc0000000è=ğ0x80000000)

	)

159 
	#IN_CLASSB_NET
 0xffff0000

	)

160 
	#IN_CLASSB_NSHIFT
 16

	)

161 
	#IN_CLASSB_HOST
 (0xfffffffà& ~
IN_CLASSB_NET
)

	)

162 
	#IN_CLASSB_MAX
 65536

	)

164 
	#IN_CLASSC
(
a
è((((
š_addr_t
)×)è& 0xe0000000è=ğ0xc0000000)

	)

165 
	#IN_CLASSC_NET
 0xffffff00

	)

166 
	#IN_CLASSC_NSHIFT
 8

	)

167 
	#IN_CLASSC_HOST
 (0xfffffffà& ~
IN_CLASSC_NET
)

	)

169 
	#IN_CLASSD
(
a
è((((
š_addr_t
)×)è& 0xf0000000è=ğ0xe0000000)

	)

170 
	#IN_MULTICAST
(
a
è
	`IN_CLASSD
×)

	)

172 
	#IN_EXPERIMENTAL
(
a
è((((
š_addr_t
)×)è& 0xe0000000è=ğ0xe0000000)

	)

173 
	#IN_BADCLASS
(
a
è((((
š_addr_t
)×)è& 0xf0000000è=ğ0xf0000000)

	)

176 
	#INADDR_ANY
 ((
š_addr_t
è0x00000000)

	)

178 
	#INADDR_BROADCAST
 ((
š_addr_t
è0xffffffff)

	)

180 
	#INADDR_NONE
 ((
š_addr_t
è0xffffffff)

	)

183 
	#IN_LOOPBACKNET
 127

	)

185 #iâdeà
INADDR_LOOPBACK


186 
	#INADDR_LOOPBACK
 ((
š_addr_t
è0x7f000001è

	)

190 
	#INADDR_UNSPEC_GROUP
 ((
š_addr_t
è0xe0000000è

	)

191 
	#INADDR_ALLHOSTS_GROUP
 ((
š_addr_t
è0xe0000001è

	)

192 
	#INADDR_ALLRTRS_GROUP
 ((
š_addr_t
è0xe0000002è

	)

193 
	#INADDR_MAX_LOCAL_GROUP
 ((
š_addr_t
è0xe00000ffè

	)

197 
	sš6_addr


201 
ušt8_t
 
	m__u6_addr8
[16];

202 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


203 
ušt16_t
 
	m__u6_addr16
[8];

204 
ušt32_t
 
	m__u6_addr32
[4];

206 } 
	m__š6_u
;

207 
	#s6_addr
 
__š6_u
.
__u6_addr8


	)

208 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


209 
	#s6_addr16
 
__š6_u
.
__u6_addr16


	)

210 
	#s6_addr32
 
__š6_u
.
__u6_addr32


	)

214 cÚ¡ 
š6_addr
 
š6addr_ªy
;

215 cÚ¡ 
š6_addr
 
š6addr_loİback
;

216 
	#IN6ADDR_ANY_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 } } }

	)

217 
	#IN6ADDR_LOOPBACK_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1 } } }

	)

219 
	#INET_ADDRSTRLEN
 16

	)

220 
	#INET6_ADDRSTRLEN
 46

	)

224 
	ssockaddr_š


226 
__SOCKADDR_COMMON
 (
sš_
);

227 
š_pÜt_t
 
	msš_pÜt
;

228 
š_addr
 
	msš_addr
;

231 
	msš_z”o
[ (
sockaddr
) -

232 
__SOCKADDR_COMMON_SIZE
 -

233  (
š_pÜt_t
) -

234  (
š_addr
)];

238 
	ssockaddr_š6


240 
__SOCKADDR_COMMON
 (
sš6_
);

241 
š_pÜt_t
 
	msš6_pÜt
;

242 
ušt32_t
 
	msš6_æowšfo
;

243 
š6_addr
 
	msš6_addr
;

244 
ušt32_t
 
	msš6_scİe_id
;

248 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


250 
	s_m»q


253 
š_addr
 
	mimr_muÉŸddr
;

256 
š_addr
 
	mimr_š‹rçû
;

259 
	s_m»q_sourû


262 
š_addr
 
	mimr_muÉŸddr
;

265 
š_addr
 
	mimr_š‹rçû
;

268 
š_addr
 
	mimr_sourûaddr
;

274 
	sv6_m»q


277 
š6_addr
 
	mv6mr_muÉŸddr
;

280 
	mv6mr_š‹rçû
;

284 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


286 
	sgroup_»q


289 
ušt32_t
 
	mgr_š‹rçû
;

292 
sockaddr_¡Üage
 
	mgr_group
;

295 
	sgroup_sourû_»q


298 
ušt32_t
 
	mg¤_š‹rçû
;

301 
sockaddr_¡Üage
 
	mg¤_group
;

304 
sockaddr_¡Üage
 
	mg¤_sourû
;

309 
	s_msf‹r


312 
š_addr
 
	mimsf_muÉŸddr
;

315 
š_addr
 
	mimsf_š‹rçû
;

318 
ušt32_t
 
	mimsf_fmode
;

321 
ušt32_t
 
	mimsf_num¤c
;

323 
š_addr
 
	mimsf_¦i¡
[1];

326 
	#IP_MSFILTER_SIZE
(
num¤c
è( (
_msf‹r
) \

327 -  (
š_addr
) \

328 + (
num¤c
è*  (
š_addr
))

	)

330 
	sgroup_f‹r


333 
ušt32_t
 
	mgf_š‹rçû
;

336 
sockaddr_¡Üage
 
	mgf_group
;

339 
ušt32_t
 
	mgf_fmode
;

342 
ušt32_t
 
	mgf_num¤c
;

344 
sockaddr_¡Üage
 
	mgf_¦i¡
[1];

347 
	#GROUP_FILTER_SIZE
(
num¤c
è( (
group_f‹r
) \

348 -  (
sockaddr_¡Üage
) \

349 + ((
num¤c
) \

350 *  (
sockaddr_¡Üage
)))

	)

355 
	~<b™s/š.h
>

364 
ušt32_t
 
	$Áohl
 (
ušt32_t
 
__ÃÚg
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

365 
ušt16_t
 
	$Áohs
 (
ušt16_t
 
__ÃtshÜt
)

366 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

367 
ušt32_t
 
	$htÚl
 (
ušt32_t
 
__ho¡lÚg
)

368 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

369 
ušt16_t
 
	$htÚs
 (
ušt16_t
 
__ho¡shÜt
)

370 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

372 
	~<’dŸn.h
>

375 
	~<b™s/by‹sw­.h
>

377 #ifdeà
__OPTIMIZE__


381 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


384 
	#Áohl
(
x
è(x)

	)

385 
	#Áohs
(
x
è(x)

	)

386 
	#htÚl
(
x
è(x)

	)

387 
	#htÚs
(
x
è(x)

	)

389 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


390 
	#Áohl
(
x
è
	`__bsw­_32
 (x)

	)

391 
	#Áohs
(
x
è
	`__bsw­_16
 (x)

	)

392 
	#htÚl
(
x
è
	`__bsw­_32
 (x)

	)

393 
	#htÚs
(
x
è
	`__bsw­_16
 (x)

	)

398 #ifdeà
__GNUC__


399 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

400 (
__ex‹nsiÚ__
 \

401 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

402 
__a
->
s6_addr32
[0] == 0 \

403 && 
__a
->
s6_addr32
[1] == 0 \

404 && 
__a
->
s6_addr32
[2] == 0 \

405 && 
__a
->
s6_addr32
[3] =ğ0; 
	}
}))

	)

407 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

408 (
__ex‹nsiÚ__
 \

409 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

410 
__a
->
s6_addr32
[0] == 0 \

411 && 
__a
->
s6_addr32
[1] == 0 \

412 && 
__a
->
s6_addr32
[2] == 0 \

413 && 
__a
->
s6_addr32
[3] =ğ
	`htÚl
 (1); }))

	)

415 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

416 (
__ex‹nsiÚ__
 \

417 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

418 (
__a
->
s6_addr32
[0] & 
	`htÚl
 (0xffc00000)è=ğhtÚÈ(0xã800000); }))

	)

420 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

421 (
__ex‹nsiÚ__
 \

422 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

423 (
__a
->
s6_addr32
[0] & 
	`htÚl
 (0xffc00000)è=ğhtÚÈ(0xãc00000); }))

	)

425 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

426 (
__ex‹nsiÚ__
 \

427 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

428 
__a
->
s6_addr32
[0] == 0 \

429 && 
__a
->
s6_addr32
[1] == 0 \

430 && 
__a
->
s6_addr32
[2] =ğ
	`htÚl
 (0xffff); }))

	)

432 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

433 (
__ex‹nsiÚ__
 \

434 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

435 
__a
->
s6_addr32
[0] == 0 \

436 && 
__a
->
s6_addr32
[1] == 0 \

437 && 
__a
->
s6_addr32
[2] == 0 \

438 && 
	`Áohl
 (
__a
->
s6_addr32
[3]è> 1; }))

	)

440 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

441 (
__ex‹nsiÚ__
 \

442 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

443 cÚ¡ 
š6_addr
 *
__b
 = (cÚ¡ š6_add¸*è(
b
); \

444 
__a
->
s6_addr32
[0] =ğ
__b
->s6_addr32[0] \

445 && 
__a
->
s6_addr32
[1] =ğ
__b
->s6_addr32[1] \

446 && 
__a
->
s6_addr32
[2] =ğ
__b
->s6_addr32[2] \

447 && 
__a
->
s6_addr32
[3] =ğ
__b
->s6_addr32[3]; }))

	)

449 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

450 (((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0 \

451 && ((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0 \

452 && ((cÚ¡ 
ušt32_t
 *è(
a
))[2] == 0 \

453 && ((cÚ¡ 
ušt32_t
 *è(
a
))[3] =ğ0)

	)

455 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

456 (((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0 \

457 && ((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0 \

458 && ((cÚ¡ 
ušt32_t
 *è(
a
))[2] == 0 \

459 && ((cÚ¡ 
ušt32_t
 *è(
a
))[3] =ğ
	`htÚl
 (1))

	)

461 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

462 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] & 
	`htÚl
 (0xffc00000)) \

463 =ğ
	`htÚl
 (0xã800000))

	)

465 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

466 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] & 
	`htÚl
 (0xffc00000)) \

467 =ğ
	`htÚl
 (0xãc00000))

	)

469 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

470 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0) \

471 && (((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0) \

472 && (((cÚ¡ 
ušt32_t
 *è(
a
))[2] =ğ
	`htÚl
 (0xffff)))

	)

474 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

475 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0) \

476 && (((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0) \

477 && (((cÚ¡ 
ušt32_t
 *è(
a
))[2] == 0) \

478 && (
	`Áohl
 (((cÚ¡ 
ušt32_t
 *è(
a
))[3]è> 1))

	)

480 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

481 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[0]) \

482 && (((cÚ¡ 
ušt32_t
 *è(
a
))[1] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[1]) \

483 && (((cÚ¡ 
ušt32_t
 *è(
a
))[2] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[2]) \

484 && (((cÚ¡ 
ušt32_t
 *è(
a
))[3] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[3]))

	)

487 
	#IN6_IS_ADDR_MULTICAST
(
a
è(((cÚ¡ 
ušt8_t
 *è×))[0] =ğ0xff)

	)

489 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_GNU


491 
	$bšd»svpÜt
 (
__sockfd
, 
sockaddr_š
 *
__sock_š
è
__THROW
;

494 
	$bšd»svpÜt6
 (
__sockfd
, 
sockaddr_š6
 *
__sock_š
)

495 
__THROW
;

499 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

500 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

501 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x1))

	)

503 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

504 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

505 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x2))

	)

507 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

508 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

509 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x5))

	)

511 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

512 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

513 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x8))

	)

515 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

516 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

517 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0xe))

	)

520 #ifdeà
__USE_GNU


521 
cmsghdr
;

524 
	sš6_pktšfo


526 
š6_addr
 
i6_addr
;

527 
i6_ifšdex
;

531 
	s6_mtušfo


533 
sockaddr_š6
 
6m_addr
;

534 
ušt32_t
 
6m_mtu
;

539 
	$š‘6_İtiÚ_¥aû
 (
__nby‹s
)

540 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

541 
	$š‘6_İtiÚ_š™
 (*
__bp
, 
cmsghdr
 **
__cmsgp
,

542 
__ty³
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

543 
	$š‘6_İtiÚ_­³nd
 (
cmsghdr
 *
__cmsg
,

544 cÚ¡ 
ušt8_t
 *
__ty³p
, 
__muÉx
,

545 
__¶usy
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

546 
ušt8_t
 *
	$š‘6_İtiÚ_®loc
 (
cmsghdr
 *
__cmsg
, 
__d©®’
,

547 
__muÉx
, 
__¶usy
)

548 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

549 
	$š‘6_İtiÚ_Ãxt
 (cÚ¡ 
cmsghdr
 *
__cmsg
,

550 
ušt8_t
 **
__Œp
)

551 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

552 
	$š‘6_İtiÚ_fšd
 (cÚ¡ 
cmsghdr
 *
__cmsg
,

553 
ušt8_t
 **
__Œp
, 
__ty³
)

554 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

558 
	$š‘6_İt_š™
 (*
__extbuf
, 
sockËn_t
 
__ex’
è
__THROW
;

559 
	$š‘6_İt_­³nd
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
,

560 
ušt8_t
 
__ty³
, 
sockËn_t
 
__Ën
, ušt8_ˆ
__®ign
,

561 **
__d©abuå
è
__THROW
;

562 
	$š‘6_İt_fšish
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
)

563 
__THROW
;

564 
	$š‘6_İt_£t_v®
 (*
__d©abuf
, 
__off£t
, *
__v®
,

565 
sockËn_t
 
__v®Ën
è
__THROW
;

566 
	$š‘6_İt_Ãxt
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
,

567 
ušt8_t
 *
__ty³p
, 
sockËn_t
 *
__ËÅ
,

568 **
__d©abuå
è
__THROW
;

569 
	$š‘6_İt_fšd
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
,

570 
ušt8_t
 
__ty³
, 
sockËn_t
 *
__ËÅ
,

571 **
__d©abuå
è
__THROW
;

572 
	$š‘6_İt_g‘_v®
 (*
__d©abuf
, 
__off£t
, *
__v®
,

573 
sockËn_t
 
__v®Ën
è
__THROW
;

577 
sockËn_t
 
	$š‘6_¹h_¥aû
 (
__ty³
, 
__£gm’ts
è
__THROW
;

578 *
	$š‘6_¹h_š™
 (*
__bp
, 
sockËn_t
 
__bp_Ën
, 
__ty³
,

579 
__£gm’ts
è
__THROW
;

580 
	$š‘6_¹h_add
 (*
__bp
, cÚ¡ 
š6_addr
 *
__addr
è
__THROW
;

581 
	$š‘6_¹h_»v”£
 (cÚ¡ *
__š
, *
__out
è
__THROW
;

582 
	$š‘6_¹h_£gm’ts
 (cÚ¡ *
__bp
è
__THROW
;

583 
š6_addr
 *
	$š‘6_¹h_g‘addr
 (cÚ¡ *
__bp
, 
__šdex
)

584 
__THROW
;

590 
	$g‘v4sourûf‹r
 (
__s
, 
š_addr
 
__š‹rçû_addr
,

591 
š_addr
 
__group
, 
ušt32_t
 *
__fmode
,

592 
ušt32_t
 *
__num¤c
, 
š_addr
 *
__¦i¡
)

593 
__THROW
;

596 
	$£tv4sourûf‹r
 (
__s
, 
š_addr
 
__š‹rçû_addr
,

597 
š_addr
 
__group
, 
ušt32_t
 
__fmode
,

598 
ušt32_t
 
__num¤c
,

599 cÚ¡ 
š_addr
 *
__¦i¡
)

600 
__THROW
;

604 
	$g‘sourûf‹r
 (
__s
, 
ušt32_t
 
__š‹rçû_addr
,

605 cÚ¡ 
sockaddr
 *
__group
,

606 
sockËn_t
 
__grou¶’
, 
ušt32_t
 *
__fmode
,

607 
ušt32_t
 *
__num¤c
,

608 
sockaddr_¡Üage
 *
__¦i¡
è
__THROW
;

611 
	$£tsourûf‹r
 (
__s
, 
ušt32_t
 
__š‹rçû_addr
,

612 cÚ¡ 
sockaddr
 *
__group
,

613 
sockËn_t
 
__grou¶’
, 
ušt32_t
 
__fmode
,

614 
ušt32_t
 
__num¤c
,

615 cÚ¡ 
sockaddr_¡Üage
 *
__¦i¡
è
__THROW
;

618 
__END_DECLS


	@/usr/include/setjmp.h

22 #iâdef 
_SETJMP_H


23 
	#_SETJMP_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/£tjmp.h
>

30 
	~<b™s/sig£t.h
>

34 
	s__jmp_buf_g


40 
__jmp_buf
 
	m__jmpbuf
;

41 
	m__mask_was_§ved
;

42 
__sig£t_t
 
	m__§ved_mask
;

46 
__BEGIN_NAMESPACE_STD


48 
__jmp_buf_g
 
	tjmp_buf
[1];

52 
	$£tjmp
 (
jmp_buf
 
__’v
è
__THROWNL
;

54 
__END_NAMESPACE_STD


59 
	$__sig£tjmp
 (
__jmp_buf_g
 
__’v
[1], 
__§vemask
è
__THROWNL
;

61 #iâdef 
__FAVOR_BSD


64 
	$_£tjmp
 (
__jmp_buf_g
 
__’v
[1]è
__THROWNL
;

68 
	#£tjmp
(
’v
è
	`_£tjmp
 (’v)

	)

73 
	#£tjmp
(
’v
è
	`£tjmp
 (’v)

	)

77 
__BEGIN_NAMESPACE_STD


81 
	$lÚgjmp
 (
__jmp_buf_g
 
__’v
[1], 
__v®
)

82 
__THROWNL
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

84 
__END_NAMESPACE_STD


86 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN


90 
	$_lÚgjmp
 (
__jmp_buf_g
 
__’v
[1], 
__v®
)

91 
__THROWNL
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

95 #ifdef 
__USE_POSIX


99 
__jmp_buf_g
 
	tsigjmp_buf
[1];

103 
	#sig£tjmp
(
’v
, 
§vemask
è
	`__sig£tjmp
 (’v, savemask)

	)

109 
	$siglÚgjmp
 (
sigjmp_buf
 
__’v
, 
__v®
)

110 
__THROWNL
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

115 #ià
__USE_FORTIFY_LEVEL
 > 0

116 
	~<b™s/£tjmp2.h
>

119 
__END_DECLS


	@/usr/include/signal.h

22 #iâdef 
_SIGNAL_H


24 #ià!
defšed
 
__Ãed_sig_©omic_t
 && !defšed 
__Ãed_sig£t_t


25 
	#_SIGNAL_H


	)

28 
	~<ã©u»s.h
>

30 
	g__BEGIN_DECLS


32 
	~<b™s/sig£t.h
>

36 #ià
defšed
 
__Ãed_sig_©omic_t
 || defšed 
_SIGNAL_H


37 #iâdeà
__sig_©omic_t_defšed


38 
	#__sig_©omic_t_defšed


	)

39 
__BEGIN_NAMESPACE_STD


40 
__sig_©omic_t
 
	tsig_©omic_t
;

41 
	g__END_NAMESPACE_STD


43 #undeà
__Ãed_sig_©omic_t


46 #ià
defšed
 
__Ãed_sig£t_t
 || (defšed 
_SIGNAL_H
 && defšed 
__USE_POSIX
)

47 #iâdeà
__sig£t_t_defšed


48 
	#__sig£t_t_defšed


	)

49 
__sig£t_t
 
	tsig£t_t
;

51 #undeà
__Ãed_sig£t_t


54 #ifdeà
_SIGNAL_H


56 
	~<b™s/ty³s.h
>

57 
	~<b™s/signum.h
>

59 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


60 #iâdeà
__pid_t_defšed


61 
__pid_t
 
	tpid_t
;

62 
	#__pid_t_defšed


	)

64 #ifdeà
__USE_XOPEN


66 #iâdeà
__uid_t_defšed


67 
__uid_t
 
	tuid_t
;

68 
	#__uid_t_defšed


	)

72 #ifdeà
__USE_POSIX199309


74 
	#__Ãed_time¥ec


	)

75 
	~<time.h
>

78 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_XOPEN_EXTENDED


80 
	~<b™s/sigšfo.h
>

85 (*
	t__sighªdËr_t
) ();

90 
__sighªdËr_t
 
	$__sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

91 
__THROW
;

92 #ifdeà
__USE_GNU


93 
__sighªdËr_t
 
	$sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

94 
__THROW
;

100 
__BEGIN_NAMESPACE_STD


101 #ifdeà
__USE_BSD


102 
__sighªdËr_t
 
	$sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

103 
__THROW
;

106 #ifdeà
__REDIRECT_NTH


107 
__sighªdËr_t
 
	`__REDIRECT_NTH
 (
sigÇl
,

108 (
__sig
, 
__sighªdËr_t
 
__hªdËr
),

109 
__sysv_sigÇl
);

111 
	#sigÇl
 
__sysv_sigÇl


	)

114 
__END_NAMESPACE_STD


116 #ifdeà
__USE_XOPEN


119 
__sighªdËr_t
 
	$bsd_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

120 
__THROW
;

126 #ifdeà
__USE_POSIX


127 
	$kl
 (
__pid_t
 
__pid
, 
__sig
è
__THROW
;

130 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


134 
	$kÍg
 (
__pid_t
 
__pg½
, 
__sig
è
__THROW
;

137 
__BEGIN_NAMESPACE_STD


139 
	$¿i£
 (
__sig
è
__THROW
;

140 
__END_NAMESPACE_STD


142 #ifdeà
__USE_SVID


144 
__sighªdËr_t
 
	$ssigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

145 
__THROW
;

146 
	$gsigÇl
 (
__sig
è
__THROW
;

149 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN2K


151 
	`psigÇl
 (
__sig
, cÚ¡ *
__s
);

154 #ifdeà
__USE_XOPEN2K


156 
	`psigšfo
 (cÚ¡ 
sigšfo_t
 *
__pšfo
, cÚ¡ *
__s
);

169 
	`__sig·u£
 (
__sig_Ü_mask
, 
__is_sig
);

171 #ifdeà
__FAVOR_BSD


174 
	$sig·u£
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

176 #ifdeà
__USE_XOPEN


177 #ifdeà
__GNUC__


178 
	$sig·u£
 (
__sig
è
	`__asm__
 ("__xpg_sigpause");

181 
	#sig·u£
(
sig
è
	`__sig·u£
 ((sig), 1)

	)

187 #ifdeà
__USE_BSD


194 
	#sigmask
(
sig
è
	`__sigmask
(sig)

	)

197 
	$sigblock
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

200 
	$sig£tmask
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

203 
	$sigg‘mask
 (è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

207 #ifdeà
__USE_MISC


208 
	#NSIG
 
_NSIG


	)

211 #ifdeà
__USE_GNU


212 
__sighªdËr_t
 
	tsighªdËr_t
;

216 #ifdeà
__USE_BSD


217 
__sighªdËr_t
 
	tsig_t
;

220 #ifdeà
__USE_POSIX


223 
	$sigem±y£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

226 
	$sigfl£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

229 
	$sigadd£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

232 
	$sigd–£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

235 
	$sigismemb”
 (cÚ¡ 
sig£t_t
 *
__£t
, 
__signo
)

236 
__THROW
 
	`__nÚnuÎ
 ((1));

238 #ifdeà
__USE_GNU


240 
	$sigi£m±y£t
 (cÚ¡ 
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

243 
	$sigªd£t
 (
sig£t_t
 *
__£t
, cÚ¡ sig£t_ˆ*
__Ëá
,

244 cÚ¡ 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

247 
	$sigÜ£t
 (
sig£t_t
 *
__£t
, cÚ¡ sig£t_ˆ*
__Ëá
,

248 cÚ¡ 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

253 
	~<b™s/sigaùiÚ.h
>

256 
	$sig´ocmask
 (
__how
, cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

257 
sig£t_t
 *
__»¡riù
 
__o£t
è
__THROW
;

264 
	$sigsu¥’d
 (cÚ¡ 
sig£t_t
 *
__£t
è
	`__nÚnuÎ
 ((1));

267 
	$sigaùiÚ
 (
__sig
, cÚ¡ 
sigaùiÚ
 *
__»¡riù
 
__aù
,

268 
sigaùiÚ
 *
__»¡riù
 
__ßù
è
__THROW
;

271 
	$sig³ndšg
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

278 
	$sigwa™
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
, *__»¡riù 
__sig
)

279 
	`__nÚnuÎ
 ((1, 2));

281 #ifdeà
__USE_POSIX199309


286 
	$sigwa™šfo
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

287 
sigšfo_t
 *
__»¡riù
 
__šfo
è
	`__nÚnuÎ
 ((1));

294 
	$sigtimedwa™
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

295 
sigšfo_t
 *
__»¡riù
 
__šfo
,

296 cÚ¡ 
time¥ec
 *
__»¡riù
 
__timeout
)

297 
	`__nÚnuÎ
 ((1));

301 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, cÚ¡ 
sigv®
 
__v®
)

302 
__THROW
;

307 #ifdeà
__USE_BSD


311 cÚ¡ *cÚ¡ 
_sys_sigli¡
[
_NSIG
];

312 cÚ¡ *cÚ¡ 
sys_sigli¡
[
_NSIG
];

315 
	ssigvec


317 
__sighªdËr_t
 
sv_hªdËr
;

318 
sv_mask
;

320 
sv_æags
;

321 
	#sv_Ú¡ack
 
sv_æags


	)

325 
	#SV_ONSTACK
 (1 << 0)

	)

326 
	#SV_INTERRUPT
 (1 << 1)

	)

327 
	#SV_RESETHAND
 (1 << 2)

	)

335 
	$sigvec
 (
__sig
, cÚ¡ 
sigvec
 *
__vec
,

336 
sigvec
 *
__ovec
è
__THROW
;

340 
	~<b™s/sigcÚ‹xt.h
>

343 
	$sig»tuº
 (
sigcÚ‹xt
 *
__sı
è
__THROW
;

348 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


349 
	#__Ãed_size_t


	)

350 
	~<¡ddef.h
>

355 
	$sigš‹¼u±
 (
__sig
, 
__š‹¼u±
è
__THROW
;

357 
	~<b™s/sig¡ack.h
>

358 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


360 
	~<sys/ucÚ‹xt.h
>

366 
	$sig¡ack
 (
sig¡ack
 *
__ss
, sig¡ack *
__oss
)

367 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

371 
	$sig®t¡ack
 (cÚ¡ 
sig®t¡ack
 *
__»¡riù
 
__ss
,

372 
sig®t¡ack
 *
__»¡riù
 
__oss
è
__THROW
;

376 #ifdeà
__USE_XOPEN_EXTENDED


380 
	$sighŞd
 (
__sig
è
__THROW
;

383 
	$sig»l£
 (
__sig
è
__THROW
;

386 
	$sigignÜe
 (
__sig
è
__THROW
;

389 
__sighªdËr_t
 
	$sig£t
 (
__sig
, 
__sighªdËr_t
 
__di¥
è
__THROW
;

392 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


395 
	~<b™s/±h»adty³s.h
>

396 
	~<b™s/sigth»ad.h
>

403 
	$__libc_cu¼’t_sig¹mš
 (è
__THROW
;

405 
	$__libc_cu¼’t_sig¹max
 (è
__THROW
;

409 
__END_DECLS


	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/wch¬.h
>

27 
	~<b™s/wÜdsize.h
>

34 #iâdeà
__št8_t_defšed


35 
	#__št8_t_defšed


	)

36 sigÃd 
	tšt8_t
;

37 
	tšt16_t
;

38 
	tšt32_t
;

39 #ià
__WORDSIZE
 == 64

40 
	tšt64_t
;

42 
__ex‹nsiÚ__


43 
	tšt64_t
;

48 
	tušt8_t
;

49 
	tušt16_t
;

50 #iâdeà
__ušt32_t_defšed


51 
	tušt32_t
;

52 
	#__ušt32_t_defšed


	)

54 #ià
__WORDSIZE
 == 64

55 
	tušt64_t
;

57 
__ex‹nsiÚ__


58 
	tušt64_t
;

65 sigÃd 
	tšt_Ëa¡8_t
;

66 
	tšt_Ëa¡16_t
;

67 
	tšt_Ëa¡32_t
;

68 #ià
__WORDSIZE
 == 64

69 
	tšt_Ëa¡64_t
;

71 
__ex‹nsiÚ__


72 
	tšt_Ëa¡64_t
;

76 
	tušt_Ëa¡8_t
;

77 
	tušt_Ëa¡16_t
;

78 
	tušt_Ëa¡32_t
;

79 #ià
__WORDSIZE
 == 64

80 
	tušt_Ëa¡64_t
;

82 
__ex‹nsiÚ__


83 
	tušt_Ëa¡64_t
;

90 sigÃd 
	tšt_ç¡8_t
;

91 #ià
__WORDSIZE
 == 64

92 
	tšt_ç¡16_t
;

93 
	tšt_ç¡32_t
;

94 
	tšt_ç¡64_t
;

96 
	tšt_ç¡16_t
;

97 
	tšt_ç¡32_t
;

98 
__ex‹nsiÚ__


99 
	tšt_ç¡64_t
;

103 
	tušt_ç¡8_t
;

104 #ià
__WORDSIZE
 == 64

105 
	tušt_ç¡16_t
;

106 
	tušt_ç¡32_t
;

107 
	tušt_ç¡64_t
;

109 
	tušt_ç¡16_t
;

110 
	tušt_ç¡32_t
;

111 
__ex‹nsiÚ__


112 
	tušt_ç¡64_t
;

117 #ià
__WORDSIZE
 == 64

118 #iâdeà
__šŒ_t_defšed


119 
	tšŒ_t
;

120 
	#__šŒ_t_defšed


	)

122 
	tušŒ_t
;

124 #iâdeà
__šŒ_t_defšed


125 
	tšŒ_t
;

126 
	#__šŒ_t_defšed


	)

128 
	tušŒ_t
;

133 #ià
__WORDSIZE
 == 64

134 
	tštmax_t
;

135 
	tuštmax_t
;

137 
__ex‹nsiÚ__


138 
	tštmax_t
;

139 
__ex‹nsiÚ__


140 
	tuštmax_t
;

146 #ià!
defšed
 
__ılu¥lus
 || defšed 
__STDC_LIMIT_MACROS


148 #ià
__WORDSIZE
 == 64

149 
	#__INT64_C
(
c
èø## 
L


	)

150 
	#__UINT64_C
(
c
èø## 
UL


	)

152 
	#__INT64_C
(
c
èø## 
LL


	)

153 
	#__UINT64_C
(
c
èø## 
ULL


	)

159 
	#INT8_MIN
 (-128)

	)

160 
	#INT16_MIN
 (-32767-1)

	)

161 
	#INT32_MIN
 (-2147483647-1)

	)

162 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

164 
	#INT8_MAX
 (127)

	)

165 
	#INT16_MAX
 (32767)

	)

166 
	#INT32_MAX
 (2147483647)

	)

167 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

170 
	#UINT8_MAX
 (255)

	)

171 
	#UINT16_MAX
 (65535)

	)

172 
	#UINT32_MAX
 (4294967295U)

	)

173 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

177 
	#INT_LEAST8_MIN
 (-128)

	)

178 
	#INT_LEAST16_MIN
 (-32767-1)

	)

179 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

180 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

182 
	#INT_LEAST8_MAX
 (127)

	)

183 
	#INT_LEAST16_MAX
 (32767)

	)

184 
	#INT_LEAST32_MAX
 (2147483647)

	)

185 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

188 
	#UINT_LEAST8_MAX
 (255)

	)

189 
	#UINT_LEAST16_MAX
 (65535)

	)

190 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

191 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

195 
	#INT_FAST8_MIN
 (-128)

	)

196 #ià
__WORDSIZE
 == 64

197 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

198 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

200 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

201 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

203 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

205 
	#INT_FAST8_MAX
 (127)

	)

206 #ià
__WORDSIZE
 == 64

207 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

208 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

210 
	#INT_FAST16_MAX
 (2147483647)

	)

211 
	#INT_FAST32_MAX
 (2147483647)

	)

213 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

216 
	#UINT_FAST8_MAX
 (255)

	)

217 #ià
__WORDSIZE
 == 64

218 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

219 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

221 
	#UINT_FAST16_MAX
 (4294967295U)

	)

222 
	#UINT_FAST32_MAX
 (4294967295U)

	)

224 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

228 #ià
__WORDSIZE
 == 64

229 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

230 
	#INTPTR_MAX
 (9223372036854775807L)

	)

231 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

233 
	#INTPTR_MIN
 (-2147483647-1)

	)

234 
	#INTPTR_MAX
 (2147483647)

	)

235 
	#UINTPTR_MAX
 (4294967295U)

	)

240 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

242 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

245 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

251 #ià
__WORDSIZE
 == 64

252 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

253 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

255 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

256 
	#PTRDIFF_MAX
 (2147483647)

	)

260 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

261 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

264 #ià
__WORDSIZE
 == 64

265 
	#SIZE_MAX
 (18446744073709551615UL)

	)

267 
	#SIZE_MAX
 (4294967295U)

	)

271 #iâdeà
WCHAR_MIN


273 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

274 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

278 
	#WINT_MIN
 (0u)

	)

279 
	#WINT_MAX
 (4294967295u)

	)

286 #ià!
defšed
 
__ılu¥lus
 || defšed 
__STDC_CONSTANT_MACROS


289 
	#INT8_C
(
c
è
	)
c

290 
	#INT16_C
(
c
è
	)
c

291 
	#INT32_C
(
c
è
	)
c

292 #ià
__WORDSIZE
 == 64

293 
	#INT64_C
(
c
èø## 
L


	)

295 
	#INT64_C
(
c
èø## 
LL


	)

299 
	#UINT8_C
(
c
è
	)
c

300 
	#UINT16_C
(
c
è
	)
c

301 
	#UINT32_C
(
c
èø## 
U


	)

302 #ià
__WORDSIZE
 == 64

303 
	#UINT64_C
(
c
èø## 
UL


	)

305 
	#UINT64_C
(
c
èø## 
ULL


	)

309 #ià
__WORDSIZE
 == 64

310 
	#INTMAX_C
(
c
èø## 
L


	)

311 
	#UINTMAX_C
(
c
èø## 
UL


	)

313 
	#INTMAX_C
(
c
èø## 
LL


	)

314 
	#UINTMAX_C
(
c
èø## 
ULL


	)

	@/usr/include/stdio.h

23 #iâdeà
_STDIO_H


25 #ià!
defšed
 
__Ãed_FILE
 && !defšed 
__Ãed___FILE


26 
	#_STDIO_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	~<b™s/ty³s.h
>

36 
	#__Ãed_FILE


	)

37 
	#__Ãed___FILE


	)

41 #ià!
defšed
 
__FILE_defšed
 && defšed 
__Ãed_FILE


44 
	g_IO_FILE
;

46 
__BEGIN_NAMESPACE_STD


48 
_IO_FILE
 
	tFILE
;

49 
	g__END_NAMESPACE_STD


50 #ià
defšed
 
__USE_LARGEFILE64
 || defšed 
__USE_SVID
 || defšed 
__USE_POSIX
 \

51 || 
defšed
 
	g__USE_BSD
 || defšed 
	g__USE_ISOC99
 || defšed 
	g__USE_XOPEN
 \

52 || 
defšed
 
__USE_POSIX2


53 
	$__USING_NAMESPACE_STD
(
FILE
)

56 
	#__FILE_defšed
 1

	)

58 #undeà
__Ãed_FILE


61 #ià!
defšed
 
____FILE_defšed
 && defšed 
__Ãed___FILE


64 
_IO_FILE
 
	t__FILE
;

66 
	#____FILE_defšed
 1

	)

68 #undeà
__Ãed___FILE


71 #ifdef 
_STDIO_H


72 
	#_STDIO_USES_IOSTREAM


	)

74 
	~<libio.h
>

76 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


77 #ifdeà
__GNUC__


78 #iâdeà
_VA_LIST_DEFINED


79 
_G_va_li¡
 
	tva_li¡
;

80 
	#_VA_LIST_DEFINED


	)

83 
	~<¡d¬g.h
>

87 #ifdeà
__USE_XOPEN2K8


88 #iâdeà
__off_t_defšed


89 #iâdeà
__USE_FILE_OFFSET64


90 
__off_t
 
	toff_t
;

92 
__off64_t
 
	toff_t
;

94 
	#__off_t_defšed


	)

96 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


97 
__off64_t
 
	toff64_t
;

98 
	#__off64_t_defšed


	)

101 #iâdeà
__ssize_t_defšed


102 
__ssize_t
 
	tssize_t
;

103 
	#__ssize_t_defšed


	)

108 
__BEGIN_NAMESPACE_STD


109 #iâdeà
__USE_FILE_OFFSET64


110 
_G_åos_t
 
	tåos_t
;

112 
_G_åos64_t
 
	tåos_t
;

114 
__END_NAMESPACE_STD


115 #ifdeà
__USE_LARGEFILE64


116 
_G_åos64_t
 
	tåos64_t
;

120 
	#_IOFBF
 0

	)

121 
	#_IOLBF
 1

	)

122 
	#_IONBF
 2

	)

126 #iâdeà
BUFSIZ


127 
	#BUFSIZ
 
_IO_BUFSIZ


	)

133 #iâdeà
EOF


134 
	#EOF
 (-1)

	)

140 
	#SEEK_SET
 0

	)

141 
	#SEEK_CUR
 1

	)

142 
	#SEEK_END
 2

	)

143 #ifdeà
__USE_GNU


144 
	#SEEK_DATA
 3

	)

145 
	#SEEK_HOLE
 4

	)

149 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


151 
	#P_tmpdœ
 "/tmp"

	)

164 
	~<b™s/¡dio_lim.h
>

168 
_IO_FILE
 *
¡dš
;

169 
_IO_FILE
 *
¡dout
;

170 
_IO_FILE
 *
¡d”r
;

172 
	#¡dš
 
¡dš


	)

173 
	#¡dout
 
¡dout


	)

174 
	#¡d”r
 
¡d”r


	)

176 
__BEGIN_NAMESPACE_STD


178 
	$»move
 (cÚ¡ *
__f’ame
è
__THROW
;

180 
	$»Çme
 (cÚ¡ *
__Şd
, cÚ¡ *
__Ãw
è
__THROW
;

181 
__END_NAMESPACE_STD


183 #ifdeà
__USE_ATFILE


185 
	$»Çm—t
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

186 cÚ¡ *
__Ãw
è
__THROW
;

189 
__BEGIN_NAMESPACE_STD


194 #iâdeà
__USE_FILE_OFFSET64


195 
FILE
 *
	$tmpfe
 (è
__wur
;

197 #ifdeà
__REDIRECT


198 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
è
__wur
;

200 
	#tmpfe
 
tmpfe64


	)

204 #ifdeà
__USE_LARGEFILE64


205 
FILE
 *
	$tmpfe64
 (è
__wur
;

209 *
	$tm²am
 (*
__s
è
__THROW
 
__wur
;

210 
__END_NAMESPACE_STD


212 #ifdeà
__USE_MISC


215 *
	$tm²am_r
 (*
__s
è
__THROW
 
__wur
;

219 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


227 *
	$‹m²am
 (cÚ¡ *
__dœ
, cÚ¡ *
__pfx
)

228 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

232 
__BEGIN_NAMESPACE_STD


237 
	`fşo£
 (
FILE
 *
__¡»am
);

242 
	`fæush
 (
FILE
 *
__¡»am
);

243 
__END_NAMESPACE_STD


245 #ifdeà
__USE_MISC


252 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

255 #ifdeà
__USE_GNU


262 
	`fşo£®l
 ();

266 
__BEGIN_NAMESPACE_STD


267 #iâdeà
__USE_FILE_OFFSET64


272 
FILE
 *
	$fİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

273 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

278 
FILE
 *
	$äeİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

279 cÚ¡ *
__»¡riù
 
__modes
,

280 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

282 #ifdeà
__REDIRECT


283 
FILE
 *
	`__REDIRECT
 (
fİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

284 cÚ¡ *
__»¡riù
 
__modes
), 
fİ’64
)

285 
__wur
;

286 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

287 cÚ¡ *
__»¡riù
 
__modes
,

288 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

289 
__wur
;

291 
	#fİ’
 
fİ’64


	)

292 
	#äeİ’
 
äeİ’64


	)

295 
__END_NAMESPACE_STD


296 #ifdeà
__USE_LARGEFILE64


297 
FILE
 *
	$fİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

298 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

299 
FILE
 *
	$äeİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

300 cÚ¡ *
__»¡riù
 
__modes
,

301 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

304 #ifdef 
__USE_POSIX


306 
FILE
 *
	$fdİ’
 (
__fd
, cÚ¡ *
__modes
è
__THROW
 
__wur
;

309 #ifdef 
__USE_GNU


312 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

313 cÚ¡ *
__»¡riù
 
__modes
,

314 
_IO_cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW
 
__wur
;

317 #ifdeà
__USE_XOPEN2K8


319 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, cÚ¡ *
__modes
)

320 
__THROW
 
__wur
;

325 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
 
__wur
;

329 
__BEGIN_NAMESPACE_STD


332 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

336 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

337 
__modes
, 
size_t
 
__n
è
__THROW
;

338 
__END_NAMESPACE_STD


340 #ifdef 
__USE_BSD


343 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

344 
size_t
 
__size
è
__THROW
;

347 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

351 
__BEGIN_NAMESPACE_STD


356 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

357 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

362 
	`´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

364 
	$¥rštf
 (*
__»¡riù
 
__s
,

365 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROWNL
;

371 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

372 
_G_va_li¡
 
__¬g
);

377 
	`v´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
);

379 
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

380 
_G_va_li¡
 
__¬g
è
__THROWNL
;

381 
__END_NAMESPACE_STD


383 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


384 
__BEGIN_NAMESPACE_C99


386 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

387 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

388 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

390 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

391 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

392 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

393 
__END_NAMESPACE_C99


396 #ifdeà
__USE_GNU


399 
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__f
,

400 
_G_va_li¡
 
__¬g
)

401 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

402 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

403 cÚ¡ *
__»¡riù
 
__fmt
, ...)

404 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

405 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

406 cÚ¡ *
__»¡riù
 
__fmt
, ...)

407 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

410 #ifdeà
__USE_XOPEN2K8


412 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
,

413 
_G_va_li¡
 
__¬g
)

414 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

415 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

416 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

420 
__BEGIN_NAMESPACE_STD


425 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

426 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

431 
	$sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

433 
	$ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

434 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

436 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

437 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

438 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

439 #ifdeà
__REDIRECT


443 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

444 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

445 
__isoc99_fsÿnf
è
__wur
;

446 
	`__REDIRECT
 (
sÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

447 
__isoc99_sÿnf
è
__wur
;

448 
	`__REDIRECT_NTH
 (
ssÿnf
, (cÚ¡ *
__»¡riù
 
__s
,

449 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

450 
__isoc99_ssÿnf
);

452 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

453 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

454 
	$__isoc99_sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

455 
	$__isoc99_ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

456 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

457 
	#fsÿnf
 
__isoc99_fsÿnf


	)

458 
	#sÿnf
 
__isoc99_sÿnf


	)

459 
	#ssÿnf
 
__isoc99_ssÿnf


	)

463 
__END_NAMESPACE_STD


465 #ifdef 
__USE_ISOC99


466 
__BEGIN_NAMESPACE_C99


471 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

472 
_G_va_li¡
 
__¬g
)

473 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

479 
	$vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

480 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

483 
	$vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

484 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

485 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

487 #ià!
defšed
 
__USE_GNU
 \

488 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

489 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

490 #ifdeà
__REDIRECT


494 
	`__REDIRECT
 (
vfsÿnf
,

495 (
FILE
 *
__»¡riù
 
__s
,

496 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

497 
__isoc99_vfsÿnf
)

498 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

499 
	`__REDIRECT
 (
vsÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
,

500 
_G_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

501 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

502 
	`__REDIRECT_NTH
 (
vssÿnf
,

503 (cÚ¡ *
__»¡riù
 
__s
,

504 cÚ¡ *
__»¡riù
 
__fÜm©
,

505 
_G_va_li¡
 
__¬g
), 
__isoc99_vssÿnf
)

506 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

508 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

509 cÚ¡ *
__»¡riù
 
__fÜm©
,

510 
_G_va_li¡
 
__¬g
è
__wur
;

511 
	$__isoc99_vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
,

512 
_G_va_li¡
 
__¬g
è
__wur
;

513 
	$__isoc99_vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

514 cÚ¡ *
__»¡riù
 
__fÜm©
,

515 
_G_va_li¡
 
__¬g
è
__THROW
;

516 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

517 
	#vsÿnf
 
__isoc99_vsÿnf


	)

518 
	#vssÿnf
 
__isoc99_vssÿnf


	)

522 
__END_NAMESPACE_C99


526 
__BEGIN_NAMESPACE_STD


531 
	`fg‘c
 (
FILE
 *
__¡»am
);

532 
	`g‘c
 (
FILE
 *
__¡»am
);

538 
	`g‘ch¬
 ();

539 
__END_NAMESPACE_STD


543 
	#g‘c
(
_å
è
	`_IO_g‘c
 (_å)

	)

545 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


550 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

551 
	`g‘ch¬_uÆocked
 ();

554 #ifdeà
__USE_MISC


561 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

565 
__BEGIN_NAMESPACE_STD


573 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

574 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

580 
	`putch¬
 (
__c
);

581 
__END_NAMESPACE_STD


585 
	#putc
(
_ch
, 
_å
è
	`_IO_putc
 (_ch, _å)

	)

587 #ifdeà
__USE_MISC


594 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

597 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


602 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

603 
	`putch¬_uÆocked
 (
__c
);

607 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 \

608 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

610 
	`g‘w
 (
FILE
 *
__¡»am
);

613 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

617 
__BEGIN_NAMESPACE_STD


622 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

623 
__wur
;

625 #ià!
defšed
 
__USE_ISOC11
 \

626 || (
defšed
 
__ılu¥lus
 && __cplusplus <= 201103L)

638 *
	$g‘s
 (*
__s
è
__wur
 
__©Œibu‹_d•»ÿ‹d__
;

640 
__END_NAMESPACE_STD


642 #ifdeà
__USE_GNU


649 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

650 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

654 #ifdef 
__USE_XOPEN2K8


665 
_IO_ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

666 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

667 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

668 
_IO_ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

669 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

670 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

678 
_IO_ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

679 
size_t
 *
__»¡riù
 
__n
,

680 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

684 
__BEGIN_NAMESPACE_STD


689 
	`åuts
 (cÚ¡ *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

695 
	`puts
 (cÚ¡ *
__s
);

702 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

709 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

710 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

715 
size_t
 
	`fwr™e
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

716 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
);

717 
__END_NAMESPACE_STD


719 #ifdeà
__USE_GNU


726 
	`åuts_uÆocked
 (cÚ¡ *
__»¡riù
 
__s
,

727 
FILE
 *
__»¡riù
 
__¡»am
);

730 #ifdeà
__USE_MISC


737 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

738 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

739 
size_t
 
	`fwr™e_uÆocked
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

740 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
);

744 
__BEGIN_NAMESPACE_STD


749 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

754 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

759 
	`»wšd
 (
FILE
 *
__¡»am
);

760 
__END_NAMESPACE_STD


767 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


768 #iâdeà
__USE_FILE_OFFSET64


773 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

778 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

780 #ifdeà
__REDIRECT


781 
	`__REDIRECT
 (
f£eko
,

782 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

783 
f£eko64
);

784 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

786 
	#f£eko
 
f£eko64


	)

787 
	#á–lo
 
á–lo64


	)

792 
__BEGIN_NAMESPACE_STD


793 #iâdeà
__USE_FILE_OFFSET64


798 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

803 
	`f£os
 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
);

805 #ifdeà
__REDIRECT


806 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

807 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

808 
	`__REDIRECT
 (
f£os
,

809 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
), 
f£os64
);

811 
	#fg‘pos
 
fg‘pos64


	)

812 
	#f£os
 
f£os64


	)

815 
__END_NAMESPACE_STD


817 #ifdeà
__USE_LARGEFILE64


818 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

819 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

820 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

821 
	`f£os64
 (
FILE
 *
__¡»am
, cÚ¡ 
åos64_t
 *
__pos
);

824 
__BEGIN_NAMESPACE_STD


826 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

828 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

830 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

831 
__END_NAMESPACE_STD


833 #ifdeà
__USE_MISC


835 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

836 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

837 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

841 
__BEGIN_NAMESPACE_STD


846 
	`³¼Ü
 (cÚ¡ *
__s
);

847 
__END_NAMESPACE_STD


853 
	~<b™s/sys_”¾i¡.h
>

856 #ifdef 
__USE_POSIX


858 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

861 #ifdeà
__USE_MISC


863 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

867 #ià(
defšed
 
__USE_POSIX2
 || defšed 
__USE_SVID
 || defšed 
__USE_BSD
 || \

868 
defšed
 
__USE_MISC
)

873 
FILE
 *
	$pİ’
 (cÚ¡ *
__commªd
, cÚ¡ *
__modes
è
__wur
;

879 
	`pşo£
 (
FILE
 *
__¡»am
);

883 #ifdef 
__USE_POSIX


885 *
	$ù”mid
 (*
__s
è
__THROW
;

889 #ifdeà
__USE_XOPEN


891 *
	`cu£rid
 (*
__s
);

895 #ifdef 
__USE_GNU


896 
ob¡ack
;

899 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

900 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

901 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

902 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

903 cÚ¡ *
__»¡riù
 
__fÜm©
,

904 
_G_va_li¡
 
__¬gs
)

905 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

909 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


913 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

917 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

920 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

923 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


927 
	#__Ãed_g‘İt


	)

928 
	~<g‘İt.h
>

933 #ifdeà
__USE_EXTERN_INLINES


934 
	~<b™s/¡dio.h
>

936 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


937 
	~<b™s/¡dio2.h
>

939 #ifdeà
__LDBL_COMPAT


940 
	~<b™s/¡dio-ldbl.h
>

943 
__END_DECLS


	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

34 
	g__BEGIN_DECLS


36 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


37 
	#_STDLIB_H
 1

	)

39 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


41 
	~<b™s/wa™æags.h
>

42 
	~<b™s/wa™¡©us.h
>

44 #ifdeà
__USE_BSD


49 #ià
defšed
 
__GNUC__
 && !defšed 
__ılu¥lus


50 
	#__WAIT_INT
(
¡©us
) \

51 (
	`__ex‹nsiÚ__
 (((uniÚ { 
	`__ty³of
(
¡©us
è
__š
; 
__i
; }) \

52 { .
__š
 = (
¡©us
è}).
__i
))

	)

54 
	#__WAIT_INT
(
¡©us
è(*(*è&(¡©us))

	)

62 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2 || defšed 
__ılu¥lus


63 
	#__WAIT_STATUS
 *

	)

64 
	#__WAIT_STATUS_DEFN
 *

	)

69 
wa™
 *
	m__u±r
;

70 *
	m__Œ
;

71 } 
	t__WAIT_STATUS
 
	t__©Œibu‹__
 ((
	t__Œª¥¬’t_uniÚ__
));

72 
	#__WAIT_STATUS_DEFN
 *

	)

77 
	#__WAIT_INT
(
¡©us
è(¡©us)

	)

78 
	#__WAIT_STATUS
 *

	)

79 
	#__WAIT_STATUS_DEFN
 *

	)

84 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (¡©us))

	)

85 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (
	`__WAIT_INT
 (¡©us))

	)

86 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (
	`__WAIT_INT
 (¡©us))

	)

87 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (
	`__WAIT_INT
 (¡©us))

	)

88 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (¡©us))

	)

89 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (¡©us))

	)

90 #ifdeà
__WIFCONTINUED


91 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (¡©us))

	)

95 
__BEGIN_NAMESPACE_STD


99 
	mquÙ
;

100 
	m»m
;

101 } 
	tdiv_t
;

104 #iâdeà
__ldiv_t_defšed


107 
	mquÙ
;

108 
	m»m
;

109 } 
	tldiv_t
;

110 
	#__ldiv_t_defšed
 1

	)

112 
	g__END_NAMESPACE_STD


114 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


115 
__BEGIN_NAMESPACE_C99


117 
__ex‹nsiÚ__
 struct

119 
	mquÙ
;

120 
	m»m
;

121 } 
	tÎdiv_t
;

122 
	#__Îdiv_t_defšed
 1

	)

123 
	g__END_NAMESPACE_C99


128 
	#RAND_MAX
 2147483647

	)

133 
	#EXIT_FAILURE
 1

	)

134 
	#EXIT_SUCCESS
 0

	)

138 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

139 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

142 
__BEGIN_NAMESPACE_STD


144 
	$©of
 (cÚ¡ *
__ÅŒ
)

145 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

147 
	$©oi
 (cÚ¡ *
__ÅŒ
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

150 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

151 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

152 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GLIBC_HAVE_LONG_LONG
 && defšed 
__USE_MISC
)

155 
__BEGIN_NAMESPACE_C99


157 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

158 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

159 
__END_NAMESPACE_C99


162 
__BEGIN_NAMESPACE_STD


164 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

167 
__END_NAMESPACE_STD


169 #ifdef 
__USE_ISOC99


170 
__BEGIN_NAMESPACE_C99


172 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

173 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

175 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

176 **
__»¡riù
 
__’d±r
)

177 
__THROW
 
	`__nÚnuÎ
 ((1));

178 
__END_NAMESPACE_C99


181 
__BEGIN_NAMESPACE_STD


183 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

184 **
__»¡riù
 
__’d±r
, 
__ba£
)

185 
__THROW
 
	`__nÚnuÎ
 ((1));

187 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

190 
__END_NAMESPACE_STD


192 #ià
defšed
 
__GLIBC_HAVE_LONG_LONG
 && defšed 
__USE_BSD


194 
__ex‹nsiÚ__


195 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

196 **
__»¡riù
 
__’d±r
, 
__ba£
)

197 
__THROW
 
	`__nÚnuÎ
 ((1));

199 
__ex‹nsiÚ__


200 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

205 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GLIBC_HAVE_LONG_LONG
 && defšed 
__USE_MISC
)

206 
__BEGIN_NAMESPACE_C99


208 
__ex‹nsiÚ__


209 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

210 **
__»¡riù
 
__’d±r
, 
__ba£
)

211 
__THROW
 
	`__nÚnuÎ
 ((1));

213 
__ex‹nsiÚ__


214 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

215 **
__»¡riù
 
__’d±r
, 
__ba£
)

216 
__THROW
 
	`__nÚnuÎ
 ((1));

217 
__END_NAMESPACE_C99


221 #ifdeà
__USE_GNU


235 
	~<xloÿË.h
>

239 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

240 **
__»¡riù
 
__’d±r
, 
__ba£
,

241 
__loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

243 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

244 **
__»¡riù
 
__’d±r
,

245 
__ba£
, 
__loÿË_t
 
__loc
)

246 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

248 
__ex‹nsiÚ__


249 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

250 **
__»¡riù
 
__’d±r
, 
__ba£
,

251 
__loÿË_t
 
__loc
)

252 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

254 
__ex‹nsiÚ__


255 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

256 **
__»¡riù
 
__’d±r
,

257 
__ba£
, 
__loÿË_t
 
__loc
)

258 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

260 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

261 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

262 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

264 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

265 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

266 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

268 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

269 **
__»¡riù
 
__’d±r
,

270 
__loÿË_t
 
__loc
)

271 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

275 #ifdeà
__USE_EXTERN_INLINES


276 
__BEGIN_NAMESPACE_STD


277 
__ex‹º_šlše
 

278 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

280  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

281 
	}
}

282 
__ex‹º_šlše
 

283 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

285  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

286 
	}
}

287 
	g__END_NAMESPACE_STD


289 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


290 
__BEGIN_NAMESPACE_C99


291 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

292 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

294  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

295 
	}
}

296 
	g__END_NAMESPACE_C99


301 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED


305 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

308 
	$a64l
 (cÚ¡ *
__s
)

309 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

313 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_BSD


314 
	~<sys/ty³s.h
>

321 
	$¿ndom
 (è
__THROW
;

324 
	$¤ªdom
 (
__£ed
è
__THROW
;

330 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

331 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

335 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

338 #ifdeà
__USE_MISC


343 
	s¿ndom_d©a


345 
št32_t
 *
åŒ
;

346 
št32_t
 *
½Œ
;

347 
št32_t
 *
¡©e
;

348 
¿nd_ty³
;

349 
¿nd_deg
;

350 
¿nd_£p
;

351 
št32_t
 *
’d_±r
;

354 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

355 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

357 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

358 
__THROW
 
	`__nÚnuÎ
 ((2));

360 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

361 
size_t
 
__¡©–’
,

362 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

363 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

365 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

366 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

367 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

372 
__BEGIN_NAMESPACE_STD


374 
	$¿nd
 (è
__THROW
;

376 
	$¤ªd
 (
__£ed
è
__THROW
;

377 
__END_NAMESPACE_STD


379 #ifdeà
__USE_POSIX


381 
	$¿nd_r
 (*
__£ed
è
__THROW
;

385 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


389 
	$d¿nd48
 (è
__THROW
;

390 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

393 
	$Ìªd48
 (è
__THROW
;

394 
	$Äªd48
 (
__xsubi
[3])

395 
__THROW
 
	`__nÚnuÎ
 ((1));

398 
	$m¿nd48
 (è
__THROW
;

399 
	$j¿nd48
 (
__xsubi
[3])

400 
__THROW
 
	`__nÚnuÎ
 ((1));

403 
	$¤ªd48
 (
__£edv®
è
__THROW
;

404 *
	$£ed48
 (
__£ed16v
[3])

405 
__THROW
 
	`__nÚnuÎ
 ((1));

406 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

408 #ifdeà
__USE_MISC


412 
	sd¿nd48_d©a


414 
__x
[3];

415 
__Şd_x
[3];

416 
__c
;

417 
__š™
;

418 
__a
;

422 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

423 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

424 
	$”ªd48_r
 (
__xsubi
[3],

425 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

426 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

429 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

430 *
__»¡riù
 
__»suÉ
)

431 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

432 
	$Äªd48_r
 (
__xsubi
[3],

433 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

434 *
__»¡riù
 
__»suÉ
)

435 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

438 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

439 *
__»¡riù
 
__»suÉ
)

440 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

441 
	$j¿nd48_r
 (
__xsubi
[3],

442 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

443 *
__»¡riù
 
__»suÉ
)

444 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

447 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

448 
__THROW
 
	`__nÚnuÎ
 ((2));

450 
	$£ed48_r
 (
__£ed16v
[3],

451 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

453 
	$lcÚg48_r
 (
__·¿m
[7],

454 
d¿nd48_d©a
 *
__bufãr
)

455 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

461 #iâdeà
__m®loc_ªd_ÿÎoc_defšed


462 
	#__m®loc_ªd_ÿÎoc_defšed


	)

463 
__BEGIN_NAMESPACE_STD


465 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

467 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

468 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

469 
__END_NAMESPACE_STD


472 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


473 
__BEGIN_NAMESPACE_STD


479 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

480 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

482 
	$ä“
 (*
__±r
è
__THROW
;

483 
__END_NAMESPACE_STD


485 #ifdef 
__USE_MISC


487 
	$cä“
 (*
__±r
è
__THROW
;

490 #ià
defšed
 
__USE_GNU
 || defšed 
__USE_BSD
 || defšed 
__USE_MISC


491 
	~<®loÿ.h
>

494 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

495 || 
defšed
 
__USE_BSD


497 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

500 #ifdeà
__USE_XOPEN2K


502 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

503 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

506 #ifdeà
__USE_ISOC11


508 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

509 
__THROW
 
__wur
 
	`__©Œibu‹__
 ((
__m®loc__
, 
	`__®loc_size__
 (2)));

512 
__BEGIN_NAMESPACE_STD


514 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

518 
	`©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

520 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


522 #ifdeà
__ılu¥lus


523 "C++" 
	`©_quick_ex™
 ((*
__func
) ())

524 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

526 
	`©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

529 
__END_NAMESPACE_STD


531 #ifdef 
__USE_MISC


534 
	`Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

535 
__THROW
 
	`__nÚnuÎ
 ((1));

538 
__BEGIN_NAMESPACE_STD


542 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

544 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


548 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

550 
__END_NAMESPACE_STD


552 #ifdeà
__USE_ISOC99


553 
__BEGIN_NAMESPACE_C99


556 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

557 
__END_NAMESPACE_C99


561 
__BEGIN_NAMESPACE_STD


563 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

564 
__END_NAMESPACE_STD


566 #ifdeà
__USE_GNU


569 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

570 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

573 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


577 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

580 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K


583 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

584 
__THROW
 
	`__nÚnuÎ
 ((2));

587 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

590 #ifdef 
__USE_MISC


594 
	$ş—»nv
 (è
__THROW
;

598 #ià
defšed
 
__USE_MISC
 \

599 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

605 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

608 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 \

609 || 
defšed
 
__USE_XOPEN2K8


618 #iâdeà
__USE_FILE_OFFSET64


619 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

621 #ifdeà
__REDIRECT


622 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

623 
	`__nÚnuÎ
 ((1)è
__wur
;

625 
	#mk¡emp
 
mk¡emp64


	)

628 #ifdeà
__USE_LARGEFILE64


629 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

633 #ifdeà
__USE_MISC


640 #iâdeà
__USE_FILE_OFFSET64


641 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

643 #ifdeà
__REDIRECT


644 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

645 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

647 
	#mk¡emps
 
mk¡emps64


	)

650 #ifdeà
__USE_LARGEFILE64


651 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

652 
	`__nÚnuÎ
 ((1)è
__wur
;

656 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K8


662 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

665 #ifdeà
__USE_GNU


672 #iâdeà
__USE_FILE_OFFSET64


673 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

675 #ifdeà
__REDIRECT


676 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

677 
	`__nÚnuÎ
 ((1)è
__wur
;

679 
	#mko¡emp
 
mko¡emp64


	)

682 #ifdeà
__USE_LARGEFILE64


683 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

692 #iâdeà
__USE_FILE_OFFSET64


693 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

694 
	`__nÚnuÎ
 ((1)è
__wur
;

696 #ifdeà
__REDIRECT


697 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

698 
__æags
), 
mko¡emps64
)

699 
	`__nÚnuÎ
 ((1)è
__wur
;

701 
	#mko¡emps
 
mko¡emps64


	)

704 #ifdeà
__USE_LARGEFILE64


705 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

706 
	`__nÚnuÎ
 ((1)è
__wur
;

711 
__BEGIN_NAMESPACE_STD


716 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

717 
__END_NAMESPACE_STD


720 #ifdef 
__USE_GNU


723 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

724 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

727 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


733 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

734 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

739 #iâdeà
__COMPAR_FN_T


740 
	#__COMPAR_FN_T


	)

741 (*
	t__com·r_â_t
) (const *, const *);

743 #ifdef 
__USE_GNU


744 
__com·r_â_t
 
	tcom·risÚ_â_t
;

747 #ifdeà
__USE_GNU


748 (*
	t__com·r_d_â_t
) (const *, const *, *);

751 
__BEGIN_NAMESPACE_STD


754 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

755 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

756 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

760 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

761 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

762 #ifdeà
__USE_GNU


763 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

764 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

765 
	`__nÚnuÎ
 ((1, 4));

770 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

771 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

772 
__END_NAMESPACE_STD


774 #ifdeà
__USE_ISOC99


775 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

776 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

780 
__BEGIN_NAMESPACE_STD


784 
div_t
 
	$div
 (
__num”
, 
__d’om
)

785 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

786 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

787 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

788 
__END_NAMESPACE_STD


790 #ifdeà
__USE_ISOC99


791 
__BEGIN_NAMESPACE_C99


792 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

793 
__d’om
)

794 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

795 
__END_NAMESPACE_C99


799 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

800 || 
defšed
 
__USE_SVID


807 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

808 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

813 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

814 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

819 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

820 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

823 #ifdeà
__USE_MISC


825 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

826 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

827 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

828 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

829 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

830 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

831 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

832 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

837 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

838 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

839 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

840 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

841 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

842 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

844 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

845 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

846 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

847 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

848 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

849 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

850 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

851 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

856 
__BEGIN_NAMESPACE_STD


859 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
 
__wur
;

862 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

863 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
 
__wur
;

866 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
 
__wur
;

870 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

871 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

873 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

874 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

875 
__THROW
;

876 
__END_NAMESPACE_STD


879 #ifdeà
__USE_SVID


884 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

888 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


895 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

896 *cÚ¡ *
__»¡riù
 
__tok’s
,

897 **
__»¡riù
 
__v®u•
)

898 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

902 #ifdeà
__USE_XOPEN


904 
	$£tkey
 (cÚ¡ *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

910 #ifdeà
__USE_XOPEN2KXSI


912 
	$posix_İ’±
 (
__oæag
è
__wur
;

915 #ifdeà
__USE_XOPEN


920 
	$g¿Á±
 (
__fd
è
__THROW
;

924 
	$uÆock±
 (
__fd
è
__THROW
;

929 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

932 #ifdeà
__USE_GNU


936 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

937 
__THROW
 
	`__nÚnuÎ
 ((2));

940 
	`g‘±
 ();

943 #ifdeà
__USE_BSD


947 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

948 
__THROW
 
	`__nÚnuÎ
 ((1));

951 
	~<b™s/¡dlib-æßt.h
>

954 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


955 
	~<b™s/¡dlib.h
>

957 #ifdeà
__LDBL_COMPAT


958 
	~<b™s/¡dlib-ldbl.h
>

962 #undeà
__Ãed_m®loc_ªd_ÿÎoc


964 
__END_DECLS


	@/usr/include/string.h

22 #iâdef 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


30 
	#__Ãed_size_t


	)

31 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

35 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

36 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

40 
__BEGIN_NAMESPACE_STD


42 *
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

43 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

46 *
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

47 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

48 
__END_NAMESPACE_STD


53 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN


54 *
	$memcıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

55 
__c
, 
size_t
 
__n
)

56 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

60 
__BEGIN_NAMESPACE_STD


62 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

65 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

66 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

69 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


72 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

73 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

74 cÚ¡ *
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

75 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

77 #ifdeà
__OPTIMIZE__


78 
__ex‹º_®ways_šlše
 *

79 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


81  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

84 
__ex‹º_®ways_šlše
 const *

85 
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


87  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

90 
	}
}

92 *
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

93 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

95 
__END_NAMESPACE_STD


97 #ifdeà
__USE_GNU


100 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


101 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

102 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

103 "C++" cÚ¡ *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

104 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

106 *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

107 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

111 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


112 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

113 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

114 "C++" cÚ¡ *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

117 *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

118 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

123 
__BEGIN_NAMESPACE_STD


125 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

126 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

128 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

129 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

130 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

133 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

134 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

136 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

137 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

140 
	$¡rcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

141 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

143 
	$¡ºcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

144 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

147 
	$¡rcŞl
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

150 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

151 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

152 
__THROW
 
	`__nÚnuÎ
 ((2));

153 
__END_NAMESPACE_STD


155 #ifdeà
__USE_XOPEN2K8


159 
	~<xloÿË.h
>

162 
	$¡rcŞl_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
__loÿË_t
 
__l
)

163 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

165 
size_t
 
	$¡rxäm_l
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

166 
__loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

169 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 \

170 || 
defšed
 
__USE_XOPEN2K8


172 *
	$¡rdup
 (cÚ¡ *
__s
)

173 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

179 #ià
defšed
 
__USE_XOPEN2K8


180 *
	$¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

181 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

184 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


186 
	#¡rdu·
(
s
) \

187 (
__ex‹nsiÚ__
 \

189 cÚ¡ *
__Şd
 = (
s
); \

190 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

191 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

192 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

193 
	}
}))

	)

196 
	#¡ºdu·
(
s
, 
n
) \

197 (
__ex‹nsiÚ__
 \

199 cÚ¡ *
__Şd
 = (
s
); \

200 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

201 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

202 
__Ãw
[
__Ën
] = '\0'; \

203 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

204 }))

	)

207 
	g__BEGIN_NAMESPACE_STD


209 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


212 *
¡rchr
 (*
__s
, 
__c
)

213 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

214 cÚ¡ *
¡rchr
 (cÚ¡ *
__s
, 
__c
)

215 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

217 #ifdeà
__OPTIMIZE__


218 
__ex‹º_®ways_šlše
 *

219 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


221  
__butš_¡rchr
 (
__s
, 
__c
);

224 
__ex‹º_®ways_šlše
 const *

225 
¡rchr
 (cÚ¡ *
__s
, 
__c
è
	g__THROW


227  
__butš_¡rchr
 (
__s
, 
__c
);

232 *
	$¡rchr
 (cÚ¡ *
__s
, 
__c
)

233 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

236 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


239 *
	`¡¼chr
 (*
__s
, 
__c
)

240 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

241 cÚ¡ *
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
)

242 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

244 #ifdeà
__OPTIMIZE__


245 
__ex‹º_®ways_šlše
 *

246 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


248  
	`__butš_¡¼chr
 (
__s
, 
__c
);

251 
__ex‹º_®ways_šlše
 const *

252 
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
è
__THROW


254  
	`__butš_¡¼chr
 (
__s
, 
__c
);

257 
	}
}

259 *
	$¡¼chr
 (cÚ¡ *
__s
, 
__c
)

260 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

262 
__END_NAMESPACE_STD


264 #ifdeà
__USE_GNU


267 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


268 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

269 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

270 "C++" cÚ¡ *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

271 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

273 *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

274 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

278 
__BEGIN_NAMESPACE_STD


281 
size_t
 
	$¡rc¥n
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

282 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

285 
size_t
 
	$¡r¥n
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

286 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

288 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


291 *
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
)

292 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

293 cÚ¡ *
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

294 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

296 #ifdeà
__OPTIMIZE__


297 
__ex‹º_®ways_šlše
 *

298 
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
è
__THROW


300  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

303 
__ex‹º_®ways_šlše
 const *

304 
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
è
__THROW


306  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

309 
	}
}

311 *
	$¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

312 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

315 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


318 *
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

319 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

320 cÚ¡ *
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

321 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

323 #ifdeà
__OPTIMIZE__


324 
__ex‹º_®ways_šlše
 *

325 
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


327  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

330 
__ex‹º_®ways_šlše
 const *

331 
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


333  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

336 
	}
}

338 *
	$¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

339 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

344 *
	$¡¹ok
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
)

345 
__THROW
 
	`__nÚnuÎ
 ((2));

346 
__END_NAMESPACE_STD


350 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

351 cÚ¡ *
__»¡riù
 
__d–im
,

352 **
__»¡riù
 
__§ve_±r
)

353 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

354 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


355 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
,

356 **
__»¡riù
 
__§ve_±r
)

357 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

360 #ifdeà
__USE_GNU


362 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


363 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

364 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

365 "C++" cÚ¡ *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
,

366 cÚ¡ *
__ÃedË
)

367 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

369 *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

370 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

374 #ifdeà
__USE_GNU


378 *
	$memmem
 (cÚ¡ *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

379 cÚ¡ *
__ÃedË
, 
size_t
 
__ÃedËËn
)

380 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3));

384 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

385 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

386 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

387 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

388 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

389 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

393 
__BEGIN_NAMESPACE_STD


395 
size_t
 
	$¡¾’
 (cÚ¡ *
__s
)

396 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

397 
__END_NAMESPACE_STD


399 #ifdef 
__USE_XOPEN2K8


402 
size_t
 
	$¡ºËn
 (cÚ¡ *
__¡ršg
, 
size_t
 
__maxËn
)

403 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

407 
__BEGIN_NAMESPACE_STD


409 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

410 
__END_NAMESPACE_STD


411 #ià
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_MISC


419 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


422 #ifdeà
__REDIRECT_NTH


423 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

424 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

425 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2));

427 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

428 
__THROW
 
	`__nÚnuÎ
 ((2));

429 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

434 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

435 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

439 #ifdeà
__USE_XOPEN2K8


441 *
	$¡»¼Ü_l
 (
__”ºum
, 
__loÿË_t
 
__l
è
__THROW
;

447 
	$__bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

449 #ifdeà
__USE_BSD


451 
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__n
)

452 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

455 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

458 
	$bcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

459 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

462 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


465 *
	`šdex
 (*
__s
, 
__c
)

466 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

467 cÚ¡ *
	`šdex
 (cÚ¡ *
__s
, 
__c
)

468 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

470 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


471 
__ex‹º_®ways_šlše
 *

472 
	`šdex
 (*
__s
, 
__c
è
__THROW


474  
	`__butš_šdex
 (
__s
, 
__c
);

477 
__ex‹º_®ways_šlše
 const *

478 
	`šdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


480  
	`__butš_šdex
 (
__s
, 
__c
);

483 
	}
}

485 *
	$šdex
 (cÚ¡ *
__s
, 
__c
)

486 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

490 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


493 *
	`ršdex
 (*
__s
, 
__c
)

494 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

495 cÚ¡ *
	`ršdex
 (cÚ¡ *
__s
, 
__c
)

496 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

498 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


499 
__ex‹º_®ways_šlše
 *

500 
	`ršdex
 (*
__s
, 
__c
è
__THROW


502  
	`__butš_ršdex
 (
__s
, 
__c
);

505 
__ex‹º_®ways_šlše
 const *

506 
	`ršdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


508  
	`__butš_ršdex
 (
__s
, 
__c
);

511 
	}
}

513 *
	$ršdex
 (cÚ¡ *
__s
, 
__c
)

514 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

519 
	$ffs
 (
__i
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

523 #ifdef 
__USE_GNU


524 
	$ff¦
 (
__l
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

525 #ifdeà
__GNUC__


526 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

527 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

532 
	$¡rÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

533 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

536 
	$¡ºÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

537 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

540 #ifdef 
__USE_GNU


543 
	$¡rÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

544 
__loÿË_t
 
__loc
)

545 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

547 
	$¡ºÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

548 
size_t
 
__n
, 
__loÿË_t
 
__loc
)

549 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

552 #ifdef 
__USE_BSD


555 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

556 cÚ¡ *
__»¡riù
 
__d–im
)

557 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

560 #ifdef 
__USE_XOPEN2K8


562 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

565 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

566 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

567 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

568 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

572 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

573 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

574 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

575 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

576 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

577 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

580 #ifdef 
__USE_GNU


582 
	$¡rv”scmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

583 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

586 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

589 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

591 #iâdeà
ba£Çme


596 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


597 "C++" *
	$ba£Çme
 (*
__f’ame
)

598 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

599 "C++" cÚ¡ *
	$ba£Çme
 (cÚ¡ *
__f’ame
)

600 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

602 *
	$ba£Çme
 (cÚ¡ *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

608 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

609 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__OPTIMIZE_SIZE__
 \

610 && !
defšed
 
__NO_INLINE__
 && !defšed 
__ılu¥lus


630 
	~<b™s/¡ršg.h
>

633 
	~<b™s/¡ršg2.h
>

636 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


638 
	~<b™s/¡ršg3.h
>

642 
__END_DECLS


	@/usr/include/stropts.h

18 #iâdeà
_STROPTS_H


19 
	#_STROPTS_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<b™s/ty³s.h
>

23 
	~<b™s/xt™y³s.h
>

25 #iâdeà
__gid_t_defšed


26 
__gid_t
 
	tgid_t
;

27 
	#__gid_t_defšed


	)

30 #iâdeà
__uid_t_defšed


31 
__uid_t
 
	tuid_t
;

32 
	#__uid_t_defšed


	)

35 
__t_sÿÏr_t
 
	tt_sÿÏr_t
;

36 
__t_usÿÏr_t
 
	tt_usÿÏr_t
;

39 
	~<b™s/¡rİts.h
>

42 
__BEGIN_DECLS


45 
	$i§¡»am
 (
__fdes
è
__THROW
;

51 
	`g‘msg
 (
__fdes
, 
¡rbuf
 *
__»¡riù
 
__ùÍŒ
,

52 
¡rbuf
 *
__»¡riù
 
__d©­Œ
,

53 *
__»¡riù
 
__æag¥
);

60 
	`g‘pmsg
 (
__fdes
, 
¡rbuf
 *
__»¡riù
 
__ùÍŒ
,

61 
¡rbuf
 *
__»¡riù
 
__d©­Œ
,

62 *
__»¡riù
 
__bªdp
, *__»¡riù 
__æag¥
);

67 
	$ioùl
 (
__fd
, 
__»que¡
, ...è
__THROW
;

73 
	`putmsg
 (
__fdes
, cÚ¡ 
¡rbuf
 *
__ùÍŒ
,

74 cÚ¡ 
¡rbuf
 *
__d©­Œ
, 
__æags
);

80 
	`pumsg
 (
__fdes
, cÚ¡ 
¡rbuf
 *
__ùÍŒ
,

81 cÚ¡ 
¡rbuf
 *
__d©­Œ
, 
__bªd
, 
__æags
);

85 
	$ç‰ach
 (
__fdes
, cÚ¡ *
__·th
è
__THROW
;

88 
	$fd‘ach
 (cÚ¡ *
__·th
è
__THROW
;

90 
__END_DECLS


	@/usr/include/termios.h

23 #iâdef 
_TERMIOS_H


24 
	#_TERMIOS_H
 1

	)

26 
	~<ã©u»s.h
>

27 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


29 
	~<b™s/ty³s.h
>

30 #iâdeà
__pid_t_defšed


31 
__pid_t
 
	tpid_t
;

32 
	#__pid_t_defšed


	)

36 
	g__BEGIN_DECLS


40 
	~<b™s/‹rmios.h
>

42 #ifdeà
__USE_BSD


45 
	#CCEQ
(
v®
, 
c
è((cè=ğ(v®è&& (v®è!ğ
_POSIX_VDISABLE
)

	)

49 
¥“d_t
 
	$cfg‘o¥“d
 (cÚ¡ 
‹rmios
 *
__‹rmios_p
è
__THROW
;

52 
¥“d_t
 
	$cfg‘i¥“d
 (cÚ¡ 
‹rmios
 *
__‹rmios_p
è
__THROW
;

55 
	$cf£to¥“d
 (
‹rmios
 *
__‹rmios_p
, 
¥“d_t
 
__¥“d
è
__THROW
;

58 
	$cf£ti¥“d
 (
‹rmios
 *
__‹rmios_p
, 
¥“d_t
 
__¥“d
è
__THROW
;

60 #ifdef 
__USE_BSD


62 
	$cf£t¥“d
 (
‹rmios
 *
__‹rmios_p
, 
¥“d_t
 
__¥“d
è
__THROW
;

67 
	$tcg‘©Œ
 (
__fd
, 
‹rmios
 *
__‹rmios_p
è
__THROW
;

71 
	$tc£‰r
 (
__fd
, 
__İtiÚ®_aùiÚs
,

72 cÚ¡ 
‹rmios
 *
__‹rmios_p
è
__THROW
;

75 #ifdef 
__USE_BSD


77 
	$cfmak”aw
 (
‹rmios
 *
__‹rmios_p
è
__THROW
;

81 
	$tc£ndb»ak
 (
__fd
, 
__du¿tiÚ
è
__THROW
;

87 
	`tcd¿š
 (
__fd
);

91 
	$tcæush
 (
__fd
, 
__queue_£ËùÜ
è
__THROW
;

95 
	$tcæow
 (
__fd
, 
__aùiÚ
è
__THROW
;

98 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


100 
__pid_t
 
	$tcg‘sid
 (
__fd
è
__THROW
;

104 #ifdeà
__USE_BSD


105 
	~<sys/‰ydeçuÉs.h
>

108 
__END_DECLS


	@/usr/include/time.h

22 #iâdef 
_TIME_H


24 #ià(! 
defšed
 
__Ãed_time_t
 && !defšed 
__Ãed_şock_t
 && \

25 ! 
defšed
 
	g__Ãed_time¥ec
)

26 
	#_TIME_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


33 #ifdef 
_TIME_H


35 
	#__Ãed_size_t


	)

36 
	#__Ãed_NULL


	)

37 
	~<¡ddef.h
>

41 
	~<b™s/time.h
>

44 #ià!
defšed
 
__STRICT_ANSI__
 && !defšed 
__USE_XOPEN2K


45 #iâdeà
CLK_TCK


46 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

52 #ià!
defšed
 
__şock_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_şock_t
)

53 
	#__şock_t_defšed
 1

	)

55 
	~<b™s/ty³s.h
>

57 
__BEGIN_NAMESPACE_STD


59 
__şock_t
 
	tşock_t
;

60 
	g__END_NAMESPACE_STD


61 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


62 
	$__USING_NAMESPACE_STD
(
şock_t
)

66 #undeà
__Ãed_şock_t


68 #ià!
defšed
 
__time_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_time_t
)

69 
	#__time_t_defšed
 1

	)

71 
	~<b™s/ty³s.h
>

73 
__BEGIN_NAMESPACE_STD


75 
__time_t
 
	ttime_t
;

76 
__END_NAMESPACE_STD


77 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC
 || defšed 
__USE_SVID


78 
	$__USING_NAMESPACE_STD
(
time_t
)

82 #undeà
__Ãed_time_t


84 #ià!
defšed
 
__şockid_t_defšed
 && \

85 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_şockid_t
)

86 
	#__şockid_t_defšed
 1

	)

88 
	~<b™s/ty³s.h
>

91 
__şockid_t
 
	tşockid_t
;

94 #undeà
__şockid_time_t


96 #ià!
defšed
 
__tim”_t_defšed
 && \

97 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_tim”_t
)

98 
	#__tim”_t_defšed
 1

	)

100 
	~<b™s/ty³s.h
>

103 
__tim”_t
 
	ttim”_t
;

106 #undeà
__Ãed_tim”_t


109 #ià(!
defšed
 
__time¥ec_defšed
 \

110 && ((
defšed
 
_TIME_H
 \

111 && (
defšed
 
__USE_POSIX199309
 || defšed 
__USE_MISC
 \

112 || 
defšed
 
__USE_ISOC11
)) \

113 || 
defšed
 
__Ãed_time¥ec
))

114 
	#__time¥ec_defšed
 1

	)

116 
	~<b™s/ty³s.h
>

120 
	stime¥ec


122 
__time_t
 
tv_£c
;

123 
__sysÿÎ_¦Úg_t
 
tv_n£c
;

127 #undeà
__Ãed_time¥ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mš
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_mÚ
;

140 
tm_y—r
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd¡
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 cÚ¡ *
tm_zÚe
;

149 
__tm_gmtoff
;

150 cÚ¡ *
__tm_zÚe
;

153 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifdeà
__USE_POSIX199309


161 
	s™im”¥ec


163 
time¥ec
 
™_š‹rv®
;

164 
time¥ec
 
™_v®ue
;

168 
sigev’t
;

172 #ifdeà
__USE_XOPEN2K


173 #iâdeà
__pid_t_defšed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_defšed


	)

180 #ifdeà
__USE_ISOC11


182 
	#TIME_UTC
 1

	)

186 
__BEGIN_NAMESPACE_STD


189 
şock_t
 
	$şock
 (è
__THROW
;

192 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

195 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

196 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

199 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

205 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

206 cÚ¡ *
__»¡riù
 
__fÜm©
,

207 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

208 
__END_NAMESPACE_STD


210 #ifdeà
__USE_XOPEN


213 *
	$¡½time
 (cÚ¡ *
__»¡riù
 
__s
,

214 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
)

215 
__THROW
;

218 #ifdeà
__USE_XOPEN2K8


221 
	~<xloÿË.h
>

223 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

224 cÚ¡ *
__»¡riù
 
__fÜm©
,

225 cÚ¡ 
tm
 *
__»¡riù
 
__
,

226 
__loÿË_t
 
__loc
è
__THROW
;

229 #ifdeà
__USE_GNU


230 *
	$¡½time_l
 (cÚ¡ *
__»¡riù
 
__s
,

231 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
,

232 
__loÿË_t
 
__loc
è
__THROW
;

236 
__BEGIN_NAMESPACE_STD


239 
tm
 *
	$gmtime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

243 
tm
 *
	$loÿÉime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

244 
__END_NAMESPACE_STD


246 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


249 
tm
 *
	$gmtime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

250 
tm
 *
__»¡riù
 
__
è
__THROW
;

254 
tm
 *
	$loÿÉime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

255 
tm
 *
__»¡riù
 
__
è
__THROW
;

258 
__BEGIN_NAMESPACE_STD


261 *
	$asùime
 (cÚ¡ 
tm
 *
__
è
__THROW
;

264 *
	$ùime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

265 
__END_NAMESPACE_STD


267 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


272 *
	$asùime_r
 (cÚ¡ 
tm
 *
__»¡riù
 
__
,

273 *
__»¡riù
 
__buf
è
__THROW
;

276 *
	$ùime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

277 *
__»¡riù
 
__buf
è
__THROW
;

282 *
__tzÇme
[2];

283 
__daylight
;

284 
__timezÚe
;

287 #ifdef 
__USE_POSIX


289 *
tzÇme
[2];

293 
	$tz£t
 (è
__THROW
;

296 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


297 
daylight
;

298 
timezÚe
;

301 #ifdeà
__USE_SVID


304 
	$¡ime
 (cÚ¡ 
time_t
 *
__wh’
è
__THROW
;

310 
	#__i¦—p
(
y—r
) \

311 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

314 #ifdeà
__USE_MISC


319 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

322 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

325 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

329 #ifdeà
__USE_POSIX199309


334 
	`Çno¦“p
 (cÚ¡ 
time¥ec
 *
__»que¡ed_time
,

335 
time¥ec
 *
__»maššg
);

339 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

342 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

345 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, cÚ¡ 
time¥ec
 *
__
)

346 
__THROW
;

348 #ifdeà
__USE_XOPEN2K


353 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

354 cÚ¡ 
time¥ec
 *
__»q
,

355 
time¥ec
 *
__»m
);

358 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

363 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

364 
sigev’t
 *
__»¡riù
 
__evp
,

365 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

368 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

371 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

372 cÚ¡ 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

373 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

376 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

377 
__THROW
;

380 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

384 #ifdeà
__USE_ISOC11


386 
	$time¥ec_g‘
 (
time¥ec
 *
__ts
, 
__ba£
)

387 
__THROW
 
	`__nÚnuÎ
 ((1));

391 #ifdeà
__USE_XOPEN_EXTENDED


403 
g‘d©e_”r
;

412 
tm
 *
	`g‘d©e
 (cÚ¡ *
__¡ršg
);

415 #ifdeà
__USE_GNU


426 
	`g‘d©e_r
 (cÚ¡ *
__»¡riù
 
__¡ršg
,

427 
tm
 *
__»¡riù
 
__»sbuå
);

430 
__END_DECLS


	@/usr/include/unistd.h

22 #iâdef 
_UNISTD_H


23 
	#_UNISTD_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


32 #ifdeà
__USE_XOPEN2K8


34 
	#_POSIX_VERSION
 200809L

	)

35 #–ià
defšed
 
__USE_XOPEN2K


37 
	#_POSIX_VERSION
 200112L

	)

38 #–ià
defšed
 
__USE_POSIX199506


40 
	#_POSIX_VERSION
 199506L

	)

41 #–ià
defšed
 
__USE_POSIX199309


43 
	#_POSIX_VERSION
 199309L

	)

46 
	#_POSIX_VERSION
 199009L

	)

52 #ifdeà
__USE_XOPEN2K8


53 
	#__POSIX2_THIS_VERSION
 200809L

	)

55 #–ià
defšed
 
__USE_XOPEN2K


57 
	#__POSIX2_THIS_VERSION
 200112L

	)

58 #–ià
defšed
 
__USE_POSIX199506


60 
	#__POSIX2_THIS_VERSION
 199506L

	)

63 
	#__POSIX2_THIS_VERSION
 199209L

	)

67 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

71 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

75 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

79 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

83 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

86 #ifdeà
__USE_XOPEN2K8


87 
	#_XOPEN_VERSION
 700

	)

88 #–ià
defšed
 
__USE_XOPEN2K


89 
	#_XOPEN_VERSION
 600

	)

90 #–ià
defšed
 
__USE_UNIX98


91 
	#_XOPEN_VERSION
 500

	)

93 
	#_XOPEN_VERSION
 4

	)

97 
	#_XOPEN_XCU_VERSION
 4

	)

100 
	#_XOPEN_XPG2
 1

	)

101 
	#_XOPEN_XPG3
 1

	)

102 
	#_XOPEN_XPG4
 1

	)

105 
	#_XOPEN_UNIX
 1

	)

108 
	#_XOPEN_CRYPT
 1

	)

112 
	#_XOPEN_ENH_I18N
 1

	)

115 
	#_XOPEN_LEGACY
 1

	)

202 
	~<b™s/posix_İt.h
>

205 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


206 
	~<b™s/’vœÚm’ts.h
>

210 
	#STDIN_FILENO
 0

	)

211 
	#STDOUT_FILENO
 1

	)

212 
	#STDERR_FILENO
 2

	)

217 
	~<b™s/ty³s.h
>

219 #iâdef 
__ssize_t_defšed


220 
__ssize_t
 
	tssize_t
;

221 
	#__ssize_t_defšed


	)

224 
	#__Ãed_size_t


	)

225 
	#__Ãed_NULL


	)

226 
	~<¡ddef.h
>

228 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


231 #iâdeà
__gid_t_defšed


232 
__gid_t
 
	tgid_t
;

233 
	#__gid_t_defšed


	)

236 #iâdeà
__uid_t_defšed


237 
__uid_t
 
	tuid_t
;

238 
	#__uid_t_defšed


	)

241 #iâdeà
__off_t_defšed


242 #iâdeà
__USE_FILE_OFFSET64


243 
__off_t
 
	toff_t
;

245 
__off64_t
 
	toff_t
;

247 
	#__off_t_defšed


	)

249 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


250 
__off64_t
 
	toff64_t
;

251 
	#__off64_t_defšed


	)

254 #iâdeà
__u£cÚds_t_defšed


255 
__u£cÚds_t
 
	tu£cÚds_t
;

256 
	#__u£cÚds_t_defšed


	)

259 #iâdeà
__pid_t_defšed


260 
__pid_t
 
	tpid_t
;

261 
	#__pid_t_defšed


	)

265 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


266 #iâdeà
__šŒ_t_defšed


267 
__šŒ_t
 
	tšŒ_t
;

268 
	#__šŒ_t_defšed


	)

272 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN


273 #iâdeà
__sockËn_t_defšed


274 
__sockËn_t
 
	tsockËn_t
;

275 
	#__sockËn_t_defšed


	)

281 
	#R_OK
 4

	)

282 
	#W_OK
 2

	)

283 
	#X_OK
 1

	)

284 
	#F_OK
 0

	)

287 
	$acûss
 (cÚ¡ *
__Çme
, 
__ty³
è
__THROW
 
	`__nÚnuÎ
 ((1));

289 #ifdeà
__USE_GNU


292 
	$euidacûss
 (cÚ¡ *
__Çme
, 
__ty³
)

293 
__THROW
 
	`__nÚnuÎ
 ((1));

296 
	$—cûss
 (cÚ¡ *
__Çme
, 
__ty³
)

297 
__THROW
 
	`__nÚnuÎ
 ((1));

300 #ifdeà
__USE_ATFILE


304 
	$çcûs§t
 (
__fd
, cÚ¡ *
__fe
, 
__ty³
, 
__æag
)

305 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

310 #iâdef 
_STDIO_H


311 
	#SEEK_SET
 0

	)

312 
	#SEEK_CUR
 1

	)

313 
	#SEEK_END
 2

	)

314 #ifdeà
__USE_GNU


315 
	#SEEK_DATA
 3

	)

316 
	#SEEK_HOLE
 4

	)

320 #ià
defšed
 
__USE_BSD
 && !defšed 
L_SET


322 
	#L_SET
 
SEEK_SET


	)

323 
	#L_INCR
 
SEEK_CUR


	)

324 
	#L_XTND
 
SEEK_END


	)

333 #iâdeà
__USE_FILE_OFFSET64


334 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__wh’û
è
__THROW
;

336 #ifdeà
__REDIRECT_NTH


337 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

338 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
),

339 
l£ek64
);

341 
	#l£ek
 
l£ek64


	)

344 #ifdeà
__USE_LARGEFILE64


345 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
)

346 
__THROW
;

353 
	`şo£
 (
__fd
);

360 
ssize_t
 
	$»ad
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
è
__wur
;

366 
ssize_t
 
	$wr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
è
__wur
;

368 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


369 #iâdeà
__USE_FILE_OFFSET64


376 
ssize_t
 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

377 
__off_t
 
__off£t
è
__wur
;

384 
ssize_t
 
	$pwr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

385 
__off_t
 
__off£t
è
__wur
;

387 #ifdeà
__REDIRECT


388 
ssize_t
 
	`__REDIRECT
 (
´—d
, (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

389 
__off64_t
 
__off£t
),

390 
´—d64
è
__wur
;

391 
ssize_t
 
	`__REDIRECT
 (
pwr™e
, (
__fd
, cÚ¡ *
__buf
,

392 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
),

393 
pwr™e64
è
__wur
;

395 
	#´—d
 
´—d64


	)

396 
	#pwr™e
 
pwr™e64


	)

400 #ifdeà
__USE_LARGEFILE64


404 
ssize_t
 
	$´—d64
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

405 
__off64_t
 
__off£t
è
__wur
;

408 
ssize_t
 
	$pwr™e64
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

409 
__off64_t
 
__off£t
è
__wur
;

417 
	$pe
 (
__pedes
[2]è
__THROW
 
__wur
;

419 #ifdeà
__USE_GNU


422 
	$pe2
 (
__pedes
[2], 
__æags
è
__THROW
 
__wur
;

432 
	$®¬m
 (
__£cÚds
è
__THROW
;

444 
	`¦“p
 (
__£cÚds
);

446 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

447 || 
defšed
 
__USE_BSD


452 
__u£cÚds_t
 
	$u®¬m
 (
__u£cÚds_t
 
__v®ue
, __u£cÚds_ˆ
__š‹rv®
)

453 
__THROW
;

460 
	`u¦“p
 (
__u£cÚds_t
 
__u£cÚds
);

469 
	`·u£
 ();

473 
	$chown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

474 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

476 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


478 
	$fchown
 (
__fd
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
è
__THROW
 
__wur
;

483 
	$lchown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

484 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

488 #ifdeà
__USE_ATFILE


491 
	$fchowÇt
 (
__fd
, cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
,

492 
__gid_t
 
__group
, 
__æag
)

493 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

497 
	$chdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

499 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


501 
	$fchdœ
 (
__fd
è
__THROW
 
__wur
;

511 *
	$g‘cwd
 (*
__buf
, 
size_t
 
__size
è
__THROW
 
__wur
;

513 #ifdef 
__USE_GNU


517 *
	$g‘_cu¼’t_dœ_Çme
 (è
__THROW
;

520 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

521 || 
defšed
 
__USE_BSD


525 *
	$g‘wd
 (*
__buf
)

526 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
 
__wur
;

531 
	$dup
 (
__fd
è
__THROW
 
__wur
;

534 
	$dup2
 (
__fd
, 
__fd2
è
__THROW
;

536 #ifdeà
__USE_GNU


539 
	$dup3
 (
__fd
, 
__fd2
, 
__æags
è
__THROW
;

543 **
__’vœÚ
;

544 #ifdeà
__USE_GNU


545 **
’vœÚ
;

551 
	$execve
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[],

552 *cÚ¡ 
__’vp
[]è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

554 #ifdeà
__USE_XOPEN2K8


557 
	$ãxecve
 (
__fd
, *cÚ¡ 
__¬gv
[], *cÚ¡ 
__’vp
[])

558 
__THROW
 
	`__nÚnuÎ
 ((2));

563 
	$execv
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[])

564 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

568 
	$exeşe
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

569 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

573 
	$exeş
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

574 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

578 
	$execvp
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[])

579 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

584 
	$exeşp
 (cÚ¡ *
__fe
, cÚ¡ *
__¬g
, ...)

585 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

587 #ifdeà
__USE_GNU


590 
	$execv³
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[],

591 *cÚ¡ 
__’vp
[])

592 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

596 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


598 
	$niû
 (
__šc
è
__THROW
 
__wur
;

603 
	$_ex™
 (
__¡©us
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

609 
	~<b™s/cÚâame.h
>

612 
	$·thcÚf
 (cÚ¡ *
__·th
, 
__Çme
)

613 
__THROW
 
	`__nÚnuÎ
 ((1));

616 
	$å©hcÚf
 (
__fd
, 
__Çme
è
__THROW
;

619 
	$syscÚf
 (
__Çme
è
__THROW
;

621 #ifdef 
__USE_POSIX2


623 
size_t
 
	$cÚf¡r
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
è
__THROW
;

628 
__pid_t
 
	$g‘pid
 (è
__THROW
;

631 
__pid_t
 
	$g‘µid
 (è
__THROW
;

635 #iâdeà
__FAVOR_BSD


636 
__pid_t
 
	$g‘pg½
 (è
__THROW
;

638 #ifdeà
__REDIRECT_NTH


639 
__pid_t
 
	`__REDIRECT_NTH
 (
g‘pg½
, (__pid_ˆ
__pid
), 
__g‘pgid
);

641 
	#g‘pg½
 
__g‘pgid


	)

646 
__pid_t
 
	$__g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

647 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


648 
__pid_t
 
	$g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

655 
	$£gid
 (
__pid_t
 
__pid
, __pid_ˆ
__pgid
è
__THROW
;

657 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


668 #iâdeà
__FAVOR_BSD


672 
	$£g½
 (è
__THROW
;

677 #ifdeà
__REDIRECT_NTH


678 
	`__REDIRECT_NTH
 (
£g½
, (
__pid_t
 
__pid
, __pid_ˆ
__pg½
), 
£gid
);

680 
	#£g½
 
£gid


	)

689 
__pid_t
 
	$£tsid
 (è
__THROW
;

691 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


693 
__pid_t
 
	$g‘sid
 (
__pid_t
 
__pid
è
__THROW
;

697 
__uid_t
 
	$g‘uid
 (è
__THROW
;

700 
__uid_t
 
	$g‘euid
 (è
__THROW
;

703 
__gid_t
 
	$g‘gid
 (è
__THROW
;

706 
__gid_t
 
	$g‘egid
 (è
__THROW
;

711 
	$g‘groups
 (
__size
, 
__gid_t
 
__li¡
[]è
__THROW
 
__wur
;

713 #ifdef 
__USE_GNU


715 
	$group_memb”
 (
__gid_t
 
__gid
è
__THROW
;

722 
	$£tuid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

724 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


727 
	$£Œeuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
è
__THROW
 
__wur
;

730 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K


732 
	$£‹uid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

739 
	$£tgid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

741 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


744 
	$£Œegid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
è
__THROW
 
__wur
;

747 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K


749 
	$£‹gid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

752 #ifdeà
__USE_GNU


755 
	$g‘»suid
 (
__uid_t
 *
__ruid
, __uid_ˆ*
__euid
, __uid_ˆ*
__suid
)

756 
__THROW
;

760 
	$g‘»sgid
 (
__gid_t
 *
__rgid
, __gid_ˆ*
__egid
, __gid_ˆ*
__sgid
)

761 
__THROW
;

765 
	$£Œesuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
, __uid_ˆ
__suid
)

766 
__THROW
 
__wur
;

770 
	$£Œesgid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
, __gid_ˆ
__sgid
)

771 
__THROW
 
__wur
;

778 
__pid_t
 
	$fÜk
 (è
__THROWNL
;

780 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

781 || 
defšed
 
__USE_BSD


786 
__pid_t
 
	$vfÜk
 (è
__THROW
;

792 *
	$‰yÇme
 (
__fd
è
__THROW
;

796 
	$‰yÇme_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

797 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

801 
	$i§‰y
 (
__fd
è
__THROW
;

803 #ià
defšed
 
__USE_BSD
 \

804 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_UNIX98
)

807 
	$‰y¦Ù
 (è
__THROW
;

812 
	$lšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

813 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

815 #ifdeà
__USE_ATFILE


818 
	$lšk©
 (
__äomfd
, cÚ¡ *
__äom
, 
__tofd
,

819 cÚ¡ *
__to
, 
__æags
)

820 
__THROW
 
	`__nÚnuÎ
 ((2, 4)è
__wur
;

823 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


825 
	$symlšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

826 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

831 
ssize_t
 
	$»adlšk
 (cÚ¡ *
__»¡riù
 
__·th
,

832 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

833 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

836 #ifdeà
__USE_ATFILE


838 
	$symlšk©
 (cÚ¡ *
__äom
, 
__tofd
,

839 cÚ¡ *
__to
è
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

842 
ssize_t
 
	$»adlšk©
 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

843 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

844 
__THROW
 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

848 
	$uÆšk
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

850 #ifdeà
__USE_ATFILE


852 
	$uÆšk©
 (
__fd
, cÚ¡ *
__Çme
, 
__æag
)

853 
__THROW
 
	`__nÚnuÎ
 ((2));

857 
	$rmdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1));

861 
__pid_t
 
	$tcg‘pg½
 (
__fd
è
__THROW
;

864 
	$tc£g½
 (
__fd
, 
__pid_t
 
__pg½_id
è
__THROW
;

871 *
	`g‘logš
 ();

872 #ià
defšed
 
__USE_REENTRANT
 || defšed 
__USE_POSIX199506


879 
	$g‘logš_r
 (*
__Çme
, 
size_t
 
__Çme_Ën
è
	`__nÚnuÎ
 ((1));

882 #ifdef 
__USE_BSD


884 
	$£ogš
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

888 #ifdef 
__USE_POSIX2


892 
	#__Ãed_g‘İt


	)

893 
	~<g‘İt.h
>

897 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


901 
	$g‘ho¡Çme
 (*
__Çme
, 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((1));

905 #ià
defšed
 
__USE_BSD
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_UNIX98
)

908 
	$£tho¡Çme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

909 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

913 
	$£tho¡id
 (
__id
è
__THROW
 
__wur
;

919 
	$g‘domašÇme
 (*
__Çme
, 
size_t
 
__Ën
)

920 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

921 
	$£tdomašÇme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

922 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

928 
	$vhªgup
 (è
__THROW
;

931 
	$»voke
 (cÚ¡ *
__fe
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

939 
	$´of
 (*
__§m¶e_bufãr
, 
size_t
 
__size
,

940 
size_t
 
__off£t
, 
__sÿË
)

941 
__THROW
 
	`__nÚnuÎ
 ((1));

947 
	$acù
 (cÚ¡ *
__Çme
è
__THROW
;

951 *
	$g‘u£rsh–l
 (è
__THROW
;

952 
	$’du£rsh–l
 (è
__THROW
;

953 
	$£tu£rsh–l
 (è
__THROW
;

959 
	$d«mÚ
 (
__nochdœ
, 
__noşo£
è
__THROW
 
__wur
;

963 #ià
defšed
 
__USE_BSD
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

966 
	$chroÙ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

970 *
	$g‘·ss
 (cÚ¡ *
__´om±
è
	`__nÚnuÎ
 ((1));

978 
	`fsync
 (
__fd
);

981 #ifdeà
__USE_GNU


984 
	$syncfs
 (
__fd
è
__THROW
;

988 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


991 
	`g‘ho¡id
 ();

994 
	$sync
 (è
__THROW
;

997 #ià
defšed
 
__USE_BSD
 || !defšed 
__USE_XOPEN2K


1000 
	$g‘·gesize
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

1005 
	$g‘dbËsize
 (è
__THROW
;

1011 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


1014 #iâdeà
__USE_FILE_OFFSET64


1015 
	$Œunÿ‹
 (cÚ¡ *
__fe
, 
__off_t
 
__Ëngth
)

1016 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1018 #ifdeà
__REDIRECT_NTH


1019 
	`__REDIRECT_NTH
 (
Œunÿ‹
,

1020 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
),

1021 
Œunÿ‹64
è
	`__nÚnuÎ
 ((1)è
__wur
;

1023 
	#Œunÿ‹
 
Œunÿ‹64


	)

1026 #ifdeà
__USE_LARGEFILE64


1027 
	$Œunÿ‹64
 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
)

1028 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1033 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_POSIX199309
 \

1034 || 
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


1037 #iâdeà
__USE_FILE_OFFSET64


1038 
	$árunÿ‹
 (
__fd
, 
__off_t
 
__Ëngth
è
__THROW
 
__wur
;

1040 #ifdeà
__REDIRECT_NTH


1041 
	`__REDIRECT_NTH
 (
árunÿ‹
, (
__fd
, 
__off64_t
 
__Ëngth
),

1042 
árunÿ‹64
è
__wur
;

1044 
	#árunÿ‹
 
árunÿ‹64


	)

1047 #ifdeà
__USE_LARGEFILE64


1048 
	$árunÿ‹64
 (
__fd
, 
__off64_t
 
__Ëngth
è
__THROW
 
__wur
;

1054 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

1055 || 
defšed
 
__USE_MISC


1059 
	$brk
 (*
__addr
è
__THROW
 
__wur
;

1065 *
	$sbrk
 (
šŒ_t
 
__d–
è
__THROW
;

1069 #ifdeà
__USE_MISC


1080 
	$sysÿÎ
 (
__sy¢o
, ...è
__THROW
;

1085 #ià(
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
è&& !defšed 
F_LOCK


1097 
	#F_ULOCK
 0

	)

1098 
	#F_LOCK
 1

	)

1099 
	#F_TLOCK
 2

	)

1100 
	#F_TEST
 3

	)

1102 #iâdeà
__USE_FILE_OFFSET64


1103 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Ën
è
__wur
;

1105 #ifdeà
__REDIRECT


1106 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
),

1107 
lockf64
è
__wur
;

1109 
	#lockf
 
lockf64


	)

1112 #ifdeà
__USE_LARGEFILE64


1113 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
è
__wur
;

1118 #ifdeà
__USE_GNU


1123 
	#TEMP_FAILURE_RETRY
(
ex´essiÚ
) \

1124 (
__ex‹nsiÚ__
 \

1125 ({ 
__»suÉ
; \

1126 dØ
__»suÉ
 = (è(
ex´essiÚ
); \

1127 
__»suÉ
 =ğ-1L && 
”ºo
 =ğ
EINTR
); \

1128 
__»suÉ
; 
	}
}))

	)

1131 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_UNIX98


1134 
fd©async
 (
__fdes
);

1140 #ifdef 
__USE_XOPEN


1142 *
	$üy±
 (cÚ¡ *
__key
, cÚ¡ *
__§É
)

1143 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1147 
	$’üy±
 (*
__libc_block
, 
__edæag
è
__THROW
 
	`__nÚnuÎ
 ((1));

1154 
	$swab
 (cÚ¡ *
__»¡riù
 
__äom
, *__»¡riù 
__to
,

1155 
ssize_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1161 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K


1163 *
	$ù”mid
 (*
__s
è
__THROW
;

1168 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1169 
	~<b™s/uni¡d.h
>

1172 
__END_DECLS


	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/dlg_config.h

6 
	#DLG_CURSES_WACS_ARRAY
 
_nc_wacs


	)

7 
	#DLG_CURSES_WACS_SYMBOLS
 1

	)

8 
	#DLG_DIALOG_PATCHDATE
 20130523

	)

9 
	#DLG_DIALOG_VERSION
 "1.2"

	)

10 
	#DLG_ENABLE_NLS
 1

	)

11 
	#DLG_HAVE_ALLOCA
 1

	)

12 
	#DLG_HAVE_ALLOCA_H
 1

	)

13 
	#DLG_HAVE_ARGZ_H
 1

	)

14 
	#DLG_HAVE_BTOWC
 1

	)

15 
	#DLG_HAVE_COLOR
 1

	)

16 
	#DLG_HAVE_DCGETTEXT
 1

	)

17 
	#DLG_HAVE_DIRENT_H
 1

	)

18 
	#DLG_HAVE_DLG_FORMBOX
 1

	)

19 
	#DLG_HAVE_DLG_GAUGE
 1

	)

20 
	#DLG_HAVE_DLG_MIXEDFORM
 1

	)

21 
	#DLG_HAVE_DLG_TAILBOX
 1

	)

22 
	#DLG_HAVE_DLG_TRACE
 1

	)

23 
	#DLG_HAVE_FEOF_UNLOCKED
 1

	)

24 
	#DLG_HAVE_FGETS_UNLOCKED
 1

	)

25 
	#DLG_HAVE_FLUSHINP
 1

	)

26 
	#DLG_HAVE_FSEEKO
 1

	)

27 
	#DLG_HAVE_GETATTRS
 1

	)

28 
	#DLG_HAVE_GETBEGX
 1

	)

29 
	#DLG_HAVE_GETBEGY
 1

	)

30 
	#DLG_HAVE_GETBEGYX
 1

	)

31 
	#DLG_HAVE_GETCURX
 1

	)

32 
	#DLG_HAVE_GETCURY
 1

	)

33 
	#DLG_HAVE_GETCWD
 1

	)

34 
	#DLG_HAVE_GETEGID
 1

	)

35 
	#DLG_HAVE_GETEUID
 1

	)

36 
	#DLG_HAVE_GETGID
 1

	)

37 
	#DLG_HAVE_GETMAXX
 1

	)

38 
	#DLG_HAVE_GETMAXY
 1

	)

39 
	#DLG_HAVE_GETMAXYX
 1

	)

40 
	#DLG_HAVE_GETPAGESIZE
 1

	)

41 
	#DLG_HAVE_GETPARX
 1

	)

42 
	#DLG_HAVE_GETPARY
 1

	)

43 
	#DLG_HAVE_GETPARYX
 1

	)

44 
	#DLG_HAVE_GETTEXT
 1

	)

45 
	#DLG_HAVE_GETUID
 1

	)

46 
	#DLG_HAVE_ICONV
 1

	)

47 
	#DLG_HAVE_INTTYPES_H
 1

	)

48 
	#DLG_HAVE_LANGINFO_CODESET
 1

	)

49 
	#DLG_HAVE_LC_MESSAGES
 1

	)

50 
	#DLG_HAVE_LIBINTL_H
 1

	)

51 
	#DLG_HAVE_LIBNCURSESW
 1

	)

52 
	#DLG_HAVE_LIMITS_H
 1

	)

53 
	#DLG_HAVE_LOCALE_H
 1

	)

54 
	#DLG_HAVE_MALLOC_H
 1

	)

55 
	#DLG_HAVE_MBLEN
 1

	)

56 
	#DLG_HAVE_MBRLEN
 1

	)

57 
	#DLG_HAVE_MBRTOWC
 1

	)

58 
	#DLG_HAVE_MBSTATE_T
 1

	)

59 
	#DLG_HAVE_MBTOWC
 1

	)

60 
	#DLG_HAVE_MEMORY_H
 1

	)

61 
	#DLG_HAVE_MEMPCPY
 1

	)

62 
	#DLG_HAVE_MIXEDGAUGE
 1

	)

63 
	#DLG_HAVE_MMAP
 1

	)

64 
	#DLG_HAVE_MUNMAP
 1

	)

65 
	#DLG_HAVE_NCURSESW_NCURSES_H
 1

	)

66 
	#DLG_HAVE_NCURSESW_TERM_H
 1

	)

67 
	#DLG_HAVE_NCURSESW_UNCTRL_H
 1

	)

68 
	#DLG_HAVE_NL_TYPES_H
 1

	)

69 
	#DLG_HAVE_PUTENV
 1

	)

70 
	#DLG_HAVE_RC_FILE
 1

	)

71 
	#DLG_HAVE_SEARCH_H
 1

	)

72 
	#DLG_HAVE_SETENV
 1

	)

73 
	#DLG_HAVE_SETLOCALE
 1

	)

74 
	#DLG_HAVE_STDDEF_H
 1

	)

75 
	#DLG_HAVE_STDINT_H
 1

	)

76 
	#DLG_HAVE_STDLIB_H
 1

	)

77 
	#DLG_HAVE_STPCPY
 1

	)

78 
	#DLG_HAVE_STRCASECMP
 1

	)

79 
	#DLG_HAVE_STRCHR
 1

	)

80 
	#DLG_HAVE_STRDUP
 1

	)

81 
	#DLG_HAVE_STRFTIME
 1

	)

82 
	#DLG_HAVE_STRINGS_H
 1

	)

83 
	#DLG_HAVE_STRING_H
 1

	)

84 
	#DLG_HAVE_STRTOUL
 1

	)

85 
	#DLG_HAVE_SYS_PARAM_H
 1

	)

86 
	#DLG_HAVE_SYS_STAT_H
 1

	)

87 
	#DLG_HAVE_SYS_TYPES_H
 1

	)

88 
	#DLG_HAVE_SYS_WAIT_H
 1

	)

89 
	#DLG_HAVE_TSEARCH
 1

	)

90 
	#DLG_HAVE_TYPE_CHTYPE
 1

	)

91 
	#DLG_HAVE_UNCTRL_H
 1

	)

92 
	#DLG_HAVE_UNISTD_H
 1

	)

93 
	#DLG_HAVE_USE_DEFAULT_COLORS
 1

	)

94 
	#DLG_HAVE_WAITPID
 1

	)

95 
	#DLG_HAVE_WCHGAT
 1

	)

96 
	#DLG_HAVE_WCSRTOMBS
 1

	)

97 
	#DLG_HAVE_WCSTOMBS
 1

	)

98 
	#DLG_HAVE_WCTOB
 1

	)

99 
	#DLG_HAVE_WCTOMB
 1

	)

100 
	#DLG_HAVE_WCURSYNCUP
 1

	)

101 
	#DLG_HAVE_WGETPARENT
 1

	)

102 
	#DLG_HAVE_WGET_WCH
 1

	)

103 
	#DLG_HAVE_WHIPTAIL
 1

	)

104 
	#DLG_HAVE_WSYNCUP
 1

	)

105 
	#DLG_HAVE_XDIALOG
 1

	)

106 
	#DLG_HAVE_XDIALOG2
 1

	)

107 
	#DLG_HAVE__NC_FREE_AND_EXIT
 1

	)

108 
	#DLG_HAVE___ARGZ_COUNT
 1

	)

109 
	#DLG_HAVE___ARGZ_NEXT
 1

	)

110 
	#DLG_HAVE___ARGZ_STRINGIFY
 1

	)

111 
	#DLG_ICONV_CONST


	)

112 
	#DLG_MIXEDCASE_FILENAMES
 1

	)

113 
	#DLG_NCURSES
 1

	)

114 
	#DLG_NEED_WCHAR_H
 1

	)

115 
	#DLG_NLS_TEXTDOMAIN
 "dŸlog"

	)

116 
	#DLG_PACKAGE
 "dŸlog"

	)

117 
	#DLG_RETSIGTYPE
 

	)

118 
	#DLG_STDC_HEADERS
 1

	)

119 
	#DLG_SYSTEM_NAME
 "lšux-gnu"

	)

120 
	#DLG_TIME_WITH_SYS_TIME
 1

	)

121 
	#DLG_TYPE_CHTYPE_IS_SCALAR
 1

	)

122 
	#DLG_USE_WIDE_CURSES
 1

	)

	@/usr/include/endian.h

18 #iâdef 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<ã©u»s.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<b™s/’dŸn.h
>

40 #iâdeà
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_BSD


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èLO, 
	)
HI

53 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èHI, 
	)
LO

58 #ià
defšed
 
__USE_BSD
 && !defšed 
__ASSEMBLER__


60 
	~<b™s/by‹sw­.h
>

62 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


63 
	#htobe16
(
x
è
	`__bsw­_16
 (x)

	)

64 
	#htŞe16
(
x
è(x)

	)

65 
	#be16toh
(
x
è
	`__bsw­_16
 (x)

	)

66 
	#Ë16toh
(
x
è(x)

	)

68 
	#htobe32
(
x
è
	`__bsw­_32
 (x)

	)

69 
	#htŞe32
(
x
è(x)

	)

70 
	#be32toh
(
x
è
	`__bsw­_32
 (x)

	)

71 
	#Ë32toh
(
x
è(x)

	)

73 #ià
__GLIBC_HAVE_LONG_LONG


74 
	#htobe64
(
x
è
	`__bsw­_64
 (x)

	)

75 
	#htŞe64
(
x
è(x)

	)

76 
	#be64toh
(
x
è
	`__bsw­_64
 (x)

	)

77 
	#Ë64toh
(
x
è(x)

	)

81 
	#htobe16
(
x
è(x)

	)

82 
	#htŞe16
(
x
è
	`__bsw­_16
 (x)

	)

83 
	#be16toh
(
x
è(x)

	)

84 
	#Ë16toh
(
x
è
	`__bsw­_16
 (x)

	)

86 
	#htobe32
(
x
è(x)

	)

87 
	#htŞe32
(
x
è
	`__bsw­_32
 (x)

	)

88 
	#be32toh
(
x
è(x)

	)

89 
	#Ë32toh
(
x
è
	`__bsw­_32
 (x)

	)

91 #ià
__GLIBC_HAVE_LONG_LONG


92 
	#htobe64
(
x
è(x)

	)

93 
	#htŞe64
(
x
è
	`__bsw­_64
 (x)

	)

94 
	#be64toh
(
x
è(x)

	)

95 
	#Ë64toh
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

98 #undeà
__USE_ISOC11


99 #undeà
__USE_ISOC99


100 #undeà
__USE_ISOC95


101 #undeà
__USE_ISOCXX11


102 #undeà
__USE_POSIX


103 #undeà
__USE_POSIX2


104 #undeà
__USE_POSIX199309


105 #undeà
__USE_POSIX199506


106 #undeà
__USE_XOPEN


107 #undeà
__USE_XOPEN_EXTENDED


108 #undeà
__USE_UNIX98


109 #undeà
__USE_XOPEN2K


110 #undeà
__USE_XOPEN2KXSI


111 #undeà
__USE_XOPEN2K8


112 #undeà
__USE_XOPEN2K8XSI


113 #undeà
__USE_LARGEFILE


114 #undeà
__USE_LARGEFILE64


115 #undeà
__USE_FILE_OFFSET64


116 #undeà
__USE_BSD


117 #undeà
__USE_SVID


118 #undeà
__USE_MISC


119 #undeà
__USE_ATFILE


120 #undeà
__USE_GNU


121 #undeà
__USE_REENTRANT


122 #undeà
__USE_FORTIFY_LEVEL


123 #undeà
__FAVOR_BSD


124 #undeà
__KERNEL_STRICT_NAMES


128 #iâdeà
_LOOSE_KERNEL_NAMES


129 
	#__KERNEL_STRICT_NAMES


	)

133 
	#__USE_ANSI
 1

	)

142 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


143 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

144 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

146 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

151 #ià
defšed
 
_BSD_SOURCE
 && \

152 !(
defšed
 
	g_POSIX_SOURCE
 || defšed 
	g_POSIX_C_SOURCE
 || \

153 
defšed
 
	g_XOPEN_SOURCE
 || defšed 
	g_GNU_SOURCE
 || defšed 
	g_SVID_SOURCE
)

154 
	#__FAVOR_BSD
 1

	)

158 #ifdeà
_GNU_SOURCE


159 #undeà
_ISOC95_SOURCE


160 
	#_ISOC95_SOURCE
 1

	)

161 #undeà
_ISOC99_SOURCE


162 
	#_ISOC99_SOURCE
 1

	)

163 #undeà
_ISOC11_SOURCE


164 
	#_ISOC11_SOURCE
 1

	)

165 #undeà
_POSIX_SOURCE


166 
	#_POSIX_SOURCE
 1

	)

167 #undeà
_POSIX_C_SOURCE


168 
	#_POSIX_C_SOURCE
 200809L

	)

169 #undeà
_XOPEN_SOURCE


170 
	#_XOPEN_SOURCE
 700

	)

171 #undeà
_XOPEN_SOURCE_EXTENDED


172 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

173 #undeà
_LARGEFILE64_SOURCE


174 
	#_LARGEFILE64_SOURCE
 1

	)

175 #undeà
_BSD_SOURCE


176 
	#_BSD_SOURCE
 1

	)

177 #undeà
_SVID_SOURCE


178 
	#_SVID_SOURCE
 1

	)

179 #undeà
_ATFILE_SOURCE


180 
	#_ATFILE_SOURCE
 1

	)

185 #ià(!
defšed
 
__STRICT_ANSI__
 && !defšed 
_ISOC99_SOURCE
 && \

186 !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 && \

187 !
defšed
 
	g_XOPEN_SOURCE
 && !defšed 
	g_BSD_SOURCE
 && !defšed 
	g_SVID_SOURCE
)

188 
	#_BSD_SOURCE
 1

	)

189 
	#_SVID_SOURCE
 1

	)

193 #ià(
defšed
 
_ISOC11_SOURCE
 \

194 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

195 
	#__USE_ISOC11
 1

	)

199 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

200 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

201 
	#__USE_ISOC99
 1

	)

205 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

206 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

207 
	#__USE_ISOC95
 1

	)

214 #ià((
defšed
 
__ılu¥lus
 && __cplusplus >= 201103L) \

215 || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__
)

216 
	#__USE_ISOCXX11
 1

	)

221 #ià((!
defšed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

222 !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

223 
	#_POSIX_SOURCE
 1

	)

224 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

225 
	#_POSIX_C_SOURCE
 2

	)

226 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

227 
	#_POSIX_C_SOURCE
 199506L

	)

228 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

229 
	#_POSIX_C_SOURCE
 200112L

	)

231 
	#_POSIX_C_SOURCE
 200809L

	)

233 
	#__USE_POSIX_IMPLICITLY
 1

	)

236 #ià
defšed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >ğ1 || defšed 
_XOPEN_SOURCE


237 
	#__USE_POSIX
 1

	)

240 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


241 
	#__USE_POSIX2
 1

	)

244 #ià(
_POSIX_C_SOURCE
 - 0) >= 199309L

245 
	#__USE_POSIX199309
 1

	)

248 #ià(
_POSIX_C_SOURCE
 - 0) >= 199506L

249 
	#__USE_POSIX199506
 1

	)

252 #ià(
_POSIX_C_SOURCE
 - 0) >= 200112L

253 
	#__USE_XOPEN2K
 1

	)

254 #undeà
__USE_ISOC95


255 
	#__USE_ISOC95
 1

	)

256 #undeà
__USE_ISOC99


257 
	#__USE_ISOC99
 1

	)

260 #ià(
_POSIX_C_SOURCE
 - 0) >= 200809L

261 
	#__USE_XOPEN2K8
 1

	)

262 #undeà
_ATFILE_SOURCE


263 
	#_ATFILE_SOURCE
 1

	)

266 #ifdef 
_XOPEN_SOURCE


267 
	#__USE_XOPEN
 1

	)

268 #ià(
_XOPEN_SOURCE
 - 0) >= 500

269 
	#__USE_XOPEN_EXTENDED
 1

	)

270 
	#__USE_UNIX98
 1

	)

271 #undeà
_LARGEFILE_SOURCE


272 
	#_LARGEFILE_SOURCE
 1

	)

273 #ià(
_XOPEN_SOURCE
 - 0) >= 600

274 #ià(
_XOPEN_SOURCE
 - 0) >= 700

275 
	#__USE_XOPEN2K8
 1

	)

276 
	#__USE_XOPEN2K8XSI
 1

	)

278 
	#__USE_XOPEN2K
 1

	)

279 
	#__USE_XOPEN2KXSI
 1

	)

280 #undeà
__USE_ISOC95


281 
	#__USE_ISOC95
 1

	)

282 #undeà
__USE_ISOC99


283 
	#__USE_ISOC99
 1

	)

286 #ifdeà
_XOPEN_SOURCE_EXTENDED


287 
	#__USE_XOPEN_EXTENDED
 1

	)

292 #ifdeà
_LARGEFILE_SOURCE


293 
	#__USE_LARGEFILE
 1

	)

296 #ifdeà
_LARGEFILE64_SOURCE


297 
	#__USE_LARGEFILE64
 1

	)

300 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

301 
	#__USE_FILE_OFFSET64
 1

	)

304 #ià
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE


305 
	#__USE_MISC
 1

	)

308 #ifdef 
_BSD_SOURCE


309 
	#__USE_BSD
 1

	)

312 #ifdef 
_SVID_SOURCE


313 
	#__USE_SVID
 1

	)

316 #ifdef 
_ATFILE_SOURCE


317 
	#__USE_ATFILE
 1

	)

320 #ifdef 
_GNU_SOURCE


321 
	#__USE_GNU
 1

	)

324 #ià
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE


325 
	#__USE_REENTRANT
 1

	)

328 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

329 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

330 #ià
_FORTIFY_SOURCE
 > 1

331 
	#__USE_FORTIFY_LEVEL
 2

	)

333 
	#__USE_FORTIFY_LEVEL
 1

	)

336 
	#__USE_FORTIFY_LEVEL
 0

	)

341 
	~<¡dc-´edef.h
>

349 #undeà
__GNU_LIBRARY__


350 
	#__GNU_LIBRARY__
 6

	)

354 
	#__GLIBC__
 2

	)

355 
	#__GLIBC_MINOR__
 17

	)

357 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

358 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

361 #ià
defšed
 
__GNUC__
 \

362 || (
defšed
 
	g__PGI
 && defšed 
	g__i386__
 ) \

363 || (
defšed
 
	g__INTEL_COMPILER
 && (defšed 
	g__i386__
 || defšed 
	g__Ÿ64__
)) \

364 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L)

365 
	#__GLIBC_HAVE_LONG_LONG
 1

	)

369 #iâdeà
__ASSEMBLER__


370 #iâdeà
_SYS_CDEFS_H


371 
	~<sys/cdefs.h
>

376 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


377 
	#__USE_LARGEFILE
 1

	)

378 
	#__USE_LARGEFILE64
 1

	)

384 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

385 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

386 && 
defšed
 
	g__ex‹º_šlše


387 
	#__USE_EXTERN_INLINES
 1

	)

395 
	~<gnu/¡ubs.h
>

	@/usr/include/getopt.h

20 #iâdeà
_GETOPT_H


22 #iâdeà
__Ãed_g‘İt


23 
	#_GETOPT_H
 1

	)

33 #ià!
defšed
 
__GNU_LIBRARY__


34 
	~<ùy³.h
>

37 #iâdeà
__THROW


38 #iâdeà
__GNUC_PREREQ


39 
	#__GNUC_PREREQ
(
maj
, 
mš
è(0)

	)

41 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

42 
	#__THROW
 
	`throw
 ()

	)

44 
	#__THROW


	)

48 #ifdef 
__ılu¥lus


58 *
İrg
;

72 
İtšd
;

77 
İ‹¼
;

81 
İtİt
;

83 #iâdeà
__Ãed_g‘İt


105 
	sİtiÚ


107 cÚ¡ *
	gÇme
;

110 
	ghas_¬g
;

111 *
	gæag
;

112 
	gv®
;

117 
	#no_¬gum’t
 0

	)

118 
	#»quœed_¬gum’t
 1

	)

119 
	#İtiÚ®_¬gum’t
 2

	)

147 #ifdeà
__GNU_LIBRARY__


151 
g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
, cÚ¡ *
__shÜtİts
)

152 
__THROW
;

154 #ià
defšed
 
__Ãed_g‘İt
 && defšed 
__USE_POSIX2
 \

155 && !
defšed
 
	g__USE_POSIX_IMPLICITLY
 && !defšed 
	g__USE_GNU


159 #ifdeà
__REDIRECT


160 
__REDIRECT_NTH
 (
g‘İt
, (
___¬gc
, *cÚ¡ *
___¬gv
,

161 cÚ¡ *
__shÜtİts
),

162 
__posix_g‘İt
);

164 
__posix_g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
,

165 cÚ¡ *
__shÜtİts
è
__THROW
;

166 
	#g‘İt
 
__posix_g‘İt


	)

170 
g‘İt
 ();

173 #iâdeà
__Ãed_g‘İt


174 
g‘İt_lÚg
 (
___¬gc
, *cÚ¡ *
___¬gv
,

175 cÚ¡ *
__shÜtİts
,

176 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

177 
__THROW
;

178 
g‘İt_lÚg_Úly
 (
___¬gc
, *cÚ¡ *
___¬gv
,

179 cÚ¡ *
__shÜtİts
,

180 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

181 
__THROW
;

185 #ifdef 
__ılu¥lus


190 #undeà
__Ãed_g‘İt


	@/usr/include/langinfo.h

19 #iâdeà
_LANGINFO_H


20 
	#_LANGINFO_H
 1

	)

23 
	~<Æ_ty³s.h
>

25 
	~<b™s/loÿË.h
>

28 
	g__BEGIN_DECLS


34 
	#_NL_ITEM
(
ÿ‹gÜy
, 
šdex
è(((ÿ‹gÜyè<< 16è| (šdex))

	)

37 
	#_NL_ITEM_CATEGORY
(
™em
è((è(™emè>> 16)

	)

38 
	#_NL_ITEM_INDEX
(
™em
è((è(™emè& 0xffff)

	)

46 
	mABDAY_1
 = 
_NL_ITEM
 (
__LC_TIME
, 0),

47 
	#ABDAY_1
 
ABDAY_1


	)

48 
	mABDAY_2
,

49 
	#ABDAY_2
 
ABDAY_2


	)

50 
	mABDAY_3
,

51 
	#ABDAY_3
 
ABDAY_3


	)

52 
	mABDAY_4
,

53 
	#ABDAY_4
 
ABDAY_4


	)

54 
	mABDAY_5
,

55 
	#ABDAY_5
 
ABDAY_5


	)

56 
	mABDAY_6
,

57 
	#ABDAY_6
 
ABDAY_6


	)

58 
	mABDAY_7
,

59 
	#ABDAY_7
 
ABDAY_7


	)

62 
	mDAY_1
,

63 
	#DAY_1
 
DAY_1


	)

64 
	mDAY_2
,

65 
	#DAY_2
 
DAY_2


	)

66 
	mDAY_3
,

67 
	#DAY_3
 
DAY_3


	)

68 
	mDAY_4
,

69 
	#DAY_4
 
DAY_4


	)

70 
	mDAY_5
,

71 
	#DAY_5
 
DAY_5


	)

72 
	mDAY_6
,

73 
	#DAY_6
 
DAY_6


	)

74 
	mDAY_7
,

75 
	#DAY_7
 
DAY_7


	)

78 
	mABMON_1
,

79 
	#ABMON_1
 
ABMON_1


	)

80 
	mABMON_2
,

81 
	#ABMON_2
 
ABMON_2


	)

82 
	mABMON_3
,

83 
	#ABMON_3
 
ABMON_3


	)

84 
	mABMON_4
,

85 
	#ABMON_4
 
ABMON_4


	)

86 
	mABMON_5
,

87 
	#ABMON_5
 
ABMON_5


	)

88 
	mABMON_6
,

89 
	#ABMON_6
 
ABMON_6


	)

90 
	mABMON_7
,

91 
	#ABMON_7
 
ABMON_7


	)

92 
	mABMON_8
,

93 
	#ABMON_8
 
ABMON_8


	)

94 
	mABMON_9
,

95 
	#ABMON_9
 
ABMON_9


	)

96 
	mABMON_10
,

97 
	#ABMON_10
 
ABMON_10


	)

98 
	mABMON_11
,

99 
	#ABMON_11
 
ABMON_11


	)

100 
	mABMON_12
,

101 
	#ABMON_12
 
ABMON_12


	)

104 
	mMON_1
,

105 
	#MON_1
 
MON_1


	)

106 
	mMON_2
,

107 
	#MON_2
 
MON_2


	)

108 
	mMON_3
,

109 
	#MON_3
 
MON_3


	)

110 
	mMON_4
,

111 
	#MON_4
 
MON_4


	)

112 
	mMON_5
,

113 
	#MON_5
 
MON_5


	)

114 
	mMON_6
,

115 
	#MON_6
 
MON_6


	)

116 
	mMON_7
,

117 
	#MON_7
 
MON_7


	)

118 
	mMON_8
,

119 
	#MON_8
 
MON_8


	)

120 
	mMON_9
,

121 
	#MON_9
 
MON_9


	)

122 
	mMON_10
,

123 
	#MON_10
 
MON_10


	)

124 
	mMON_11
,

125 
	#MON_11
 
MON_11


	)

126 
	mMON_12
,

127 
	#MON_12
 
MON_12


	)

129 
	mAM_STR
,

130 
	#AM_STR
 
AM_STR


	)

131 
	mPM_STR
,

132 
	#PM_STR
 
PM_STR


	)

134 
	mD_T_FMT
,

135 
	#D_T_FMT
 
D_T_FMT


	)

136 
	mD_FMT
,

137 
	#D_FMT
 
D_FMT


	)

138 
	mT_FMT
,

139 
	#T_FMT
 
T_FMT


	)

140 
	mT_FMT_AMPM
,

141 
	#T_FMT_AMPM
 
T_FMT_AMPM


	)

143 
	mERA
,

144 
	#ERA
 
ERA


	)

145 
	m__ERA_YEAR
,

146 #ifdeà
__USE_GNU


147 
	#ERA_YEAR
 
__ERA_YEAR


	)

149 
	mERA_D_FMT
,

150 
	#ERA_D_FMT
 
ERA_D_FMT


	)

151 
	mALT_DIGITS
,

152 
	#ALT_DIGITS
 
ALT_DIGITS


	)

153 
	mERA_D_T_FMT
,

154 
	#ERA_D_T_FMT
 
ERA_D_T_FMT


	)

155 
	mERA_T_FMT
,

156 
	#ERA_T_FMT
 
ERA_T_FMT


	)

158 
	m_NL_TIME_ERA_NUM_ENTRIES
,

159 
	m_NL_TIME_ERA_ENTRIES
,

161 
	m_NL_WABDAY_1
,

162 
	m_NL_WABDAY_2
,

163 
	m_NL_WABDAY_3
,

164 
	m_NL_WABDAY_4
,

165 
	m_NL_WABDAY_5
,

166 
	m_NL_WABDAY_6
,

167 
	m_NL_WABDAY_7
,

170 
	m_NL_WDAY_1
,

171 
	m_NL_WDAY_2
,

172 
	m_NL_WDAY_3
,

173 
	m_NL_WDAY_4
,

174 
	m_NL_WDAY_5
,

175 
	m_NL_WDAY_6
,

176 
	m_NL_WDAY_7
,

179 
	m_NL_WABMON_1
,

180 
	m_NL_WABMON_2
,

181 
	m_NL_WABMON_3
,

182 
	m_NL_WABMON_4
,

183 
	m_NL_WABMON_5
,

184 
	m_NL_WABMON_6
,

185 
	m_NL_WABMON_7
,

186 
	m_NL_WABMON_8
,

187 
	m_NL_WABMON_9
,

188 
	m_NL_WABMON_10
,

189 
	m_NL_WABMON_11
,

190 
	m_NL_WABMON_12
,

193 
	m_NL_WMON_1
,

194 
	m_NL_WMON_2
,

195 
	m_NL_WMON_3
,

196 
	m_NL_WMON_4
,

197 
	m_NL_WMON_5
,

198 
	m_NL_WMON_6
,

199 
	m_NL_WMON_7
,

200 
	m_NL_WMON_8
,

201 
	m_NL_WMON_9
,

202 
	m_NL_WMON_10
,

203 
	m_NL_WMON_11
,

204 
	m_NL_WMON_12
,

206 
	m_NL_WAM_STR
,

207 
	m_NL_WPM_STR
,

209 
	m_NL_WD_T_FMT
,

210 
	m_NL_WD_FMT
,

211 
	m_NL_WT_FMT
,

212 
	m_NL_WT_FMT_AMPM
,

214 
	m_NL_WERA_YEAR
,

215 
	m_NL_WERA_D_FMT
,

216 
	m_NL_WALT_DIGITS
,

217 
	m_NL_WERA_D_T_FMT
,

218 
	m_NL_WERA_T_FMT
,

220 
	m_NL_TIME_WEEK_NDAYS
,

221 
	m_NL_TIME_WEEK_1STDAY
,

222 
	m_NL_TIME_WEEK_1STWEEK
,

223 
	m_NL_TIME_FIRST_WEEKDAY
,

224 
	m_NL_TIME_FIRST_WORKDAY
,

225 
	m_NL_TIME_CAL_DIRECTION
,

226 
	m_NL_TIME_TIMEZONE
,

228 
	m_DATE_FMT
,

229 
	#_DATE_FMT
 
_DATE_FMT


	)

230 
	m_NL_W_DATE_FMT
,

232 
	m_NL_TIME_CODESET
,

234 
	m_NL_NUM_LC_TIME
,

239 
	m_NL_COLLATE_NRULES
 = 
_NL_ITEM
 (
__LC_COLLATE
, 0),

240 
	m_NL_COLLATE_RULESETS
,

241 
	m_NL_COLLATE_TABLEMB
,

242 
	m_NL_COLLATE_WEIGHTMB
,

243 
	m_NL_COLLATE_EXTRAMB
,

244 
	m_NL_COLLATE_INDIRECTMB
,

245 
	m_NL_COLLATE_GAP1
,

246 
	m_NL_COLLATE_GAP2
,

247 
	m_NL_COLLATE_GAP3
,

248 
	m_NL_COLLATE_TABLEWC
,

249 
	m_NL_COLLATE_WEIGHTWC
,

250 
	m_NL_COLLATE_EXTRAWC
,

251 
	m_NL_COLLATE_INDIRECTWC
,

252 
	m_NL_COLLATE_SYMB_HASH_SIZEMB
,

253 
	m_NL_COLLATE_SYMB_TABLEMB
,

254 
	m_NL_COLLATE_SYMB_EXTRAMB
,

255 
	m_NL_COLLATE_COLLSEQMB
,

256 
	m_NL_COLLATE_COLLSEQWC
,

257 
	m_NL_COLLATE_CODESET
,

258 
	m_NL_NUM_LC_COLLATE
,

263 
	m_NL_CTYPE_CLASS
 = 
_NL_ITEM
 (
__LC_CTYPE
, 0),

264 
	m_NL_CTYPE_TOUPPER
,

265 
	m_NL_CTYPE_GAP1
,

266 
	m_NL_CTYPE_TOLOWER
,

267 
	m_NL_CTYPE_GAP2
,

268 
	m_NL_CTYPE_CLASS32
,

269 
	m_NL_CTYPE_GAP3
,

270 
	m_NL_CTYPE_GAP4
,

271 
	m_NL_CTYPE_GAP5
,

272 
	m_NL_CTYPE_GAP6
,

273 
	m_NL_CTYPE_CLASS_NAMES
,

274 
	m_NL_CTYPE_MAP_NAMES
,

275 
	m_NL_CTYPE_WIDTH
,

276 
	m_NL_CTYPE_MB_CUR_MAX
,

277 
	m_NL_CTYPE_CODESET_NAME
,

278 
	mCODESET
 = 
_NL_CTYPE_CODESET_NAME
,

279 
	#CODESET
 
CODESET


	)

280 
	m_NL_CTYPE_TOUPPER32
,

281 
	m_NL_CTYPE_TOLOWER32
,

282 
	m_NL_CTYPE_CLASS_OFFSET
,

283 
	m_NL_CTYPE_MAP_OFFSET
,

284 
	m_NL_CTYPE_INDIGITS_MB_LEN
,

285 
	m_NL_CTYPE_INDIGITS0_MB
,

286 
	m_NL_CTYPE_INDIGITS1_MB
,

287 
	m_NL_CTYPE_INDIGITS2_MB
,

288 
	m_NL_CTYPE_INDIGITS3_MB
,

289 
	m_NL_CTYPE_INDIGITS4_MB
,

290 
	m_NL_CTYPE_INDIGITS5_MB
,

291 
	m_NL_CTYPE_INDIGITS6_MB
,

292 
	m_NL_CTYPE_INDIGITS7_MB
,

293 
	m_NL_CTYPE_INDIGITS8_MB
,

294 
	m_NL_CTYPE_INDIGITS9_MB
,

295 
	m_NL_CTYPE_INDIGITS_WC_LEN
,

296 
	m_NL_CTYPE_INDIGITS0_WC
,

297 
	m_NL_CTYPE_INDIGITS1_WC
,

298 
	m_NL_CTYPE_INDIGITS2_WC
,

299 
	m_NL_CTYPE_INDIGITS3_WC
,

300 
	m_NL_CTYPE_INDIGITS4_WC
,

301 
	m_NL_CTYPE_INDIGITS5_WC
,

302 
	m_NL_CTYPE_INDIGITS6_WC
,

303 
	m_NL_CTYPE_INDIGITS7_WC
,

304 
	m_NL_CTYPE_INDIGITS8_WC
,

305 
	m_NL_CTYPE_INDIGITS9_WC
,

306 
	m_NL_CTYPE_OUTDIGIT0_MB
,

307 
	m_NL_CTYPE_OUTDIGIT1_MB
,

308 
	m_NL_CTYPE_OUTDIGIT2_MB
,

309 
	m_NL_CTYPE_OUTDIGIT3_MB
,

310 
	m_NL_CTYPE_OUTDIGIT4_MB
,

311 
	m_NL_CTYPE_OUTDIGIT5_MB
,

312 
	m_NL_CTYPE_OUTDIGIT6_MB
,

313 
	m_NL_CTYPE_OUTDIGIT7_MB
,

314 
	m_NL_CTYPE_OUTDIGIT8_MB
,

315 
	m_NL_CTYPE_OUTDIGIT9_MB
,

316 
	m_NL_CTYPE_OUTDIGIT0_WC
,

317 
	m_NL_CTYPE_OUTDIGIT1_WC
,

318 
	m_NL_CTYPE_OUTDIGIT2_WC
,

319 
	m_NL_CTYPE_OUTDIGIT3_WC
,

320 
	m_NL_CTYPE_OUTDIGIT4_WC
,

321 
	m_NL_CTYPE_OUTDIGIT5_WC
,

322 
	m_NL_CTYPE_OUTDIGIT6_WC
,

323 
	m_NL_CTYPE_OUTDIGIT7_WC
,

324 
	m_NL_CTYPE_OUTDIGIT8_WC
,

325 
	m_NL_CTYPE_OUTDIGIT9_WC
,

326 
	m_NL_CTYPE_TRANSLIT_TAB_SIZE
,

327 
	m_NL_CTYPE_TRANSLIT_FROM_IDX
,

328 
	m_NL_CTYPE_TRANSLIT_FROM_TBL
,

329 
	m_NL_CTYPE_TRANSLIT_TO_IDX
,

330 
	m_NL_CTYPE_TRANSLIT_TO_TBL
,

331 
	m_NL_CTYPE_TRANSLIT_DEFAULT_MISSING_LEN
,

332 
	m_NL_CTYPE_TRANSLIT_DEFAULT_MISSING
,

333 
	m_NL_CTYPE_TRANSLIT_IGNORE_LEN
,

334 
	m_NL_CTYPE_TRANSLIT_IGNORE
,

335 
	m_NL_CTYPE_MAP_TO_NONASCII
,

336 
	m_NL_CTYPE_NONASCII_CASE
,

337 
	m_NL_CTYPE_EXTRA_MAP_1
,

338 
	m_NL_CTYPE_EXTRA_MAP_2
,

339 
	m_NL_CTYPE_EXTRA_MAP_3
,

340 
	m_NL_CTYPE_EXTRA_MAP_4
,

341 
	m_NL_CTYPE_EXTRA_MAP_5
,

342 
	m_NL_CTYPE_EXTRA_MAP_6
,

343 
	m_NL_CTYPE_EXTRA_MAP_7
,

344 
	m_NL_CTYPE_EXTRA_MAP_8
,

345 
	m_NL_CTYPE_EXTRA_MAP_9
,

346 
	m_NL_CTYPE_EXTRA_MAP_10
,

347 
	m_NL_CTYPE_EXTRA_MAP_11
,

348 
	m_NL_CTYPE_EXTRA_MAP_12
,

349 
	m_NL_CTYPE_EXTRA_MAP_13
,

350 
	m_NL_CTYPE_EXTRA_MAP_14
,

351 
	m_NL_NUM_LC_CTYPE
,

356 
	m__INT_CURR_SYMBOL
 = 
_NL_ITEM
 (
__LC_MONETARY
, 0),

357 #ifdeà
__USE_GNU


358 
	#INT_CURR_SYMBOL
 
__INT_CURR_SYMBOL


	)

360 
	m__CURRENCY_SYMBOL
,

361 #ifdeà
__USE_GNU


362 
	#CURRENCY_SYMBOL
 
__CURRENCY_SYMBOL


	)

364 
	m__MON_DECIMAL_POINT
,

365 #ifdeà
__USE_GNU


366 
	#MON_DECIMAL_POINT
 
__MON_DECIMAL_POINT


	)

368 
	m__MON_THOUSANDS_SEP
,

369 #ifdeà
__USE_GNU


370 
	#MON_THOUSANDS_SEP
 
__MON_THOUSANDS_SEP


	)

372 
	m__MON_GROUPING
,

373 #ifdeà
__USE_GNU


374 
	#MON_GROUPING
 
__MON_GROUPING


	)

376 
	m__POSITIVE_SIGN
,

377 #ifdeà
__USE_GNU


378 
	#POSITIVE_SIGN
 
__POSITIVE_SIGN


	)

380 
	m__NEGATIVE_SIGN
,

381 #ifdeà
__USE_GNU


382 
	#NEGATIVE_SIGN
 
__NEGATIVE_SIGN


	)

384 
	m__INT_FRAC_DIGITS
,

385 #ifdeà
__USE_GNU


386 
	#INT_FRAC_DIGITS
 
__INT_FRAC_DIGITS


	)

388 
	m__FRAC_DIGITS
,

389 #ifdeà
__USE_GNU


390 
	#FRAC_DIGITS
 
__FRAC_DIGITS


	)

392 
	m__P_CS_PRECEDES
,

393 #ifdeà
__USE_GNU


394 
	#P_CS_PRECEDES
 
__P_CS_PRECEDES


	)

396 
	m__P_SEP_BY_SPACE
,

397 #ifdeà
__USE_GNU


398 
	#P_SEP_BY_SPACE
 
__P_SEP_BY_SPACE


	)

400 
	m__N_CS_PRECEDES
,

401 #ifdeà
__USE_GNU


402 
	#N_CS_PRECEDES
 
__N_CS_PRECEDES


	)

404 
	m__N_SEP_BY_SPACE
,

405 #ifdeà
__USE_GNU


406 
	#N_SEP_BY_SPACE
 
__N_SEP_BY_SPACE


	)

408 
	m__P_SIGN_POSN
,

409 #ifdeà
__USE_GNU


410 
	#P_SIGN_POSN
 
__P_SIGN_POSN


	)

412 
	m__N_SIGN_POSN
,

413 #ifdeà
__USE_GNU


414 
	#N_SIGN_POSN
 
__N_SIGN_POSN


	)

416 
	m_NL_MONETARY_CRNCYSTR
,

417 
	#CRNCYSTR
 
_NL_MONETARY_CRNCYSTR


	)

418 
	m__INT_P_CS_PRECEDES
,

419 #ifdeà
__USE_GNU


420 
	#INT_P_CS_PRECEDES
 
__INT_P_CS_PRECEDES


	)

422 
	m__INT_P_SEP_BY_SPACE
,

423 #ifdeà
__USE_GNU


424 
	#INT_P_SEP_BY_SPACE
 
__INT_P_SEP_BY_SPACE


	)

426 
	m__INT_N_CS_PRECEDES
,

427 #ifdeà
__USE_GNU


428 
	#INT_N_CS_PRECEDES
 
__INT_N_CS_PRECEDES


	)

430 
	m__INT_N_SEP_BY_SPACE
,

431 #ifdeà
__USE_GNU


432 
	#INT_N_SEP_BY_SPACE
 
__INT_N_SEP_BY_SPACE


	)

434 
	m__INT_P_SIGN_POSN
,

435 #ifdeà
__USE_GNU


436 
	#INT_P_SIGN_POSN
 
__INT_P_SIGN_POSN


	)

438 
	m__INT_N_SIGN_POSN
,

439 #ifdeà
__USE_GNU


440 
	#INT_N_SIGN_POSN
 
__INT_N_SIGN_POSN


	)

442 
	m_NL_MONETARY_DUO_INT_CURR_SYMBOL
,

443 
	m_NL_MONETARY_DUO_CURRENCY_SYMBOL
,

444 
	m_NL_MONETARY_DUO_INT_FRAC_DIGITS
,

445 
	m_NL_MONETARY_DUO_FRAC_DIGITS
,

446 
	m_NL_MONETARY_DUO_P_CS_PRECEDES
,

447 
	m_NL_MONETARY_DUO_P_SEP_BY_SPACE
,

448 
	m_NL_MONETARY_DUO_N_CS_PRECEDES
,

449 
	m_NL_MONETARY_DUO_N_SEP_BY_SPACE
,

450 
	m_NL_MONETARY_DUO_INT_P_CS_PRECEDES
,

451 
	m_NL_MONETARY_DUO_INT_P_SEP_BY_SPACE
,

452 
	m_NL_MONETARY_DUO_INT_N_CS_PRECEDES
,

453 
	m_NL_MONETARY_DUO_INT_N_SEP_BY_SPACE
,

454 
	m_NL_MONETARY_DUO_P_SIGN_POSN
,

455 
	m_NL_MONETARY_DUO_N_SIGN_POSN
,

456 
	m_NL_MONETARY_DUO_INT_P_SIGN_POSN
,

457 
	m_NL_MONETARY_DUO_INT_N_SIGN_POSN
,

458 
	m_NL_MONETARY_UNO_VALID_FROM
,

459 
	m_NL_MONETARY_UNO_VALID_TO
,

460 
	m_NL_MONETARY_DUO_VALID_FROM
,

461 
	m_NL_MONETARY_DUO_VALID_TO
,

462 
	m_NL_MONETARY_CONVERSION_RATE
,

463 
	m_NL_MONETARY_DECIMAL_POINT_WC
,

464 
	m_NL_MONETARY_THOUSANDS_SEP_WC
,

465 
	m_NL_MONETARY_CODESET
,

466 
	m_NL_NUM_LC_MONETARY
,

470 
	m__DECIMAL_POINT
 = 
_NL_ITEM
 (
__LC_NUMERIC
, 0),

471 #ifdeà
__USE_GNU


472 
	#DECIMAL_POINT
 
__DECIMAL_POINT


	)

474 
	mRADIXCHAR
 = 
__DECIMAL_POINT
,

475 
	#RADIXCHAR
 
RADIXCHAR


	)

476 
	m__THOUSANDS_SEP
,

477 #ifdeà
__USE_GNU


478 
	#THOUSANDS_SEP
 
__THOUSANDS_SEP


	)

480 
	mTHOUSEP
 = 
__THOUSANDS_SEP
,

481 
	#THOUSEP
 
THOUSEP


	)

482 
	m__GROUPING
,

483 #ifdeà
__USE_GNU


484 
	#GROUPING
 
__GROUPING


	)

486 
	m_NL_NUMERIC_DECIMAL_POINT_WC
,

487 
	m_NL_NUMERIC_THOUSANDS_SEP_WC
,

488 
	m_NL_NUMERIC_CODESET
,

489 
	m_NL_NUM_LC_NUMERIC
,

491 
	m__YESEXPR
 = 
_NL_ITEM
 (
__LC_MESSAGES
, 0),

492 
	#YESEXPR
 
__YESEXPR


	)

493 
	m__NOEXPR
,

494 
	#NOEXPR
 
__NOEXPR


	)

495 
	m__YESSTR
,

496 #ià
defšed
 
__USE_GNU
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

497 
	#YESSTR
 
__YESSTR


	)

499 
	m__NOSTR
,

500 #ià
defšed
 
__USE_GNU
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

501 
	#NOSTR
 
__NOSTR


	)

503 
	m_NL_MESSAGES_CODESET
,

504 
	m_NL_NUM_LC_MESSAGES
,

506 
	m_NL_PAPER_HEIGHT
 = 
_NL_ITEM
 (
__LC_PAPER
, 0),

507 
	m_NL_PAPER_WIDTH
,

508 
	m_NL_PAPER_CODESET
,

509 
	m_NL_NUM_LC_PAPER
,

511 
	m_NL_NAME_NAME_FMT
 = 
_NL_ITEM
 (
__LC_NAME
, 0),

512 
	m_NL_NAME_NAME_GEN
,

513 
	m_NL_NAME_NAME_MR
,

514 
	m_NL_NAME_NAME_MRS
,

515 
	m_NL_NAME_NAME_MISS
,

516 
	m_NL_NAME_NAME_MS
,

517 
	m_NL_NAME_CODESET
,

518 
	m_NL_NUM_LC_NAME
,

520 
	m_NL_ADDRESS_POSTAL_FMT
 = 
_NL_ITEM
 (
__LC_ADDRESS
, 0),

521 
	m_NL_ADDRESS_COUNTRY_NAME
,

522 
	m_NL_ADDRESS_COUNTRY_POST
,

523 
	m_NL_ADDRESS_COUNTRY_AB2
,

524 
	m_NL_ADDRESS_COUNTRY_AB3
,

525 
	m_NL_ADDRESS_COUNTRY_CAR
,

526 
	m_NL_ADDRESS_COUNTRY_NUM
,

527 
	m_NL_ADDRESS_COUNTRY_ISBN
,

528 
	m_NL_ADDRESS_LANG_NAME
,

529 
	m_NL_ADDRESS_LANG_AB
,

530 
	m_NL_ADDRESS_LANG_TERM
,

531 
	m_NL_ADDRESS_LANG_LIB
,

532 
	m_NL_ADDRESS_CODESET
,

533 
	m_NL_NUM_LC_ADDRESS
,

535 
	m_NL_TELEPHONE_TEL_INT_FMT
 = 
_NL_ITEM
 (
__LC_TELEPHONE
, 0),

536 
	m_NL_TELEPHONE_TEL_DOM_FMT
,

537 
	m_NL_TELEPHONE_INT_SELECT
,

538 
	m_NL_TELEPHONE_INT_PREFIX
,

539 
	m_NL_TELEPHONE_CODESET
,

540 
	m_NL_NUM_LC_TELEPHONE
,

542 
	m_NL_MEASUREMENT_MEASUREMENT
 = 
_NL_ITEM
 (
__LC_MEASUREMENT
, 0),

543 
	m_NL_MEASUREMENT_CODESET
,

544 
	m_NL_NUM_LC_MEASUREMENT
,

546 
	m_NL_IDENTIFICATION_TITLE
 = 
_NL_ITEM
 (
__LC_IDENTIFICATION
, 0),

547 
	m_NL_IDENTIFICATION_SOURCE
,

548 
	m_NL_IDENTIFICATION_ADDRESS
,

549 
	m_NL_IDENTIFICATION_CONTACT
,

550 
	m_NL_IDENTIFICATION_EMAIL
,

551 
	m_NL_IDENTIFICATION_TEL
,

552 
	m_NL_IDENTIFICATION_FAX
,

553 
	m_NL_IDENTIFICATION_LANGUAGE
,

554 
	m_NL_IDENTIFICATION_TERRITORY
,

555 
	m_NL_IDENTIFICATION_AUDIENCE
,

556 
	m_NL_IDENTIFICATION_APPLICATION
,

557 
	m_NL_IDENTIFICATION_ABBREVIATION
,

558 
	m_NL_IDENTIFICATION_REVISION
,

559 
	m_NL_IDENTIFICATION_DATE
,

560 
	m_NL_IDENTIFICATION_CATEGORY
,

561 
	m_NL_IDENTIFICATION_CODESET
,

562 
	m_NL_NUM_LC_IDENTIFICATION
,

565 
	m_NL_NUM


570 
	#_NL_LOCALE_NAME
(
ÿ‹gÜy
è
	`_NL_ITEM
 ((category), \

571 
	`_NL_ITEM_INDEX
 (-1))

	)

572 #ifdeà
__USE_GNU


573 
	#NL_LOCALE_NAME
(
ÿ‹gÜy
è
	`_NL_LOCALE_NAME
 (ÿ‹gÜy)

	)

583 *
	$Æ_Ïngšfo
 (
Æ_™em
 
__™em
è
__THROW
;

586 #ifdef 
__USE_XOPEN2K


591 
	~<xloÿË.h
>

594 *
	`Æ_Ïngšfo_l
 (
Æ_™em
 
__™em
, 
__loÿË_t
 
__l
);

597 
__END_DECLS


	@/usr/include/libintl.h

20 #iâdeà
_LIBINTL_H


21 
	#_LIBINTL_H
 1

	)

23 
	~<ã©u»s.h
>

27 
	#__USE_GNU_GETTEXT
 1

	)

31 
	#__GNU_GETTEXT_SUPPORTED_REVISION
(
majÜ
) \

32 ((
majÜ
è=ğ0 ? 1 : -1)

	)

34 
__BEGIN_DECLS


39 *
	$g‘‹xt
 (cÚ¡ *
__msgid
)

40 
__THROW
 
	`__©Œibu‹_fÜm©_¬g__
 (1);

44 *
	$dg‘‹xt
 (cÚ¡ *
__domašÇme
, cÚ¡ *
__msgid
)

45 
__THROW
 
	`__©Œibu‹_fÜm©_¬g__
 (2);

46 *
	$__dg‘‹xt
 (cÚ¡ *
__domašÇme
, cÚ¡ *
__msgid
)

47 
__THROW
 
	`__©Œibu‹_fÜm©_¬g__
 (2);

51 *
	$dcg‘‹xt
 (cÚ¡ *
__domašÇme
,

52 cÚ¡ *
__msgid
, 
__ÿ‹gÜy
)

53 
__THROW
 
	`__©Œibu‹_fÜm©_¬g__
 (2);

54 *
	$__dcg‘‹xt
 (cÚ¡ *
__domašÇme
,

55 cÚ¡ *
__msgid
, 
__ÿ‹gÜy
)

56 
__THROW
 
	`__©Œibu‹_fÜm©_¬g__
 (2);

61 *
	$ng‘‹xt
 (cÚ¡ *
__msgid1
, cÚ¡ *
__msgid2
,

62 
__n
)

63 
__THROW
 
	$__©Œibu‹_fÜm©_¬g__
 (1è
	`__©Œibu‹_fÜm©_¬g__
 (2);

67 *
	$dng‘‹xt
 (cÚ¡ *
__domašÇme
, cÚ¡ *
__msgid1
,

68 cÚ¡ *
__msgid2
, 
__n
)

69 
__THROW
 
	$__©Œibu‹_fÜm©_¬g__
 (2è
	`__©Œibu‹_fÜm©_¬g__
 (3);

73 *
	$dúg‘‹xt
 (cÚ¡ *
__domašÇme
, cÚ¡ *
__msgid1
,

74 cÚ¡ *
__msgid2
, 
__n
,

75 
__ÿ‹gÜy
)

76 
__THROW
 
	$__©Œibu‹_fÜm©_¬g__
 (2è
	`__©Œibu‹_fÜm©_¬g__
 (3);

82 *
	$‹xtdomaš
 (cÚ¡ *
__domašÇme
è
__THROW
;

86 *
	$bšd‹xtdomaš
 (cÚ¡ *
__domašÇme
,

87 cÚ¡ *
__dœÇme
è
__THROW
;

91 *
	$bšd_‹xtdomaš_code£t
 (cÚ¡ *
__domašÇme
,

92 cÚ¡ *
__code£t
è
__THROW
;

96 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


99 
	#__Ãed_NULL


	)

100 
	~<¡ddef.h
>

103 
	~<loÿË.h
>

109 
	#g‘‹xt
(
msgid
è
	`dg‘‹xt
 (
NULL
, msgid)

	)

111 
	#dg‘‹xt
(
domašÇme
, 
msgid
) \

112 
	`dcg‘‹xt
 (
domašÇme
, 
msgid
, 
LC_MESSAGES
)

	)

114 
	#ng‘‹xt
(
msgid1
, 
msgid2
, 
n
è
	`dng‘‹xt
 (
NULL
, msgid1, msgid2,‚)

	)

116 
	#dng‘‹xt
(
domašÇme
, 
msgid1
, 
msgid2
, 
n
) \

117 
	`dúg‘‹xt
 (
domašÇme
, 
msgid1
, 
msgid2
, 
n
, 
LC_MESSAGES
)

	)

121 
__END_DECLS


	@/usr/include/libio.h

29 #iâdeà
_IO_STDIO_H


30 
	#_IO_STDIO_H


	)

32 
	~<_G_cÚfig.h
>

34 
	#_IO_åos_t
 
_G_åos_t


	)

35 
	#_IO_åos64_t
 
_G_åos64_t


	)

36 
	#_IO_size_t
 
size_t


	)

37 
	#_IO_ssize_t
 
__ssize_t


	)

38 
	#_IO_off_t
 
__off_t


	)

39 
	#_IO_off64_t
 
__off64_t


	)

40 
	#_IO_pid_t
 
__pid_t


	)

41 
	#_IO_uid_t
 
__uid_t


	)

42 
	#_IO_icÚv_t
 
_G_icÚv_t


	)

43 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

44 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

45 
	#_IO_va_li¡
 
_G_va_li¡


	)

46 
	#_IO_wšt_t
 
wšt_t


	)

49 
	#__Ãed___va_li¡


	)

50 
	~<¡d¬g.h
>

51 #ifdeà
__GNUC_VA_LIST


52 #undeà
_IO_va_li¡


53 
	#_IO_va_li¡
 
__gnuc_va_li¡


	)

56 #iâdeà
__P


57 
	~<sys/cdefs.h
>

60 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

62 #iâdeà
EOF


63 
	#EOF
 (-1)

	)

65 #iâdeà
NULL


66 #ià
defšed
 
__GNUG__
 && \

67 (
	g__GNUC__
 > 2 || (__GNUC__ =ğ2 && 
__GNUC_MINOR__
 >= 8))

68 
	#NULL
 (
__nuÎ
)

	)

70 #ià!
defšed
(
__ılu¥lus
)

71 
	#NULL
 ((*)0)

	)

73 
	#NULL
 (0)

	)

78 
	#_IOS_INPUT
 1

	)

79 
	#_IOS_OUTPUT
 2

	)

80 
	#_IOS_ATEND
 4

	)

81 
	#_IOS_APPEND
 8

	)

82 
	#_IOS_TRUNC
 16

	)

83 
	#_IOS_NOCREATE
 32

	)

84 
	#_IOS_NOREPLACE
 64

	)

85 
	#_IOS_BIN
 128

	)

93 
	#_IO_MAGIC
 0xFBAD0000

	)

94 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

95 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

96 
	#_IO_USER_BUF
 1

	)

97 
	#_IO_UNBUFFERED
 2

	)

98 
	#_IO_NO_READS
 4

	)

99 
	#_IO_NO_WRITES
 8

	)

100 
	#_IO_EOF_SEEN
 0x10

	)

101 
	#_IO_ERR_SEEN
 0x20

	)

102 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

103 
	#_IO_LINKED
 0x80

	)

104 
	#_IO_IN_BACKUP
 0x100

	)

105 
	#_IO_LINE_BUF
 0x200

	)

106 
	#_IO_TIED_PUT_GET
 0x400

	)

107 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

108 
	#_IO_IS_APPENDING
 0x1000

	)

109 
	#_IO_IS_FILEBUF
 0x2000

	)

110 
	#_IO_BAD_SEEN
 0x4000

	)

111 
	#_IO_USER_LOCK
 0x8000

	)

113 
	#_IO_FLAGS2_MMAP
 1

	)

114 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

115 #ifdeà
_LIBC


116 
	#_IO_FLAGS2_FORTIFY
 4

	)

118 
	#_IO_FLAGS2_USER_WBUF
 8

	)

119 #ifdeà
_LIBC


120 
	#_IO_FLAGS2_SCANF_STD
 16

	)

121 
	#_IO_FLAGS2_NOCLOSE
 32

	)

122 
	#_IO_FLAGS2_CLOEXEC
 64

	)

126 
	#_IO_SKIPWS
 01

	)

127 
	#_IO_LEFT
 02

	)

128 
	#_IO_RIGHT
 04

	)

129 
	#_IO_INTERNAL
 010

	)

130 
	#_IO_DEC
 020

	)

131 
	#_IO_OCT
 040

	)

132 
	#_IO_HEX
 0100

	)

133 
	#_IO_SHOWBASE
 0200

	)

134 
	#_IO_SHOWPOINT
 0400

	)

135 
	#_IO_UPPERCASE
 01000

	)

136 
	#_IO_SHOWPOS
 02000

	)

137 
	#_IO_SCIENTIFIC
 04000

	)

138 
	#_IO_FIXED
 010000

	)

139 
	#_IO_UNITBUF
 020000

	)

140 
	#_IO_STDIO
 040000

	)

141 
	#_IO_DONT_CLOSE
 0100000

	)

142 
	#_IO_BOOLALPHA
 0200000

	)

145 
_IO_jump_t
; 
	g_IO_FILE
;

148 #ifdeà
_IO_MTSAFE_IO


149 #ià
defšed
 
__GLIBC__
 && __GLIBC__ >= 2

150 
	~<b™s/¡dio-lock.h
>

155 
	t_IO_lock_t
;

161 
	s_IO_m¬k”
 {

162 
_IO_m¬k”
 *
	m_Ãxt
;

163 
_IO_FILE
 *
	m_sbuf
;

167 
	m_pos
;

169 
£t_¡»ampos
(
¡»ampos
 
¥
è{ 
	m_¥os
 = sp; }

170 
£t_off£t
(
off£t
è{ 
	m_pos
 = off£t; 
	m_¥os
 = (
¡»ampos
)(-2); }

171 
	mpublic
:

172 
¡»amm¬k”
(
¡»ambuf
 *
sb
);

173 ~
¡»amm¬k”
();

174 
§všg
(è{  
	m_¥os
 == -2; }

175 
d–
(
¡»amm¬k”
&);

176 
d–
();

181 
	e__codecvt_»suÉ


183 
	m__codecvt_ok
,

184 
	m__codecvt_·¹Ÿl
,

185 
	m__codecvt_”rÜ
,

186 
	m__codecvt_nocÚv


189 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


192 
	s_IO_codecvt


194 (*
	m__codecvt_de¡r
è(
	m_IO_codecvt
 *);

195 
__codecvt_»suÉ
 (*
__codecvt_do_out
è(
	m_IO_codecvt
 *,

196 
	m__mb¡©e_t
 *,

197 cÚ¡ 
	mwch¬_t
 *,

198 cÚ¡ 
	mwch¬_t
 *,

199 cÚ¡ 
	mwch¬_t
 **, *,

201 
__codecvt_»suÉ
 (*
__codecvt_do_unshiá
è(
	m_IO_codecvt
 *,

202 
	m__mb¡©e_t
 *, *,

204 
__codecvt_»suÉ
 (*
__codecvt_do_š
è(
	m_IO_codecvt
 *,

205 
	m__mb¡©e_t
 *,

207 cÚ¡ **, 
	mwch¬_t
 *,

208 
	mwch¬_t
 *, wchar_t **);

209 (*
	m__codecvt_do_’codšg
è(
	m_IO_codecvt
 *);

210 (*
	m__codecvt_do_®ways_nocÚv
è(
	m_IO_codecvt
 *);

211 (*
	m__codecvt_do_Ëngth
è(
	m_IO_codecvt
 *, 
	m__mb¡©e_t
 *,

212 cÚ¡ *, cÚ¡ *, 
	m_IO_size_t
);

213 (*
	m__codecvt_do_max_Ëngth
è(
	m_IO_codecvt
 *);

215 
_IO_icÚv_t
 
	m__cd_š
;

216 
_IO_icÚv_t
 
	m__cd_out
;

220 
	s_IO_wide_d©a


222 
wch¬_t
 *
	m_IO_»ad_±r
;

223 
wch¬_t
 *
	m_IO_»ad_’d
;

224 
wch¬_t
 *
	m_IO_»ad_ba£
;

225 
wch¬_t
 *
	m_IO_wr™e_ba£
;

226 
wch¬_t
 *
	m_IO_wr™e_±r
;

227 
wch¬_t
 *
	m_IO_wr™e_’d
;

228 
wch¬_t
 *
	m_IO_buf_ba£
;

229 
wch¬_t
 *
	m_IO_buf_’d
;

231 
wch¬_t
 *
	m_IO_§ve_ba£
;

232 
wch¬_t
 *
	m_IO_backup_ba£
;

234 
wch¬_t
 *
	m_IO_§ve_’d
;

236 
__mb¡©e_t
 
	m_IO_¡©e
;

237 
__mb¡©e_t
 
	m_IO_Ï¡_¡©e
;

238 
_IO_codecvt
 
	m_codecvt
;

240 
wch¬_t
 
	m_shÜtbuf
[1];

242 cÚ¡ 
_IO_jump_t
 *
	m_wide_vbË
;

246 
	s_IO_FILE
 {

247 
	m_æags
;

248 
	#_IO_fe_æags
 
_æags


	)

252 * 
	m_IO_»ad_±r
;

253 * 
	m_IO_»ad_’d
;

254 * 
	m_IO_»ad_ba£
;

255 * 
	m_IO_wr™e_ba£
;

256 * 
	m_IO_wr™e_±r
;

257 * 
	m_IO_wr™e_’d
;

258 * 
	m_IO_buf_ba£
;

259 * 
	m_IO_buf_’d
;

261 *
	m_IO_§ve_ba£
;

262 *
	m_IO_backup_ba£
;

263 *
	m_IO_§ve_’d
;

265 
_IO_m¬k”
 *
	m_m¬k”s
;

267 
_IO_FILE
 *
	m_chaš
;

269 
	m_f’o
;

271 
	m_blksize
;

273 
	m_æags2
;

275 
_IO_off_t
 
	m_Şd_off£t
;

277 
	#__HAVE_COLUMN


	)

279 
	m_cur_cŞumn
;

280 sigÃd 
	m_vbË_off£t
;

281 
	m_shÜtbuf
[1];

285 
_IO_lock_t
 *
	m_lock
;

286 #ifdeà
_IO_USE_OLD_IO_FILE


289 
	s_IO_FILE_com¶‘e


291 
_IO_FILE
 
	m_fe
;

293 #ià
defšed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

294 
_IO_off64_t
 
	m_off£t
;

295 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


297 
_IO_codecvt
 *
	m_codecvt
;

298 
_IO_wide_d©a
 *
	m_wide_d©a
;

299 
_IO_FILE
 *
	m_ä“»s_li¡
;

300 *
	m_ä“»s_buf
;

301 
size_t
 
	m_ä“»s_size
;

303 *
	m__·d1
;

304 *
	m__·d2
;

305 *
	m__·d3
;

306 *
	m__·d4
;

307 
size_t
 
	m__·d5
;

309 
	m_mode
;

311 
	m_unu£d2
[15 *  (è- 4 *  (*è-  (
size_t
)];

315 #iâdeà
__ılu¥lus


316 
_IO_FILE
 
	t_IO_FILE
;

319 
	g_IO_FILE_¶us
;

321 
_IO_FILE_¶us
 
_IO_2_1_¡dš_
;

322 
_IO_FILE_¶us
 
_IO_2_1_¡dout_
;

323 
_IO_FILE_¶us
 
_IO_2_1_¡d”r_
;

324 #iâdeà
_LIBC


325 
	#_IO_¡dš
 ((
_IO_FILE
*)(&
_IO_2_1_¡dš_
))

	)

326 
	#_IO_¡dout
 ((
_IO_FILE
*)(&
_IO_2_1_¡dout_
))

	)

327 
	#_IO_¡d”r
 ((
_IO_FILE
*)(&
_IO_2_1_¡d”r_
))

	)

329 
_IO_FILE
 *
_IO_¡dš
 
©Œibu‹_hidd’
;

330 
_IO_FILE
 *
_IO_¡dout
 
©Œibu‹_hidd’
;

331 
_IO_FILE
 *
_IO_¡d”r
 
©Œibu‹_hidd’
;

339 
__ssize_t
 
	t__io_»ad_â
 (*
	t__cook›
, *
	t__buf
, 
	tsize_t
 
	t__nby‹s
);

347 
__ssize_t
 
	t__io_wr™e_â
 (*
	t__cook›
, cÚ¡ *
	t__buf
,

348 
	tsize_t
 
	t__n
);

356 
	t__io_£ek_â
 (*
	t__cook›
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

359 
	t__io_şo£_â
 (*
	t__cook›
);

362 #ifdeà
_GNU_SOURCE


364 
__io_»ad_â
 
	tcook›_»ad_funùiÚ_t
;

365 
__io_wr™e_â
 
	tcook›_wr™e_funùiÚ_t
;

366 
__io_£ek_â
 
	tcook›_£ek_funùiÚ_t
;

367 
__io_şo£_â
 
	tcook›_şo£_funùiÚ_t
;

372 
__io_»ad_â
 *
	m»ad
;

373 
__io_wr™e_â
 *
	mwr™e
;

374 
__io_£ek_â
 *
	m£ek
;

375 
__io_şo£_â
 *
	mşo£
;

376 } 
	t_IO_cook›_io_funùiÚs_t
;

377 
_IO_cook›_io_funùiÚs_t
 
	tcook›_io_funùiÚs_t
;

379 
	g_IO_cook›_fe
;

382 
_IO_cook›_š™
 (
_IO_cook›_fe
 *
__cfe
, 
__»ad_wr™e
,

383 *
__cook›
, 
_IO_cook›_io_funùiÚs_t
 
__âs
);

387 #ifdeà
__ılu¥lus


391 
__und”æow
 (
_IO_FILE
 *);

392 
__uæow
 (
_IO_FILE
 *);

393 
__ov”æow
 (
_IO_FILE
 *, );

394 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


395 
_IO_wšt_t
 
__wund”æow
 (
_IO_FILE
 *);

396 
_IO_wšt_t
 
__wuæow
 (
_IO_FILE
 *);

397 
_IO_wšt_t
 
__wov”æow
 (
_IO_FILE
 *, _IO_wint_t);

400 #ià 
__GNUC__
 >= 3

401 
	#_IO_BE
(
ex´
, 
»s
è
	`__butš_ex³ù
 (Óx´),„es)

	)

403 
	#_IO_BE
(
ex´
, 
»s
èÓx´)

	)

406 
	#_IO_g‘c_uÆocked
(
_å
) \

407 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

408 ? 
	`__uæow
 (
_å
è: *(*è(_å)->
_IO_»ad_±r
++)

	)

409 
	#_IO_³ekc_uÆocked
(
_å
) \

410 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

411 && 
	`__und”æow
 (
_å
è=ğ
EOF
 ? EOF \

412 : *(*è(
_å
)->
_IO_»ad_±r
)

	)

413 
	#_IO_putc_uÆocked
(
_ch
, 
_å
) \

414 (
	`_IO_BE
 ((
_å
)->
_IO_wr™e_±r
 >ğ(_å)->
_IO_wr™e_’d
, 0) \

415 ? 
	`__ov”æow
 (
_å
, (è(
_ch
)) \

416 : (è(*(
_å
)->
_IO_wr™e_±r
++ = (
_ch
)))

	)

418 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


419 
	#_IO_g‘wc_uÆocked
(
_å
) \

420 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

421 || ((
_å
)->
_wide_d©a
->
_IO_»ad_±r
 \

422 >ğ(
_å
)->
_wide_d©a
->
_IO_»ad_’d
), 0) \

423 ? 
	`__wuæow
 (
_å
è: (
_IO_wšt_t
è*(_å)->
_wide_d©a
->
_IO_»ad_±r
++)

	)

424 
	#_IO_putwc_uÆocked
(
_wch
, 
_å
) \

425 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

426 || ((
_å
)->
_wide_d©a
->
_IO_wr™e_±r
 \

427 >ğ(
_å
)->
_wide_d©a
->
_IO_wr™e_’d
), 0) \

428 ? 
	`__wov”æow
 (
_å
, 
_wch
) \

429 : (
_IO_wšt_t
è(*(
_å
)->
_wide_d©a
->
_IO_wr™e_±r
++ = (
_wch
)))

	)

432 
	#_IO_ãof_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_EOF_SEEN
è!ğ0)

	)

433 
	#_IO_ã¼Ü_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_ERR_SEEN
è!ğ0)

	)

435 
_IO_g‘c
 (
_IO_FILE
 *
__å
);

436 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__å
);

437 
_IO_ãof
 (
_IO_FILE
 *
__å
è
__THROW
;

438 
_IO_ã¼Ü
 (
_IO_FILE
 *
__å
è
__THROW
;

440 
_IO_³ekc_locked
 (
_IO_FILE
 *
__å
);

443 
	#_IO_PENDING_OUTPUT_COUNT
(
_å
) \

444 ((
_å
)->
_IO_wr™e_±r
 - (_å)->
_IO_wr™e_ba£
)

	)

446 
_IO_æockfe
 (
_IO_FILE
 *è
__THROW
;

447 
_IO_fuÆockfe
 (
_IO_FILE
 *è
__THROW
;

448 
_IO_árylockfe
 (
_IO_FILE
 *è
__THROW
;

450 #ifdeà
_IO_MTSAFE_IO


451 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_locked
 (_å)

	)

452 
	#_IO_æockfe
(
_å
) \

453 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_æockfe
 (_å)

	)

454 
	#_IO_fuÆockfe
(
_å
) \

455 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_fuÆockfe
 (_å)

	)

457 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_uÆocked
 (_å)

	)

458 
	#_IO_æockfe
(
_å
è

	)

459 
	#_IO_fuÆockfe
(
_å
è

	)

460 
	#_IO_árylockfe
(
_å
è

	)

461 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
è

	)

462 
	#_IO_ş—nup_»giÚ_’d
(
_Do™
è

	)

465 
_IO_vfsÿnf
 (
_IO_FILE
 * 
__»¡riù
, const * __restrict,

466 
_IO_va_li¡
, *
__»¡riù
);

467 
_IO_vårštf
 (
_IO_FILE
 *
__»¡riù
, const *__restrict,

468 
_IO_va_li¡
);

469 
_IO_ssize_t
 
_IO_·dn
 (
_IO_FILE
 *, , _IO_ssize_t);

470 
_IO_size_t
 
_IO_sg‘n
 (
_IO_FILE
 *, *, _IO_size_t);

472 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

473 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

475 
_IO_ä“_backup_¬—
 (
_IO_FILE
 *è
__THROW
;

477 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


478 
_IO_wšt_t
 
_IO_g‘wc
 (
_IO_FILE
 *
__å
);

479 
_IO_wšt_t
 
_IO_putwc
 (
wch¬_t
 
__wc
, 
_IO_FILE
 *
__å
);

480 
_IO_fwide
 (
_IO_FILE
 *
__å
, 
__mode
è
__THROW
;

481 #ià
__GNUC__
 >= 2

484 #ià
defšed
 
_LIBC
 && defšed 
SHARED


485 
	~<shlib-com·t.h
>

486 #ià
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

487 
	#_IO_fwide_maybe_šcom·tibË
 \

488 (
	`__butš_ex³ù
 (&
_IO_¡dš_u£d
 =ğ
NULL
, 0))

	)

489 cÚ¡ 
_IO_¡dš_u£d
;

490 
w—k_ex‹º
 (
_IO_¡dš_u£d
);

493 #iâdeà
_IO_fwide_maybe_šcom·tibË


494 
	#_IO_fwide_maybe_šcom·tibË
 (0)

	)

498 
	#_IO_fwide
(
__å
, 
__mode
) \

499 ({ 
__»suÉ
 = (
__mode
); \

500 ià(
__»suÉ
 < 0 && ! 
_IO_fwide_maybe_šcom·tibË
) \

502 ià((
__å
)->
_mode
 == 0) \

504 (
__å
)->
_mode
 = -1; \

505 
__»suÉ
 = (
__å
)->
_mode
; \

507 ià(
	`__butš_cÚ¡ªt_p
 (
__mode
) && (__mode) == 0) \

508 
__»suÉ
 = 
_IO_fwide_maybe_šcom·tibË
 ? -1 : (
__å
)->
_mode
; \

510 
__»suÉ
 = 
	`_IO_fwide
 (
__å
, __result); \

511 
__»suÉ
; })

	)

514 
_IO_vfwsÿnf
 (
_IO_FILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict,

515 
_IO_va_li¡
, *
__»¡riù
);

516 
_IO_vfw´štf
 (
_IO_FILE
 *
__»¡riù
, cÚ¡ 
wch¬_t
 *__restrict,

517 
_IO_va_li¡
);

518 
_IO_ssize_t
 
_IO_w·dn
 (
_IO_FILE
 *, 
wšt_t
, _IO_ssize_t);

519 
_IO_ä“_wbackup_¬—
 (
_IO_FILE
 *è
__THROW
;

522 #ifdeà
__LDBL_COMPAT


523 
	~<b™s/libio-ldbl.h
>

526 #ifdeà
__ılu¥lus


	@/usr/include/linux/i2c.h

27 #iâdeà
_LINUX_I2C_H


28 
	#_LINUX_I2C_H


	)

30 
	~<lšux/ty³s.h
>

68 
	si2c_msg
 {

69 
__u16
 
	maddr
;

70 
__u16
 
	mæags
;

71 
	#I2C_M_TEN
 0x0010

	)

72 
	#I2C_M_RD
 0x0001

	)

73 
	#I2C_M_STOP
 0x8000

	)

74 
	#I2C_M_NOSTART
 0x4000

	)

75 
	#I2C_M_REV_DIR_ADDR
 0x2000

	)

76 
	#I2C_M_IGNORE_NAK
 0x1000

	)

77 
	#I2C_M_NO_RD_ACK
 0x0800

	)

78 
	#I2C_M_RECV_LEN
 0x0400

	)

79 
__u16
 
	mËn
;

80 
__u8
 *
	mbuf
;

85 
	#I2C_FUNC_I2C
 0x00000001

	)

86 
	#I2C_FUNC_10BIT_ADDR
 0x00000002

	)

87 
	#I2C_FUNC_PROTOCOL_MANGLING
 0x00000004

	)

88 
	#I2C_FUNC_SMBUS_PEC
 0x00000008

	)

89 
	#I2C_FUNC_NOSTART
 0x00000010

	)

90 
	#I2C_FUNC_SMBUS_BLOCK_PROC_CALL
 0x00008000

	)

91 
	#I2C_FUNC_SMBUS_QUICK
 0x00010000

	)

92 
	#I2C_FUNC_SMBUS_READ_BYTE
 0x00020000

	)

93 
	#I2C_FUNC_SMBUS_WRITE_BYTE
 0x00040000

	)

94 
	#I2C_FUNC_SMBUS_READ_BYTE_DATA
 0x00080000

	)

95 
	#I2C_FUNC_SMBUS_WRITE_BYTE_DATA
 0x00100000

	)

96 
	#I2C_FUNC_SMBUS_READ_WORD_DATA
 0x00200000

	)

97 
	#I2C_FUNC_SMBUS_WRITE_WORD_DATA
 0x00400000

	)

98 
	#I2C_FUNC_SMBUS_PROC_CALL
 0x00800000

	)

99 
	#I2C_FUNC_SMBUS_READ_BLOCK_DATA
 0x01000000

	)

100 
	#I2C_FUNC_SMBUS_WRITE_BLOCK_DATA
 0x02000000

	)

101 
	#I2C_FUNC_SMBUS_READ_I2C_BLOCK
 0x04000000

	)

102 
	#I2C_FUNC_SMBUS_WRITE_I2C_BLOCK
 0x08000000

	)

104 
	#I2C_FUNC_SMBUS_BYTE
 (
I2C_FUNC_SMBUS_READ_BYTE
 | \

105 
I2C_FUNC_SMBUS_WRITE_BYTE
)

	)

106 
	#I2C_FUNC_SMBUS_BYTE_DATA
 (
I2C_FUNC_SMBUS_READ_BYTE_DATA
 | \

107 
I2C_FUNC_SMBUS_WRITE_BYTE_DATA
)

	)

108 
	#I2C_FUNC_SMBUS_WORD_DATA
 (
I2C_FUNC_SMBUS_READ_WORD_DATA
 | \

109 
I2C_FUNC_SMBUS_WRITE_WORD_DATA
)

	)

110 
	#I2C_FUNC_SMBUS_BLOCK_DATA
 (
I2C_FUNC_SMBUS_READ_BLOCK_DATA
 | \

111 
I2C_FUNC_SMBUS_WRITE_BLOCK_DATA
)

	)

112 
	#I2C_FUNC_SMBUS_I2C_BLOCK
 (
I2C_FUNC_SMBUS_READ_I2C_BLOCK
 | \

113 
I2C_FUNC_SMBUS_WRITE_I2C_BLOCK
)

	)

115 
	#I2C_FUNC_SMBUS_EMUL
 (
I2C_FUNC_SMBUS_QUICK
 | \

116 
I2C_FUNC_SMBUS_BYTE
 | \

117 
I2C_FUNC_SMBUS_BYTE_DATA
 | \

118 
I2C_FUNC_SMBUS_WORD_DATA
 | \

119 
I2C_FUNC_SMBUS_PROC_CALL
 | \

120 
I2C_FUNC_SMBUS_WRITE_BLOCK_DATA
 | \

121 
I2C_FUNC_SMBUS_I2C_BLOCK
 | \

122 
I2C_FUNC_SMBUS_PEC
)

	)

127 
	#I2C_SMBUS_BLOCK_MAX
 32

	)

128 
	ui2c_smbus_d©a
 {

129 
__u8
 
	mby‹
;

130 
__u16
 
	mwÜd
;

131 
__u8
 
	mblock
[
I2C_SMBUS_BLOCK_MAX
 + 2];

136 
	#I2C_SMBUS_READ
 1

	)

137 
	#I2C_SMBUS_WRITE
 0

	)

141 
	#I2C_SMBUS_QUICK
 0

	)

142 
	#I2C_SMBUS_BYTE
 1

	)

143 
	#I2C_SMBUS_BYTE_DATA
 2

	)

144 
	#I2C_SMBUS_WORD_DATA
 3

	)

145 
	#I2C_SMBUS_PROC_CALL
 4

	)

146 
	#I2C_SMBUS_BLOCK_DATA
 5

	)

147 
	#I2C_SMBUS_I2C_BLOCK_BROKEN
 6

	)

148 
	#I2C_SMBUS_BLOCK_PROC_CALL
 7

	)

149 
	#I2C_SMBUS_I2C_BLOCK_DATA
 8

	)

	@/usr/include/linux/types.h

1 #iâdeà
_LINUX_TYPES_H


2 
	#_LINUX_TYPES_H


	)

4 
	~<asm/ty³s.h
>

6 #iâdeà
__ASSEMBLY__


8 
	~<lšux/posix_ty³s.h
>

16 #ifdeà
__CHECKER__


17 
	#__b™wi£__
 
	`__©Œibu‹__
((
b™wi£
))

	)

19 
	#__b™wi£__


	)

21 #ifdeà
__CHECK_ENDIAN__


22 
	#__b™wi£
 
__b™wi£__


	)

24 
	#__b™wi£


	)

27 
__u16
 
	t__b™wi£
 
	t__Ë16
;

28 
__u16
 
	t__b™wi£
 
	t__be16
;

29 
__u32
 
	t__b™wi£
 
	t__Ë32
;

30 
__u32
 
	t__b™wi£
 
	t__be32
;

31 
__u64
 
	t__b™wi£
 
	t__Ë64
;

32 
__u64
 
	t__b™wi£
 
	t__be64
;

34 
__u16
 
	t__b™wi£
 
	t__sum16
;

35 
__u32
 
	t__b™wi£
 
	t__wsum
;

46 
	#__®igÃd_u64
 
__u64
 
	`__©Œibu‹__
((
	`®igÃd
(8)))

	)

47 
	#__®igÃd_be64
 
__be64
 
	`__©Œibu‹__
((
	`®igÃd
(8)))

	)

48 
	#__®igÃd_Ë64
 
__Ë64
 
	`__©Œibu‹__
((
	`®igÃd
(8)))

	)

	@/usr/include/xlocale.h

20 #iâdeà
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loÿË_¡ruù


30 
__loÿË_d©a
 *
	m__loÿËs
[13];

33 cÚ¡ *
	m__ùy³_b
;

34 cÚ¡ *
	m__ùy³_tŞow”
;

35 cÚ¡ *
	m__ùy³_touµ”
;

38 cÚ¡ *
	m__Çmes
[13];

39 } *
	t__loÿË_t
;

42 
__loÿË_t
 
	tloÿË_t
;

	@/usr/include/_G_config.h

4 #iâdeà
_G_cÚfig_h


5 
	#_G_cÚfig_h
 1

	)

9 
	~<b™s/ty³s.h
>

10 
	#__Ãed_size_t


	)

11 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


12 
	#__Ãed_wch¬_t


	)

14 
	#__Ãed_NULL


	)

15 
	~<¡ddef.h
>

16 
	#__Ãed_mb¡©e_t


	)

17 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


18 
	#__Ãed_wšt_t


	)

20 
	~<wch¬.h
>

23 
__off_t
 
	m__pos
;

24 
__mb¡©e_t
 
	m__¡©e
;

25 } 
	t_G_åos_t
;

28 
__off64_t
 
	m__pos
;

29 
__mb¡©e_t
 
	m__¡©e
;

30 } 
	t_G_åos64_t
;

31 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


32 
	~<gcÚv.h
>

35 
__gcÚv_šfo
 
	m__cd
;

38 
__gcÚv_šfo
 
	m__cd
;

39 
__gcÚv_¡•_d©a
 
	m__d©a
;

40 } 
	m__combšed
;

41 } 
	t_G_icÚv_t
;

46 
	#_G_va_li¡
 
__gnuc_va_li¡


	)

48 
	#_G_HAVE_MMAP
 1

	)

49 
	#_G_HAVE_MREMAP
 1

	)

51 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

54 
	#_G_HAVE_ST_BLKSIZE
 
	`defšed
 (
_STATBUF_ST_BLKSIZE
)

	)

56 
	#_G_BUFSIZ
 8192

	)

	@/usr/include/linux/posix_types.h

1 #iâdeà
_LINUX_POSIX_TYPES_H


2 
	#_LINUX_POSIX_TYPES_H


	)

4 
	~<lšux/¡ddef.h
>

21 #undeà
__FD_SETSIZE


22 
	#__FD_SETSIZE
 1024

	)

25 
	mfds_b™s
[
__FD_SETSIZE
 / (8 * ())];

26 } 
	t__k”Ãl_fd_£t
;

29 (*
	t__k”Ãl_sighªdËr_t
)();

32 
	t__k”Ãl_key_t
;

33 
	t__k”Ãl_mqd_t
;

35 
	~<asm/posix_ty³s.h
>

	@/usr/include/locale.h

23 #iâdef 
_LOCALE_H


24 
	#_LOCALE_H
 1

	)

26 
	~<ã©u»s.h
>

28 
	#__Ãed_NULL


	)

29 
	~<¡ddef.h
>

30 
	~<b™s/loÿË.h
>

32 
	g__BEGIN_DECLS


36 
	#LC_CTYPE
 
__LC_CTYPE


	)

37 
	#LC_NUMERIC
 
__LC_NUMERIC


	)

38 
	#LC_TIME
 
__LC_TIME


	)

39 
	#LC_COLLATE
 
__LC_COLLATE


	)

40 
	#LC_MONETARY
 
__LC_MONETARY


	)

41 
	#LC_MESSAGES
 
__LC_MESSAGES


	)

42 
	#LC_ALL
 
__LC_ALL


	)

43 
	#LC_PAPER
 
__LC_PAPER


	)

44 
	#LC_NAME
 
__LC_NAME


	)

45 
	#LC_ADDRESS
 
__LC_ADDRESS


	)

46 
	#LC_TELEPHONE
 
__LC_TELEPHONE


	)

47 
	#LC_MEASUREMENT
 
__LC_MEASUREMENT


	)

48 
	#LC_IDENTIFICATION
 
__LC_IDENTIFICATION


	)

51 
__BEGIN_NAMESPACE_STD


54 
	slcÚv


58 *
	mdecim®_pošt
;

59 *
	mthou§nds_£p
;

65 *
	mgroupšg
;

71 *
	mšt_cu¼_symbŞ
;

72 *
	mcu¼’cy_symbŞ
;

73 *
	mmÚ_decim®_pošt
;

74 *
	mmÚ_thou§nds_£p
;

75 *
	mmÚ_groupšg
;

76 *
	mpos™ive_sign
;

77 *
	mÃg©ive_sign
;

78 
	mšt_äac_dig™s
;

79 
	mäac_dig™s
;

81 
	mp_cs_´eûdes
;

83 
	mp_£p_by_¥aû
;

85 
	mn_cs_´eûdes
;

87 
	mn_£p_by_¥aû
;

94 
	mp_sign_po¢
;

95 
	mn_sign_po¢
;

96 #ifdeà
__USE_ISOC99


98 
	mšt_p_cs_´eûdes
;

100 
	mšt_p_£p_by_¥aû
;

102 
	mšt_n_cs_´eûdes
;

104 
	mšt_n_£p_by_¥aû
;

111 
	mšt_p_sign_po¢
;

112 
	mšt_n_sign_po¢
;

114 
	m__št_p_cs_´eûdes
;

115 
	m__št_p_£p_by_¥aû
;

116 
	m__št_n_cs_´eûdes
;

117 
	m__št_n_£p_by_¥aû
;

118 
	m__št_p_sign_po¢
;

119 
	m__št_n_sign_po¢
;

125 *
	$£oÿË
 (
__ÿ‹gÜy
, cÚ¡ *
__loÿË
è
__THROW
;

128 
lcÚv
 *
	$loÿËcÚv
 (è
__THROW
;

130 
__END_NAMESPACE_STD


133 #ifdef 
__USE_XOPEN2K8


146 
	~<xloÿË.h
>

152 
__loÿË_t
 
	$ÃwloÿË
 (
__ÿ‹gÜy_mask
, cÚ¡ *
__loÿË
,

153 
__loÿË_t
 
__ba£
è
__THROW
;

159 
	#LC_CTYPE_MASK
 (1 << 
__LC_CTYPE
)

	)

160 
	#LC_NUMERIC_MASK
 (1 << 
__LC_NUMERIC
)

	)

161 
	#LC_TIME_MASK
 (1 << 
__LC_TIME
)

	)

162 
	#LC_COLLATE_MASK
 (1 << 
__LC_COLLATE
)

	)

163 
	#LC_MONETARY_MASK
 (1 << 
__LC_MONETARY
)

	)

164 
	#LC_MESSAGES_MASK
 (1 << 
__LC_MESSAGES
)

	)

165 
	#LC_PAPER_MASK
 (1 << 
__LC_PAPER
)

	)

166 
	#LC_NAME_MASK
 (1 << 
__LC_NAME
)

	)

167 
	#LC_ADDRESS_MASK
 (1 << 
__LC_ADDRESS
)

	)

168 
	#LC_TELEPHONE_MASK
 (1 << 
__LC_TELEPHONE
)

	)

169 
	#LC_MEASUREMENT_MASK
 (1 << 
__LC_MEASUREMENT
)

	)

170 
	#LC_IDENTIFICATION_MASK
 (1 << 
__LC_IDENTIFICATION
)

	)

171 
	#LC_ALL_MASK
 (
LC_CTYPE_MASK
 \

172 | 
LC_NUMERIC_MASK
 \

173 | 
LC_TIME_MASK
 \

174 | 
LC_COLLATE_MASK
 \

175 | 
LC_MONETARY_MASK
 \

176 | 
LC_MESSAGES_MASK
 \

177 | 
LC_PAPER_MASK
 \

178 | 
LC_NAME_MASK
 \

179 | 
LC_ADDRESS_MASK
 \

180 | 
LC_TELEPHONE_MASK
 \

181 | 
LC_MEASUREMENT_MASK
 \

182 | 
LC_IDENTIFICATION_MASK
 \

183 )

	)

187 
__loÿË_t
 
	$du¶oÿË
 (
__loÿË_t
 
__d©a£t
è
__THROW
;

191 
	$ä“loÿË
 (
__loÿË_t
 
__d©a£t
è
__THROW
;

198 
__loÿË_t
 
	$u£loÿË
 (
__loÿË_t
 
__d©a£t
è
__THROW
;

202 
	#LC_GLOBAL_LOCALE
 ((
__loÿË_t
è-1L)

	)

206 
__END_DECLS


	@/usr/include/nl_types.h

18 #iâdeà
_NL_TYPES_H


19 
	#_NL_TYPES_H
 1

	)

21 
	~<ã©u»s.h
>

24 
	#NL_SETD
 1

	)

27 
	#NL_CAT_LOCALE
 1

	)

30 
__BEGIN_DECLS


33 *
	tÆ_ÿtd
;

36 
	tÆ_™em
;

42 
Æ_ÿtd
 
	$ÿtİ’
 (cÚ¡ *
__ÿt_Çme
, 
__æag
è
	`__nÚnuÎ
 ((1));

46 *
	$ÿtg‘s
 (
Æ_ÿtd
 
__ÿlog
, 
__£t
, 
__numb”
,

47 cÚ¡ *
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

50 
	$ÿtşo£
 (
Æ_ÿtd
 
__ÿlog
è
__THROW
 
	`__nÚnuÎ
 ((1));

52 
__END_DECLS


	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

30 
	~<b™s/´edefs.h
>

34 
	#__STDC_ISO_10646__
 201103L

	)

37 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/gconv.h

22 #iâdeà
_GCONV_H


23 
	#_GCONV_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	#__Ãed_mb¡©e_t


	)

27 
	#__Ãed_wšt_t


	)

28 
	~<wch¬.h
>

29 
	#__Ãed_size_t


	)

30 
	#__Ãed_wch¬_t


	)

31 
	~<¡ddef.h
>

34 
	#__UNKNOWN_10646_CHAR
 ((
wch¬_t
è0xfffd)

	)

39 
	m__GCONV_OK
 = 0,

40 
	m__GCONV_NOCONV
,

41 
	m__GCONV_NODB
,

42 
	m__GCONV_NOMEM
,

44 
	m__GCONV_EMPTY_INPUT
,

45 
	m__GCONV_FULL_OUTPUT
,

46 
	m__GCONV_ILLEGAL_INPUT
,

47 
	m__GCONV_INCOMPLETE_INPUT
,

49 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

50 
	m__GCONV_INTERNAL_ERROR


57 
	m__GCONV_IS_LAST
 = 0x0001,

58 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

59 
	m__GCONV_SWAP
 = 0x0004

64 
	g__gcÚv_¡•
;

65 
	g__gcÚv_¡•_d©a
;

66 
	g__gcÚv_lßded_objeù
;

67 
	g__gcÚv_Œªs_d©a
;

71 (*
	t__gcÚv_fù
è(
	t__gcÚv_¡•
 *, 
	t__gcÚv_¡•_d©a
 *,

73 **, 
	tsize_t
 *, , );

76 
	$wšt_t
 (*
	t__gcÚv_btowc_fù
è(
	t__gcÚv_¡•
 *, );

79 (*
	t__gcÚv_š™_fù
è(
	t__gcÚv_¡•
 *);

80 (*
	t__gcÚv_’d_fù
è(
	t__gcÚv_¡•
 *);

84 (*
	t__gcÚv_Œªs_fù
è(
	t__gcÚv_¡•
 *,

85 
	t__gcÚv_¡•_d©a
 *, *,

89 
	tsize_t
 *);

92 (*
	t__gcÚv_Œªs_cÚ‹xt_fù
) (*, const *,

97 (*
	t__gcÚv_Œªs_qu”y_fù
) (const *, const ***,

98 
	tsize_t
 *);

101 (*
	t__gcÚv_Œªs_š™_fù
) (**, const *);

102 (*
	t__gcÚv_Œªs_’d_fù
) (*);

104 
	s__gcÚv_Œªs_d©a


107 
__gcÚv_Œªs_fù
 
__Œªs_fù
;

108 
__gcÚv_Œªs_cÚ‹xt_fù
 
__Œªs_cÚ‹xt_fù
;

109 
__gcÚv_Œªs_’d_fù
 
__Œªs_’d_fù
;

110 *
__d©a
;

111 
__gcÚv_Œªs_d©a
 *
__Ãxt
;

116 
	s__gcÚv_¡•


118 
__gcÚv_lßded_objeù
 *
__shlib_hªdË
;

119 cÚ¡ *
__modÇme
;

121 
__couÁ”
;

123 *
__äom_Çme
;

124 *
__to_Çme
;

126 
__gcÚv_fù
 
__fù
;

127 
__gcÚv_btowc_fù
 
__btowc_fù
;

128 
__gcÚv_š™_fù
 
__š™_fù
;

129 
__gcÚv_’d_fù
 
__’d_fù
;

133 
__mš_Ãeded_äom
;

134 
__max_Ãeded_äom
;

135 
__mš_Ãeded_to
;

136 
__max_Ãeded_to
;

139 
__¡©eful
;

141 *
__d©a
;

146 
	s__gcÚv_¡•_d©a


148 *
__outbuf
;

149 *
__outbuãnd
;

153 
__æags
;

157 
__švoÿtiÚ_couÁ”
;

161 
__š‹º®_u£
;

163 
__mb¡©e_t
 *
__¡©•
;

164 
__mb¡©e_t
 
__¡©e
;

168 
__gcÚv_Œªs_d©a
 *
__Œªs
;

173 
	s__gcÚv_šfo


175 
size_t
 
__n¡•s
;

176 
__gcÚv_¡•
 *
__¡•s
;

177 
__ex‹nsiÚ__
 
__gcÚv_¡•_d©a
 
__d©a
 
__æex¬r
;

178 } *
	t__gcÚv_t
;

	@/usr/include/linux/stddef.h

	@/usr/include/wchar.h

23 #iâdeà
_WCHAR_H


25 #ià!
defšed
 
__Ãed_mb¡©e_t
 && !defšed 
__Ãed_wšt_t


26 
	#_WCHAR_H
 1

	)

27 
	~<ã©u»s.h
>

30 #ifdeà
_WCHAR_H


32 
	#__Ãed___FILE


	)

33 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


34 
	#__Ãed_FILE


	)

36 
	~<¡dio.h
>

38 
	#__Ãed___va_li¡


	)

39 
	~<¡d¬g.h
>

41 
	~<b™s/wch¬.h
>

44 
	#__Ãed_size_t


	)

45 
	#__Ãed_wch¬_t


	)

46 
	#__Ãed_NULL


	)

48 #ià
defšed
 
_WCHAR_H
 || defšed 
__Ãed_wšt_t
 || !defšed 
__WINT_TYPE__


49 #undeà
__Ãed_wšt_t


50 
	#__Ãed_wšt_t


	)

51 
	~<¡ddef.h
>

55 #iâdeà
_WINT_T


60 
	#_WINT_T


	)

61 
	twšt_t
;

65 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES
 \

66 && 
defšed
 
__WINT_TYPE__


67 
__BEGIN_NAMESPACE_STD


68 
__WINT_TYPE__
 
	twšt_t
;

69 
	g__END_NAMESPACE_STD


74 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

75 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

79 #ià(
defšed
 
_WCHAR_H
 || defšed 
__Ãed_mb¡©e_t
è&& !defšed 
____mb¡©e_t_defšed


80 
	#____mb¡©e_t_defšed
 1

	)

84 
	m__couÁ
;

87 #ifdeà
__WINT_TYPE__


88 
__WINT_TYPE__
 
	m__wch
;

90 
wšt_t
 
	m__wch
;

92 
	m__wchb
[4];

93 } 
	m__v®ue
;

94 } 
	t__mb¡©e_t
;

96 #undeà
__Ãed_mb¡©e_t


101 #ifdeà
_WCHAR_H


103 #iâdeà
__mb¡©e_t_defšed


104 
__BEGIN_NAMESPACE_C99


106 
__mb¡©e_t
 
	tmb¡©e_t
;

107 
	g__END_NAMESPACE_C99


108 
	#__mb¡©e_t_defšed
 1

	)

111 #ifdeà
__USE_GNU


112 
	$__USING_NAMESPACE_C99
(
mb¡©e_t
)

115 #iâdeà
WCHAR_MIN


117 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

118 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

121 #iâdeà
WEOF


122 
	#WEOF
 (0xffffffffu)

	)

127 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_UNIX98


128 
	~<wùy³.h
>

132 
__BEGIN_DECLS


134 
__BEGIN_NAMESPACE_STD


137 
tm
;

138 
__END_NAMESPACE_STD


142 
	$__USING_NAMESPACE_STD
(
tm
)

145 
__BEGIN_NAMESPACE_STD


147 
wch¬_t
 *
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

148 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

150 
wch¬_t
 *
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

151 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

152 
__THROW
;

155 
wch¬_t
 *
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

156 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

158 
wch¬_t
 *
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

159 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

160 
__THROW
;

163 
	$wcscmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
)

164 
__THROW
 
__©Œibu‹_pu»__
;

166 
	$wc¢cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

167 
__THROW
 
__©Œibu‹_pu»__
;

168 
__END_NAMESPACE_STD


170 #ifdeà
__USE_XOPEN2K8


172 
	$wcsÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

175 
	$wc¢ÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

176 
size_t
 
__n
è
__THROW
;

180 
	~<xloÿË.h
>

182 
	$wcsÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

183 
__loÿË_t
 
__loc
è
__THROW
;

185 
	$wc¢ÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

186 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

189 
__BEGIN_NAMESPACE_STD


192 
	$wcscŞl
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

196 
size_t
 
	$wcsxäm
 (
wch¬_t
 *
__»¡riù
 
__s1
,

197 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

198 
__END_NAMESPACE_STD


200 #ifdeà
__USE_XOPEN2K8


206 
	$wcscŞl_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

207 
__loÿË_t
 
__loc
è
__THROW
;

212 
size_t
 
	$wcsxäm_l
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

213 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

216 
wch¬_t
 *
	$wcsdup
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_m®loc__
;

219 
__BEGIN_NAMESPACE_STD


221 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


222 "C++" 
wch¬_t
 *
	$wcschr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

223 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

224 "C++" cÚ¡ 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

225 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

227 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

228 
__THROW
 
__©Œibu‹_pu»__
;

231 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


232 "C++" 
wch¬_t
 *
	$wc¤chr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

233 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

234 "C++" cÚ¡ 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

235 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

237 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

238 
__THROW
 
__©Œibu‹_pu»__
;

240 
__END_NAMESPACE_STD


242 #ifdeà
__USE_GNU


245 
wch¬_t
 *
	$wcschºul
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__wc
)

246 
__THROW
 
__©Œibu‹_pu»__
;

249 
__BEGIN_NAMESPACE_STD


252 
size_t
 
	$wcsc¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__»jeù
)

253 
__THROW
 
__©Œibu‹_pu»__
;

256 
size_t
 
	$wcs¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

257 
__THROW
 
__©Œibu‹_pu»__
;

259 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


260 "C++" 
wch¬_t
 *
	$wc¥brk
 (
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

261 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

262 "C++" cÚ¡ 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
,

263 cÚ¡ 
wch¬_t
 *
__acû±
)

264 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

266 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

267 
__THROW
 
__©Œibu‹_pu»__
;

270 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


271 "C++" 
wch¬_t
 *
	$wcs¡r
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

272 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

273 "C++" cÚ¡ 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

274 cÚ¡ 
wch¬_t
 *
__ÃedË
)

275 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

277 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

278 
__THROW
 
__©Œibu‹_pu»__
;

282 
wch¬_t
 *
	$wc¡ok
 (
wch¬_t
 *
__»¡riù
 
__s
,

283 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__d–im
,

284 
wch¬_t
 **
__»¡riù
 
__±r
è
__THROW
;

287 
size_t
 
	$wc¦’
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_pu»__
;

288 
__END_NAMESPACE_STD


290 #ifdeà
__USE_XOPEN


292 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


293 "C++" 
wch¬_t
 *
	$wcswcs
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

294 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

295 "C++" cÚ¡ 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

296 cÚ¡ 
wch¬_t
 *
__ÃedË
)

297 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

299 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

300 
__THROW
 
__©Œibu‹_pu»__
;

304 #ifdeà
__USE_XOPEN2K8


306 
size_t
 
	$wc¢Ën
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__maxËn
)

307 
__THROW
 
__©Œibu‹_pu»__
;

311 
__BEGIN_NAMESPACE_STD


313 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


314 "C++" 
wch¬_t
 *
	$wmemchr
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

316 "C++" cÚ¡ 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
,

317 
size_t
 
__n
)

318 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

320 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

321 
__THROW
 
__©Œibu‹_pu»__
;

325 
	$wmemcmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

326 
__THROW
 
__©Œibu‹_pu»__
;

329 
wch¬_t
 *
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

330 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

334 
wch¬_t
 *
	$wmemmove
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

335 
__THROW
;

338 
wch¬_t
 *
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
è
__THROW
;

339 
__END_NAMESPACE_STD


341 #ifdeà
__USE_GNU


344 
wch¬_t
 *
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

345 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

346 
__THROW
;

350 
__BEGIN_NAMESPACE_STD


353 
wšt_t
 
	$btowc
 (
__c
è
__THROW
;

357 
	$wùob
 (
wšt_t
 
__c
è
__THROW
;

361 
	$mbsš™
 (cÚ¡ 
mb¡©e_t
 *
__ps
è
__THROW
 
__©Œibu‹_pu»__
;

365 
size_t
 
	$mb¹owc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

366 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

367 
mb¡©e_t
 *
__»¡riù
 
__p
è
__THROW
;

370 
size_t
 
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wc
,

371 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

374 
size_t
 
	$__mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

375 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

376 
size_t
 
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

377 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

378 
__END_NAMESPACE_STD


380 #ifdeà
__USE_EXTERN_INLINES


386 
wšt_t
 
	$__btowc_®Ÿs
 (
__c
è
	`__asm
 ("btowc");

387 
__ex‹º_šlše
 
wšt_t


388 
	`__NTH
 (
	$btowc
 (
__c
))

389 {  (
	`__butš_cÚ¡ªt_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

390 ? (
wšt_t
è
__c
 : 
	`__btowc_®Ÿs
 (__c)); 
	}
}

392 
	$__wùob_®Ÿs
 (
wšt_t
 
__c
è
	`__asm
 ("wctob");

393 
__ex‹º_šlše
 

394 
	`__NTH
 (
	$wùob
 (
wšt_t
 
__wc
))

395 {  (
	`__butš_cÚ¡ªt_p
 (
__wc
è&& __wø>ğ
L
'\0' && __wc <= L'\x7f'

396 ? (è
__wc
 : 
	`__wùob_®Ÿs
 (__wc)); 
	}
}

398 
__ex‹º_šlše
 
size_t


399 
__NTH
 (
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

400 
mb¡©e_t
 *
__»¡riù
 
__ps
))

401 {  (
__ps
 !ğ
NULL


402 ? 
	`mb¹owc
 (
NULL
, 
__s
, 
__n
, 
__ps
è: 
	`__mb¾’
 (__s, __n, NULL)); 
	}
}

405 
__BEGIN_NAMESPACE_STD


408 
size_t
 
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

409 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

410 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

414 
size_t
 
	$wc¤tombs
 (*
__»¡riù
 
__d¡
,

415 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

416 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

417 
__END_NAMESPACE_STD


420 #ifdef 
__USE_XOPEN2K8


423 
size_t
 
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

424 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

425 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

429 
size_t
 
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
,

430 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

431 
size_t
 
__nwc
, size_ˆ
__Ën
,

432 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

437 #ifdeà
__USE_XOPEN


439 
	$wcwidth
 (
wch¬_t
 
__c
è
__THROW
;

443 
	$wcswidth
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__n
è
__THROW
;

447 
__BEGIN_NAMESPACE_STD


450 
	$wc¡od
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

451 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

452 
__END_NAMESPACE_STD


454 #ifdeà
__USE_ISOC99


455 
__BEGIN_NAMESPACE_C99


457 
	$wc¡of
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

458 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

459 
	$wc¡Şd
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

460 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

461 
__END_NAMESPACE_C99


465 
__BEGIN_NAMESPACE_STD


468 
	$wc¡Ş
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

469 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

473 
	$wc¡oul
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

474 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

475 
__THROW
;

476 
__END_NAMESPACE_STD


478 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GNUC__
 && defšed 
__USE_GNU
)

479 
__BEGIN_NAMESPACE_C99


482 
__ex‹nsiÚ__


483 
	$wc¡Şl
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

484 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

485 
__THROW
;

489 
__ex‹nsiÚ__


490 
	$wc¡ouÎ
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

491 
wch¬_t
 **
__»¡riù
 
__’d±r
,

492 
__ba£
è
__THROW
;

493 
__END_NAMESPACE_C99


496 #ià
defšed
 
__GNUC__
 && defšed 
__USE_GNU


499 
__ex‹nsiÚ__


500 
	$wc¡oq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

501 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

502 
__THROW
;

506 
__ex‹nsiÚ__


507 
	$wc¡ouq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

508 
wch¬_t
 **
__»¡riù
 
__’d±r
,

509 
__ba£
è
__THROW
;

512 #ifdeà
__USE_GNU


526 
	~<xloÿË.h
>

530 
	$wc¡Ş_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

531 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
,

532 
__loÿË_t
 
__loc
è
__THROW
;

534 
	$wc¡oul_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

535 
wch¬_t
 **
__»¡riù
 
__’d±r
,

536 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

538 
__ex‹nsiÚ__


539 
	$wc¡Şl_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

540 
wch¬_t
 **
__»¡riù
 
__’d±r
,

541 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

543 
__ex‹nsiÚ__


544 
	$wc¡ouÎ_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

545 
wch¬_t
 **
__»¡riù
 
__’d±r
,

546 
__ba£
, 
__loÿË_t
 
__loc
)

547 
__THROW
;

549 
	$wc¡od_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

550 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

551 
__THROW
;

553 
	$wc¡of_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

554 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

555 
__THROW
;

557 
	$wc¡Şd_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

558 
wch¬_t
 **
__»¡riù
 
__’d±r
,

559 
__loÿË_t
 
__loc
è
__THROW
;

563 #ifdeà
__USE_XOPEN2K8


566 
wch¬_t
 *
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

567 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

571 
wch¬_t
 *
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

572 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

573 
__THROW
;

580 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
;

583 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


584 
__BEGIN_NAMESPACE_STD


587 
	$fwide
 (
__FILE
 *
__å
, 
__mode
è
__THROW
;

594 
	`fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

595 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

601 
	`w´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

604 
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

605 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

606 
__THROW
 ;

612 
	`vfw´štf
 (
__FILE
 *
__»¡riù
 
__s
,

613 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

614 
__gnuc_va_li¡
 
__¬g
)

620 
	`vw´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

621 
__gnuc_va_li¡
 
__¬g
)

625 
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

626 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

627 
__gnuc_va_li¡
 
__¬g
)

628 
__THROW
 ;

635 
	`fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

636 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

642 
	`wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

645 
	$swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

646 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

647 
__THROW
 ;

649 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

650 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

651 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

652 #ifdeà
__REDIRECT


656 
	`__REDIRECT
 (
fwsÿnf
, (
__FILE
 *
__»¡riù
 
__¡»am
,

657 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

658 
__isoc99_fwsÿnf
)

660 
	`__REDIRECT
 (
wsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

661 
__isoc99_wsÿnf
)

663 
	`__REDIRECT_NTH
 (
swsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

664 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

665 ...), 
__isoc99_swsÿnf
)

668 
	`__isoc99_fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

669 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

670 
	`__isoc99_wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

671 
	$__isoc99_swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

672 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

673 
__THROW
;

674 
	#fwsÿnf
 
__isoc99_fwsÿnf


	)

675 
	#wsÿnf
 
__isoc99_wsÿnf


	)

676 
	#swsÿnf
 
__isoc99_swsÿnf


	)

680 
__END_NAMESPACE_STD


683 #ifdeà
__USE_ISOC99


684 
__BEGIN_NAMESPACE_C99


689 
	`vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

690 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

691 
__gnuc_va_li¡
 
__¬g
)

697 
	`vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

698 
__gnuc_va_li¡
 
__¬g
)

701 
	$vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

702 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

703 
__gnuc_va_li¡
 
__¬g
)

704 
__THROW
 ;

706 #ià!
defšed
 
__USE_GNU
 \

707 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

708 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

709 #ifdeà
__REDIRECT


710 
	`__REDIRECT
 (
vfwsÿnf
, (
__FILE
 *
__»¡riù
 
__s
,

711 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

712 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vfwsÿnf
)

714 
	`__REDIRECT
 (
vwsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

715 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vwsÿnf
)

717 
	`__REDIRECT_NTH
 (
vswsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

718 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

719 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vswsÿnf
)

722 
	`__isoc99_vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

723 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

724 
__gnuc_va_li¡
 
__¬g
);

725 
	`__isoc99_vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

726 
__gnuc_va_li¡
 
__¬g
);

727 
	$__isoc99_vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

728 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

729 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

730 
	#vfwsÿnf
 
__isoc99_vfwsÿnf


	)

731 
	#vwsÿnf
 
__isoc99_vwsÿnf


	)

732 
	#vswsÿnf
 
__isoc99_vswsÿnf


	)

736 
__END_NAMESPACE_C99


740 
__BEGIN_NAMESPACE_STD


745 
wšt_t
 
	`fg‘wc
 (
__FILE
 *
__¡»am
);

746 
wšt_t
 
	`g‘wc
 (
__FILE
 *
__¡»am
);

752 
wšt_t
 
	`g‘wch¬
 ();

759 
wšt_t
 
	`åutwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

760 
wšt_t
 
	`putwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

766 
wšt_t
 
	`putwch¬
 (
wch¬_t
 
__wc
);

774 
wch¬_t
 *
	`fg‘ws
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

775 
__FILE
 *
__»¡riù
 
__¡»am
);

781 
	`åutws
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

782 
__FILE
 *
__»¡riù
 
__¡»am
);

789 
wšt_t
 
	`ung‘wc
 (wšt_ˆ
__wc
, 
__FILE
 *
__¡»am
);

790 
__END_NAMESPACE_STD


793 #ifdeà
__USE_GNU


801 
wšt_t
 
	`g‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

802 
wšt_t
 
	`g‘wch¬_uÆocked
 ();

810 
wšt_t
 
	`fg‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

818 
wšt_t
 
	`åutwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

827 
wšt_t
 
	`putwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

828 
wšt_t
 
	`putwch¬_uÆocked
 (
wch¬_t
 
__wc
);

837 
wch¬_t
 *
	`fg‘ws_uÆocked
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

838 
__FILE
 *
__»¡riù
 
__¡»am
);

846 
	`åutws_uÆocked
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

847 
__FILE
 *
__»¡riù
 
__¡»am
);

851 
__BEGIN_NAMESPACE_C99


855 
size_t
 
	$wcsáime
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

856 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

857 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

858 
__END_NAMESPACE_C99


860 #ifdeà
__USE_GNU


861 
	~<xloÿË.h
>

865 
size_t
 
	$wcsáime_l
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

866 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

867 cÚ¡ 
tm
 *
__»¡riù
 
__
,

868 
__loÿË_t
 
__loc
è
__THROW
;

877 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_GNU


878 
	#__Ãed_iswxxx


	)

879 
	~<wùy³.h
>

883 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


884 
	~<b™s/wch¬2.h
>

887 #ifdeà
__LDBL_COMPAT


888 
	~<b™s/wch¬-ldbl.h
>

891 
__END_DECLS


899 #undeà
__Ãed_mb¡©e_t


900 #undeà
__Ãed_wšt_t


	@/usr/include/wctype.h

23 #iâdeà
_WCTYPE_H


25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 #iâdeà
__Ãed_iswxxx


29 
	#_WCTYPE_H
 1

	)

32 
	#__Ãed_wšt_t


	)

33 
	~<wch¬.h
>

37 #iâdeà
WEOF


38 
	#WEOF
 (0xffffffffu)

	)

41 #undeà
__Ãed_iswxxx


46 #iâdeà
__iswxxx_defšed


47 
	#__iswxxx_defšed
 1

	)

49 
__BEGIN_NAMESPACE_C99


52 
	twùy³_t
;

53 
	g__END_NAMESPACE_C99


55 #iâdeà
_ISwb™


60 
	~<’dŸn.h
>

61 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


62 
	#_ISwb™
(
b™
è(1 << (b™))

	)

64 
	#_ISwb™
(
b™
) \

65 ((
b™
) < 8 ? () ((1UL << (bit)) << 24) \

66 : ((
b™
) < 16 ? () ((1UL << (bit)) << 8) \

67 : ((
b™
) < 24 ? () ((1UL << (bit)) >> 8) \

68 : (è((1UL << (
b™
)è>> 24))))

	)

73 
	m__ISwuµ”
 = 0,

74 
	m__ISwlow”
 = 1,

75 
	m__ISw®pha
 = 2,

76 
	m__ISwdig™
 = 3,

77 
	m__ISwxdig™
 = 4,

78 
	m__ISw¥aû
 = 5,

79 
	m__ISw´št
 = 6,

80 
	m__ISwg¿ph
 = 7,

81 
	m__ISwbÏnk
 = 8,

82 
	m__ISwúŒl
 = 9,

83 
	m__ISwpunù
 = 10,

84 
	m__ISw®num
 = 11,

86 
	m_ISwuµ”
 = 
_ISwb™
 (
__ISwuµ”
),

87 
	m_ISwlow”
 = 
_ISwb™
 (
__ISwlow”
),

88 
	m_ISw®pha
 = 
_ISwb™
 (
__ISw®pha
),

89 
	m_ISwdig™
 = 
_ISwb™
 (
__ISwdig™
),

90 
	m_ISwxdig™
 = 
_ISwb™
 (
__ISwxdig™
),

91 
	m_ISw¥aû
 = 
_ISwb™
 (
__ISw¥aû
),

92 
	m_ISw´št
 = 
_ISwb™
 (
__ISw´št
),

93 
	m_ISwg¿ph
 = 
_ISwb™
 (
__ISwg¿ph
),

94 
	m_ISwbÏnk
 = 
_ISwb™
 (
__ISwbÏnk
),

95 
	m_ISwúŒl
 = 
_ISwb™
 (
__ISwúŒl
),

96 
	m_ISwpunù
 = 
_ISwb™
 (
__ISwpunù
),

97 
	m_ISw®num
 = 
_ISwb™
 (
__ISw®num
)

102 
__BEGIN_DECLS


104 
__BEGIN_NAMESPACE_C99


111 
	$isw®num
 (
wšt_t
 
__wc
è
__THROW
;

117 
	$isw®pha
 (
wšt_t
 
__wc
è
__THROW
;

120 
	$iswúŒl
 (
wšt_t
 
__wc
è
__THROW
;

124 
	$iswdig™
 (
wšt_t
 
__wc
è
__THROW
;

128 
	$iswg¿ph
 (
wšt_t
 
__wc
è
__THROW
;

133 
	$iswlow”
 (
wšt_t
 
__wc
è
__THROW
;

136 
	$isw´št
 (
wšt_t
 
__wc
è
__THROW
;

141 
	$iswpunù
 (
wšt_t
 
__wc
è
__THROW
;

146 
	$isw¥aû
 (
wšt_t
 
__wc
è
__THROW
;

151 
	$iswuµ”
 (
wšt_t
 
__wc
è
__THROW
;

156 
	$iswxdig™
 (
wšt_t
 
__wc
è
__THROW
;

161 #ifdeà
__USE_ISOC99


162 
	$iswbÏnk
 (
wšt_t
 
__wc
è
__THROW
;

171 
wùy³_t
 
	$wùy³
 (cÚ¡ *
__´İ”ty
è
__THROW
;

175 
	$iswùy³
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
è
__THROW
;

176 
__END_NAMESPACE_C99


183 
__BEGIN_NAMESPACE_C99


186 cÚ¡ 
	t__št32_t
 *
	twù¿ns_t
;

187 
__END_NAMESPACE_C99


188 #ifdeà
__USE_GNU


189 
	$__USING_NAMESPACE_C99
(
wù¿ns_t
)

192 
__BEGIN_NAMESPACE_C99


194 
wšt_t
 
	$towlow”
 (
wšt_t
 
__wc
è
__THROW
;

197 
wšt_t
 
	$towuµ”
 (
wšt_t
 
__wc
è
__THROW
;

198 
__END_NAMESPACE_C99


200 
__END_DECLS


207 #ifdeà
_WCTYPE_H


213 
__BEGIN_DECLS


215 
__BEGIN_NAMESPACE_C99


218 
wù¿ns_t
 
	$wù¿ns
 (cÚ¡ *
__´İ”ty
è
__THROW
;

221 
wšt_t
 
	$towù¿ns
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
è
__THROW
;

222 
__END_NAMESPACE_C99


224 #ifdeà
__USE_XOPEN2K8


226 
	~<xloÿË.h
>

230 
	$isw®num_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

236 
	$isw®pha_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

239 
	$iswúŒl_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

243 
	$iswdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

247 
	$iswg¿ph_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

252 
	$iswlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

255 
	$isw´št_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

260 
	$iswpunù_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

265 
	$isw¥aû_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

270 
	$iswuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

275 
	$iswxdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

280 
	$iswbÏnk_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

284 
wùy³_t
 
	$wùy³_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

285 
__THROW
;

289 
	$iswùy³_l
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
, 
__loÿË_t
 
__loÿË
)

290 
__THROW
;

298 
wšt_t
 
	$towlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

301 
wšt_t
 
	$towuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

305 
wù¿ns_t
 
	$wù¿ns_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

306 
__THROW
;

309 
wšt_t
 
	$towù¿ns_l
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
,

310 
__loÿË_t
 
__loÿË
è
__THROW
;

314 
__END_DECLS


	@
1
.
1
/usr/include
273
7655
_build/include/config.h
application/application.c
application/application.h
application/exec.c
application/exec.h
application/external.h
application/manipulate_window.c
application/manipulate_window.h
client_lib/client_lib.c
client_lib/client_lib.h
client_lib/external.h
comm/egui_comm.c
comm/egui_comm.h
comm/egui_uds.c
comm/egui_uds.h
comm/event_listener.c
comm/event_listener.h
comm/external.h
comm/message.c
comm/message.h
comm/packet.h
comm/request.c
comm/request.h
comm/respond.c
comm/respond.h
debug/comm/test_client.c
debug/comm/test_server.c
debug/comm/test_uds_client.c
debug/comm/test_uds_server.c
debug/config_parser/main.c
debug/event/main.c
debug/graph/debug_graph.c
debug/graph/debug_graph.h
debug/graph/debug_graph_engine.c
debug/graph/debug_graph_engine.h
debug/graph/debug_graph_lower.c
debug/graph/debug_graph_lower.h
debug/lib/test_client.c
debug/lib/test_server.c
debug/samples/adv_editerbasic.c
debug/samples/calculator/calculator.c
debug/samples/calculator/calculator.h
debug/samples/calculator/main.c
debug/samples/desktop.c
debug/samples/editerbasic.c
debug/samples/file_browser/directory_content.c
debug/samples/file_browser/directory_content.h
debug/samples/file_browser/directory_item.h
debug/samples/file_browser/file_browser.c
debug/samples/file_browser/my_widget.c
debug/samples/file_browser/my_widget.h
debug/samples/game.c
debug/samples/multi_windows.c
debug/samples/pop_up_window.c
debug/samples/shutdown.c
debug/samples/single_window.c
debug/samples/tab.c
debug/samples/text_clock.c
debug/samples/timer.c
debug/samples/toplevel_child.c
debug/widget/test_button.c
debug/widget/test_icon.c
debug/widget/test_image_view.c
debug/widget/test_label.c
debug/widget/test_panel.c
debug/widget/test_scroll_bar.c
debug/widget/test_tab_header.c
debug/widget/test_text_line.c
debug/widget/test_widget.c
event/event.c
event/event.h
fix_make.c
graph/bitops.h
graph/external.h
graph/graph_engine.h
graph/graph_engine/engine_clear.c
graph/graph_engine/engine_clear_black.c
graph/graph_engine/engine_clear_white.c
graph/graph_engine/engine_cpy_area.c
graph/graph_engine/engine_draw_arrow.c
graph/graph_engine/engine_draw_bitmap.c
graph/graph_engine/engine_draw_circle.c
graph/graph_engine/engine_draw_cursor.c
graph/graph_engine/engine_draw_ellipse.c
graph/graph_engine/engine_draw_img.c
graph/graph_engine/engine_draw_line.c
graph/graph_engine/engine_draw_point.c
graph/graph_engine/engine_draw_polygon.c
graph/graph_engine/engine_draw_rectangle.c
graph/graph_engine/engine_draw_x.c
graph/graph_engine/engine_fill_arrow.c
graph/graph_engine/engine_fill_circle.c
graph/graph_engine/engine_fill_ellipse.c
graph/graph_engine/engine_fill_polygon.c
graph/graph_engine/engine_fill_rectangle.c
graph/graph_engine/engine_fill_x.c
graph/graph_engine/engine_get_area.c
graph/graph_engine/engine_get_color.c
graph/graph_engine/engine_get_color_limit.c
graph/graph_engine/engine_get_font_height.c
graph/graph_engine/engine_get_font_width.c
graph/graph_engine/engine_graphics_device_exit.c
graph/graph_engine/engine_graphics_device_init.c
graph/graph_engine/engine_set_area.c
graph/graph_engine/engine_set_color.c
graph/graph_engine/engine_set_font.c
graph/graph_engine/engine_show_text.c
graph/graph_engine/engine_update.c
graph/graph_engine/font_matrix/font_matrix.c
graph/graph_enumerator.h
graph/graph_lower.h
graph/graph_lower/fbtools.c
graph/graph_lower/fbtools.h
graph/graph_lower/screen_clear.c
graph/graph_lower/screen_clear_black.c
graph/graph_lower/screen_clear_white.c
graph/graph_lower/screen_color.c
graph/graph_lower/screen_cpy_area.c
graph/graph_lower/screen_exit.c
graph/graph_lower/screen_flush.c
graph/graph_lower/screen_get_height.c
graph/graph_lower/screen_get_pixel.c
graph/graph_lower/screen_get_width.c
graph/graph_lower/screen_init.c
graph/graph_lower/screen_set_area.c
graph/graph_lower/screen_set_h_line.c
graph/graph_lower/screen_set_pixel.c
graph/graph_lower/screen_set_v_line.c
graph/graph_lower/screen_set_x_line.c
include/application.h
include/base_type.h
include/client_lib.h
include/color.h
include/comm.h
include/compiler.h
include/config_parser.h
include/data_structures.h
include/event.h
include/geometry.h
include/graph.h
include/log.h
include/server_lib.h
include/widget.h
server_lib/server_lib.c
server_lib/server_lib.h
utils/base_type/base_type.h
utils/color/color.c
utils/color/color.h
utils/config_parser/config_parser.c
utils/config_parser/config_parser.h
utils/data_structures/cursor.c
utils/data_structures/cursor.h
utils/data_structures/demo/object.c
utils/data_structures/external.h
utils/data_structures/hashmap.c
utils/data_structures/hashmap.h
utils/data_structures/list.c
utils/data_structures/list.h
utils/data_structures/object.c
utils/data_structures/object.h
utils/data_structures/queue.c
utils/data_structures/queue.h
utils/data_structures/stack.c
utils/data_structures/stack.h
utils/data_structures/tree.c
utils/data_structures/tree.h
utils/data_structures/vector.c
utils/data_structures/vector.h
utils/geometry/geometry.c
utils/geometry/geometry.h
utils/log/log.h
widget/button/button.c
widget/button/button.h
widget/checkbox/checkbox.c
widget/checkbox/checkbox.h
widget/dialog/dialog.c
widget/dialog/dialog.h
widget/external.h
widget/flowbox/flowbox.c
widget/flowbox/flowbox.h
widget/icon/icon.c
widget/icon/icon.h
widget/image_view/image_view.c
widget/image_view/image_view.h
widget/label/label.c
widget/label/label.h
widget/panel/panel.c
widget/panel/panel.h
widget/radiobutton/radiobutton.c
widget/radiobutton/radiobutton.h
widget/scroll_bar/scroll_bar.c
widget/scroll_bar/scroll_bar.h
widget/spinbox/spinbox.c
widget/spinbox/spinbox.h
widget/tab/tab.c
widget/tab/tab.h
widget/tab/tab_header.c
widget/tab/tab_header.h
widget/tab/tab_page.c
widget/tab/tab_page.h
widget/text_line/text_line.c
widget/text_line/text_line.h
widget/timer/timer.c
widget/timer/timer.h
widget/widget/widget.c
widget/widget/widget.h
widget/window/paint_window_decoration.c
widget/window/paint_window_decoration.h
widget/window/window.c
widget/window/window.h
widget/window/window_status.h
window_manager/application_info.c
window_manager/application_info.h
window_manager/cursor.c
window_manager/cursor.h
window_manager/flush_in_z_order.c
window_manager/flush_in_z_order.h
window_manager/main.c
window_manager/main_test.c
window_manager/window_info.c
window_manager/window_info.h
window_manager/window_info_iterator.c
window_manager/window_info_iterator.h
window_manager/window_manager.c
window_manager/window_manager.h
window_manager/window_manager_accept_handler.c
window_manager/window_manager_input_handler.c
window_manager/window_manager_set_request_handler.c
/usr/include/assert.h
/usr/include/ctype.h
/usr/include/dialog.h
/usr/include/dirent.h
/usr/include/errno.h
/usr/include/fcntl.h
/usr/include/limits.h
/usr/include/linux/fb.h
/usr/include/linux/input.h
/usr/include/linux/kd.h
/usr/include/linux/limits.h
/usr/include/linux/vt.h
/usr/include/malloc.h
/usr/include/math.h
/usr/include/netinet/in.h
/usr/include/setjmp.h
/usr/include/signal.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/stropts.h
/usr/include/termios.h
/usr/include/time.h
/usr/include/unistd.h
/usr/include/alloca.h
/usr/include/dlg_config.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/getopt.h
/usr/include/langinfo.h
/usr/include/libintl.h
/usr/include/libio.h
/usr/include/linux/i2c.h
/usr/include/linux/types.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/linux/posix_types.h
/usr/include/locale.h
/usr/include/nl_types.h
/usr/include/stdc-predef.h
/usr/include/gconv.h
/usr/include/linux/stddef.h
/usr/include/wchar.h
/usr/include/wctype.h
